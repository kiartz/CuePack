function h4(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var kF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var k0={exports:{}},Yh={},E0={exports:{}},En={};var R2;function f4(){if(R2)return En;R2=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.iterator;function _(J){return J===null||typeof J!="object"?null:(J=y&&J[y]||J["@@iterator"],typeof J=="function"?J:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,P={};function I(J,F,G){this.props=J,this.context=F,this.refs=P,this.updater=G||g}I.prototype.isReactComponent={},I.prototype.setState=function(J,F){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,F,"setState")},I.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function M(){}M.prototype=I.prototype;function W(J,F,G){this.props=J,this.context=F,this.refs=P,this.updater=G||g}var z=W.prototype=new M;z.constructor=W,A(z,I.prototype),z.isPureReactComponent=!0;var q=Array.isArray,ne=Object.prototype.hasOwnProperty,de={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function O(J,F,G){var re,ue={},ge=null,xe=null;if(F!=null)for(re in F.ref!==void 0&&(xe=F.ref),F.key!==void 0&&(ge=""+F.key),F)ne.call(F,re)&&!H.hasOwnProperty(re)&&(ue[re]=F[re]);var Te=arguments.length-2;if(Te===1)ue.children=G;else if(1<Te){for(var De=Array(Te),Ve=0;Ve<Te;Ve++)De[Ve]=arguments[Ve+2];ue.children=De}if(J&&J.defaultProps)for(re in Te=J.defaultProps,Te)ue[re]===void 0&&(ue[re]=Te[re]);return{$$typeof:r,type:J,key:ge,ref:xe,props:ue,_owner:de.current}}function R(J,F){return{$$typeof:r,type:J.type,key:F,ref:J.ref,props:J.props,_owner:J._owner}}function B(J){return typeof J=="object"&&J!==null&&J.$$typeof===r}function N(J){var F={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(G){return F[G]})}var T=/\/+/g;function D(J,F){return typeof J=="object"&&J!==null&&J.key!=null?N(""+J.key):F.toString(36)}function Z(J,F,G,re,ue){var ge=typeof J;(ge==="undefined"||ge==="boolean")&&(J=null);var xe=!1;if(J===null)xe=!0;else switch(ge){case"string":case"number":xe=!0;break;case"object":switch(J.$$typeof){case r:case e:xe=!0}}if(xe)return xe=J,ue=ue(xe),J=re===""?"."+D(xe,0):re,q(ue)?(G="",J!=null&&(G=J.replace(T,"$&/")+"/"),Z(ue,F,G,"",function(Ve){return Ve})):ue!=null&&(B(ue)&&(ue=R(ue,G+(!ue.key||xe&&xe.key===ue.key?"":(""+ue.key).replace(T,"$&/")+"/")+J)),F.push(ue)),1;if(xe=0,re=re===""?".":re+":",q(J))for(var Te=0;Te<J.length;Te++){ge=J[Te];var De=re+D(ge,Te);xe+=Z(ge,F,G,De,ue)}else if(De=_(J),typeof De=="function")for(J=De.call(J),Te=0;!(ge=J.next()).done;)ge=ge.value,De=re+D(ge,Te++),xe+=Z(ge,F,G,De,ue);else if(ge==="object")throw F=String(J),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return xe}function ve(J,F,G){if(J==null)return J;var re=[],ue=0;return Z(J,re,"","",function(ge){return F.call(G,ge,ue++)}),re}function be(J){if(J._status===-1){var F=J._result;F=F(),F.then(function(G){(J._status===0||J._status===-1)&&(J._status=1,J._result=G)},function(G){(J._status===0||J._status===-1)&&(J._status=2,J._result=G)}),J._status===-1&&(J._status=0,J._result=F)}if(J._status===1)return J._result.default;throw J._result}var oe={current:null},Q={transition:null},fe={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Q,ReactCurrentOwner:de};function he(){throw Error("act(...) is not supported in production builds of React.")}return En.Children={map:ve,forEach:function(J,F,G){ve(J,function(){F.apply(this,arguments)},G)},count:function(J){var F=0;return ve(J,function(){F++}),F},toArray:function(J){return ve(J,function(F){return F})||[]},only:function(J){if(!B(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},En.Component=I,En.Fragment=t,En.Profiler=i,En.PureComponent=W,En.StrictMode=n,En.Suspense=u,En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,En.act=he,En.cloneElement=function(J,F,G){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var re=A({},J.props),ue=J.key,ge=J.ref,xe=J._owner;if(F!=null){if(F.ref!==void 0&&(ge=F.ref,xe=de.current),F.key!==void 0&&(ue=""+F.key),J.type&&J.type.defaultProps)var Te=J.type.defaultProps;for(De in F)ne.call(F,De)&&!H.hasOwnProperty(De)&&(re[De]=F[De]===void 0&&Te!==void 0?Te[De]:F[De])}var De=arguments.length-2;if(De===1)re.children=G;else if(1<De){Te=Array(De);for(var Ve=0;Ve<De;Ve++)Te[Ve]=arguments[Ve+2];re.children=Te}return{$$typeof:r,type:J.type,key:ue,ref:ge,props:re,_owner:xe}},En.createContext=function(J){return J={$$typeof:a,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:s,_context:J},J.Consumer=J},En.createElement=O,En.createFactory=function(J){var F=O.bind(null,J);return F.type=J,F},En.createRef=function(){return{current:null}},En.forwardRef=function(J){return{$$typeof:c,render:J}},En.isValidElement=B,En.lazy=function(J){return{$$typeof:f,_payload:{_status:-1,_result:J},_init:be}},En.memo=function(J,F){return{$$typeof:d,type:J,compare:F===void 0?null:F}},En.startTransition=function(J){var F=Q.transition;Q.transition={};try{J()}finally{Q.transition=F}},En.unstable_act=he,En.useCallback=function(J,F){return oe.current.useCallback(J,F)},En.useContext=function(J){return oe.current.useContext(J)},En.useDebugValue=function(){},En.useDeferredValue=function(J){return oe.current.useDeferredValue(J)},En.useEffect=function(J,F){return oe.current.useEffect(J,F)},En.useId=function(){return oe.current.useId()},En.useImperativeHandle=function(J,F,G){return oe.current.useImperativeHandle(J,F,G)},En.useInsertionEffect=function(J,F){return oe.current.useInsertionEffect(J,F)},En.useLayoutEffect=function(J,F){return oe.current.useLayoutEffect(J,F)},En.useMemo=function(J,F){return oe.current.useMemo(J,F)},En.useReducer=function(J,F,G){return oe.current.useReducer(J,F,G)},En.useRef=function(J){return oe.current.useRef(J)},En.useState=function(J){return oe.current.useState(J)},En.useSyncExternalStore=function(J,F,G){return oe.current.useSyncExternalStore(J,F,G)},En.useTransition=function(){return oe.current.useTransition()},En.version="18.3.1",En}var M2;function yv(){return M2||(M2=1,E0.exports=f4()),E0.exports}var O2;function p4(){if(O2)return Yh;O2=1;var r=yv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,d){var f,y={},_=null,g=null;d!==void 0&&(_=""+d),u.key!==void 0&&(_=""+u.key),u.ref!==void 0&&(g=u.ref);for(f in u)n.call(u,f)&&!s.hasOwnProperty(f)&&(y[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)y[f]===void 0&&(y[f]=u[f]);return{$$typeof:e,type:c,key:_,ref:g,props:y,_owner:i.current}}return Yh.Fragment=t,Yh.jsx=a,Yh.jsxs=a,Yh}var F2;function m4(){return F2||(F2=1,k0.exports=p4()),k0.exports}var k=m4(),Ce=yv();const je=vv(Ce),xb=h4({__proto__:null,default:je},[Ce]);var Np={},A0={exports:{}},go={},C0={exports:{}},I0={};var j2;function g4(){return j2||(j2=1,(function(r){function e(Q,fe){var he=Q.length;Q.push(fe);e:for(;0<he;){var J=he-1>>>1,F=Q[J];if(0<i(F,fe))Q[J]=fe,Q[he]=F,he=J;else break e}}function t(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var fe=Q[0],he=Q.pop();if(he!==fe){Q[0]=he;e:for(var J=0,F=Q.length,G=F>>>1;J<G;){var re=2*(J+1)-1,ue=Q[re],ge=re+1,xe=Q[ge];if(0>i(ue,he))ge<F&&0>i(xe,ue)?(Q[J]=xe,Q[ge]=he,J=ge):(Q[J]=ue,Q[re]=he,J=re);else if(ge<F&&0>i(xe,he))Q[J]=xe,Q[ge]=he,J=ge;else break e}}return fe}function i(Q,fe){var he=Q.sortIndex-fe.sortIndex;return he!==0?he:Q.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();r.unstable_now=function(){return a.now()-c}}var u=[],d=[],f=1,y=null,_=3,g=!1,A=!1,P=!1,I=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(Q){for(var fe=t(d);fe!==null;){if(fe.callback===null)n(d);else if(fe.startTime<=Q)n(d),fe.sortIndex=fe.expirationTime,e(u,fe);else break;fe=t(d)}}function q(Q){if(P=!1,z(Q),!A)if(t(u)!==null)A=!0,be(ne);else{var fe=t(d);fe!==null&&oe(q,fe.startTime-Q)}}function ne(Q,fe){A=!1,P&&(P=!1,M(O),O=-1),g=!0;var he=_;try{for(z(fe),y=t(u);y!==null&&(!(y.expirationTime>fe)||Q&&!N());){var J=y.callback;if(typeof J=="function"){y.callback=null,_=y.priorityLevel;var F=J(y.expirationTime<=fe);fe=r.unstable_now(),typeof F=="function"?y.callback=F:y===t(u)&&n(u),z(fe)}else n(u);y=t(u)}if(y!==null)var G=!0;else{var re=t(d);re!==null&&oe(q,re.startTime-fe),G=!1}return G}finally{y=null,_=he,g=!1}}var de=!1,H=null,O=-1,R=5,B=-1;function N(){return!(r.unstable_now()-B<R)}function T(){if(H!==null){var Q=r.unstable_now();B=Q;var fe=!0;try{fe=H(!0,Q)}finally{fe?D():(de=!1,H=null)}}else de=!1}var D;if(typeof W=="function")D=function(){W(T)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ve=Z.port2;Z.port1.onmessage=T,D=function(){ve.postMessage(null)}}else D=function(){I(T,0)};function be(Q){H=Q,de||(de=!0,D())}function oe(Q,fe){O=I(function(){Q(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_continueExecution=function(){A||g||(A=!0,be(ne))},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return t(u)},r.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var he=_;_=fe;try{return Q()}finally{_=he}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Q,fe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=_;_=Q;try{return fe()}finally{_=he}},r.unstable_scheduleCallback=function(Q,fe,he){var J=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?J+he:J):he=J,Q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=he+F,Q={id:f++,callback:fe,priorityLevel:Q,startTime:he,expirationTime:F,sortIndex:-1},he>J?(Q.sortIndex=he,e(d,Q),t(u)===null&&Q===t(d)&&(P?(M(O),O=-1):P=!0,oe(q,he-J))):(Q.sortIndex=F,e(u,Q),A||g||(A=!0,be(ne))),Q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Q){var fe=_;return function(){var he=_;_=fe;try{return Q.apply(this,arguments)}finally{_=he}}}})(I0)),I0}var B2;function v4(){return B2||(B2=1,C0.exports=g4()),C0.exports}var V2;function y4(){if(V2)return go;V2=1;var r=yv(),e=v4();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},y={};function _(o){return u.call(y,o)?!0:u.call(f,o)?!1:d.test(o)?y[o]=!0:(f[o]=!0,!1)}function g(o,l,h,v){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function A(o,l,h,v){if(l===null||typeof l>"u"||g(o,l,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function P(o,l,h,v,x,C,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=x,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=C,this.removeEmptyString=$}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){I[o]=new P(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];I[l]=new P(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){I[o]=new P(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){I[o]=new P(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){I[o]=new P(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){I[o]=new P(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){I[o]=new P(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){I[o]=new P(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){I[o]=new P(o,5,!1,o.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function W(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(M,W);I[l]=new P(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(M,W);I[l]=new P(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(M,W);I[l]=new P(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){I[o]=new P(o,1,!1,o.toLowerCase(),null,!1,!1)}),I.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){I[o]=new P(o,1,!1,o.toLowerCase(),null,!0,!0)});function z(o,l,h,v){var x=I.hasOwnProperty(l)?I[l]:null;(x!==null?x.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(A(l,h,x,v)&&(h=null),v||x===null?_(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):x.mustUseProperty?o[x.propertyName]=h===null?x.type===3?!1:"":h:(l=x.attributeName,v=x.attributeNamespace,h===null?o.removeAttribute(l):(x=x.type,h=x===3||x===4&&h===!0?"":""+h,v?o.setAttributeNS(v,l,h):o.setAttribute(l,h))))}var q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),de=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Q=Symbol.iterator;function fe(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var he=Object.assign,J;function F(o){if(J===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);J=l&&l[1]||""}return`
`+J+o}var G=!1;function re(o,l){if(!o||G)return"";G=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Fe){var v=Fe}Reflect.construct(o,[],l)}else{try{l.call()}catch(Fe){v=Fe}o.call(l.prototype)}else{try{throw Error()}catch(Fe){v=Fe}o()}}catch(Fe){if(Fe&&v&&typeof Fe.stack=="string"){for(var x=Fe.stack.split(`
`),C=v.stack.split(`
`),$=x.length-1,pe=C.length-1;1<=$&&0<=pe&&x[$]!==C[pe];)pe--;for(;1<=$&&0<=pe;$--,pe--)if(x[$]!==C[pe]){if($!==1||pe!==1)do if($--,pe--,0>pe||x[$]!==C[pe]){var _e=`
`+x[$].replace(" at new "," at ");return o.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",o.displayName)),_e}while(1<=$&&0<=pe);break}}}finally{G=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?F(o):""}function ue(o){switch(o.tag){case 5:return F(o.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return o=re(o.type,!1),o;case 11:return o=re(o.type.render,!1),o;case 1:return o=re(o.type,!0),o;default:return""}}function ge(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case H:return"Fragment";case de:return"Portal";case R:return"Profiler";case O:return"StrictMode";case D:return"Suspense";case Z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case N:return(o.displayName||"Context")+".Consumer";case B:return(o._context.displayName||"Context")+".Provider";case T:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ve:return l=o.displayName||null,l!==null?l:ge(o.type)||"Memo";case be:l=o._payload,o=o._init;try{return ge(o(l))}catch{}}return null}function xe(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(l);case 8:return l===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Te(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function De(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ve(o){var l=De(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),v=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,C=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function($){v=""+$,C.call(this,$)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function($){v=""+$},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Qe(o){o._valueTracker||(o._valueTracker=Ve(o))}function ct(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return o&&(v=De(o)?o.checked?"true":"false":o.value),o=v,o!==h?(l.setValue(o),!0):!1}function ot(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function vt(o,l){var h=l.checked;return he({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function ie(o,l){var h=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;h=Te(l.value!=null?l.value:h),o._wrapperState={initialChecked:v,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function at(o,l){l=l.checked,l!=null&&z(o,"checked",l,!1)}function Ze(o,l){at(o,l);var h=Te(l.value),v=l.type;if(h!=null)v==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(v==="submit"||v==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?qe(o,l.type,h):l.hasOwnProperty("defaultValue")&&qe(o,l.type,Te(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Pt(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function qe(o,l,h){(l!=="number"||ot(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var bt=Array.isArray;function Xe(o,l,h,v){if(o=o.options,l){l={};for(var x=0;x<h.length;x++)l["$"+h[x]]=!0;for(h=0;h<o.length;h++)x=l.hasOwnProperty("$"+o[h].value),o[h].selected!==x&&(o[h].selected=x),x&&v&&(o[h].defaultSelected=!0)}else{for(h=""+Te(h),l=null,x=0;x<o.length;x++){if(o[x].value===h){o[x].selected=!0,v&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function It(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function wt(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(bt(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:Te(h)}}function wn(o,l){var h=Te(l.value),v=Te(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),v!=null&&(o.defaultValue=""+v)}function ln(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function xt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?xt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Qt,ht=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,v,x){MSApp.execUnsafeLocalFunction(function(){return o(l,h,v,x)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Qt=Qt||document.createElement("div"),Qt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Qt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function qt(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xn=["Webkit","ms","Moz","O"];Object.keys(yt).forEach(function(o){Xn.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),yt[l]=yt[o]})});function mn(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||yt.hasOwnProperty(o)&&yt[o]?(""+l).trim():l+"px"}function en(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var v=h.indexOf("--")===0,x=mn(h,l[h],v);h==="float"&&(h="cssFloat"),v?o.setProperty(h,x):o[h]=x}}var tn=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function On(o,l){if(l){if(tn[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Dt(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nn=null;function Bt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Wt=null,gn=null,Ht=null;function Rt(o){if(o=wc(o)){if(typeof Wt!="function")throw Error(t(280));var l=o.stateNode;l&&(l=mu(l),Wt(o.stateNode,o.type,l))}}function fn(o){gn?Ht?Ht.push(o):Ht=[o]:gn=o}function Vs(){if(gn){var o=gn,l=Ht;if(Ht=gn=null,Rt(o),l)for(o=0;o<l.length;o++)Rt(l[o])}}function vr(o,l){return o(l)}function Di(){}var ti=!1;function Vt(o,l,h){if(ti)return o(l,h);ti=!0;try{return vr(o,l,h)}finally{ti=!1,(gn!==null||Ht!==null)&&(Di(),Vs())}}function Fn(o,l){var h=o.stateNode;if(h===null)return null;var v=mu(h);if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var $i=!1;if(c)try{var br={};Object.defineProperty(br,"passive",{get:function(){$i=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{$i=!1}function ni(o,l,h,v,x,C,$,pe,_e){var Fe=Array.prototype.slice.call(arguments,3);try{l.apply(h,Fe)}catch(et){this.onError(et)}}var Yn=!1,yr=null,jn=!1,Us=null,to={onError:function(o){Yn=!0,yr=o}};function Si(o,l,h,v,x,C,$,pe,_e){Yn=!1,yr=null,ni.apply(to,arguments)}function se(o,l,h,v,x,C,$,pe,_e){if(Si.apply(this,arguments),Yn){if(Yn){var Fe=yr;Yn=!1,yr=null}else throw Error(t(198));jn||(jn=!0,Us=Fe)}}function Ee(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function We(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Ke(o){if(Ee(o)!==o)throw Error(t(188))}function Mt(o){var l=o.alternate;if(!l){if(l=Ee(o),l===null)throw Error(t(188));return l!==o?null:o}for(var h=o,v=l;;){var x=h.return;if(x===null)break;var C=x.alternate;if(C===null){if(v=x.return,v!==null){h=v;continue}break}if(x.child===C.child){for(C=x.child;C;){if(C===h)return Ke(x),o;if(C===v)return Ke(x),l;C=C.sibling}throw Error(t(188))}if(h.return!==v.return)h=x,v=C;else{for(var $=!1,pe=x.child;pe;){if(pe===h){$=!0,h=x,v=C;break}if(pe===v){$=!0,v=x,h=C;break}pe=pe.sibling}if(!$){for(pe=C.child;pe;){if(pe===h){$=!0,h=C,v=x;break}if(pe===v){$=!0,v=C,h=x;break}pe=pe.sibling}if(!$)throw Error(t(189))}}if(h.alternate!==v)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?o:l}function ut(o){return o=Mt(o),o!==null?Bn(o):null}function Bn(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Bn(o);if(l!==null)return l;o=o.sibling}return null}var An=e.unstable_scheduleCallback,Gn=e.unstable_cancelCallback,ri=e.unstable_shouldYield,Yi=e.unstable_requestPaint,nn=e.unstable_now,Rr=e.unstable_getCurrentPriorityLevel,mr=e.unstable_ImmediatePriority,Vn=e.unstable_UserBlockingPriority,Mr=e.unstable_NormalPriority,no=e.unstable_LowPriority,Gi=e.unstable_IdlePriority,ys=null,Ki=null;function wl(o){if(Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(ys,o,void 0,(o.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:Cr,Vo=Math.log,ic=Math.LN2;function Cr(o){return o>>>=0,o===0?32:31-(Vo(o)/ic|0)|0}var ua=64,os=4194304;function zs(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Uo(o,l){var h=o.pendingLanes;if(h===0)return 0;var v=0,x=o.suspendedLanes,C=o.pingedLanes,$=h&268435455;if($!==0){var pe=$&~x;pe!==0?v=zs(pe):(C&=$,C!==0&&(v=zs(C)))}else $=h&~x,$!==0?v=zs($):C!==0&&(v=zs(C));if(v===0)return 0;if(l!==0&&l!==v&&(l&x)===0&&(x=v&-v,C=l&-l,x>=C||x===16&&(C&4194240)!==0))return l;if((v&4)!==0&&(v|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=v;0<l;)h=31-xr(l),x=1<<h,v|=o[h],l&=~x;return v}function ws(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(o,l){for(var h=o.suspendedLanes,v=o.pingedLanes,x=o.expirationTimes,C=o.pendingLanes;0<C;){var $=31-xr(C),pe=1<<$,_e=x[$];_e===-1?((pe&h)===0||(pe&v)!==0)&&(x[$]=ws(pe,l)):_e<=l&&(o.expiredLanes|=pe),C&=~pe}}function $r(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function zo(){var o=ua;return ua<<=1,(ua&4194240)===0&&(ua=64),o}function qo(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function Ho(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-xr(l),o[l]=h}function xn(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var v=o.eventTimes;for(o=o.expirationTimes;0<h;){var x=31-xr(h),C=1<<x;l[x]=0,v[x]=-1,o[x]=-1,h&=~C}}function xo(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var v=31-xr(h),x=1<<v;x&l|o[v]&l&&(o[v]|=l),h&=~x}}var vn=0;function qs(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Wo,Ma,sc,oc,Oa,Fa=!1,ii=[],fi=null,Li=null,as=null,$o=new Map,Ut=new Map,ro=[],su="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ac(o,l){switch(o){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":$o.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ut.delete(l.pointerId)}}function Or(o,l,h,v,x,C){return o===null||o.nativeEvent!==C?(o={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:C,targetContainers:[x]},l!==null&&(l=wc(l),l!==null&&Ma(l)),o):(o.eventSystemFlags|=v,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function So(o,l,h,v,x){switch(l){case"focusin":return fi=Or(fi,o,l,h,v,x),!0;case"dragenter":return Li=Or(Li,o,l,h,v,x),!0;case"mouseover":return as=Or(as,o,l,h,v,x),!0;case"pointerover":var C=x.pointerId;return $o.set(C,Or($o.get(C)||null,o,l,h,v,x)),!0;case"gotpointercapture":return C=x.pointerId,Ut.set(C,Or(Ut.get(C)||null,o,l,h,v,x)),!0}return!1}function lc(o){var l=$a(o.target);if(l!==null){var h=Ee(l);if(h!==null){if(l=h.tag,l===13){if(l=We(h),l!==null){o.blockedOn=l,Oa(o.priority,function(){sc(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ko(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Go(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var v=new h.constructor(h.type,h);Nn=v,h.target.dispatchEvent(v),Nn=null}else return l=wc(h),l!==null&&Ma(l),o.blockedOn=h,!1;l.shift()}return!0}function io(o,l,h){ko(o)&&h.delete(l)}function ja(){Fa=!1,fi!==null&&ko(fi)&&(fi=null),Li!==null&&ko(Li)&&(Li=null),as!==null&&ko(as)&&(as=null),$o.forEach(io),Ut.forEach(io)}function Ri(o,l){o.blockedOn===l&&(o.blockedOn=null,Fa||(Fa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ja)))}function Hs(o){function l(x){return Ri(x,o)}if(0<ii.length){Ri(ii[0],o);for(var h=1;h<ii.length;h++){var v=ii[h];v.blockedOn===o&&(v.blockedOn=null)}}for(fi!==null&&Ri(fi,o),Li!==null&&Ri(Li,o),as!==null&&Ri(as,o),$o.forEach(l),Ut.forEach(l),h=0;h<ro.length;h++)v=ro[h],v.blockedOn===o&&(v.blockedOn=null);for(;0<ro.length&&(h=ro[0],h.blockedOn===null);)lc(h),h.blockedOn===null&&ro.shift()}var Mi=q.ReactCurrentBatchConfig,Yo=!0;function tr(o,l,h,v){var x=vn,C=Mi.transition;Mi.transition=null;try{vn=1,Ba(o,l,h,v)}finally{vn=x,Mi.transition=C}}function _l(o,l,h,v){var x=vn,C=Mi.transition;Mi.transition=null;try{vn=4,Ba(o,l,h,v)}finally{vn=x,Mi.transition=C}}function Ba(o,l,h,v){if(Yo){var x=Go(o,l,h,v);if(x===null)hu(o,l,v,ls,h),ac(o,v);else if(So(x,o,l,h,v))v.stopPropagation();else if(ac(o,v),l&4&&-1<su.indexOf(o)){for(;x!==null;){var C=wc(x);if(C!==null&&Wo(C),C=Go(o,l,h,v),C===null&&hu(o,l,v,ls,h),C===x)break;x=C}x!==null&&v.stopPropagation()}else hu(o,l,v,null,h)}}var ls=null;function Go(o,l,h,v){if(ls=null,o=Bt(v),o=$a(o),o!==null)if(l=Ee(o),l===null)o=null;else if(h=l.tag,h===13){if(o=We(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return ls=o,null}function Ko(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rr()){case mr:return 1;case Vn:return 4;case Mr:case no:return 16;case Gi:return 536870912;default:return 16}default:return 16}}var Oi=null,so=null,ki=null;function Va(){if(ki)return ki;var o,l=so,h=l.length,v,x="value"in Oi?Oi.value:Oi.textContent,C=x.length;for(o=0;o<h&&l[o]===x[o];o++);var $=h-o;for(v=1;v<=$&&l[h-v]===x[C-v];v++);return ki=x.slice(o,1<v?1-v:void 0)}function da(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ei(){return!0}function Ws(){return!1}function si(o){function l(h,v,x,C,$){this._reactName=h,this._targetInst=x,this.type=v,this.nativeEvent=C,this.target=$,this.currentTarget=null;for(var pe in o)o.hasOwnProperty(pe)&&(h=o[pe],this[pe]=h?h(C):C[pe]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ei:Ws,this.isPropagationStopped=Ws,this}return he(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),l}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=si(Fi),b=he({},Fi,{view:0,detail:0}),V=si(b),ce,ye,Ae,He=he({},b,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ae&&(Ae&&o.type==="mousemove"?(ce=o.screenX-Ae.screenX,ye=o.screenY-Ae.screenY):ye=ce=0,Ae=o),ce)},movementY:function(o){return"movementY"in o?o.movementY:ye}}),Ge=si(He),pt=he({},He,{dataTransfer:0}),Et=si(pt),$t=he({},b,{relatedTarget:0}),Xt=si($t),Sn=he({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Un=si(Sn),Ir=he({},Fi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jn=si(Ir),Fr=he({},Fi,{data:0}),Sr=si(Fr),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_s={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oo(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=_s[o])?!!l[o]:!1}function bs(){return oo}var m=he({},b,{key:function(o){if(o.key){var l=jr[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=da(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Tr[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(o){return o.type==="keypress"?da(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?da(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),E=si(m),j=he({},He,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ee=si(j),Ie=he({},b,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),Oe=si(Ie),it=he({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cn=si(it),Nr=he({},He,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),yn=si(Nr),Rn=[9,13,27,32],nr=c&&"CompositionEvent"in window,ji=null;c&&"documentMode"in document&&(ji=document.documentMode);var Qi=c&&"TextEvent"in window&&!ji,Ai=c&&(!nr||ji&&8<ji&&11>=ji),ao=" ",cc=!1;function uc(o,l){switch(o){case"keyup":return Rn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var lo=!1;function $s(o,l){switch(o){case"compositionend":return fa(l);case"keypress":return l.which!==32?null:(cc=!0,ao);case"textInput":return o=l.data,o===ao&&cc?null:o;default:return null}}function Ys(o,l){if(lo)return o==="compositionend"||!nr&&uc(o,l)?(o=Va(),ki=so=Oi=null,lo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ai&&l.locale!=="ko"?null:l.data;default:return null}}var Ua={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qo(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Ua[o.type]:l==="textarea"}function pa(o,l,h,v){fn(v),l=od(l,"onChange"),0<l.length&&(h=new ha("onChange","change",null,h,v),o.push({event:h,listeners:l}))}var ma=null,Xo=null;function Yr(o){uu(o,0)}function bl(o){var l=Pl(o);if(ct(l))return o}function Jo(o,l){if(o==="change")return l}var Eo=!1;if(c){var xl;if(c){var Sl="oninput"in document;if(!Sl){var dc=document.createElement("div");dc.setAttribute("oninput","return;"),Sl=typeof dc.oninput=="function"}xl=Sl}else xl=!1;Eo=xl&&(!document.documentMode||9<document.documentMode)}function hc(){ma&&(ma.detachEvent("onpropertychange",ga),Xo=ma=null)}function ga(o){if(o.propertyName==="value"&&bl(Xo)){var l=[];pa(l,Xo,o,Bt(o)),Vt(Yr,l)}}function za(o,l,h){o==="focusin"?(hc(),ma=l,Xo=h,ma.attachEvent("onpropertychange",ga)):o==="focusout"&&hc()}function qa(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return bl(Xo)}function kl(o,l){if(o==="click")return bl(l)}function Ha(o,l){if(o==="input"||o==="change")return bl(l)}function El(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Br=typeof Object.is=="function"?Object.is:El;function xs(o,l){if(Br(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var x=h[v];if(!u.call(l,x)||!Br(o[x],l[x]))return!1}return!0}function zn(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function rr(o,l){var h=zn(o);o=0;for(var v;h;){if(h.nodeType===3){if(v=o+h.textContent.length,o<=l&&v>=l)return{node:h,offset:l-o};o=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=zn(h)}}function Vr(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Vr(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function oi(){for(var o=window,l=ot();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=ot(o.document)}return l}function Ao(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function ou(o){var l=oi(),h=o.focusedElem,v=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&Vr(h.ownerDocument.documentElement,h)){if(v!==null&&Ao(h)){if(l=v.start,o=v.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var x=h.textContent.length,C=Math.min(v.start,x);v=v.end===void 0?C:Math.min(v.end,x),!o.extend&&C>v&&(x=v,v=C,C=x),x=rr(h,C);var $=rr(h,v);x&&$&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==$.node||o.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),o.removeAllRanges(),C>v?(o.addRange(l),o.extend($.node,$.offset)):(l.setEnd($.node,$.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var fc=c&&"documentMode"in document&&11>=document.documentMode,va=null,nd=null,pc=null,rd=!1;function Sh(o,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;rd||va==null||va!==ot(v)||(v=va,"selectionStart"in v&&Ao(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),pc&&xs(pc,v)||(pc=v,v=od(nd,"onSelect"),0<v.length&&(l=new ha("onSelect","select",null,l,h),o.push({event:l,listeners:v}),l.target=va)))}function au(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var Al={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},Cl={},kh={};c&&(kh=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function lu(o){if(Cl[o])return Cl[o];if(!Al[o])return o;var l=Al[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in kh)return Cl[o]=l[h];return o}var Eh=lu("animationend"),Ah=lu("animationiteration"),Ch=lu("animationstart"),Ih=lu("transitionend"),Th=new Map,Nh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zo(o,l){Th.set(o,l),s(l,[o])}for(var mc=0;mc<Nh.length;mc++){var cs=Nh[mc],co=cs.toLowerCase(),id=cs[0].toUpperCase()+cs.slice(1);Zo(co,"on"+id)}Zo(Eh,"onAnimationEnd"),Zo(Ah,"onAnimationIteration"),Zo(Ch,"onAnimationStart"),Zo("dblclick","onDoubleClick"),Zo("focusin","onFocus"),Zo("focusout","onBlur"),Zo(Ih,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function cu(o,l,h){var v=o.type||"unknown-event";o.currentTarget=h,se(v,l,void 0,o),o.currentTarget=null}function uu(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var v=o[h],x=v.event;v=v.listeners;e:{var C=void 0;if(l)for(var $=v.length-1;0<=$;$--){var pe=v[$],_e=pe.instance,Fe=pe.currentTarget;if(pe=pe.listener,_e!==C&&x.isPropagationStopped())break e;cu(x,pe,Fe),C=_e}else for($=0;$<v.length;$++){if(pe=v[$],_e=pe.instance,Fe=pe.currentTarget,pe=pe.listener,_e!==C&&x.isPropagationStopped())break e;cu(x,pe,Fe),C=_e}}}if(jn)throw o=Us,jn=!1,Us=null,o}function ar(o,l){var h=l[ks];h===void 0&&(h=l[ks]=new Set);var v=o+"__bubble";h.has(v)||(du(l,o,2,!1),h.add(v))}function sd(o,l,h){var v=0;l&&(v|=4),du(h,o,v,l)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Il(o){if(!o[gc]){o[gc]=!0,n.forEach(function(h){h!=="selectionchange"&&(Qf.has(h)||sd(h,!1,o),sd(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[gc]||(l[gc]=!0,sd("selectionchange",!1,l))}}function du(o,l,h,v){switch(Ko(l)){case 1:var x=tr;break;case 4:x=_l;break;default:x=Ba}h=x.bind(null,l,h,o),x=void 0,!$i||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),v?x!==void 0?o.addEventListener(l,h,{capture:!0,passive:x}):o.addEventListener(l,h,!0):x!==void 0?o.addEventListener(l,h,{passive:x}):o.addEventListener(l,h,!1)}function hu(o,l,h,v,x){var C=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var $=v.tag;if($===3||$===4){var pe=v.stateNode.containerInfo;if(pe===x||pe.nodeType===8&&pe.parentNode===x)break;if($===4)for($=v.return;$!==null;){var _e=$.tag;if((_e===3||_e===4)&&(_e=$.stateNode.containerInfo,_e===x||_e.nodeType===8&&_e.parentNode===x))return;$=$.return}for(;pe!==null;){if($=$a(pe),$===null)return;if(_e=$.tag,_e===5||_e===6){v=C=$;continue e}pe=pe.parentNode}}v=v.return}Vt(function(){var Fe=C,et=Bt(h),rt=[];e:{var Je=Th.get(o);if(Je!==void 0){var ft=ha,At=o;switch(o){case"keypress":if(da(h)===0)break e;case"keydown":case"keyup":ft=E;break;case"focusin":At="focus",ft=Xt;break;case"focusout":At="blur",ft=Xt;break;case"beforeblur":case"afterblur":ft=Xt;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Ge;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Et;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Oe;break;case Eh:case Ah:case Ch:ft=Un;break;case Ih:ft=Cn;break;case"scroll":ft=V;break;case"wheel":ft=yn;break;case"copy":case"cut":case"paste":ft=Jn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=ee}var Tt=(l&4)!==0,gi=!Tt&&o==="scroll",Le=Tt?Je!==null?Je+"Capture":null:Je;Tt=[];for(var ke=Fe,Me;ke!==null;){Me=ke;var st=Me.stateNode;if(Me.tag===5&&st!==null&&(Me=st,Le!==null&&(st=Fn(ke,Le),st!=null&&Tt.push(fu(ke,st,Me)))),gi)break;ke=ke.return}0<Tt.length&&(Je=new ft(Je,At,null,h,et),rt.push({event:Je,listeners:Tt}))}}if((l&7)===0){e:{if(Je=o==="mouseover"||o==="pointerover",ft=o==="mouseout"||o==="pointerout",Je&&h!==Nn&&(At=h.relatedTarget||h.fromElement)&&($a(At)||At[Xi]))break e;if((ft||Je)&&(Je=et.window===et?et:(Je=et.ownerDocument)?Je.defaultView||Je.parentWindow:window,ft?(At=h.relatedTarget||h.toElement,ft=Fe,At=At?$a(At):null,At!==null&&(gi=Ee(At),At!==gi||At.tag!==5&&At.tag!==6)&&(At=null)):(ft=null,At=Fe),ft!==At)){if(Tt=Ge,st="onMouseLeave",Le="onMouseEnter",ke="mouse",(o==="pointerout"||o==="pointerover")&&(Tt=ee,st="onPointerLeave",Le="onPointerEnter",ke="pointer"),gi=ft==null?Je:Pl(ft),Me=At==null?Je:Pl(At),Je=new Tt(st,ke+"leave",ft,h,et),Je.target=gi,Je.relatedTarget=Me,st=null,$a(et)===Fe&&(Tt=new Tt(Le,ke+"enter",At,h,et),Tt.target=Me,Tt.relatedTarget=gi,st=Tt),gi=st,ft&&At)t:{for(Tt=ft,Le=At,ke=0,Me=Tt;Me;Me=Tl(Me))ke++;for(Me=0,st=Le;st;st=Tl(st))Me++;for(;0<ke-Me;)Tt=Tl(Tt),ke--;for(;0<Me-ke;)Le=Tl(Le),Me--;for(;ke--;){if(Tt===Le||Le!==null&&Tt===Le.alternate)break t;Tt=Tl(Tt),Le=Tl(Le)}Tt=null}else Tt=null;ft!==null&&Xf(rt,Je,ft,Tt,!1),At!==null&&gi!==null&&Xf(rt,gi,At,Tt,!0)}}e:{if(Je=Fe?Pl(Fe):window,ft=Je.nodeName&&Je.nodeName.toLowerCase(),ft==="select"||ft==="input"&&Je.type==="file")var Ot=Jo;else if(Qo(Je))if(Eo)Ot=Ha;else{Ot=qa;var Yt=za}else(ft=Je.nodeName)&&ft.toLowerCase()==="input"&&(Je.type==="checkbox"||Je.type==="radio")&&(Ot=kl);if(Ot&&(Ot=Ot(o,Fe))){pa(rt,Ot,h,et);break e}Yt&&Yt(o,Je,Fe),o==="focusout"&&(Yt=Je._wrapperState)&&Yt.controlled&&Je.type==="number"&&qe(Je,"number",Je.value)}switch(Yt=Fe?Pl(Fe):window,o){case"focusin":(Qo(Yt)||Yt.contentEditable==="true")&&(va=Yt,nd=Fe,pc=null);break;case"focusout":pc=nd=va=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Sh(rt,h,et);break;case"selectionchange":if(fc)break;case"keydown":case"keyup":Sh(rt,h,et)}var Gt;if(nr)e:{switch(o){case"compositionstart":var rn="onCompositionStart";break e;case"compositionend":rn="onCompositionEnd";break e;case"compositionupdate":rn="onCompositionUpdate";break e}rn=void 0}else lo?uc(o,h)&&(rn="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(rn="onCompositionStart");rn&&(Ai&&h.locale!=="ko"&&(lo||rn!=="onCompositionStart"?rn==="onCompositionEnd"&&lo&&(Gt=Va()):(Oi=et,so="value"in Oi?Oi.value:Oi.textContent,lo=!0)),Yt=od(Fe,rn),0<Yt.length&&(rn=new Sr(rn,o,null,h,et),rt.push({event:rn,listeners:Yt}),Gt?rn.data=Gt:(Gt=fa(h),Gt!==null&&(rn.data=Gt)))),(Gt=Qi?$s(o,h):Ys(o,h))&&(Fe=od(Fe,"onBeforeInput"),0<Fe.length&&(et=new Sr("onBeforeInput","beforeinput",null,h,et),rt.push({event:et,listeners:Fe}),et.data=Gt))}uu(rt,l)})}function fu(o,l,h){return{instance:o,listener:l,currentTarget:h}}function od(o,l){for(var h=l+"Capture",v=[];o!==null;){var x=o,C=x.stateNode;x.tag===5&&C!==null&&(x=C,C=Fn(o,h),C!=null&&v.unshift(fu(o,C,x)),C=Fn(o,l),C!=null&&v.push(fu(o,C,x))),o=o.return}return v}function Tl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Xf(o,l,h,v,x){for(var C=l._reactName,$=[];h!==null&&h!==v;){var pe=h,_e=pe.alternate,Fe=pe.stateNode;if(_e!==null&&_e===v)break;pe.tag===5&&Fe!==null&&(pe=Fe,x?(_e=Fn(h,C),_e!=null&&$.unshift(fu(h,_e,pe))):x||(_e=Fn(h,C),_e!=null&&$.push(fu(h,_e,pe)))),h=h.return}$.length!==0&&o.push({event:l,listeners:$})}var jg=/\r\n?/g,Bg=/\u0000|\uFFFD/g;function Jf(o){return(typeof o=="string"?o:""+o).replace(jg,`
`).replace(Bg,"")}function ad(o,l,h){if(l=Jf(l),Jf(o)!==l&&h)throw Error(t(425))}function vc(){}var pu=null,Nl=null;function Ph(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Dh=typeof setTimeout=="function"?setTimeout:void 0,Zf=typeof clearTimeout=="function"?clearTimeout:void 0,ep=typeof Promise=="function"?Promise:void 0,Vg=typeof queueMicrotask=="function"?queueMicrotask:typeof ep<"u"?function(o){return ep.resolve(null).then(o).catch(Ug)}:Dh;function Ug(o){setTimeout(function(){throw o})}function Lh(o,l){var h=l,v=0;do{var x=h.nextSibling;if(o.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(v===0){o.removeChild(x),Hs(l);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=x}while(h);Hs(l)}function us(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function uo(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),ea="__reactFiber$"+Ss,yc="__reactProps$"+Ss,Xi="__reactContainer$"+Ss,ks="__reactEvents$"+Ss,zg="__reactListeners$"+Ss,qg="__reactHandles$"+Ss;function $a(o){var l=o[ea];if(l)return l;for(var h=o.parentNode;h;){if(l=h[Xi]||h[ea]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=uo(o);o!==null;){if(h=o[ea])return h;o=uo(o)}return l}o=h,h=o.parentNode}return null}function wc(o){return o=o[ea]||o[Xi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Pl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function mu(o){return o[yc]||null}var Rh=[],ya=-1;function Co(o){return{current:o}}function Zn(o){0>ya||(o.current=Rh[ya],Rh[ya]=null,ya--)}function ir(o,l){ya++,Rh[ya]=o.current,o.current=l}var Ya={},Bi=Co(Ya),Es=Co(!1),Dl=Ya;function _c(o,l){var h=o.type.contextTypes;if(!h)return Ya;var v=o.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var x={},C;for(C in h)x[C]=l[C];return v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=x),x}function As(o){return o=o.childContextTypes,o!=null}function ld(){Zn(Es),Zn(Bi)}function tp(o,l,h){if(Bi.current!==Ya)throw Error(t(168));ir(Bi,l),ir(Es,h)}function Mh(o,l,h){var v=o.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var x in v)if(!(x in l))throw Error(t(108,xe(o)||"Unknown",x));return he({},h,v)}function Ll(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ya,Dl=Bi.current,ir(Bi,o),ir(Es,Es.current),!0}function np(o,l,h){var v=o.stateNode;if(!v)throw Error(t(169));h?(o=Mh(o,l,Dl),v.__reactInternalMemoizedMergedChildContext=o,Zn(Es),Zn(Bi),ir(Bi,o)):Zn(Es),ir(Es,h)}var wa=null,gu=!1,p=!1;function w(o){wa===null?wa=[o]:wa.push(o)}function S(o){gu=!0,w(o)}function L(){if(!p&&wa!==null){p=!0;var o=0,l=vn;try{var h=wa;for(vn=1;o<h.length;o++){var v=h[o];do v=v(!0);while(v!==null)}wa=null,gu=!1}catch(x){throw wa!==null&&(wa=wa.slice(o+1)),An(mr,L),x}finally{vn=l,p=!1}}return null}var U=[],Y=0,K=null,X=0,te=[],ae=0,we=null,Pe=1,le="";function Se(o,l){U[Y++]=X,U[Y++]=K,K=o,X=l}function Ne(o,l,h){te[ae++]=Pe,te[ae++]=le,te[ae++]=we,we=o;var v=Pe;o=le;var x=32-xr(v)-1;v&=~(1<<x),h+=1;var C=32-xr(l)+x;if(30<C){var $=x-x%5;C=(v&(1<<$)-1).toString(32),v>>=$,x-=$,Pe=1<<32-xr(l)+x|h<<x|v,le=C+o}else Pe=1<<C|h<<x|v,le=o}function ze(o){o.return!==null&&(Se(o,1),Ne(o,1,0))}function Re(o){for(;o===K;)K=U[--Y],U[Y]=null,X=U[--Y],U[Y]=null;for(;o===we;)we=te[--ae],te[ae]=null,le=te[--ae],te[ae]=null,Pe=te[--ae],te[ae]=null}var Be=null,Ue=null,$e=!1,Ye=null;function Lt(o,l){var h=sa(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function mt(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Be=o,Ue=us(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Be=o,Ue=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=we!==null?{id:Pe,overflow:le}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=sa(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,Be=o,Ue=null,!0):!1;default:return!1}}function an(o){return(o.mode&1)!==0&&(o.flags&128)===0}function St(o){if($e){var l=Ue;if(l){var h=l;if(!mt(o,l)){if(an(o))throw Error(t(418));l=us(h.nextSibling);var v=Be;l&&mt(o,l)?Lt(v,h):(o.flags=o.flags&-4097|2,$e=!1,Be=o)}}else{if(an(o))throw Error(t(418));o.flags=o.flags&-4097|2,$e=!1,Be=o}}}function kn(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Be=o}function Ur(o){if(o!==Be)return!1;if(!$e)return kn(o),$e=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Ph(o.type,o.memoizedProps)),l&&(l=Ue)){if(an(o))throw cn(),Error(t(418));for(;l;)Lt(o,l),l=us(l.nextSibling)}if(kn(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){Ue=us(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}Ue=null}}else Ue=Be?us(o.stateNode.nextSibling):null;return!0}function cn(){for(var o=Ue;o;)o=us(o.nextSibling)}function gt(){Ue=Be=null,$e=!1}function lt(o){Ye===null?Ye=[o]:Ye.push(o)}var Gr=q.ReactCurrentBatchConfig;function Jt(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var v=h.stateNode}if(!v)throw Error(t(147,o));var x=v,C=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===C?l.ref:(l=function($){var pe=x.refs;$===null?delete pe[C]:pe[C]=$},l._stringRef=C,l)}if(typeof o!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,o))}return o}function _n(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function gr(o){var l=o._init;return l(o._payload)}function Ci(o){function l(Le,ke){if(o){var Me=Le.deletions;Me===null?(Le.deletions=[ke],Le.flags|=16):Me.push(ke)}}function h(Le,ke){if(!o)return null;for(;ke!==null;)l(Le,ke),ke=ke.sibling;return null}function v(Le,ke){for(Le=new Map;ke!==null;)ke.key!==null?Le.set(ke.key,ke):Le.set(ke.index,ke),ke=ke.sibling;return Le}function x(Le,ke){return Le=Nc(Le,ke),Le.index=0,Le.sibling=null,Le}function C(Le,ke,Me){return Le.index=Me,o?(Me=Le.alternate,Me!==null?(Me=Me.index,Me<ke?(Le.flags|=2,ke):Me):(Le.flags|=2,ke)):(Le.flags|=1048576,ke)}function $(Le){return o&&Le.alternate===null&&(Le.flags|=2),Le}function pe(Le,ke,Me,st){return ke===null||ke.tag!==6?(ke=y0(Me,Le.mode,st),ke.return=Le,ke):(ke=x(ke,Me),ke.return=Le,ke)}function _e(Le,ke,Me,st){var Ot=Me.type;return Ot===H?et(Le,ke,Me.props.children,st,Me.key):ke!==null&&(ke.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===be&&gr(Ot)===ke.type)?(st=x(ke,Me.props),st.ref=Jt(Le,ke,Me),st.return=Le,st):(st=xp(Me.type,Me.key,Me.props,null,Le.mode,st),st.ref=Jt(Le,ke,Me),st.return=Le,st)}function Fe(Le,ke,Me,st){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Me.containerInfo||ke.stateNode.implementation!==Me.implementation?(ke=w0(Me,Le.mode,st),ke.return=Le,ke):(ke=x(ke,Me.children||[]),ke.return=Le,ke)}function et(Le,ke,Me,st,Ot){return ke===null||ke.tag!==7?(ke=ku(Me,Le.mode,st,Ot),ke.return=Le,ke):(ke=x(ke,Me),ke.return=Le,ke)}function rt(Le,ke,Me){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=y0(""+ke,Le.mode,Me),ke.return=Le,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case ne:return Me=xp(ke.type,ke.key,ke.props,null,Le.mode,Me),Me.ref=Jt(Le,null,ke),Me.return=Le,Me;case de:return ke=w0(ke,Le.mode,Me),ke.return=Le,ke;case be:var st=ke._init;return rt(Le,st(ke._payload),Me)}if(bt(ke)||fe(ke))return ke=ku(ke,Le.mode,Me,null),ke.return=Le,ke;_n(Le,ke)}return null}function Je(Le,ke,Me,st){var Ot=ke!==null?ke.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Ot!==null?null:pe(Le,ke,""+Me,st);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case ne:return Me.key===Ot?_e(Le,ke,Me,st):null;case de:return Me.key===Ot?Fe(Le,ke,Me,st):null;case be:return Ot=Me._init,Je(Le,ke,Ot(Me._payload),st)}if(bt(Me)||fe(Me))return Ot!==null?null:et(Le,ke,Me,st,null);_n(Le,Me)}return null}function ft(Le,ke,Me,st,Ot){if(typeof st=="string"&&st!==""||typeof st=="number")return Le=Le.get(Me)||null,pe(ke,Le,""+st,Ot);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case ne:return Le=Le.get(st.key===null?Me:st.key)||null,_e(ke,Le,st,Ot);case de:return Le=Le.get(st.key===null?Me:st.key)||null,Fe(ke,Le,st,Ot);case be:var Yt=st._init;return ft(Le,ke,Me,Yt(st._payload),Ot)}if(bt(st)||fe(st))return Le=Le.get(Me)||null,et(ke,Le,st,Ot,null);_n(ke,st)}return null}function At(Le,ke,Me,st){for(var Ot=null,Yt=null,Gt=ke,rn=ke=0,ns=null;Gt!==null&&rn<Me.length;rn++){Gt.index>rn?(ns=Gt,Gt=null):ns=Gt.sibling;var Kn=Je(Le,Gt,Me[rn],st);if(Kn===null){Gt===null&&(Gt=ns);break}o&&Gt&&Kn.alternate===null&&l(Le,Gt),ke=C(Kn,ke,rn),Yt===null?Ot=Kn:Yt.sibling=Kn,Yt=Kn,Gt=ns}if(rn===Me.length)return h(Le,Gt),$e&&Se(Le,rn),Ot;if(Gt===null){for(;rn<Me.length;rn++)Gt=rt(Le,Me[rn],st),Gt!==null&&(ke=C(Gt,ke,rn),Yt===null?Ot=Gt:Yt.sibling=Gt,Yt=Gt);return $e&&Se(Le,rn),Ot}for(Gt=v(Le,Gt);rn<Me.length;rn++)ns=ft(Gt,Le,rn,Me[rn],st),ns!==null&&(o&&ns.alternate!==null&&Gt.delete(ns.key===null?rn:ns.key),ke=C(ns,ke,rn),Yt===null?Ot=ns:Yt.sibling=ns,Yt=ns);return o&&Gt.forEach(function(Pc){return l(Le,Pc)}),$e&&Se(Le,rn),Ot}function Tt(Le,ke,Me,st){var Ot=fe(Me);if(typeof Ot!="function")throw Error(t(150));if(Me=Ot.call(Me),Me==null)throw Error(t(151));for(var Yt=Ot=null,Gt=ke,rn=ke=0,ns=null,Kn=Me.next();Gt!==null&&!Kn.done;rn++,Kn=Me.next()){Gt.index>rn?(ns=Gt,Gt=null):ns=Gt.sibling;var Pc=Je(Le,Gt,Kn.value,st);if(Pc===null){Gt===null&&(Gt=ns);break}o&&Gt&&Pc.alternate===null&&l(Le,Gt),ke=C(Pc,ke,rn),Yt===null?Ot=Pc:Yt.sibling=Pc,Yt=Pc,Gt=ns}if(Kn.done)return h(Le,Gt),$e&&Se(Le,rn),Ot;if(Gt===null){for(;!Kn.done;rn++,Kn=Me.next())Kn=rt(Le,Kn.value,st),Kn!==null&&(ke=C(Kn,ke,rn),Yt===null?Ot=Kn:Yt.sibling=Kn,Yt=Kn);return $e&&Se(Le,rn),Ot}for(Gt=v(Le,Gt);!Kn.done;rn++,Kn=Me.next())Kn=ft(Gt,Le,rn,Kn.value,st),Kn!==null&&(o&&Kn.alternate!==null&&Gt.delete(Kn.key===null?rn:Kn.key),ke=C(Kn,ke,rn),Yt===null?Ot=Kn:Yt.sibling=Kn,Yt=Kn);return o&&Gt.forEach(function(d4){return l(Le,d4)}),$e&&Se(Le,rn),Ot}function gi(Le,ke,Me,st){if(typeof Me=="object"&&Me!==null&&Me.type===H&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case ne:e:{for(var Ot=Me.key,Yt=ke;Yt!==null;){if(Yt.key===Ot){if(Ot=Me.type,Ot===H){if(Yt.tag===7){h(Le,Yt.sibling),ke=x(Yt,Me.props.children),ke.return=Le,Le=ke;break e}}else if(Yt.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===be&&gr(Ot)===Yt.type){h(Le,Yt.sibling),ke=x(Yt,Me.props),ke.ref=Jt(Le,Yt,Me),ke.return=Le,Le=ke;break e}h(Le,Yt);break}else l(Le,Yt);Yt=Yt.sibling}Me.type===H?(ke=ku(Me.props.children,Le.mode,st,Me.key),ke.return=Le,Le=ke):(st=xp(Me.type,Me.key,Me.props,null,Le.mode,st),st.ref=Jt(Le,ke,Me),st.return=Le,Le=st)}return $(Le);case de:e:{for(Yt=Me.key;ke!==null;){if(ke.key===Yt)if(ke.tag===4&&ke.stateNode.containerInfo===Me.containerInfo&&ke.stateNode.implementation===Me.implementation){h(Le,ke.sibling),ke=x(ke,Me.children||[]),ke.return=Le,Le=ke;break e}else{h(Le,ke);break}else l(Le,ke);ke=ke.sibling}ke=w0(Me,Le.mode,st),ke.return=Le,Le=ke}return $(Le);case be:return Yt=Me._init,gi(Le,ke,Yt(Me._payload),st)}if(bt(Me))return At(Le,ke,Me,st);if(fe(Me))return Tt(Le,ke,Me,st);_n(Le,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,ke!==null&&ke.tag===6?(h(Le,ke.sibling),ke=x(ke,Me),ke.return=Le,Le=ke):(h(Le,ke),ke=y0(Me,Le.mode,st),ke.return=Le,Le=ke),$(Le)):h(Le,ke)}return gi}var ai=Ci(!0),Pr=Ci(!1),pi=Co(null),Ii=null,kr=null,In=null;function qn(){In=kr=Ii=null}function Er(o){var l=pi.current;Zn(pi),o._currentValue=l}function Hn(o,l,h){for(;o!==null;){var v=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),o===h)break;o=o.return}}function zr(o,l){Ii=o,In=kr=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(fo=!0),o.firstContext=null)}function qr(o){var l=o._currentValue;if(In!==o)if(o={context:o,memoizedValue:l,next:null},kr===null){if(Ii===null)throw Error(t(308));kr=o,Ii.dependencies={lanes:0,firstContext:o}}else kr=kr.next=o;return l}var lr=null;function Ji(o){lr===null?lr=[o]:lr.push(o)}function sr(o,l,h,v){var x=l.interleaved;return x===null?(h.next=h,Ji(l)):(h.next=x.next,x.next=h),l.interleaved=h,cr(o,v)}function cr(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var li=!1;function Vi(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cs(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Kr(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Qr(o,l,h){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Wn&2)!==0){var x=v.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),v.pending=l,cr(o,h)}return x=v.interleaved,x===null?(l.next=l,Ji(v)):(l.next=x.next,x.next=l),v.interleaved=l,cr(o,h)}function Zi(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,xo(o,h)}}function ur(o,l){var h=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var x=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var $={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};C===null?x=C=$:C=C.next=$,h=h.next}while(h!==null);C===null?x=C=l:C=C.next=l}else x=C=l;h={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:C,shared:v.shared,effects:v.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function es(o,l,h,v){var x=o.updateQueue;li=!1;var C=x.firstBaseUpdate,$=x.lastBaseUpdate,pe=x.shared.pending;if(pe!==null){x.shared.pending=null;var _e=pe,Fe=_e.next;_e.next=null,$===null?C=Fe:$.next=Fe,$=_e;var et=o.alternate;et!==null&&(et=et.updateQueue,pe=et.lastBaseUpdate,pe!==$&&(pe===null?et.firstBaseUpdate=Fe:pe.next=Fe,et.lastBaseUpdate=_e))}if(C!==null){var rt=x.baseState;$=0,et=Fe=_e=null,pe=C;do{var Je=pe.lane,ft=pe.eventTime;if((v&Je)===Je){et!==null&&(et=et.next={eventTime:ft,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var At=o,Tt=pe;switch(Je=l,ft=h,Tt.tag){case 1:if(At=Tt.payload,typeof At=="function"){rt=At.call(ft,rt,Je);break e}rt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Tt.payload,Je=typeof At=="function"?At.call(ft,rt,Je):At,Je==null)break e;rt=he({},rt,Je);break e;case 2:li=!0}}pe.callback!==null&&pe.lane!==0&&(o.flags|=64,Je=x.effects,Je===null?x.effects=[pe]:Je.push(pe))}else ft={eventTime:ft,lane:Je,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},et===null?(Fe=et=ft,_e=rt):et=et.next=ft,$|=Je;if(pe=pe.next,pe===null){if(pe=x.shared.pending,pe===null)break;Je=pe,pe=Je.next,Je.next=null,x.lastBaseUpdate=Je,x.shared.pending=null}}while(!0);if(et===null&&(_e=rt),x.baseState=_e,x.firstBaseUpdate=Fe,x.lastBaseUpdate=et,l=x.shared.interleaved,l!==null){x=l;do $|=x.lane,x=x.next;while(x!==l)}else C===null&&(x.shared.lanes=0);_u|=$,o.lanes=$,o.memoizedState=rt}}function ho(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var v=o[l],x=v.callback;if(x!==null){if(v.callback=null,v=h,typeof x!="function")throw Error(t(191,x));x.call(v)}}}var Io={},Ti=Co(Io),Xr=Co(Io),Ga=Co(Io);function _a(o){if(o===Io)throw Error(t(174));return o}function bc(o,l){switch(ir(Ga,l),ir(Xr,o),ir(Ti,Io),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:kt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=kt(l,o)}Zn(Ti),ir(Ti,l)}function ta(){Zn(Ti),Zn(Xr),Zn(Ga)}function rp(o){_a(Ga.current);var l=_a(Ti.current),h=kt(l,o.type);l!==h&&(ir(Xr,o),ir(Ti,h))}function Oh(o){Xr.current===o&&(Zn(Ti),Zn(Xr))}var wr=Co(0);function To(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Fh=[];function jh(){for(var o=0;o<Fh.length;o++)Fh[o]._workInProgressVersionPrimary=null;Fh.length=0}var cd=q.ReactCurrentDispatcher,ud=q.ReactCurrentBatchConfig,na=0,Ar=null,ci=null,Jr=null,xc=!1,ba=!1,Sc=0,Hg=0;function mi(){throw Error(t(321))}function dd(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!Br(o[h],l[h]))return!1;return!0}function vu(o,l,h,v,x,C){if(na=C,Ar=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,cd.current=o===null||o.memoizedState===null?FE:jE,o=h(v,x),ba){C=0;do{if(ba=!1,Sc=0,25<=C)throw Error(t(301));C+=1,Jr=ci=null,l.updateQueue=null,cd.current=BE,o=h(v,x)}while(ba)}if(cd.current=lp,l=ci!==null&&ci.next!==null,na=0,Jr=ci=Ar=null,xc=!1,l)throw Error(t(300));return o}function ra(){var o=Sc!==0;return Sc=0,o}function No(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?Ar.memoizedState=Jr=o:Jr=Jr.next=o,Jr}function Gs(){if(ci===null){var o=Ar.alternate;o=o!==null?o.memoizedState:null}else o=ci.next;var l=Jr===null?Ar.memoizedState:Jr.next;if(l!==null)Jr=l,ci=o;else{if(o===null)throw Error(t(310));ci=o,o={memoizedState:ci.memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},Jr===null?Ar.memoizedState=Jr=o:Jr=Jr.next=o}return Jr}function yu(o,l){return typeof l=="function"?l(o):l}function hd(o){var l=Gs(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var v=ci,x=v.baseQueue,C=h.pending;if(C!==null){if(x!==null){var $=x.next;x.next=C.next,C.next=$}v.baseQueue=x=C,h.pending=null}if(x!==null){C=x.next,v=v.baseState;var pe=$=null,_e=null,Fe=C;do{var et=Fe.lane;if((na&et)===et)_e!==null&&(_e=_e.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),v=Fe.hasEagerState?Fe.eagerState:o(v,Fe.action);else{var rt={lane:et,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};_e===null?(pe=_e=rt,$=v):_e=_e.next=rt,Ar.lanes|=et,_u|=et}Fe=Fe.next}while(Fe!==null&&Fe!==C);_e===null?$=v:_e.next=pe,Br(v,l.memoizedState)||(fo=!0),l.memoizedState=v,l.baseState=$,l.baseQueue=_e,h.lastRenderedState=v}if(o=h.interleaved,o!==null){x=o;do C=x.lane,Ar.lanes|=C,_u|=C,x=x.next;while(x!==o)}else x===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function Ka(o){var l=Gs(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var v=h.dispatch,x=h.pending,C=l.memoizedState;if(x!==null){h.pending=null;var $=x=x.next;do C=o(C,$.action),$=$.next;while($!==x);Br(C,l.memoizedState)||(fo=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),h.lastRenderedState=C}return[C,v]}function ip(){}function Bh(o,l){var h=Ar,v=Gs(),x=l(),C=!Br(v.memoizedState,x);if(C&&(v.memoizedState=x,fo=!0),v=v.queue,md(op.bind(null,h,v,o),[o]),v.getSnapshot!==l||C||Jr!==null&&Jr.memoizedState.tag&1){if(h.flags|=2048,Ks(9,Vh.bind(null,h,v,x,l),void 0,null),ts===null)throw Error(t(349));(na&30)!==0||sp(h,l,x)}return x}function sp(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=Ar.updateQueue,l===null?(l={lastEffect:null,stores:null},Ar.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function Vh(o,l,h,v){l.value=h,l.getSnapshot=v,kc(l)&&fd(o)}function op(o,l,h){return h(function(){kc(l)&&fd(o)})}function kc(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!Br(o,h)}catch{return!0}}function fd(o){var l=cr(o,1);l!==null&&Aa(l,o,1,-1)}function wu(o){var l=No();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yu,lastRenderedState:o},l.queue=o,o=o.dispatch=OE.bind(null,Ar,o),[l.memoizedState,o]}function Ks(o,l,h,v){return o={tag:o,create:l,destroy:h,deps:v,next:null},l=Ar.updateQueue,l===null?(l={lastEffect:null,stores:null},Ar.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(v=h.next,h.next=o,o.next=v,l.lastEffect=o)),o}function xa(){return Gs().memoizedState}function Po(o,l,h,v){var x=No();Ar.flags|=o,x.memoizedState=Ks(1|l,h,void 0,v===void 0?null:v)}function Rl(o,l,h,v){var x=Gs();v=v===void 0?null:v;var C=void 0;if(ci!==null){var $=ci.memoizedState;if(C=$.destroy,v!==null&&dd(v,$.deps)){x.memoizedState=Ks(l,h,C,v);return}}Ar.flags|=o,x.memoizedState=Ks(1|l,h,C,v)}function pd(o,l){return Po(8390656,8,o,l)}function md(o,l){return Rl(2048,8,o,l)}function ap(o,l){return Rl(4,2,o,l)}function gd(o,l){return Rl(4,4,o,l)}function vd(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Dy(o,l,h){return h=h!=null?h.concat([o]):null,Rl(4,4,vd.bind(null,l,o),h)}function Wg(){}function Ly(o,l){var h=Gs();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&dd(l,v[1])?v[0]:(h.memoizedState=[o,l],o)}function Ry(o,l){var h=Gs();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&dd(l,v[1])?v[0]:(o=o(),h.memoizedState=[o,l],o)}function My(o,l,h){return(na&21)===0?(o.baseState&&(o.baseState=!1,fo=!0),o.memoizedState=h):(Br(h,l)||(h=zo(),Ar.lanes|=h,_u|=h,o.baseState=!0),l)}function RE(o,l){var h=vn;vn=h!==0&&4>h?h:4,o(!0);var v=ud.transition;ud.transition={};try{o(!1),l()}finally{vn=h,ud.transition=v}}function Oy(){return Gs().memoizedState}function ME(o,l,h){var v=Ic(o);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},Fy(o))jy(l,h);else if(h=sr(o,l,h,v),h!==null){var x=Xs();Aa(h,o,v,x),By(h,l,v)}}function OE(o,l,h){var v=Ic(o),x={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(Fy(o))jy(l,x);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var $=l.lastRenderedState,pe=C($,h);if(x.hasEagerState=!0,x.eagerState=pe,Br(pe,$)){var _e=l.interleaved;_e===null?(x.next=x,Ji(l)):(x.next=_e.next,_e.next=x),l.interleaved=x;return}}catch{}h=sr(o,l,x,v),h!==null&&(x=Xs(),Aa(h,o,v,x),By(h,l,v))}}function Fy(o){var l=o.alternate;return o===Ar||l!==null&&l===Ar}function jy(o,l){ba=xc=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function By(o,l,h){if((h&4194240)!==0){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,xo(o,h)}}var lp={readContext:qr,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},FE={readContext:qr,useCallback:function(o,l){return No().memoizedState=[o,l===void 0?null:l],o},useContext:qr,useEffect:pd,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,Po(4194308,4,vd.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Po(4194308,4,o,l)},useInsertionEffect:function(o,l){return Po(4,2,o,l)},useMemo:function(o,l){var h=No();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var v=No();return l=h!==void 0?h(l):l,v.memoizedState=v.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},v.queue=o,o=o.dispatch=ME.bind(null,Ar,o),[v.memoizedState,o]},useRef:function(o){var l=No();return o={current:o},l.memoizedState=o},useState:wu,useDebugValue:Wg,useDeferredValue:function(o){return No().memoizedState=o},useTransition:function(){var o=wu(!1),l=o[0];return o=RE.bind(null,o[1]),No().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var v=Ar,x=No();if($e){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),ts===null)throw Error(t(349));(na&30)!==0||sp(v,l,h)}x.memoizedState=h;var C={value:h,getSnapshot:l};return x.queue=C,pd(op.bind(null,v,C,o),[o]),v.flags|=2048,Ks(9,Vh.bind(null,v,C,h,l),void 0,null),h},useId:function(){var o=No(),l=ts.identifierPrefix;if($e){var h=le,v=Pe;h=(v&~(1<<32-xr(v)-1)).toString(32)+h,l=":"+l+"R"+h,h=Sc++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=Hg++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},jE={readContext:qr,useCallback:Ly,useContext:qr,useEffect:md,useImperativeHandle:Dy,useInsertionEffect:ap,useLayoutEffect:gd,useMemo:Ry,useReducer:hd,useRef:xa,useState:function(){return hd(yu)},useDebugValue:Wg,useDeferredValue:function(o){var l=Gs();return My(l,ci.memoizedState,o)},useTransition:function(){var o=hd(yu)[0],l=Gs().memoizedState;return[o,l]},useMutableSource:ip,useSyncExternalStore:Bh,useId:Oy,unstable_isNewReconciler:!1},BE={readContext:qr,useCallback:Ly,useContext:qr,useEffect:md,useImperativeHandle:Dy,useInsertionEffect:ap,useLayoutEffect:gd,useMemo:Ry,useReducer:Ka,useRef:xa,useState:function(){return Ka(yu)},useDebugValue:Wg,useDeferredValue:function(o){var l=Gs();return ci===null?l.memoizedState=o:My(l,ci.memoizedState,o)},useTransition:function(){var o=Ka(yu)[0],l=Gs().memoizedState;return[o,l]},useMutableSource:ip,useSyncExternalStore:Bh,useId:Oy,unstable_isNewReconciler:!1};function Sa(o,l){if(o&&o.defaultProps){l=he({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function $g(o,l,h,v){l=o.memoizedState,h=h(v,l),h=h==null?l:he({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var cp={isMounted:function(o){return(o=o._reactInternals)?Ee(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var v=Xs(),x=Ic(o),C=Kr(v,x);C.payload=l,h!=null&&(C.callback=h),l=Qr(o,C,x),l!==null&&(Aa(l,o,x,v),Zi(l,o,x))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var v=Xs(),x=Ic(o),C=Kr(v,x);C.tag=1,C.payload=l,h!=null&&(C.callback=h),l=Qr(o,C,x),l!==null&&(Aa(l,o,x,v),Zi(l,o,x))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=Xs(),v=Ic(o),x=Kr(h,v);x.tag=2,l!=null&&(x.callback=l),l=Qr(o,x,v),l!==null&&(Aa(l,o,v,h),Zi(l,o,v))}};function Vy(o,l,h,v,x,C,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,C,$):l.prototype&&l.prototype.isPureReactComponent?!xs(h,v)||!xs(x,C):!0}function Uy(o,l,h){var v=!1,x=Ya,C=l.contextType;return typeof C=="object"&&C!==null?C=qr(C):(x=As(l)?Dl:Bi.current,v=l.contextTypes,C=(v=v!=null)?_c(o,x):Ya),l=new l(h,C),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=cp,o.stateNode=l,l._reactInternals=o,v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=C),l}function zy(o,l,h,v){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==o&&cp.enqueueReplaceState(l,l.state,null)}function Yg(o,l,h,v){var x=o.stateNode;x.props=h,x.state=o.memoizedState,x.refs={},Vi(o);var C=l.contextType;typeof C=="object"&&C!==null?x.context=qr(C):(C=As(l)?Dl:Bi.current,x.context=_c(o,C)),x.state=o.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&($g(o,l,C,h),x.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&cp.enqueueReplaceState(x,x.state,null),es(o,h,x,v),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function yd(o,l){try{var h="",v=l;do h+=ue(v),v=v.return;while(v);var x=h}catch(C){x=`
Error generating stack: `+C.message+`
`+C.stack}return{value:o,source:l,stack:x,digest:null}}function Gg(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function Kg(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var VE=typeof WeakMap=="function"?WeakMap:Map;function qy(o,l,h){h=Kr(-1,h),h.tag=3,h.payload={element:null};var v=l.value;return h.callback=function(){gp||(gp=!0,u0=v),Kg(o,l)},h}function Hy(o,l,h){h=Kr(-1,h),h.tag=3;var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var x=l.value;h.payload=function(){return v(x)},h.callback=function(){Kg(o,l)}}var C=o.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(h.callback=function(){Kg(o,l),typeof v!="function"&&(Ac===null?Ac=new Set([this]):Ac.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),h}function Wy(o,l,h){var v=o.pingCache;if(v===null){v=o.pingCache=new VE;var x=new Set;v.set(l,x)}else x=v.get(l),x===void 0&&(x=new Set,v.set(l,x));x.has(h)||(x.add(h),o=e4.bind(null,o,l,h),l.then(o,o))}function $y(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function Yy(o,l,h,v,x){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=Kr(-1,1),l.tag=2,Qr(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var UE=q.ReactCurrentOwner,fo=!1;function Qs(o,l,h,v){l.child=o===null?Pr(l,null,h,v):ai(l,o.child,h,v)}function Gy(o,l,h,v,x){h=h.render;var C=l.ref;return zr(l,x),v=vu(o,l,h,v,C,x),h=ra(),o!==null&&!fo?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,Ml(o,l,x)):($e&&h&&ze(l),l.flags|=1,Qs(o,l,v,x),l.child)}function Ky(o,l,h,v,x){if(o===null){var C=h.type;return typeof C=="function"&&!v0(C)&&C.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=C,Qy(o,l,C,v,x)):(o=xp(h.type,null,v,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(C=o.child,(o.lanes&x)===0){var $=C.memoizedProps;if(h=h.compare,h=h!==null?h:xs,h($,v)&&o.ref===l.ref)return Ml(o,l,x)}return l.flags|=1,o=Nc(C,v),o.ref=l.ref,o.return=l,l.child=o}function Qy(o,l,h,v,x){if(o!==null){var C=o.memoizedProps;if(xs(C,v)&&o.ref===l.ref)if(fo=!1,l.pendingProps=v=C,(o.lanes&x)!==0)(o.flags&131072)!==0&&(fo=!0);else return l.lanes=o.lanes,Ml(o,l,x)}return Qg(o,l,h,v,x)}function Xy(o,l,h){var v=l.pendingProps,x=v.children,C=o!==null?o.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(_d,Do),Do|=h;else{if((h&1073741824)===0)return o=C!==null?C.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,ir(_d,Do),Do|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=C!==null?C.baseLanes:h,ir(_d,Do),Do|=v}else C!==null?(v=C.baseLanes|h,l.memoizedState=null):v=h,ir(_d,Do),Do|=v;return Qs(o,l,x,h),l.child}function Jy(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Qg(o,l,h,v,x){var C=As(h)?Dl:Bi.current;return C=_c(l,C),zr(l,x),h=vu(o,l,h,v,C,x),v=ra(),o!==null&&!fo?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,Ml(o,l,x)):($e&&v&&ze(l),l.flags|=1,Qs(o,l,h,x),l.child)}function Zy(o,l,h,v,x){if(As(h)){var C=!0;Ll(l)}else C=!1;if(zr(l,x),l.stateNode===null)dp(o,l),Uy(l,h,v),Yg(l,h,v,x),v=!0;else if(o===null){var $=l.stateNode,pe=l.memoizedProps;$.props=pe;var _e=$.context,Fe=h.contextType;typeof Fe=="object"&&Fe!==null?Fe=qr(Fe):(Fe=As(h)?Dl:Bi.current,Fe=_c(l,Fe));var et=h.getDerivedStateFromProps,rt=typeof et=="function"||typeof $.getSnapshotBeforeUpdate=="function";rt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(pe!==v||_e!==Fe)&&zy(l,$,v,Fe),li=!1;var Je=l.memoizedState;$.state=Je,es(l,v,$,x),_e=l.memoizedState,pe!==v||Je!==_e||Es.current||li?(typeof et=="function"&&($g(l,h,et,v),_e=l.memoizedState),(pe=li||Vy(l,h,pe,v,Je,_e,Fe))?(rt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=_e),$.props=v,$.state=_e,$.context=Fe,v=pe):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{$=l.stateNode,Cs(o,l),pe=l.memoizedProps,Fe=l.type===l.elementType?pe:Sa(l.type,pe),$.props=Fe,rt=l.pendingProps,Je=$.context,_e=h.contextType,typeof _e=="object"&&_e!==null?_e=qr(_e):(_e=As(h)?Dl:Bi.current,_e=_c(l,_e));var ft=h.getDerivedStateFromProps;(et=typeof ft=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(pe!==rt||Je!==_e)&&zy(l,$,v,_e),li=!1,Je=l.memoizedState,$.state=Je,es(l,v,$,x);var At=l.memoizedState;pe!==rt||Je!==At||Es.current||li?(typeof ft=="function"&&($g(l,h,ft,v),At=l.memoizedState),(Fe=li||Vy(l,h,Fe,v,Je,At,_e)||!1)?(et||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(v,At,_e),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(v,At,_e)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||pe===o.memoizedProps&&Je===o.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||pe===o.memoizedProps&&Je===o.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=At),$.props=v,$.state=At,$.context=_e,v=Fe):(typeof $.componentDidUpdate!="function"||pe===o.memoizedProps&&Je===o.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||pe===o.memoizedProps&&Je===o.memoizedState||(l.flags|=1024),v=!1)}return Xg(o,l,h,v,C,x)}function Xg(o,l,h,v,x,C){Jy(o,l);var $=(l.flags&128)!==0;if(!v&&!$)return x&&np(l,h,!1),Ml(o,l,C);v=l.stateNode,UE.current=l;var pe=$&&typeof h.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,o!==null&&$?(l.child=ai(l,o.child,null,C),l.child=ai(l,null,pe,C)):Qs(o,l,pe,C),l.memoizedState=v.state,x&&np(l,h,!0),l.child}function e2(o){var l=o.stateNode;l.pendingContext?tp(o,l.pendingContext,l.pendingContext!==l.context):l.context&&tp(o,l.context,!1),bc(o,l.containerInfo)}function t2(o,l,h,v,x){return gt(),lt(x),l.flags|=256,Qs(o,l,h,v),l.child}var Jg={dehydrated:null,treeContext:null,retryLane:0};function Zg(o){return{baseLanes:o,cachePool:null,transitions:null}}function n2(o,l,h){var v=l.pendingProps,x=wr.current,C=!1,$=(l.flags&128)!==0,pe;if((pe=$)||(pe=o!==null&&o.memoizedState===null?!1:(x&2)!==0),pe?(C=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),ir(wr,x&1),o===null)return St(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):($=v.children,o=v.fallback,C?(v=l.mode,C=l.child,$={mode:"hidden",children:$},(v&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=$):C=Sp($,v,0,null),o=ku(o,v,h,null),C.return=l,o.return=l,C.sibling=o,l.child=C,l.child.memoizedState=Zg(h),l.memoizedState=Jg,o):e0(l,$));if(x=o.memoizedState,x!==null&&(pe=x.dehydrated,pe!==null))return zE(o,l,$,v,pe,x,h);if(C){C=v.fallback,$=l.mode,x=o.child,pe=x.sibling;var _e={mode:"hidden",children:v.children};return($&1)===0&&l.child!==x?(v=l.child,v.childLanes=0,v.pendingProps=_e,l.deletions=null):(v=Nc(x,_e),v.subtreeFlags=x.subtreeFlags&14680064),pe!==null?C=Nc(pe,C):(C=ku(C,$,h,null),C.flags|=2),C.return=l,v.return=l,v.sibling=C,l.child=v,v=C,C=l.child,$=o.child.memoizedState,$=$===null?Zg(h):{baseLanes:$.baseLanes|h,cachePool:null,transitions:$.transitions},C.memoizedState=$,C.childLanes=o.childLanes&~h,l.memoizedState=Jg,v}return C=o.child,o=C.sibling,v=Nc(C,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=h),v.return=l,v.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=v,l.memoizedState=null,v}function e0(o,l){return l=Sp({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function up(o,l,h,v){return v!==null&&lt(v),ai(l,o.child,null,h),o=e0(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function zE(o,l,h,v,x,C,$){if(h)return l.flags&256?(l.flags&=-257,v=Gg(Error(t(422))),up(o,l,$,v)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(C=v.fallback,x=l.mode,v=Sp({mode:"visible",children:v.children},x,0,null),C=ku(C,x,$,null),C.flags|=2,v.return=l,C.return=l,v.sibling=C,l.child=v,(l.mode&1)!==0&&ai(l,o.child,null,$),l.child.memoizedState=Zg($),l.memoizedState=Jg,C);if((l.mode&1)===0)return up(o,l,$,null);if(x.data==="$!"){if(v=x.nextSibling&&x.nextSibling.dataset,v)var pe=v.dgst;return v=pe,C=Error(t(419)),v=Gg(C,v,void 0),up(o,l,$,v)}if(pe=($&o.childLanes)!==0,fo||pe){if(v=ts,v!==null){switch($&-$){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(v.suspendedLanes|$))!==0?0:x,x!==0&&x!==C.retryLane&&(C.retryLane=x,cr(o,x),Aa(v,o,x,-1))}return g0(),v=Gg(Error(t(421))),up(o,l,$,v)}return x.data==="$?"?(l.flags|=128,l.child=o.child,l=t4.bind(null,o),x._reactRetry=l,null):(o=C.treeContext,Ue=us(x.nextSibling),Be=l,$e=!0,Ye=null,o!==null&&(te[ae++]=Pe,te[ae++]=le,te[ae++]=we,Pe=o.id,le=o.overflow,we=l),l=e0(l,v.children),l.flags|=4096,l)}function r2(o,l,h){o.lanes|=l;var v=o.alternate;v!==null&&(v.lanes|=l),Hn(o.return,l,h)}function t0(o,l,h,v,x){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:x}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=h,C.tailMode=x)}function i2(o,l,h){var v=l.pendingProps,x=v.revealOrder,C=v.tail;if(Qs(o,l,v.children,h),v=wr.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&r2(o,h,l);else if(o.tag===19)r2(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}if(ir(wr,v),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(h=l.child,x=null;h!==null;)o=h.alternate,o!==null&&To(o)===null&&(x=h),h=h.sibling;h=x,h===null?(x=l.child,l.child=null):(x=h.sibling,h.sibling=null),t0(l,!1,x,h,C);break;case"backwards":for(h=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&To(o)===null){l.child=x;break}o=x.sibling,x.sibling=h,h=x,x=o}t0(l,!0,h,null,C);break;case"together":t0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function dp(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Ml(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),_u|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,h=Nc(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=Nc(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function qE(o,l,h){switch(l.tag){case 3:e2(l),gt();break;case 5:rp(l);break;case 1:As(l.type)&&Ll(l);break;case 4:bc(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,x=l.memoizedProps.value;ir(pi,v._currentValue),v._currentValue=x;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(ir(wr,wr.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?n2(o,l,h):(ir(wr,wr.current&1),o=Ml(o,l,h),o!==null?o.sibling:null);ir(wr,wr.current&1);break;case 19:if(v=(h&l.childLanes)!==0,(o.flags&128)!==0){if(v)return i2(o,l,h);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ir(wr,wr.current),v)break;return null;case 22:case 23:return l.lanes=0,Xy(o,l,h)}return Ml(o,l,h)}var s2,n0,o2,a2;s2=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},n0=function(){},o2=function(o,l,h,v){var x=o.memoizedProps;if(x!==v){o=l.stateNode,_a(Ti.current);var C=null;switch(h){case"input":x=vt(o,x),v=vt(o,v),C=[];break;case"select":x=he({},x,{value:void 0}),v=he({},v,{value:void 0}),C=[];break;case"textarea":x=It(o,x),v=It(o,v),C=[];break;default:typeof x.onClick!="function"&&typeof v.onClick=="function"&&(o.onclick=vc)}On(h,v);var $;h=null;for(Fe in x)if(!v.hasOwnProperty(Fe)&&x.hasOwnProperty(Fe)&&x[Fe]!=null)if(Fe==="style"){var pe=x[Fe];for($ in pe)pe.hasOwnProperty($)&&(h||(h={}),h[$]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(i.hasOwnProperty(Fe)?C||(C=[]):(C=C||[]).push(Fe,null));for(Fe in v){var _e=v[Fe];if(pe=x?.[Fe],v.hasOwnProperty(Fe)&&_e!==pe&&(_e!=null||pe!=null))if(Fe==="style")if(pe){for($ in pe)!pe.hasOwnProperty($)||_e&&_e.hasOwnProperty($)||(h||(h={}),h[$]="");for($ in _e)_e.hasOwnProperty($)&&pe[$]!==_e[$]&&(h||(h={}),h[$]=_e[$])}else h||(C||(C=[]),C.push(Fe,h)),h=_e;else Fe==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,pe=pe?pe.__html:void 0,_e!=null&&pe!==_e&&(C=C||[]).push(Fe,_e)):Fe==="children"?typeof _e!="string"&&typeof _e!="number"||(C=C||[]).push(Fe,""+_e):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Fe)?(_e!=null&&Fe==="onScroll"&&ar("scroll",o),C||pe===_e||(C=[])):(C=C||[]).push(Fe,_e))}h&&(C=C||[]).push("style",h);var Fe=C;(l.updateQueue=Fe)&&(l.flags|=4)}},a2=function(o,l,h,v){h!==v&&(l.flags|=4)};function Uh(o,l){if(!$e)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Is(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,v=0;if(l)for(var x=o.child;x!==null;)h|=x.lanes|x.childLanes,v|=x.subtreeFlags&14680064,v|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)h|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=v,o.childLanes=h,l}function HE(o,l,h){var v=l.pendingProps;switch(Re(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Is(l),null;case 1:return As(l.type)&&ld(),Is(l),null;case 3:return v=l.stateNode,ta(),Zn(Es),Zn(Bi),jh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(Ur(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ye!==null&&(f0(Ye),Ye=null))),n0(o,l),Is(l),null;case 5:Oh(l);var x=_a(Ga.current);if(h=l.type,o!==null&&l.stateNode!=null)o2(o,l,h,v,x),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(t(166));return Is(l),null}if(o=_a(Ti.current),Ur(l)){v=l.stateNode,h=l.type;var C=l.memoizedProps;switch(v[ea]=l,v[yc]=C,o=(l.mode&1)!==0,h){case"dialog":ar("cancel",v),ar("close",v);break;case"iframe":case"object":case"embed":ar("load",v);break;case"video":case"audio":for(x=0;x<Wa.length;x++)ar(Wa[x],v);break;case"source":ar("error",v);break;case"img":case"image":case"link":ar("error",v),ar("load",v);break;case"details":ar("toggle",v);break;case"input":ie(v,C),ar("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!C.multiple},ar("invalid",v);break;case"textarea":wt(v,C),ar("invalid",v)}On(h,C),x=null;for(var $ in C)if(C.hasOwnProperty($)){var pe=C[$];$==="children"?typeof pe=="string"?v.textContent!==pe&&(C.suppressHydrationWarning!==!0&&ad(v.textContent,pe,o),x=["children",pe]):typeof pe=="number"&&v.textContent!==""+pe&&(C.suppressHydrationWarning!==!0&&ad(v.textContent,pe,o),x=["children",""+pe]):i.hasOwnProperty($)&&pe!=null&&$==="onScroll"&&ar("scroll",v)}switch(h){case"input":Qe(v),Pt(v,C,!0);break;case"textarea":Qe(v),ln(v);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(v.onclick=vc)}v=x,l.updateQueue=v,v!==null&&(l.flags|=4)}else{$=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=xt(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=$.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof v.is=="string"?o=$.createElement(h,{is:v.is}):(o=$.createElement(h),h==="select"&&($=o,v.multiple?$.multiple=!0:v.size&&($.size=v.size))):o=$.createElementNS(o,h),o[ea]=l,o[yc]=v,s2(o,l,!1,!1),l.stateNode=o;e:{switch($=Dt(h,v),h){case"dialog":ar("cancel",o),ar("close",o),x=v;break;case"iframe":case"object":case"embed":ar("load",o),x=v;break;case"video":case"audio":for(x=0;x<Wa.length;x++)ar(Wa[x],o);x=v;break;case"source":ar("error",o),x=v;break;case"img":case"image":case"link":ar("error",o),ar("load",o),x=v;break;case"details":ar("toggle",o),x=v;break;case"input":ie(o,v),x=vt(o,v),ar("invalid",o);break;case"option":x=v;break;case"select":o._wrapperState={wasMultiple:!!v.multiple},x=he({},v,{value:void 0}),ar("invalid",o);break;case"textarea":wt(o,v),x=It(o,v),ar("invalid",o);break;default:x=v}On(h,x),pe=x;for(C in pe)if(pe.hasOwnProperty(C)){var _e=pe[C];C==="style"?en(o,_e):C==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&ht(o,_e)):C==="children"?typeof _e=="string"?(h!=="textarea"||_e!=="")&&qt(o,_e):typeof _e=="number"&&qt(o,""+_e):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?_e!=null&&C==="onScroll"&&ar("scroll",o):_e!=null&&z(o,C,_e,$))}switch(h){case"input":Qe(o),Pt(o,v,!1);break;case"textarea":Qe(o),ln(o);break;case"option":v.value!=null&&o.setAttribute("value",""+Te(v.value));break;case"select":o.multiple=!!v.multiple,C=v.value,C!=null?Xe(o,!!v.multiple,C,!1):v.defaultValue!=null&&Xe(o,!!v.multiple,v.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=vc)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Is(l),null;case 6:if(o&&l.stateNode!=null)a2(o,l,o.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(t(166));if(h=_a(Ga.current),_a(Ti.current),Ur(l)){if(v=l.stateNode,h=l.memoizedProps,v[ea]=l,(C=v.nodeValue!==h)&&(o=Be,o!==null))switch(o.tag){case 3:ad(v.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ad(v.nodeValue,h,(o.mode&1)!==0)}C&&(l.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[ea]=l,l.stateNode=v}return Is(l),null;case 13:if(Zn(wr),v=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if($e&&Ue!==null&&(l.mode&1)!==0&&(l.flags&128)===0)cn(),gt(),l.flags|=98560,C=!1;else if(C=Ur(l),v!==null&&v.dehydrated!==null){if(o===null){if(!C)throw Error(t(318));if(C=l.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(t(317));C[ea]=l}else gt(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Is(l),C=!1}else Ye!==null&&(f0(Ye),Ye=null),C=!0;if(!C)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(v=v!==null,v!==(o!==null&&o.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(wr.current&1)!==0?Ui===0&&(Ui=3):g0())),l.updateQueue!==null&&(l.flags|=4),Is(l),null);case 4:return ta(),n0(o,l),o===null&&Il(l.stateNode.containerInfo),Is(l),null;case 10:return Er(l.type._context),Is(l),null;case 17:return As(l.type)&&ld(),Is(l),null;case 19:if(Zn(wr),C=l.memoizedState,C===null)return Is(l),null;if(v=(l.flags&128)!==0,$=C.rendering,$===null)if(v)Uh(C,!1);else{if(Ui!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if($=To(o),$!==null){for(l.flags|=128,Uh(C,!1),v=$.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=h,h=l.child;h!==null;)C=h,o=v,C.flags&=14680066,$=C.alternate,$===null?(C.childLanes=0,C.lanes=o,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=$.childLanes,C.lanes=$.lanes,C.child=$.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=$.memoizedProps,C.memoizedState=$.memoizedState,C.updateQueue=$.updateQueue,C.type=$.type,o=$.dependencies,C.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return ir(wr,wr.current&1|2),l.child}o=o.sibling}C.tail!==null&&nn()>bd&&(l.flags|=128,v=!0,Uh(C,!1),l.lanes=4194304)}else{if(!v)if(o=To($),o!==null){if(l.flags|=128,v=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Uh(C,!0),C.tail===null&&C.tailMode==="hidden"&&!$.alternate&&!$e)return Is(l),null}else 2*nn()-C.renderingStartTime>bd&&h!==1073741824&&(l.flags|=128,v=!0,Uh(C,!1),l.lanes=4194304);C.isBackwards?($.sibling=l.child,l.child=$):(h=C.last,h!==null?h.sibling=$:l.child=$,C.last=$)}return C.tail!==null?(l=C.tail,C.rendering=l,C.tail=l.sibling,C.renderingStartTime=nn(),l.sibling=null,h=wr.current,ir(wr,v?h&1|2:h&1),l):(Is(l),null);case 22:case 23:return m0(),v=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(Do&1073741824)!==0&&(Is(l),l.subtreeFlags&6&&(l.flags|=8192)):Is(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function WE(o,l){switch(Re(l),l.tag){case 1:return As(l.type)&&ld(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ta(),Zn(Es),Zn(Bi),jh(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Oh(l),null;case 13:if(Zn(wr),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));gt()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Zn(wr),null;case 4:return ta(),null;case 10:return Er(l.type._context),null;case 22:case 23:return m0(),null;case 24:return null;default:return null}}var hp=!1,Ts=!1,$E=typeof WeakSet=="function"?WeakSet:Set,_t=null;function wd(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){ui(o,l,v)}else h.current=null}function r0(o,l,h){try{h()}catch(v){ui(o,l,v)}}var l2=!1;function YE(o,l){if(pu=Yo,o=oi(),Ao(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var x=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var $=0,pe=-1,_e=-1,Fe=0,et=0,rt=o,Je=null;t:for(;;){for(var ft;rt!==h||x!==0&&rt.nodeType!==3||(pe=$+x),rt!==C||v!==0&&rt.nodeType!==3||(_e=$+v),rt.nodeType===3&&($+=rt.nodeValue.length),(ft=rt.firstChild)!==null;)Je=rt,rt=ft;for(;;){if(rt===o)break t;if(Je===h&&++Fe===x&&(pe=$),Je===C&&++et===v&&(_e=$),(ft=rt.nextSibling)!==null)break;rt=Je,Je=rt.parentNode}rt=ft}h=pe===-1||_e===-1?null:{start:pe,end:_e}}else h=null}h=h||{start:0,end:0}}else h=null;for(Nl={focusedElem:o,selectionRange:h},Yo=!1,_t=l;_t!==null;)if(l=_t,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,_t=o;else for(;_t!==null;){l=_t;try{var At=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(At!==null){var Tt=At.memoizedProps,gi=At.memoizedState,Le=l.stateNode,ke=Le.getSnapshotBeforeUpdate(l.elementType===l.type?Tt:Sa(l.type,Tt),gi);Le.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var Me=l.stateNode.containerInfo;Me.nodeType===1?Me.textContent="":Me.nodeType===9&&Me.documentElement&&Me.removeChild(Me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(st){ui(l,l.return,st)}if(o=l.sibling,o!==null){o.return=l.return,_t=o;break}_t=l.return}return At=l2,l2=!1,At}function zh(o,l,h){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var x=v=v.next;do{if((x.tag&o)===o){var C=x.destroy;x.destroy=void 0,C!==void 0&&r0(l,h,C)}x=x.next}while(x!==v)}}function fp(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var v=h.create;h.destroy=v()}h=h.next}while(h!==l)}}function i0(o){var l=o.ref;if(l!==null){var h=o.stateNode;o.tag,o=h,typeof l=="function"?l(o):l.current=o}}function c2(o){var l=o.alternate;l!==null&&(o.alternate=null,c2(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[ea],delete l[yc],delete l[ks],delete l[zg],delete l[qg])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function u2(o){return o.tag===5||o.tag===3||o.tag===4}function d2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||u2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function s0(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=vc));else if(v!==4&&(o=o.child,o!==null))for(s0(o,l,h),o=o.sibling;o!==null;)s0(o,l,h),o=o.sibling}function o0(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(v!==4&&(o=o.child,o!==null))for(o0(o,l,h),o=o.sibling;o!==null;)o0(o,l,h),o=o.sibling}var ds=null,ka=!1;function Ec(o,l,h){for(h=h.child;h!==null;)h2(o,l,h),h=h.sibling}function h2(o,l,h){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(ys,h)}catch{}switch(h.tag){case 5:Ts||wd(h,l);case 6:var v=ds,x=ka;ds=null,Ec(o,l,h),ds=v,ka=x,ds!==null&&(ka?(o=ds,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):ds.removeChild(h.stateNode));break;case 18:ds!==null&&(ka?(o=ds,h=h.stateNode,o.nodeType===8?Lh(o.parentNode,h):o.nodeType===1&&Lh(o,h),Hs(o)):Lh(ds,h.stateNode));break;case 4:v=ds,x=ka,ds=h.stateNode.containerInfo,ka=!0,Ec(o,l,h),ds=v,ka=x;break;case 0:case 11:case 14:case 15:if(!Ts&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){x=v=v.next;do{var C=x,$=C.destroy;C=C.tag,$!==void 0&&((C&2)!==0||(C&4)!==0)&&r0(h,l,$),x=x.next}while(x!==v)}Ec(o,l,h);break;case 1:if(!Ts&&(wd(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(pe){ui(h,l,pe)}Ec(o,l,h);break;case 21:Ec(o,l,h);break;case 22:h.mode&1?(Ts=(v=Ts)||h.memoizedState!==null,Ec(o,l,h),Ts=v):Ec(o,l,h);break;default:Ec(o,l,h)}}function f2(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new $E),l.forEach(function(v){var x=n4.bind(null,o,v);h.has(v)||(h.add(v),v.then(x,x))})}}function Ea(o,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var x=h[v];try{var C=o,$=l,pe=$;e:for(;pe!==null;){switch(pe.tag){case 5:ds=pe.stateNode,ka=!1;break e;case 3:ds=pe.stateNode.containerInfo,ka=!0;break e;case 4:ds=pe.stateNode.containerInfo,ka=!0;break e}pe=pe.return}if(ds===null)throw Error(t(160));h2(C,$,x),ds=null,ka=!1;var _e=x.alternate;_e!==null&&(_e.return=null),x.return=null}catch(Fe){ui(x,l,Fe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)p2(l,o),l=l.sibling}function p2(o,l){var h=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ea(l,o),Qa(o),v&4){try{zh(3,o,o.return),fp(3,o)}catch(Tt){ui(o,o.return,Tt)}try{zh(5,o,o.return)}catch(Tt){ui(o,o.return,Tt)}}break;case 1:Ea(l,o),Qa(o),v&512&&h!==null&&wd(h,h.return);break;case 5:if(Ea(l,o),Qa(o),v&512&&h!==null&&wd(h,h.return),o.flags&32){var x=o.stateNode;try{qt(x,"")}catch(Tt){ui(o,o.return,Tt)}}if(v&4&&(x=o.stateNode,x!=null)){var C=o.memoizedProps,$=h!==null?h.memoizedProps:C,pe=o.type,_e=o.updateQueue;if(o.updateQueue=null,_e!==null)try{pe==="input"&&C.type==="radio"&&C.name!=null&&at(x,C),Dt(pe,$);var Fe=Dt(pe,C);for($=0;$<_e.length;$+=2){var et=_e[$],rt=_e[$+1];et==="style"?en(x,rt):et==="dangerouslySetInnerHTML"?ht(x,rt):et==="children"?qt(x,rt):z(x,et,rt,Fe)}switch(pe){case"input":Ze(x,C);break;case"textarea":wn(x,C);break;case"select":var Je=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!C.multiple;var ft=C.value;ft!=null?Xe(x,!!C.multiple,ft,!1):Je!==!!C.multiple&&(C.defaultValue!=null?Xe(x,!!C.multiple,C.defaultValue,!0):Xe(x,!!C.multiple,C.multiple?[]:"",!1))}x[yc]=C}catch(Tt){ui(o,o.return,Tt)}}break;case 6:if(Ea(l,o),Qa(o),v&4){if(o.stateNode===null)throw Error(t(162));x=o.stateNode,C=o.memoizedProps;try{x.nodeValue=C}catch(Tt){ui(o,o.return,Tt)}}break;case 3:if(Ea(l,o),Qa(o),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Hs(l.containerInfo)}catch(Tt){ui(o,o.return,Tt)}break;case 4:Ea(l,o),Qa(o);break;case 13:Ea(l,o),Qa(o),x=o.child,x.flags&8192&&(C=x.memoizedState!==null,x.stateNode.isHidden=C,!C||x.alternate!==null&&x.alternate.memoizedState!==null||(c0=nn())),v&4&&f2(o);break;case 22:if(et=h!==null&&h.memoizedState!==null,o.mode&1?(Ts=(Fe=Ts)||et,Ea(l,o),Ts=Fe):Ea(l,o),Qa(o),v&8192){if(Fe=o.memoizedState!==null,(o.stateNode.isHidden=Fe)&&!et&&(o.mode&1)!==0)for(_t=o,et=o.child;et!==null;){for(rt=_t=et;_t!==null;){switch(Je=_t,ft=Je.child,Je.tag){case 0:case 11:case 14:case 15:zh(4,Je,Je.return);break;case 1:wd(Je,Je.return);var At=Je.stateNode;if(typeof At.componentWillUnmount=="function"){v=Je,h=Je.return;try{l=v,At.props=l.memoizedProps,At.state=l.memoizedState,At.componentWillUnmount()}catch(Tt){ui(v,h,Tt)}}break;case 5:wd(Je,Je.return);break;case 22:if(Je.memoizedState!==null){v2(rt);continue}}ft!==null?(ft.return=Je,_t=ft):v2(rt)}et=et.sibling}e:for(et=null,rt=o;;){if(rt.tag===5){if(et===null){et=rt;try{x=rt.stateNode,Fe?(C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(pe=rt.stateNode,_e=rt.memoizedProps.style,$=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,pe.style.display=mn("display",$))}catch(Tt){ui(o,o.return,Tt)}}}else if(rt.tag===6){if(et===null)try{rt.stateNode.nodeValue=Fe?"":rt.memoizedProps}catch(Tt){ui(o,o.return,Tt)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===o)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===o)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===o)break e;et===rt&&(et=null),rt=rt.return}et===rt&&(et=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:Ea(l,o),Qa(o),v&4&&f2(o);break;case 21:break;default:Ea(l,o),Qa(o)}}function Qa(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(u2(h)){var v=h;break e}h=h.return}throw Error(t(160))}switch(v.tag){case 5:var x=v.stateNode;v.flags&32&&(qt(x,""),v.flags&=-33);var C=d2(o);o0(o,C,x);break;case 3:case 4:var $=v.stateNode.containerInfo,pe=d2(o);s0(o,pe,$);break;default:throw Error(t(161))}}catch(_e){ui(o,o.return,_e)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function GE(o,l,h){_t=o,m2(o)}function m2(o,l,h){for(var v=(o.mode&1)!==0;_t!==null;){var x=_t,C=x.child;if(x.tag===22&&v){var $=x.memoizedState!==null||hp;if(!$){var pe=x.alternate,_e=pe!==null&&pe.memoizedState!==null||Ts;pe=hp;var Fe=Ts;if(hp=$,(Ts=_e)&&!Fe)for(_t=x;_t!==null;)$=_t,_e=$.child,$.tag===22&&$.memoizedState!==null?y2(x):_e!==null?(_e.return=$,_t=_e):y2(x);for(;C!==null;)_t=C,m2(C),C=C.sibling;_t=x,hp=pe,Ts=Fe}g2(o)}else(x.subtreeFlags&8772)!==0&&C!==null?(C.return=x,_t=C):g2(o)}}function g2(o){for(;_t!==null;){var l=_t;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Ts||fp(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!Ts)if(h===null)v.componentDidMount();else{var x=l.elementType===l.type?h.memoizedProps:Sa(l.type,h.memoizedProps);v.componentDidUpdate(x,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var C=l.updateQueue;C!==null&&ho(l,C,v);break;case 3:var $=l.updateQueue;if($!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}ho(l,$,h)}break;case 5:var pe=l.stateNode;if(h===null&&l.flags&4){h=pe;var _e=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&h.focus();break;case"img":_e.src&&(h.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Fe=l.alternate;if(Fe!==null){var et=Fe.memoizedState;if(et!==null){var rt=et.dehydrated;rt!==null&&Hs(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ts||l.flags&512&&i0(l)}catch(Je){ui(l,l.return,Je)}}if(l===o){_t=null;break}if(h=l.sibling,h!==null){h.return=l.return,_t=h;break}_t=l.return}}function v2(o){for(;_t!==null;){var l=_t;if(l===o){_t=null;break}var h=l.sibling;if(h!==null){h.return=l.return,_t=h;break}_t=l.return}}function y2(o){for(;_t!==null;){var l=_t;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{fp(4,l)}catch(_e){ui(l,h,_e)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var x=l.return;try{v.componentDidMount()}catch(_e){ui(l,x,_e)}}var C=l.return;try{i0(l)}catch(_e){ui(l,C,_e)}break;case 5:var $=l.return;try{i0(l)}catch(_e){ui(l,$,_e)}}}catch(_e){ui(l,l.return,_e)}if(l===o){_t=null;break}var pe=l.sibling;if(pe!==null){pe.return=l.return,_t=pe;break}_t=l.return}}var KE=Math.ceil,pp=q.ReactCurrentDispatcher,a0=q.ReactCurrentOwner,ia=q.ReactCurrentBatchConfig,Wn=0,ts=null,Ni=null,hs=0,Do=0,_d=Co(0),Ui=0,qh=null,_u=0,mp=0,l0=0,Hh=null,po=null,c0=0,bd=1/0,Ol=null,gp=!1,u0=null,Ac=null,vp=!1,Cc=null,yp=0,Wh=0,d0=null,wp=-1,_p=0;function Xs(){return(Wn&6)!==0?nn():wp!==-1?wp:wp=nn()}function Ic(o){return(o.mode&1)===0?1:(Wn&2)!==0&&hs!==0?hs&-hs:Gr.transition!==null?(_p===0&&(_p=zo()),_p):(o=vn,o!==0||(o=window.event,o=o===void 0?16:Ko(o.type)),o)}function Aa(o,l,h,v){if(50<Wh)throw Wh=0,d0=null,Error(t(185));Ho(o,h,v),((Wn&2)===0||o!==ts)&&(o===ts&&((Wn&2)===0&&(mp|=h),Ui===4&&Tc(o,hs)),mo(o,v),h===1&&Wn===0&&(l.mode&1)===0&&(bd=nn()+500,gu&&L()))}function mo(o,l){var h=o.callbackNode;or(o,l);var v=Uo(o,o===ts?hs:0);if(v===0)h!==null&&Gn(h),o.callbackNode=null,o.callbackPriority=0;else if(l=v&-v,o.callbackPriority!==l){if(h!=null&&Gn(h),l===1)o.tag===0?S(_2.bind(null,o)):w(_2.bind(null,o)),Vg(function(){(Wn&6)===0&&L()}),h=null;else{switch(qs(v)){case 1:h=mr;break;case 4:h=Vn;break;case 16:h=Mr;break;case 536870912:h=Gi;break;default:h=Mr}h=I2(h,w2.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function w2(o,l){if(wp=-1,_p=0,(Wn&6)!==0)throw Error(t(327));var h=o.callbackNode;if(xd()&&o.callbackNode!==h)return null;var v=Uo(o,o===ts?hs:0);if(v===0)return null;if((v&30)!==0||(v&o.expiredLanes)!==0||l)l=bp(o,v);else{l=v;var x=Wn;Wn|=2;var C=x2();(ts!==o||hs!==l)&&(Ol=null,bd=nn()+500,xu(o,l));do try{JE();break}catch(pe){b2(o,pe)}while(!0);qn(),pp.current=C,Wn=x,Ni!==null?l=0:(ts=null,hs=0,l=Ui)}if(l!==0){if(l===2&&(x=$r(o),x!==0&&(v=x,l=h0(o,x))),l===1)throw h=qh,xu(o,0),Tc(o,v),mo(o,nn()),h;if(l===6)Tc(o,v);else{if(x=o.current.alternate,(v&30)===0&&!QE(x)&&(l=bp(o,v),l===2&&(C=$r(o),C!==0&&(v=C,l=h0(o,C))),l===1))throw h=qh,xu(o,0),Tc(o,v),mo(o,nn()),h;switch(o.finishedWork=x,o.finishedLanes=v,l){case 0:case 1:throw Error(t(345));case 2:Su(o,po,Ol);break;case 3:if(Tc(o,v),(v&130023424)===v&&(l=c0+500-nn(),10<l)){if(Uo(o,0)!==0)break;if(x=o.suspendedLanes,(x&v)!==v){Xs(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=Dh(Su.bind(null,o,po,Ol),l);break}Su(o,po,Ol);break;case 4:if(Tc(o,v),(v&4194240)===v)break;for(l=o.eventTimes,x=-1;0<v;){var $=31-xr(v);C=1<<$,$=l[$],$>x&&(x=$),v&=~C}if(v=x,v=nn()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*KE(v/1960))-v,10<v){o.timeoutHandle=Dh(Su.bind(null,o,po,Ol),v);break}Su(o,po,Ol);break;case 5:Su(o,po,Ol);break;default:throw Error(t(329))}}}return mo(o,nn()),o.callbackNode===h?w2.bind(null,o):null}function h0(o,l){var h=Hh;return o.current.memoizedState.isDehydrated&&(xu(o,l).flags|=256),o=bp(o,l),o!==2&&(l=po,po=h,l!==null&&f0(l)),o}function f0(o){po===null?po=o:po.push.apply(po,o)}function QE(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var x=h[v],C=x.getSnapshot;x=x.value;try{if(!Br(C(),x))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Tc(o,l){for(l&=~l0,l&=~mp,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-xr(l),v=1<<h;o[h]=-1,l&=~v}}function _2(o){if((Wn&6)!==0)throw Error(t(327));xd();var l=Uo(o,0);if((l&1)===0)return mo(o,nn()),null;var h=bp(o,l);if(o.tag!==0&&h===2){var v=$r(o);v!==0&&(l=v,h=h0(o,v))}if(h===1)throw h=qh,xu(o,0),Tc(o,l),mo(o,nn()),h;if(h===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Su(o,po,Ol),mo(o,nn()),null}function p0(o,l){var h=Wn;Wn|=1;try{return o(l)}finally{Wn=h,Wn===0&&(bd=nn()+500,gu&&L())}}function bu(o){Cc!==null&&Cc.tag===0&&(Wn&6)===0&&xd();var l=Wn;Wn|=1;var h=ia.transition,v=vn;try{if(ia.transition=null,vn=1,o)return o()}finally{vn=v,ia.transition=h,Wn=l,(Wn&6)===0&&L()}}function m0(){Do=_d.current,Zn(_d)}function xu(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,Zf(h)),Ni!==null)for(h=Ni.return;h!==null;){var v=h;switch(Re(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&ld();break;case 3:ta(),Zn(Es),Zn(Bi),jh();break;case 5:Oh(v);break;case 4:ta();break;case 13:Zn(wr);break;case 19:Zn(wr);break;case 10:Er(v.type._context);break;case 22:case 23:m0()}h=h.return}if(ts=o,Ni=o=Nc(o.current,null),hs=Do=l,Ui=0,qh=null,l0=mp=_u=0,po=Hh=null,lr!==null){for(l=0;l<lr.length;l++)if(h=lr[l],v=h.interleaved,v!==null){h.interleaved=null;var x=v.next,C=h.pending;if(C!==null){var $=C.next;C.next=x,v.next=$}h.pending=v}lr=null}return o}function b2(o,l){do{var h=Ni;try{if(qn(),cd.current=lp,xc){for(var v=Ar.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}xc=!1}if(na=0,Jr=ci=Ar=null,ba=!1,Sc=0,a0.current=null,h===null||h.return===null){Ui=1,qh=l,Ni=null;break}e:{var C=o,$=h.return,pe=h,_e=l;if(l=hs,pe.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Fe=_e,et=pe,rt=et.tag;if((et.mode&1)===0&&(rt===0||rt===11||rt===15)){var Je=et.alternate;Je?(et.updateQueue=Je.updateQueue,et.memoizedState=Je.memoizedState,et.lanes=Je.lanes):(et.updateQueue=null,et.memoizedState=null)}var ft=$y($);if(ft!==null){ft.flags&=-257,Yy(ft,$,pe,C,l),ft.mode&1&&Wy(C,Fe,l),l=ft,_e=Fe;var At=l.updateQueue;if(At===null){var Tt=new Set;Tt.add(_e),l.updateQueue=Tt}else At.add(_e);break e}else{if((l&1)===0){Wy(C,Fe,l),g0();break e}_e=Error(t(426))}}else if($e&&pe.mode&1){var gi=$y($);if(gi!==null){(gi.flags&65536)===0&&(gi.flags|=256),Yy(gi,$,pe,C,l),lt(yd(_e,pe));break e}}C=_e=yd(_e,pe),Ui!==4&&(Ui=2),Hh===null?Hh=[C]:Hh.push(C),C=$;do{switch(C.tag){case 3:C.flags|=65536,l&=-l,C.lanes|=l;var Le=qy(C,_e,l);ur(C,Le);break e;case 1:pe=_e;var ke=C.type,Me=C.stateNode;if((C.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(Ac===null||!Ac.has(Me)))){C.flags|=65536,l&=-l,C.lanes|=l;var st=Hy(C,pe,l);ur(C,st);break e}}C=C.return}while(C!==null)}k2(h)}catch(Ot){l=Ot,Ni===h&&h!==null&&(Ni=h=h.return);continue}break}while(!0)}function x2(){var o=pp.current;return pp.current=lp,o===null?lp:o}function g0(){(Ui===0||Ui===3||Ui===2)&&(Ui=4),ts===null||(_u&268435455)===0&&(mp&268435455)===0||Tc(ts,hs)}function bp(o,l){var h=Wn;Wn|=2;var v=x2();(ts!==o||hs!==l)&&(Ol=null,xu(o,l));do try{XE();break}catch(x){b2(o,x)}while(!0);if(qn(),Wn=h,pp.current=v,Ni!==null)throw Error(t(261));return ts=null,hs=0,Ui}function XE(){for(;Ni!==null;)S2(Ni)}function JE(){for(;Ni!==null&&!ri();)S2(Ni)}function S2(o){var l=C2(o.alternate,o,Do);o.memoizedProps=o.pendingProps,l===null?k2(o):Ni=l,a0.current=null}function k2(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=HE(h,l,Do),h!==null){Ni=h;return}}else{if(h=WE(h,l),h!==null){h.flags&=32767,Ni=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ui=6,Ni=null;return}}if(l=l.sibling,l!==null){Ni=l;return}Ni=l=o}while(l!==null);Ui===0&&(Ui=5)}function Su(o,l,h){var v=vn,x=ia.transition;try{ia.transition=null,vn=1,ZE(o,l,h,v)}finally{ia.transition=x,vn=v}return null}function ZE(o,l,h,v){do xd();while(Cc!==null);if((Wn&6)!==0)throw Error(t(327));h=o.finishedWork;var x=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var C=h.lanes|h.childLanes;if(xn(o,C),o===ts&&(Ni=ts=null,hs=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||vp||(vp=!0,I2(Mr,function(){return xd(),null})),C=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||C){C=ia.transition,ia.transition=null;var $=vn;vn=1;var pe=Wn;Wn|=4,a0.current=null,YE(o,h),p2(h,o),ou(Nl),Yo=!!pu,Nl=pu=null,o.current=h,GE(h),Yi(),Wn=pe,vn=$,ia.transition=C}else o.current=h;if(vp&&(vp=!1,Cc=o,yp=x),C=o.pendingLanes,C===0&&(Ac=null),wl(h.stateNode),mo(o,nn()),l!==null)for(v=o.onRecoverableError,h=0;h<l.length;h++)x=l[h],v(x.value,{componentStack:x.stack,digest:x.digest});if(gp)throw gp=!1,o=u0,u0=null,o;return(yp&1)!==0&&o.tag!==0&&xd(),C=o.pendingLanes,(C&1)!==0?o===d0?Wh++:(Wh=0,d0=o):Wh=0,L(),null}function xd(){if(Cc!==null){var o=qs(yp),l=ia.transition,h=vn;try{if(ia.transition=null,vn=16>o?16:o,Cc===null)var v=!1;else{if(o=Cc,Cc=null,yp=0,(Wn&6)!==0)throw Error(t(331));var x=Wn;for(Wn|=4,_t=o.current;_t!==null;){var C=_t,$=C.child;if((_t.flags&16)!==0){var pe=C.deletions;if(pe!==null){for(var _e=0;_e<pe.length;_e++){var Fe=pe[_e];for(_t=Fe;_t!==null;){var et=_t;switch(et.tag){case 0:case 11:case 15:zh(8,et,C)}var rt=et.child;if(rt!==null)rt.return=et,_t=rt;else for(;_t!==null;){et=_t;var Je=et.sibling,ft=et.return;if(c2(et),et===Fe){_t=null;break}if(Je!==null){Je.return=ft,_t=Je;break}_t=ft}}}var At=C.alternate;if(At!==null){var Tt=At.child;if(Tt!==null){At.child=null;do{var gi=Tt.sibling;Tt.sibling=null,Tt=gi}while(Tt!==null)}}_t=C}}if((C.subtreeFlags&2064)!==0&&$!==null)$.return=C,_t=$;else e:for(;_t!==null;){if(C=_t,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:zh(9,C,C.return)}var Le=C.sibling;if(Le!==null){Le.return=C.return,_t=Le;break e}_t=C.return}}var ke=o.current;for(_t=ke;_t!==null;){$=_t;var Me=$.child;if(($.subtreeFlags&2064)!==0&&Me!==null)Me.return=$,_t=Me;else e:for($=ke;_t!==null;){if(pe=_t,(pe.flags&2048)!==0)try{switch(pe.tag){case 0:case 11:case 15:fp(9,pe)}}catch(Ot){ui(pe,pe.return,Ot)}if(pe===$){_t=null;break e}var st=pe.sibling;if(st!==null){st.return=pe.return,_t=st;break e}_t=pe.return}}if(Wn=x,L(),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(ys,o)}catch{}v=!0}return v}finally{vn=h,ia.transition=l}}return!1}function E2(o,l,h){l=yd(h,l),l=qy(o,l,1),o=Qr(o,l,1),l=Xs(),o!==null&&(Ho(o,1,l),mo(o,l))}function ui(o,l,h){if(o.tag===3)E2(o,o,h);else for(;l!==null;){if(l.tag===3){E2(l,o,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ac===null||!Ac.has(v))){o=yd(h,o),o=Hy(l,o,1),l=Qr(l,o,1),o=Xs(),l!==null&&(Ho(l,1,o),mo(l,o));break}}l=l.return}}function e4(o,l,h){var v=o.pingCache;v!==null&&v.delete(l),l=Xs(),o.pingedLanes|=o.suspendedLanes&h,ts===o&&(hs&h)===h&&(Ui===4||Ui===3&&(hs&130023424)===hs&&500>nn()-c0?xu(o,0):l0|=h),mo(o,l)}function A2(o,l){l===0&&((o.mode&1)===0?l=1:(l=os,os<<=1,(os&130023424)===0&&(os=4194304)));var h=Xs();o=cr(o,l),o!==null&&(Ho(o,l,h),mo(o,h))}function t4(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),A2(o,h)}function n4(o,l){var h=0;switch(o.tag){case 13:var v=o.stateNode,x=o.memoizedState;x!==null&&(h=x.retryLane);break;case 19:v=o.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(l),A2(o,h)}var C2;C2=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||Es.current)fo=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return fo=!1,qE(o,l,h);fo=(o.flags&131072)!==0}else fo=!1,$e&&(l.flags&1048576)!==0&&Ne(l,X,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;dp(o,l),o=l.pendingProps;var x=_c(l,Bi.current);zr(l,h),x=vu(null,l,v,o,x,h);var C=ra();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,As(v)?(C=!0,Ll(l)):C=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Vi(l),x.updater=cp,l.stateNode=x,x._reactInternals=l,Yg(l,v,o,h),l=Xg(null,l,v,!0,C,h)):(l.tag=0,$e&&C&&ze(l),Qs(null,l,x,h),l=l.child),l;case 16:v=l.elementType;e:{switch(dp(o,l),o=l.pendingProps,x=v._init,v=x(v._payload),l.type=v,x=l.tag=i4(v),o=Sa(v,o),x){case 0:l=Qg(null,l,v,o,h);break e;case 1:l=Zy(null,l,v,o,h);break e;case 11:l=Gy(null,l,v,o,h);break e;case 14:l=Ky(null,l,v,Sa(v.type,o),h);break e}throw Error(t(306,v,""))}return l;case 0:return v=l.type,x=l.pendingProps,x=l.elementType===v?x:Sa(v,x),Qg(o,l,v,x,h);case 1:return v=l.type,x=l.pendingProps,x=l.elementType===v?x:Sa(v,x),Zy(o,l,v,x,h);case 3:e:{if(e2(l),o===null)throw Error(t(387));v=l.pendingProps,C=l.memoizedState,x=C.element,Cs(o,l),es(l,v,null,h);var $=l.memoizedState;if(v=$.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){x=yd(Error(t(423)),l),l=t2(o,l,v,h,x);break e}else if(v!==x){x=yd(Error(t(424)),l),l=t2(o,l,v,h,x);break e}else for(Ue=us(l.stateNode.containerInfo.firstChild),Be=l,$e=!0,Ye=null,h=Pr(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(gt(),v===x){l=Ml(o,l,h);break e}Qs(o,l,v,h)}l=l.child}return l;case 5:return rp(l),o===null&&St(l),v=l.type,x=l.pendingProps,C=o!==null?o.memoizedProps:null,$=x.children,Ph(v,x)?$=null:C!==null&&Ph(v,C)&&(l.flags|=32),Jy(o,l),Qs(o,l,$,h),l.child;case 6:return o===null&&St(l),null;case 13:return n2(o,l,h);case 4:return bc(l,l.stateNode.containerInfo),v=l.pendingProps,o===null?l.child=ai(l,null,v,h):Qs(o,l,v,h),l.child;case 11:return v=l.type,x=l.pendingProps,x=l.elementType===v?x:Sa(v,x),Gy(o,l,v,x,h);case 7:return Qs(o,l,l.pendingProps,h),l.child;case 8:return Qs(o,l,l.pendingProps.children,h),l.child;case 12:return Qs(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(v=l.type._context,x=l.pendingProps,C=l.memoizedProps,$=x.value,ir(pi,v._currentValue),v._currentValue=$,C!==null)if(Br(C.value,$)){if(C.children===x.children&&!Es.current){l=Ml(o,l,h);break e}}else for(C=l.child,C!==null&&(C.return=l);C!==null;){var pe=C.dependencies;if(pe!==null){$=C.child;for(var _e=pe.firstContext;_e!==null;){if(_e.context===v){if(C.tag===1){_e=Kr(-1,h&-h),_e.tag=2;var Fe=C.updateQueue;if(Fe!==null){Fe=Fe.shared;var et=Fe.pending;et===null?_e.next=_e:(_e.next=et.next,et.next=_e),Fe.pending=_e}}C.lanes|=h,_e=C.alternate,_e!==null&&(_e.lanes|=h),Hn(C.return,h,l),pe.lanes|=h;break}_e=_e.next}}else if(C.tag===10)$=C.type===l.type?null:C.child;else if(C.tag===18){if($=C.return,$===null)throw Error(t(341));$.lanes|=h,pe=$.alternate,pe!==null&&(pe.lanes|=h),Hn($,h,l),$=C.sibling}else $=C.child;if($!==null)$.return=C;else for($=C;$!==null;){if($===l){$=null;break}if(C=$.sibling,C!==null){C.return=$.return,$=C;break}$=$.return}C=$}Qs(o,l,x.children,h),l=l.child}return l;case 9:return x=l.type,v=l.pendingProps.children,zr(l,h),x=qr(x),v=v(x),l.flags|=1,Qs(o,l,v,h),l.child;case 14:return v=l.type,x=Sa(v,l.pendingProps),x=Sa(v.type,x),Ky(o,l,v,x,h);case 15:return Qy(o,l,l.type,l.pendingProps,h);case 17:return v=l.type,x=l.pendingProps,x=l.elementType===v?x:Sa(v,x),dp(o,l),l.tag=1,As(v)?(o=!0,Ll(l)):o=!1,zr(l,h),Uy(l,v,x),Yg(l,v,x,h),Xg(null,l,v,!0,o,h);case 19:return i2(o,l,h);case 22:return Xy(o,l,h)}throw Error(t(156,l.tag))};function I2(o,l){return An(o,l)}function r4(o,l,h,v){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(o,l,h,v){return new r4(o,l,h,v)}function v0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function i4(o){if(typeof o=="function")return v0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===T)return 11;if(o===ve)return 14}return 2}function Nc(o,l){var h=o.alternate;return h===null?(h=sa(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function xp(o,l,h,v,x,C){var $=2;if(v=o,typeof o=="function")v0(o)&&($=1);else if(typeof o=="string")$=5;else e:switch(o){case H:return ku(h.children,x,C,l);case O:$=8,x|=8;break;case R:return o=sa(12,h,l,x|2),o.elementType=R,o.lanes=C,o;case D:return o=sa(13,h,l,x),o.elementType=D,o.lanes=C,o;case Z:return o=sa(19,h,l,x),o.elementType=Z,o.lanes=C,o;case oe:return Sp(h,x,C,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case B:$=10;break e;case N:$=9;break e;case T:$=11;break e;case ve:$=14;break e;case be:$=16,v=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=sa($,h,l,x),l.elementType=o,l.type=v,l.lanes=C,l}function ku(o,l,h,v){return o=sa(7,o,v,l),o.lanes=h,o}function Sp(o,l,h,v){return o=sa(22,o,v,l),o.elementType=oe,o.lanes=h,o.stateNode={isHidden:!1},o}function y0(o,l,h){return o=sa(6,o,null,l),o.lanes=h,o}function w0(o,l,h){return l=sa(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function s4(o,l,h,v,x){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=v,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function _0(o,l,h,v,x,C,$,pe,_e){return o=new s4(o,l,h,pe,_e),l===1?(l=1,C===!0&&(l|=8)):l=0,C=sa(3,null,null,l),o.current=C,C.stateNode=o,C.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vi(C),o}function o4(o,l,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:v==null?null:""+v,children:o,containerInfo:l,implementation:h}}function T2(o){if(!o)return Ya;o=o._reactInternals;e:{if(Ee(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(As(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var h=o.type;if(As(h))return Mh(o,h,l)}return l}function N2(o,l,h,v,x,C,$,pe,_e){return o=_0(h,v,!0,o,x,C,$,pe,_e),o.context=T2(null),h=o.current,v=Xs(),x=Ic(h),C=Kr(v,x),C.callback=l??null,Qr(h,C,x),o.current.lanes=x,Ho(o,x,v),mo(o,v),o}function kp(o,l,h,v){var x=l.current,C=Xs(),$=Ic(x);return h=T2(h),l.context===null?l.context=h:l.pendingContext=h,l=Kr(C,$),l.payload={element:o},v=v===void 0?null:v,v!==null&&(l.callback=v),o=Qr(x,l,$),o!==null&&(Aa(o,x,$,C),Zi(o,x,$)),$}function Ep(o){return o=o.current,o.child?(o.child.tag===5,o.child.stateNode):null}function P2(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function b0(o,l){P2(o,l),(o=o.alternate)&&P2(o,l)}function a4(){return null}var D2=typeof reportError=="function"?reportError:function(o){console.error(o)};function x0(o){this._internalRoot=o}Ap.prototype.render=x0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));kp(o,l,null,null)},Ap.prototype.unmount=x0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;bu(function(){kp(null,o,null,null)}),l[Xi]=null}};function Ap(o){this._internalRoot=o}Ap.prototype.unstable_scheduleHydration=function(o){if(o){var l=oc();o={blockedOn:null,target:o,priority:l};for(var h=0;h<ro.length&&l!==0&&l<ro[h].priority;h++);ro.splice(h,0,o),h===0&&lc(o)}};function S0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Cp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function L2(){}function l4(o,l,h,v,x){if(x){if(typeof v=="function"){var C=v;v=function(){var Fe=Ep($);C.call(Fe)}}var $=N2(l,v,o,0,null,!1,!1,"",L2);return o._reactRootContainer=$,o[Xi]=$.current,Il(o.nodeType===8?o.parentNode:o),bu(),$}for(;x=o.lastChild;)o.removeChild(x);if(typeof v=="function"){var pe=v;v=function(){var Fe=Ep(_e);pe.call(Fe)}}var _e=_0(o,0,!1,null,null,!1,!1,"",L2);return o._reactRootContainer=_e,o[Xi]=_e.current,Il(o.nodeType===8?o.parentNode:o),bu(function(){kp(l,_e,h,v)}),_e}function Ip(o,l,h,v,x){var C=h._reactRootContainer;if(C){var $=C;if(typeof x=="function"){var pe=x;x=function(){var _e=Ep($);pe.call(_e)}}kp(l,$,o,x)}else $=l4(h,l,o,x,v);return Ep($)}Wo=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=zs(l.pendingLanes);h!==0&&(xo(l,h|1),mo(l,nn()),(Wn&6)===0&&(bd=nn()+500,L()))}break;case 13:bu(function(){var v=cr(o,1);if(v!==null){var x=Xs();Aa(v,o,1,x)}}),b0(o,1)}},Ma=function(o){if(o.tag===13){var l=cr(o,134217728);if(l!==null){var h=Xs();Aa(l,o,134217728,h)}b0(o,134217728)}},sc=function(o){if(o.tag===13){var l=Ic(o),h=cr(o,l);if(h!==null){var v=Xs();Aa(h,o,l,v)}b0(o,l)}},oc=function(){return vn},Oa=function(o,l){var h=vn;try{return vn=o,l()}finally{vn=h}},Wt=function(o,l,h){switch(l){case"input":if(Ze(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==o&&v.form===o.form){var x=mu(v);if(!x)throw Error(t(90));ct(v),Ze(v,x)}}}break;case"textarea":wn(o,h);break;case"select":l=h.value,l!=null&&Xe(o,!!h.multiple,l,!1)}},vr=p0,Di=bu;var c4={usingClientEntryPoint:!1,Events:[wc,Pl,mu,fn,Vs,p0]},$h={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u4={bundleType:$h.bundleType,version:$h.version,rendererPackageName:$h.rendererPackageName,rendererConfig:$h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=ut(o),o===null?null:o.stateNode},findFiberByHostInstance:$h.findFiberByHostInstance||a4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{ys=Tp.inject(u4),Ki=Tp}catch{}}return go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c4,go.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S0(l))throw Error(t(200));return o4(o,l,null,h)},go.createRoot=function(o,l){if(!S0(o))throw Error(t(299));var h=!1,v="",x=D2;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=_0(o,1,!1,null,null,h,!1,v,x),o[Xi]=l.current,Il(o.nodeType===8?o.parentNode:o),new x0(l)},go.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=ut(l),o=o===null?null:o.stateNode,o},go.flushSync=function(o){return bu(o)},go.hydrate=function(o,l,h){if(!Cp(l))throw Error(t(200));return Ip(null,o,l,!0,h)},go.hydrateRoot=function(o,l,h){if(!S0(o))throw Error(t(405));var v=h!=null&&h.hydratedSources||null,x=!1,C="",$=D2;if(h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(C=h.identifierPrefix),h.onRecoverableError!==void 0&&($=h.onRecoverableError)),l=N2(l,null,o,1,h??null,x,!1,C,$),o[Xi]=l.current,Il(o),v)for(o=0;o<v.length;o++)h=v[o],x=h._getVersion,x=x(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,x]:l.mutableSourceEagerHydrationData.push(h,x);return new Ap(l)},go.render=function(o,l,h){if(!Cp(l))throw Error(t(200));return Ip(null,o,l,!1,h)},go.unmountComponentAtNode=function(o){if(!Cp(o))throw Error(t(40));return o._reactRootContainer?(bu(function(){Ip(null,null,o,!1,function(){o._reactRootContainer=null,o[Xi]=null})}),!0):!1},go.unstable_batchedUpdates=p0,go.unstable_renderSubtreeIntoContainer=function(o,l,h,v){if(!Cp(h))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Ip(o,l,h,!1,v)},go.version="18.3.1-next-f1338f8080-20240426",go}var U2;function Sb(){if(U2)return A0.exports;U2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),A0.exports=y4(),A0.exports}var z2;function w4(){if(z2)return Np;z2=1;var r=Sb();return Np.createRoot=r.createRoot,Np.hydrateRoot=r.hydrateRoot,Np}var _4=w4();const b4=vv(_4);var q2={};const kb=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},x4=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[t++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[t++],a=r[t++],c=r[t++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const s=r[t++],a=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],a=i+1<r.length,c=a?r[i+1]:0,u=i+2<r.length,d=u?r[i+2]:0,f=s>>2,y=(s&3)<<4|c>>4;let _=(c&15)<<2|d>>6,g=d&63;u||(g=64,a||(_=64)),n.push(t[f],t[y],t[_],t[g])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(kb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):x4(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const d=i<r.length?t[r.charAt(i)]:64;++i;const y=i<r.length?t[r.charAt(i)]:64;if(++i,s==null||c==null||d==null||y==null)throw new S4;const _=s<<2|c>>4;if(n.push(_),d!==64){const g=c<<4&240|d>>2;if(n.push(g),y!==64){const A=d<<6&192|y;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class S4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k4=function(r){const e=kb(r);return Eb.encodeByteArray(e,!0)},bm=function(r){return k4(r).replace(/\./g,"")},Ab=function(r){try{return Eb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function E4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const A4=()=>E4().__FIREBASE_DEFAULTS__,C4=()=>{if(typeof process>"u"||typeof q2>"u")return;const r=q2.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},I4=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Ab(r[1]);return e&&JSON.parse(e)},sg=()=>{try{return A4()||C4()||I4()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Cb=r=>{var e,t;return(t=(e=sg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},T4=r=>{const e=Cb(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},Ib=()=>{var r;return(r=sg())===null||r===void 0?void 0:r.config},Tb=r=>{var e;return(e=sg())===null||e===void 0?void 0:e[`_${r}`]};class N4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function P4(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},r);return[bm(JSON.stringify(t)),bm(JSON.stringify(a)),""].join(".")}function Bs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bs())}function L4(){var r;const e=(r=sg())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M4(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function O4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F4(){const r=Bs();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function j4(){return!L4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B4(){try{return typeof indexedDB=="object"}catch{return!1}}function V4(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}const U4="FirebaseError";class nc extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=U4,Object.setPrototypeOf(this,nc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rf.prototype.create)}}class Rf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?z4(s,n):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new nc(i,c,n)}}function z4(r,e){return r.replace(q4,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const q4=/\{\$([^}]+)}/g;function H4(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function xm(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const s=r[i],a=e[i];if(H2(s)&&H2(a)){if(!xm(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function H2(r){return r!==null&&typeof r=="object"}function Mf(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function tf(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nf(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function W4(r,e){const t=new $4(r,e);return t.subscribe.bind(t)}class $4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");Y4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=T0),i.error===void 0&&(i.error=T0),i.complete===void 0&&(i.complete=T0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y4(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function T0(){}function Wi(r){return r&&r._delegate?r._delegate:r}class Uu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Au="[DEFAULT]";class G4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new N4;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q4(e))try{this.getOrInitializeService({instanceIdentifier:Au})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Au){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Au){return this.instances.has(e)}getOptions(e=Au){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&a.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:K4(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Au){return this.component?this.component.multipleInstances?e:Au:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K4(r){return r===Au?void 0:r}function Q4(r){return r.instantiationMode==="EAGER"}class X4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new G4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ln;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ln||(Ln={}));const J4={debug:Ln.DEBUG,verbose:Ln.VERBOSE,info:Ln.INFO,warn:Ln.WARN,error:Ln.ERROR,silent:Ln.SILENT},Z4=Ln.INFO,eA={[Ln.DEBUG]:"log",[Ln.VERBOSE]:"log",[Ln.INFO]:"info",[Ln.WARN]:"warn",[Ln.ERROR]:"error"},tA=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=eA[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wv{constructor(e){this.name=e,this._logLevel=Z4,this._logHandler=tA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ln.DEBUG,...e),this._logHandler(this,Ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ln.VERBOSE,...e),this._logHandler(this,Ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ln.INFO,...e),this._logHandler(this,Ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ln.WARN,...e),this._logHandler(this,Ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ln.ERROR,...e),this._logHandler(this,Ln.ERROR,...e)}}const nA=(r,e)=>e.some(t=>r instanceof t);let W2,$2;function rA(){return W2||(W2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iA(){return $2||($2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nb=new WeakMap,E1=new WeakMap,Pb=new WeakMap,N0=new WeakMap,_v=new WeakMap;function sA(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",a)},s=()=>{t(qc(r.result)),i()},a=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&Nb.set(t,r)}).catch(()=>{}),_v.set(e,r),e}function oA(r){if(E1.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",a),r.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",a),r.addEventListener("abort",a)});E1.set(r,e)}let A1={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return E1.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Pb.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qc(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function aA(r){A1=r(A1)}function lA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(P0(this),e,...t);return Pb.set(n,e.sort?e.sort():[e]),qc(n)}:iA().includes(r)?function(...e){return r.apply(P0(this),e),qc(Nb.get(this))}:function(...e){return qc(r.apply(P0(this),e))}}function cA(r){return typeof r=="function"?lA(r):(r instanceof IDBTransaction&&oA(r),nA(r,rA())?new Proxy(r,A1):r)}function qc(r){if(r instanceof IDBRequest)return sA(r);if(N0.has(r))return N0.get(r);const e=cA(r);return e!==r&&(N0.set(r,e),_v.set(e,r)),e}const P0=r=>_v.get(r);function uA(r,e,{blocked:t,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(r,e),c=qc(a);return n&&a.addEventListener("upgradeneeded",u=>{n(qc(a.result),u.oldVersion,u.newVersion,qc(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const dA=["get","getKey","getAll","getAllKeys","count"],hA=["put","add","delete","clear"],D0=new Map;function Y2(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(D0.get(e))return D0.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=hA.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||dA.includes(t)))return;const s=async function(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),i&&u.done]))[0]};return D0.set(e,s),s}aA(r=>({...r,get:(e,t,n)=>Y2(e,t)||r.get(e,t,n),has:(e,t)=>!!Y2(e,t)||r.has(e,t)}));class fA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pA(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function pA(r){const e=r.getComponent();return e?.type==="VERSION"}const C1="@firebase/app",G2="0.10.13";const Ql=new wv("@firebase/app"),mA="@firebase/app-compat",gA="@firebase/analytics-compat",vA="@firebase/analytics",yA="@firebase/app-check-compat",wA="@firebase/app-check",_A="@firebase/auth",bA="@firebase/auth-compat",xA="@firebase/database",SA="@firebase/data-connect",kA="@firebase/database-compat",EA="@firebase/functions",AA="@firebase/functions-compat",CA="@firebase/installations",IA="@firebase/installations-compat",TA="@firebase/messaging",NA="@firebase/messaging-compat",PA="@firebase/performance",DA="@firebase/performance-compat",LA="@firebase/remote-config",RA="@firebase/remote-config-compat",MA="@firebase/storage",OA="@firebase/storage-compat",FA="@firebase/firestore",jA="@firebase/vertexai-preview",BA="@firebase/firestore-compat",VA="firebase",UA="10.14.1";const I1="[DEFAULT]",zA={[C1]:"fire-core",[mA]:"fire-core-compat",[vA]:"fire-analytics",[gA]:"fire-analytics-compat",[wA]:"fire-app-check",[yA]:"fire-app-check-compat",[_A]:"fire-auth",[bA]:"fire-auth-compat",[xA]:"fire-rtdb",[SA]:"fire-data-connect",[kA]:"fire-rtdb-compat",[EA]:"fire-fn",[AA]:"fire-fn-compat",[CA]:"fire-iid",[IA]:"fire-iid-compat",[TA]:"fire-fcm",[NA]:"fire-fcm-compat",[PA]:"fire-perf",[DA]:"fire-perf-compat",[LA]:"fire-rc",[RA]:"fire-rc-compat",[MA]:"fire-gcs",[OA]:"fire-gcs-compat",[FA]:"fire-fst",[BA]:"fire-fst-compat",[jA]:"fire-vertex","fire-js":"fire-js",[VA]:"fire-js-all"};const Sm=new Map,qA=new Map,T1=new Map;function K2(r,e){try{r.container.addComponent(e)}catch(t){Ql.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Kd(r){const e=r.name;if(T1.has(e))return Ql.debug(`There were multiple attempts to register component ${e}.`),!1;T1.set(e,r);for(const t of Sm.values())K2(t,r);for(const t of qA.values())K2(t,r);return!0}function bv(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function zl(r){return r.settings!==void 0}const HA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hc=new Rf("app","Firebase",HA);class WA{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Uu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hc.create("app-deleted",{appName:this._name})}}const mh=UA;function Db(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:I1,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Hc.create("bad-app-name",{appName:String(i)});if(t||(t=Ib()),!t)throw Hc.create("no-options");const s=Sm.get(i);if(s){if(xm(t,s.options)&&xm(n,s.config))return s;throw Hc.create("duplicate-app",{appName:i})}const a=new X4(i);for(const u of T1.values())a.addComponent(u);const c=new WA(t,n,a);return Sm.set(i,c),c}function Lb(r=I1){const e=Sm.get(r);if(!e&&r===I1&&Ib())return Db();if(!e)throw Hc.create("no-app",{appName:r});return e}function Wc(r,e,t){var n;let i=(n=zA[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ql.warn(c.join(" "));return}Kd(new Uu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $A="firebase-heartbeat-database",YA=1,wf="firebase-heartbeat-store";let L0=null;function Rb(){return L0||(L0=uA($A,YA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(wf)}catch(t){console.warn(t)}}}}).catch(r=>{throw Hc.create("idb-open",{originalErrorMessage:r.message})})),L0}async function GA(r){try{const t=(await Rb()).transaction(wf),n=await t.objectStore(wf).get(Mb(r));return await t.done,n}catch(e){if(e instanceof nc)Ql.warn(e.message);else{const t=Hc.create("idb-get",{originalErrorMessage:e?.message});Ql.warn(t.message)}}}async function Q2(r,e){try{const n=(await Rb()).transaction(wf,"readwrite");await n.objectStore(wf).put(e,Mb(r)),await n.done}catch(t){if(t instanceof nc)Ql.warn(t.message);else{const n=Hc.create("idb-set",{originalErrorMessage:t?.message});Ql.warn(n.message)}}}function Mb(r){return`${r.name}!${r.options.appId}`}const KA=1024,QA=720*60*60*1e3;class XA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ZA(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=X2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=QA}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ql.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X2(),{heartbeatsToSend:n,unsentEntries:i}=JA(this._heartbeatsCache.heartbeats),s=bm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ql.warn(t),""}}}function X2(){return new Date().toISOString().substring(0,10)}function JA(r,e=KA){const t=[];let n=r.slice();for(const i of r){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),J2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),J2(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class ZA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B4()?V4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await GA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Q2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Q2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function J2(r){return bm(JSON.stringify({version:2,heartbeats:r})).length}function eC(r){Kd(new Uu("platform-logger",e=>new fA(e),"PRIVATE")),Kd(new Uu("heartbeat",e=>new XA(e),"PRIVATE")),Wc(C1,G2,r),Wc(C1,G2,"esm2017"),Wc("fire-js","")}eC("");function xv(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tC=Ob,Fb=new Rf("auth","Firebase",Ob());const km=new wv("@firebase/auth");function nC(r,...e){km.logLevel<=Ln.WARN&&km.warn(`Auth (${mh}): ${r}`,...e)}function tm(r,...e){km.logLevel<=Ln.ERROR&&km.error(`Auth (${mh}): ${r}`,...e)}function Na(r,...e){throw Sv(r,...e)}function ll(r,...e){return Sv(r,...e)}function jb(r,e,t){const n=Object.assign(Object.assign({},tC()),{[e]:t});return new Rf("auth","Firebase",n).create(e,{appName:r.name})}function $c(r){return jb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sv(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Fb.create(r,...e)}function Zt(r,e,...t){if(!r)throw Sv(e,...t)}function ql(r){const e="INTERNAL ASSERTION FAILED: "+r;throw tm(e),new Error(e)}function Xl(r,e){r||ql(e)}function N1(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function rC(){return Z2()==="http:"||Z2()==="https:"}function Z2(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function iC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rC()||M4()||"connection"in navigator)?navigator.onLine:!0}function sC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Of{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xl(t>e,"Short delay should be less than long delay!"),this.isMobile=D4()||O4()}get(){return iC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kv(r,e){Xl(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Bb{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ql("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ql("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ql("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aC=new Of(3e4,6e4);function Qu(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ru(r,e,t,n,i={}){return Vb(r,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const c=Mf(Object.assign({key:r.config.apiKey},a)).slice(1),u=await r._getAdditionalHeaders();u["Content-Type"]="application/json",r.languageCode&&(u["X-Firebase-Locale"]=r.languageCode);const d=Object.assign({method:e,headers:u},s);return R4()||(d.referrerPolicy="no-referrer"),Bb.fetch()(Ub(r,r.config.apiHost,t,c),d)})}async function Vb(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},oC),e);try{const i=new cC(r),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Pp(r,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pp(r,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Pp(r,"email-already-in-use",a);if(u==="USER_DISABLED")throw Pp(r,"user-disabled",a);const f=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw jb(r,f,d);Na(r,f)}}catch(i){if(i instanceof nc)throw i;Na(r,"network-request-failed",{message:String(i)})}}async function og(r,e,t,n,i={}){const s=await ru(r,e,t,n,i);return"mfaPendingCredential"in s&&Na(r,"multi-factor-auth-required",{_serverResponse:s}),s}function Ub(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?kv(r.config,i):`${r.config.apiScheme}://${i}`}function lC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(ll(this.auth,"network-request-failed")),aC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pp(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=ll(r,e,n);return i.customData._tokenResponse=t,i}function ew(r){return r!==void 0&&r.enterprise!==void 0}class uC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function dC(r,e){return ru(r,"GET","/v2/recaptchaConfig",Qu(r,e))}async function hC(r,e){return ru(r,"POST","/v1/accounts:delete",e)}async function zb(r,e){return ru(r,"POST","/v1/accounts:lookup",e)}function uf(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fC(r,e=!1){const t=Wi(r),n=await t.getIdToken(e),i=Ev(n);Zt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:n,authTime:uf(R0(i.auth_time)),issuedAtTime:uf(R0(i.iat)),expirationTime:uf(R0(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function R0(r){return Number(r)*1e3}function Ev(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return tm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ab(t);return i?JSON.parse(i):(tm("Failed to decode base64 JWT payload"),null)}catch(i){return tm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tw(r){const e=Ev(r);return Zt(e,"internal-error"),Zt(typeof e.exp<"u","internal-error"),Zt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _f(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof nc&&pC(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function pC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class mC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class P1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uf(this.lastLoginAt),this.creationTime=uf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Em(r){var e;const t=r.auth,n=await r.getIdToken(),i=await _f(r,zb(t,{idToken:n}));Zt(i?.users.length,t,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?qb(s.providerUserInfo):[],c=vC(r.providerData,a),u=r.isAnonymous,d=!(r.email&&s.passwordHash)&&!c?.length,f=u?d:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new P1(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(r,y)}async function gC(r){const e=Wi(r);await Em(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vC(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function qb(r){return r.map(e=>{var{providerId:t}=e,n=xv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function yC(r,e){const t=await Vb(r,{},async()=>{const n=Mf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,a=Ub(r,i,"/v1/token",`key=${s}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Bb.fetch()(a,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wC(r,e){return ru(r,"POST","/v2/accounts:revokeToken",Qu(r,e))}class Fd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Zt(e.idToken,"internal-error"),Zt(typeof e.idToken<"u","internal-error"),Zt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Zt(e.length!==0,"internal-error");const t=tw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Zt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await yC(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:s}=t,a=new Fd;return n&&(Zt(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Zt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Zt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fd,this.toJSON())}_performRefresh(){return ql("not implemented")}}function Dc(r,e){Zt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Hl{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,s=xv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new P1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await _f(this,this.stsTokenManager.getToken(this.auth,e));return Zt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fC(this,e)}reload(){return gC(this)}_assign(e){this!==e&&(Zt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Em(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zl(this.auth.app))return Promise.reject($c(this.auth));const e=await this.getIdToken();return await _f(this,hC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,s,a,c,u,d,f;const y=(n=t.displayName)!==null&&n!==void 0?n:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,g=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(a=t.photoURL)!==null&&a!==void 0?a:void 0,P=(c=t.tenantId)!==null&&c!==void 0?c:void 0,I=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,M=(d=t.createdAt)!==null&&d!==void 0?d:void 0,W=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:z,emailVerified:q,isAnonymous:ne,providerData:de,stsTokenManager:H}=t;Zt(z&&H,e,"internal-error");const O=Fd.fromJSON(this.name,H);Zt(typeof z=="string",e,"internal-error"),Dc(y,e.name),Dc(_,e.name),Zt(typeof q=="boolean",e,"internal-error"),Zt(typeof ne=="boolean",e,"internal-error"),Dc(g,e.name),Dc(A,e.name),Dc(P,e.name),Dc(I,e.name),Dc(M,e.name),Dc(W,e.name);const R=new Hl({uid:z,auth:e,email:_,emailVerified:q,displayName:y,isAnonymous:ne,photoURL:A,phoneNumber:g,tenantId:P,stsTokenManager:O,createdAt:M,lastLoginAt:W});return de&&Array.isArray(de)&&(R.providerData=de.map(B=>Object.assign({},B))),I&&(R._redirectEventId=I),R}static async _fromIdTokenResponse(e,t,n=!1){const i=new Fd;i.updateFromServerResponse(t);const s=new Hl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Em(s),s}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Zt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?qb(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,c=new Fd;c.updateFromIdToken(n);const u=new Hl({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new P1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u}}const nw=new Map;function Wl(r){Xl(r instanceof Function,"Expected a class definition");let e=nw.get(r);return e?(Xl(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,nw.set(r,e),e)}class Hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Hb.type="NONE";const rw=Hb;function nm(r,e,t){return`firebase:${r}:${e}:${t}`}class jd{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=nm(this.userKey,i.apiKey,s),this.fullPersistenceKey=nm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new jd(Wl(rw),e,n);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Wl(rw);const a=nm(n,e.config.apiKey,e.name);let c=null;for(const d of t)try{const f=await d._get(a);if(f){const y=Hl._fromJSON(e,f);d!==s&&(c=y),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new jd(s,e,n):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new jd(s,e,n))}}function iw(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qb(e))return"Blackberry";if(Xb(e))return"Webos";if($b(e))return"Safari";if((e.includes("chrome/")||Yb(e))&&!e.includes("edge/"))return"Chrome";if(Kb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function Wb(r=Bs()){return/firefox\//i.test(r)}function $b(r=Bs()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yb(r=Bs()){return/crios\//i.test(r)}function Gb(r=Bs()){return/iemobile/i.test(r)}function Kb(r=Bs()){return/android/i.test(r)}function Qb(r=Bs()){return/blackberry/i.test(r)}function Xb(r=Bs()){return/webos/i.test(r)}function Av(r=Bs()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function _C(r=Bs()){var e;return Av(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bC(){return F4()&&document.documentMode===10}function Jb(r=Bs()){return Av(r)||Kb(r)||Xb(r)||Qb(r)||/windows phone/i.test(r)||Gb(r)}function Zb(r,e=[]){let t;switch(r){case"Browser":t=iw(Bs());break;case"Worker":t=`${iw(Bs())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mh}/${n}`}class xC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((a,c)=>{try{const u=e(s);a(u)}catch(u){c(u)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function SC(r,e={}){return ru(r,"GET","/v2/passwordPolicy",Qu(r,e))}const kC=6;class EC{constructor(e){var t,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:kC,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(n=u.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class AC{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sw(this),this.idTokenSubscription=new sw(this),this.beforeStateQueue=new xC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wl(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await jd.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zb(this,{idToken:e}),n=await Hl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zl(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Em(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zl(this.app))return Promise.reject($c(this));const t=e?Wi(e):null;return t&&Zt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Zt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zl(this.app)?Promise.reject($c(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zl(this.app)?Promise.reject($c(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SC(this),t=new EC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rf("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await wC(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wl(e)||this._popupRedirectResolver;Zt(t,this,"argument-error"),this.redirectPersistenceManager=await jd.create(this,[Wl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Zt(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,n,i);return()=>{a=!0,u()}}else{const u=e.addObserver(t);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&nC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function gh(r){return Wi(r)}class sw{constructor(e){this.auth=e,this.observer=null,this.addObserver=W4(t=>this.observer=t)}get next(){return Zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CC(r){ag=r}function ex(r){return ag.loadJS(r)}function IC(){return ag.recaptchaEnterpriseScript}function TC(){return ag.gapiScript}function NC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const PC="recaptcha-enterprise",DC="NO_RECAPTCHA";class LC{constructor(e){this.type=PC,this.auth=gh(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{dC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new uC(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function i(s,a,c){const u=window.grecaptcha;ew(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(DC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(c=>{if(!t&&ew(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=IC();u.length!==0&&(u+=c),ex(u).then(()=>{i(c,s,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function ow(r,e,t,n=!1){const i=new LC(r);let s;try{s=await i.verify(t)}catch{s=await i.verify(t,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function aw(r,e,t,n){var i;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ow(r,e,t,t==="getOobCode");return n(r,s)}else return n(r,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await ow(r,e,t,t==="getOobCode");return n(r,a)}else return Promise.reject(s)})}function RC(r,e){const t=bv(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(xm(s,e??{}))return i;Na(i,"already-initialized")}return t.initialize({options:e})}function MC(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(Wl);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function OC(r,e,t){const n=gh(r);Zt(n._canInitEmulator,n,"emulator-config-failed"),Zt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=tx(e),{host:a,port:c}=FC(e),u=c===null?"":`:${c}`;n.config.emulator={url:`${s}//${a}${u}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),jC()}function tx(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function FC(r){const e=tx(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:lw(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:lw(a)}}}function lw(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function jC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Cv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ql("not implemented")}_getIdTokenResponse(e){return ql("not implemented")}_linkToIdToken(e,t){return ql("not implemented")}_getReauthenticationResolver(e){return ql("not implemented")}}async function BC(r,e){return ru(r,"POST","/v1/accounts:signUp",e)}async function VC(r,e){return og(r,"POST","/v1/accounts:signInWithPassword",Qu(r,e))}async function UC(r,e){return og(r,"POST","/v1/accounts:signInWithEmailLink",Qu(r,e))}async function zC(r,e){return og(r,"POST","/v1/accounts:signInWithEmailLink",Qu(r,e))}class bf extends Cv{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new bf(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new bf(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aw(e,t,"signInWithPassword",VC);case"emailLink":return UC(e,{email:this._email,oobCode:this._password});default:Na(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aw(e,n,"signUpPassword",BC);case"emailLink":return zC(e,{idToken:t,email:this._email,oobCode:this._password});default:Na(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bd(r,e){return og(r,"POST","/v1/accounts:signInWithIdp",Qu(r,e))}const qC="http://localhost";class zu extends Cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Na("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,s=xv(t,["providerId","signInMethod"]);if(!n||!i)return null;const a=new zu(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Bd(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Bd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bd(e,t)}buildRequest(){const e={requestUri:qC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mf(t)}return e}}function HC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WC(r){const e=tf(nf(r)).link,t=e?tf(nf(e)).deep_link_id:null,n=tf(nf(r)).deep_link_id;return(n?tf(nf(n)).link:null)||n||t||e||r}class Iv{constructor(e){var t,n,i,s,a,c;const u=tf(nf(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,f=(n=u.oobCode)!==null&&n!==void 0?n:null,y=HC((i=u.mode)!==null&&i!==void 0?i:null);Zt(d&&f&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=WC(e);try{return new Iv(t)}catch{return null}}}class vh{constructor(){this.providerId=vh.PROVIDER_ID}static credential(e,t){return bf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Iv.parseLink(t);return Zt(n,"argument-error"),bf._fromEmailAndCode(e,n.code,n.tenantId)}}vh.PROVIDER_ID="password";vh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class nx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ff extends nx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Oc extends Ff{constructor(){super("facebook.com")}static credential(e){return zu._fromParams({providerId:Oc.PROVIDER_ID,signInMethod:Oc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oc.credentialFromTaggedObject(e)}static credentialFromError(e){return Oc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oc.credential(e.oauthAccessToken)}catch{return null}}}Oc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oc.PROVIDER_ID="facebook.com";class Fc extends Ff{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zu._fromParams({providerId:Fc.PROVIDER_ID,signInMethod:Fc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fc.credentialFromTaggedObject(e)}static credentialFromError(e){return Fc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Fc.credential(t,n)}catch{return null}}}Fc.GOOGLE_SIGN_IN_METHOD="google.com";Fc.PROVIDER_ID="google.com";class jc extends Ff{constructor(){super("github.com")}static credential(e){return zu._fromParams({providerId:jc.PROVIDER_ID,signInMethod:jc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jc.credentialFromTaggedObject(e)}static credentialFromError(e){return jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jc.credential(e.oauthAccessToken)}catch{return null}}}jc.GITHUB_SIGN_IN_METHOD="github.com";jc.PROVIDER_ID="github.com";class Bc extends Ff{constructor(){super("twitter.com")}static credential(e,t){return zu._fromParams({providerId:Bc.PROVIDER_ID,signInMethod:Bc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bc.credentialFromTaggedObject(e)}static credentialFromError(e){return Bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Bc.credential(t,n)}catch{return null}}}Bc.TWITTER_SIGN_IN_METHOD="twitter.com";Bc.PROVIDER_ID="twitter.com";class Qd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const s=await Hl._fromIdTokenResponse(e,n,i),a=cw(n);return new Qd({user:s,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=cw(n);return new Qd({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function cw(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Am extends nc{constructor(e,t,n,i){var s;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Am.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Am(e,t,n,i)}}function rx(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Am._fromErrorAndOperation(r,s,e,n):s})}async function $C(r,e,t=!1){const n=await _f(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Qd._forOperation(r,"link",n)}async function YC(r,e,t=!1){const{auth:n}=r;if(zl(n.app))return Promise.reject($c(n));const i="reauthenticate";try{const s=await _f(r,rx(n,i,e,r),t);Zt(s.idToken,n,"internal-error");const a=Ev(s.idToken);Zt(a,n,"internal-error");const{sub:c}=a;return Zt(r.uid===c,n,"user-mismatch"),Qd._forOperation(r,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Na(n,"user-mismatch"),s}}async function ix(r,e,t=!1){if(zl(r.app))return Promise.reject($c(r));const n="signIn",i=await rx(r,n,e),s=await Qd._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(s.user),s}async function GC(r,e){return ix(gh(r),e)}async function KC(r){const e=gh(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function QC(r,e,t){return zl(r.app)?Promise.reject($c(r)):GC(Wi(r),vh.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&KC(r),n})}function XC(r,e,t,n){return Wi(r).onIdTokenChanged(e,t,n)}function JC(r,e,t){return Wi(r).beforeAuthStateChanged(e,t)}function ZC(r,e,t,n){return Wi(r).onAuthStateChanged(e,t,n)}function eI(r){return Wi(r).signOut()}const Cm="__sak";class sx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cm,"1"),this.storage.removeItem(Cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tI=1e3,nI=10;class ox extends sx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!t&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);bC()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nI):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},tI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ox.type="LOCAL";const rI=ox;class ax extends sx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ax.type="SESSION";const lx=ax;function iI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class lg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new lg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(a).map(async d=>d(t.origin,s)),u=await iI(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lg.receivers=[];function Tv(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}class sI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const d=Tv("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function cl(){return window}function oI(r){cl().location.href=r}function cx(){return typeof cl().WorkerGlobalScope<"u"&&typeof cl().importScripts=="function"}async function aI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lI(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function cI(){return cx()?self:null}const ux="firebaseLocalStorageDb",uI=1,Im="firebaseLocalStorage",dx="fbase_key";class jf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cg(r,e){return r.transaction([Im],e?"readwrite":"readonly").objectStore(Im)}function dI(){const r=indexedDB.deleteDatabase(ux);return new jf(r).toPromise()}function D1(){const r=indexedDB.open(ux,uI);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Im,{keyPath:dx})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Im)?e(n):(n.close(),await dI(),e(await D1()))})})}async function uw(r,e,t){const n=cg(r,!0).put({[dx]:e,value:t});return new jf(n).toPromise()}async function hI(r,e){const t=cg(r,!1).get(e),n=await new jf(t).toPromise();return n===void 0?null:n.value}function dw(r,e){const t=cg(r,!0).delete(e);return new jf(t).toPromise()}const fI=800,pI=3;class hx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await D1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>pI)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lg._getInstance(cI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aI(),!this.activeServiceWorker)return;this.sender=new sI(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await D1();return await uw(e,Cm,"1"),await dw(e,Cm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>uw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>hI(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cg(i,!1).getAll();return new jf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hx.type="LOCAL";const mI=hx;new Of(3e4,6e4);function gI(r,e){return e?Wl(e):(Zt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Nv extends Cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vI(r){return ix(r.auth,new Nv(r),r.bypassAuthState)}function yI(r){const{auth:e,user:t}=r;return Zt(t,e,"internal-error"),YC(t,new Nv(r),r.bypassAuthState)}async function wI(r){const{auth:e,user:t}=r;return Zt(t,e,"internal-error"),$C(t,new Nv(r),r.bypassAuthState)}class fx{constructor(e,t,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vI;case"linkViaPopup":case"linkViaRedirect":return wI;case"reauthViaPopup":case"reauthViaRedirect":return yI;default:Na(this.auth,"internal-error")}}resolve(e){Xl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _I=new Of(2e3,1e4);class Md extends fx{constructor(e,t,n,i,s){super(e,t,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Md.currentPopupAction&&Md.currentPopupAction.cancel(),Md.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Zt(e,this.auth,"internal-error"),e}async onExecution(){Xl(this.filter.length===1,"Popup operations only handle one event");const e=Tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ll(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ll(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Md.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ll(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_I.get())};e()}}Md.currentPopupAction=null;const bI="pendingRedirect",rm=new Map;class xI extends fx{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=rm.get(this.auth._key());if(!e){try{const n=await SI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}rm.set(this.auth._key(),e)}return this.bypassAuthState||rm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SI(r,e){const t=AI(e),n=EI(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function kI(r,e){rm.set(r._key(),e)}function EI(r){return Wl(r._redirectPersistence)}function AI(r){return nm(bI,r.config.apiKey,r.name)}async function CI(r,e,t=!1){if(zl(r.app))return Promise.reject($c(r));const n=gh(r),i=gI(n,e),a=await new xI(n,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}const II=600*1e3;class TI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!px(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(ll(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=II&&this.cachedEventUids.clear(),this.cachedEventUids.has(hw(e))}saveEventToCache(e){this.cachedEventUids.add(hw(e)),this.lastProcessedEventTime=Date.now()}}function hw(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function px({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function NI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return px(r);default:return!1}}async function PI(r,e={}){return ru(r,"GET","/v1/projects",e)}const DI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LI=/^https?/;async function RI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await PI(r);for(const t of e)try{if(MI(t))return}catch{}Na(r,"unauthorized-domain")}function MI(r){const e=N1(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===n}if(!LI.test(t))return!1;if(DI.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const OI=new Of(3e4,6e4);function fw(){const r=cl().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function FI(r){return new Promise((e,t)=>{var n,i,s;function a(){fw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fw(),t(ll(r,"network-request-failed"))},timeout:OI.get()})}if(!((i=(n=cl().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=cl().gapi)===null||s===void 0)&&s.load)a();else{const c=NC("iframefcb");return cl()[c]=()=>{gapi.load?a():t(ll(r,"network-request-failed"))},ex(`${TC()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw im=null,e})}let im=null;function jI(r){return im=im||FI(r),im}const BI=new Of(5e3,15e3),VI="__/auth/iframe",UI="emulator/auth/iframe",zI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HI(r){const e=r.config;Zt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?kv(e,UI):`https://${r.config.authDomain}/${VI}`,n={apiKey:e.apiKey,appName:r.name,v:mh},i=qI.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${Mf(n).slice(1)}`}async function WI(r){const e=await jI(r),t=cl().gapi;return Zt(t,r,"internal-error"),e.open({where:document.body,url:HI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zI,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=ll(r,"network-request-failed"),c=cl().setTimeout(()=>{s(a)},BI.get());function u(){cl().clearTimeout(c),i(n)}n.ping(u).then(u,()=>{s(a)})}))}const $I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YI=500,GI=600,KI="_blank",QI="http://localhost";class pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XI(r,e,t,n=YI,i=GI){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const u=Object.assign(Object.assign({},$I),{width:n.toString(),height:i.toString(),top:s,left:a}),d=Bs().toLowerCase();t&&(c=Yb(d)?KI:t),Wb(d)&&(e=e||QI,u.scrollbars="yes");const f=Object.entries(u).reduce((_,[g,A])=>`${_}${g}=${A},`,"");if(_C(d)&&c!=="_self")return JI(e||"",c),new pw(null);const y=window.open(e||"",c,f);Zt(y,r,"popup-blocked");try{y.focus()}catch{}return new pw(y)}function JI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const ZI="__/auth/handler",e3="emulator/auth/handler",t3=encodeURIComponent("fac");async function mw(r,e,t,n,i,s){Zt(r.config.authDomain,r,"auth-domain-config-required"),Zt(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:mh,eventId:i};if(e instanceof nx){e.setDefaultLanguage(r.languageCode),a.providerId=e.providerId||"",H4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,y]of Object.entries({}))a[f]=y}if(e instanceof Ff){const f=e.getScopes().filter(y=>y!=="");f.length>0&&(a.scopes=f.join(","))}r.tenantId&&(a.tid=r.tenantId);const c=a;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await r._getAppCheckToken(),d=u?`#${t3}=${encodeURIComponent(u)}`:"";return`${n3(r)}?${Mf(c).slice(1)}${d}`}function n3({config:r}){return r.emulator?kv(r,e3):`https://${r.authDomain}/${ZI}`}const M0="webStorageSupport";class r3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lx,this._completeRedirectFn=CI,this._overrideRedirectResult=kI}async _openPopup(e,t,n,i){var s;Xl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await mw(e,t,n,N1(),i);return XI(e,a,Tv())}async _openRedirect(e,t,n,i){await this._originValidation(e);const s=await mw(e,t,n,N1(),i);return oI(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Xl(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await WI(e),n=new TI(e);return t.register("authEvent",i=>(Zt(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(M0,{type:M0},i=>{var s;const a=(s=i?.[0])===null||s===void 0?void 0:s[M0];a!==void 0&&t(!!a),Na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Jb()||$b()||Av()}}const i3=r3;var gw="@firebase/auth",vw="1.7.9";class s3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function o3(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a3(r){Kd(new Uu("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=n.options;Zt(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:a,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zb(r)},d=new AC(n,i,s,u);return MC(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Kd(new Uu("auth-internal",e=>{const t=gh(e.getProvider("auth").getImmediate());return(n=>new s3(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wc(gw,vw,o3(r)),Wc(gw,vw,"esm2017")}const l3=300,c3=Tb("authIdTokenMaxAge")||l3;let yw=null;const u3=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>c3)return;const i=t?.token;yw!==i&&(yw=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function d3(r=Lb()){const e=bv(r,"auth");if(e.isInitialized())return e.getImmediate();const t=RC(r,{popupRedirectResolver:i3,persistence:[mI,rI,lx]}),n=Tb("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=u3(s.toString());JC(t,a,()=>a(t.currentUser)),XC(t,c=>a(c))}}const i=Cb("auth");return i&&OC(t,`http://${i}`),t}function h3(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}CC({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const s=ll("internal-error");s.customData=i,t(s)},n.type="text/javascript",n.charset="UTF-8",h3().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a3("Browser");var f3="firebase",p3="10.14.1";Wc(f3,p3,"app");var ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ou,mx;(function(){var r;function e(H,O){function R(){}R.prototype=O.prototype,H.D=O.prototype,H.prototype=new R,H.prototype.constructor=H,H.C=function(B,N,T){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return O.prototype[N].apply(B,D)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(H,O,R){R||(R=0);var B=Array(16);if(typeof O=="string")for(var N=0;16>N;++N)B[N]=O.charCodeAt(R++)|O.charCodeAt(R++)<<8|O.charCodeAt(R++)<<16|O.charCodeAt(R++)<<24;else for(N=0;16>N;++N)B[N]=O[R++]|O[R++]<<8|O[R++]<<16|O[R++]<<24;O=H.g[0],R=H.g[1],N=H.g[2];var T=H.g[3],D=O+(T^R&(N^T))+B[0]+3614090360&4294967295;O=R+(D<<7&4294967295|D>>>25),D=T+(N^O&(R^N))+B[1]+3905402710&4294967295,T=O+(D<<12&4294967295|D>>>20),D=N+(R^T&(O^R))+B[2]+606105819&4294967295,N=T+(D<<17&4294967295|D>>>15),D=R+(O^N&(T^O))+B[3]+3250441966&4294967295,R=N+(D<<22&4294967295|D>>>10),D=O+(T^R&(N^T))+B[4]+4118548399&4294967295,O=R+(D<<7&4294967295|D>>>25),D=T+(N^O&(R^N))+B[5]+1200080426&4294967295,T=O+(D<<12&4294967295|D>>>20),D=N+(R^T&(O^R))+B[6]+2821735955&4294967295,N=T+(D<<17&4294967295|D>>>15),D=R+(O^N&(T^O))+B[7]+4249261313&4294967295,R=N+(D<<22&4294967295|D>>>10),D=O+(T^R&(N^T))+B[8]+1770035416&4294967295,O=R+(D<<7&4294967295|D>>>25),D=T+(N^O&(R^N))+B[9]+2336552879&4294967295,T=O+(D<<12&4294967295|D>>>20),D=N+(R^T&(O^R))+B[10]+4294925233&4294967295,N=T+(D<<17&4294967295|D>>>15),D=R+(O^N&(T^O))+B[11]+2304563134&4294967295,R=N+(D<<22&4294967295|D>>>10),D=O+(T^R&(N^T))+B[12]+1804603682&4294967295,O=R+(D<<7&4294967295|D>>>25),D=T+(N^O&(R^N))+B[13]+4254626195&4294967295,T=O+(D<<12&4294967295|D>>>20),D=N+(R^T&(O^R))+B[14]+2792965006&4294967295,N=T+(D<<17&4294967295|D>>>15),D=R+(O^N&(T^O))+B[15]+1236535329&4294967295,R=N+(D<<22&4294967295|D>>>10),D=O+(N^T&(R^N))+B[1]+4129170786&4294967295,O=R+(D<<5&4294967295|D>>>27),D=T+(R^N&(O^R))+B[6]+3225465664&4294967295,T=O+(D<<9&4294967295|D>>>23),D=N+(O^R&(T^O))+B[11]+643717713&4294967295,N=T+(D<<14&4294967295|D>>>18),D=R+(T^O&(N^T))+B[0]+3921069994&4294967295,R=N+(D<<20&4294967295|D>>>12),D=O+(N^T&(R^N))+B[5]+3593408605&4294967295,O=R+(D<<5&4294967295|D>>>27),D=T+(R^N&(O^R))+B[10]+38016083&4294967295,T=O+(D<<9&4294967295|D>>>23),D=N+(O^R&(T^O))+B[15]+3634488961&4294967295,N=T+(D<<14&4294967295|D>>>18),D=R+(T^O&(N^T))+B[4]+3889429448&4294967295,R=N+(D<<20&4294967295|D>>>12),D=O+(N^T&(R^N))+B[9]+568446438&4294967295,O=R+(D<<5&4294967295|D>>>27),D=T+(R^N&(O^R))+B[14]+3275163606&4294967295,T=O+(D<<9&4294967295|D>>>23),D=N+(O^R&(T^O))+B[3]+4107603335&4294967295,N=T+(D<<14&4294967295|D>>>18),D=R+(T^O&(N^T))+B[8]+1163531501&4294967295,R=N+(D<<20&4294967295|D>>>12),D=O+(N^T&(R^N))+B[13]+2850285829&4294967295,O=R+(D<<5&4294967295|D>>>27),D=T+(R^N&(O^R))+B[2]+4243563512&4294967295,T=O+(D<<9&4294967295|D>>>23),D=N+(O^R&(T^O))+B[7]+1735328473&4294967295,N=T+(D<<14&4294967295|D>>>18),D=R+(T^O&(N^T))+B[12]+2368359562&4294967295,R=N+(D<<20&4294967295|D>>>12),D=O+(R^N^T)+B[5]+4294588738&4294967295,O=R+(D<<4&4294967295|D>>>28),D=T+(O^R^N)+B[8]+2272392833&4294967295,T=O+(D<<11&4294967295|D>>>21),D=N+(T^O^R)+B[11]+1839030562&4294967295,N=T+(D<<16&4294967295|D>>>16),D=R+(N^T^O)+B[14]+4259657740&4294967295,R=N+(D<<23&4294967295|D>>>9),D=O+(R^N^T)+B[1]+2763975236&4294967295,O=R+(D<<4&4294967295|D>>>28),D=T+(O^R^N)+B[4]+1272893353&4294967295,T=O+(D<<11&4294967295|D>>>21),D=N+(T^O^R)+B[7]+4139469664&4294967295,N=T+(D<<16&4294967295|D>>>16),D=R+(N^T^O)+B[10]+3200236656&4294967295,R=N+(D<<23&4294967295|D>>>9),D=O+(R^N^T)+B[13]+681279174&4294967295,O=R+(D<<4&4294967295|D>>>28),D=T+(O^R^N)+B[0]+3936430074&4294967295,T=O+(D<<11&4294967295|D>>>21),D=N+(T^O^R)+B[3]+3572445317&4294967295,N=T+(D<<16&4294967295|D>>>16),D=R+(N^T^O)+B[6]+76029189&4294967295,R=N+(D<<23&4294967295|D>>>9),D=O+(R^N^T)+B[9]+3654602809&4294967295,O=R+(D<<4&4294967295|D>>>28),D=T+(O^R^N)+B[12]+3873151461&4294967295,T=O+(D<<11&4294967295|D>>>21),D=N+(T^O^R)+B[15]+530742520&4294967295,N=T+(D<<16&4294967295|D>>>16),D=R+(N^T^O)+B[2]+3299628645&4294967295,R=N+(D<<23&4294967295|D>>>9),D=O+(N^(R|~T))+B[0]+4096336452&4294967295,O=R+(D<<6&4294967295|D>>>26),D=T+(R^(O|~N))+B[7]+1126891415&4294967295,T=O+(D<<10&4294967295|D>>>22),D=N+(O^(T|~R))+B[14]+2878612391&4294967295,N=T+(D<<15&4294967295|D>>>17),D=R+(T^(N|~O))+B[5]+4237533241&4294967295,R=N+(D<<21&4294967295|D>>>11),D=O+(N^(R|~T))+B[12]+1700485571&4294967295,O=R+(D<<6&4294967295|D>>>26),D=T+(R^(O|~N))+B[3]+2399980690&4294967295,T=O+(D<<10&4294967295|D>>>22),D=N+(O^(T|~R))+B[10]+4293915773&4294967295,N=T+(D<<15&4294967295|D>>>17),D=R+(T^(N|~O))+B[1]+2240044497&4294967295,R=N+(D<<21&4294967295|D>>>11),D=O+(N^(R|~T))+B[8]+1873313359&4294967295,O=R+(D<<6&4294967295|D>>>26),D=T+(R^(O|~N))+B[15]+4264355552&4294967295,T=O+(D<<10&4294967295|D>>>22),D=N+(O^(T|~R))+B[6]+2734768916&4294967295,N=T+(D<<15&4294967295|D>>>17),D=R+(T^(N|~O))+B[13]+1309151649&4294967295,R=N+(D<<21&4294967295|D>>>11),D=O+(N^(R|~T))+B[4]+4149444226&4294967295,O=R+(D<<6&4294967295|D>>>26),D=T+(R^(O|~N))+B[11]+3174756917&4294967295,T=O+(D<<10&4294967295|D>>>22),D=N+(O^(T|~R))+B[2]+718787259&4294967295,N=T+(D<<15&4294967295|D>>>17),D=R+(T^(N|~O))+B[9]+3951481745&4294967295,H.g[0]=H.g[0]+O&4294967295,H.g[1]=H.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,H.g[2]=H.g[2]+N&4294967295,H.g[3]=H.g[3]+T&4294967295}n.prototype.u=function(H,O){O===void 0&&(O=H.length);for(var R=O-this.blockSize,B=this.B,N=this.h,T=0;T<O;){if(N==0)for(;T<=R;)i(this,H,T),T+=this.blockSize;if(typeof H=="string"){for(;T<O;)if(B[N++]=H.charCodeAt(T++),N==this.blockSize){i(this,B),N=0;break}}else for(;T<O;)if(B[N++]=H[T++],N==this.blockSize){i(this,B),N=0;break}}this.h=N,this.o+=O},n.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var O=1;O<H.length-8;++O)H[O]=0;var R=8*this.o;for(O=H.length-8;O<H.length;++O)H[O]=R&255,R/=256;for(this.u(H),H=Array(16),O=R=0;4>O;++O)for(var B=0;32>B;B+=8)H[R++]=this.g[O]>>>B&255;return H};function s(H,O){var R=c;return Object.prototype.hasOwnProperty.call(R,H)?R[H]:R[H]=O(H)}function a(H,O){this.h=O;for(var R=[],B=!0,N=H.length-1;0<=N;N--){var T=H[N]|0;B&&T==O||(R[N]=T,B=!1)}this.g=R}var c={};function u(H){return-128<=H&&128>H?s(H,function(O){return new a([O|0],0>O?-1:0)}):new a([H|0],0>H?-1:0)}function d(H){if(isNaN(H)||!isFinite(H))return y;if(0>H)return I(d(-H));for(var O=[],R=1,B=0;H>=R;B++)O[B]=H/R|0,R*=4294967296;return new a(O,0)}function f(H,O){if(H.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(H.charAt(0)=="-")return I(f(H.substring(1),O));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=d(Math.pow(O,8)),B=y,N=0;N<H.length;N+=8){var T=Math.min(8,H.length-N),D=parseInt(H.substring(N,N+T),O);8>T?(T=d(Math.pow(O,T)),B=B.j(T).add(d(D))):(B=B.j(R),B=B.add(d(D)))}return B}var y=u(0),_=u(1),g=u(16777216);r=a.prototype,r.m=function(){if(P(this))return-I(this).m();for(var H=0,O=1,R=0;R<this.g.length;R++){var B=this.i(R);H+=(0<=B?B:4294967296+B)*O,O*=4294967296}return H},r.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(A(this))return"0";if(P(this))return"-"+I(this).toString(H);for(var O=d(Math.pow(H,6)),R=this,B="";;){var N=q(R,O).g;R=M(R,N.j(O));var T=((0<R.g.length?R.g[0]:R.h)>>>0).toString(H);if(R=N,A(R))return T+B;for(;6>T.length;)T="0"+T;B=T+B}},r.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function A(H){if(H.h!=0)return!1;for(var O=0;O<H.g.length;O++)if(H.g[O]!=0)return!1;return!0}function P(H){return H.h==-1}r.l=function(H){return H=M(this,H),P(H)?-1:A(H)?0:1};function I(H){for(var O=H.g.length,R=[],B=0;B<O;B++)R[B]=~H.g[B];return new a(R,~H.h).add(_)}r.abs=function(){return P(this)?I(this):this},r.add=function(H){for(var O=Math.max(this.g.length,H.g.length),R=[],B=0,N=0;N<=O;N++){var T=B+(this.i(N)&65535)+(H.i(N)&65535),D=(T>>>16)+(this.i(N)>>>16)+(H.i(N)>>>16);B=D>>>16,T&=65535,D&=65535,R[N]=D<<16|T}return new a(R,R[R.length-1]&-2147483648?-1:0)};function M(H,O){return H.add(I(O))}r.j=function(H){if(A(this)||A(H))return y;if(P(this))return P(H)?I(this).j(I(H)):I(I(this).j(H));if(P(H))return I(this.j(I(H)));if(0>this.l(g)&&0>H.l(g))return d(this.m()*H.m());for(var O=this.g.length+H.g.length,R=[],B=0;B<2*O;B++)R[B]=0;for(B=0;B<this.g.length;B++)for(var N=0;N<H.g.length;N++){var T=this.i(B)>>>16,D=this.i(B)&65535,Z=H.i(N)>>>16,ve=H.i(N)&65535;R[2*B+2*N]+=D*ve,W(R,2*B+2*N),R[2*B+2*N+1]+=T*ve,W(R,2*B+2*N+1),R[2*B+2*N+1]+=D*Z,W(R,2*B+2*N+1),R[2*B+2*N+2]+=T*Z,W(R,2*B+2*N+2)}for(B=0;B<O;B++)R[B]=R[2*B+1]<<16|R[2*B];for(B=O;B<2*O;B++)R[B]=0;return new a(R,0)};function W(H,O){for(;(H[O]&65535)!=H[O];)H[O+1]+=H[O]>>>16,H[O]&=65535,O++}function z(H,O){this.g=H,this.h=O}function q(H,O){if(A(O))throw Error("division by zero");if(A(H))return new z(y,y);if(P(H))return O=q(I(H),O),new z(I(O.g),I(O.h));if(P(O))return O=q(H,I(O)),new z(I(O.g),O.h);if(30<H.g.length){if(P(H)||P(O))throw Error("slowDivide_ only works with positive integers.");for(var R=_,B=O;0>=B.l(H);)R=ne(R),B=ne(B);var N=de(R,1),T=de(B,1);for(B=de(B,2),R=de(R,2);!A(B);){var D=T.add(B);0>=D.l(H)&&(N=N.add(R),T=D),B=de(B,1),R=de(R,1)}return O=M(H,N.j(O)),new z(N,O)}for(N=y;0<=H.l(O);){for(R=Math.max(1,Math.floor(H.m()/O.m())),B=Math.ceil(Math.log(R)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),T=d(R),D=T.j(O);P(D)||0<D.l(H);)R-=B,T=d(R),D=T.j(O);A(T)&&(T=_),N=N.add(T),H=M(H,D)}return new z(N,H)}r.A=function(H){return q(this,H).h},r.and=function(H){for(var O=Math.max(this.g.length,H.g.length),R=[],B=0;B<O;B++)R[B]=this.i(B)&H.i(B);return new a(R,this.h&H.h)},r.or=function(H){for(var O=Math.max(this.g.length,H.g.length),R=[],B=0;B<O;B++)R[B]=this.i(B)|H.i(B);return new a(R,this.h|H.h)},r.xor=function(H){for(var O=Math.max(this.g.length,H.g.length),R=[],B=0;B<O;B++)R[B]=this.i(B)^H.i(B);return new a(R,this.h^H.h)};function ne(H){for(var O=H.g.length+1,R=[],B=0;B<O;B++)R[B]=H.i(B)<<1|H.i(B-1)>>>31;return new a(R,H.h)}function de(H,O){var R=O>>5;O%=32;for(var B=H.g.length-R,N=[],T=0;T<B;T++)N[T]=0<O?H.i(T+R)>>>O|H.i(T+R+1)<<32-O:H.i(T+R);return new a(N,H.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,mx=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,Ou=a}).apply(typeof ww<"u"?ww:typeof self<"u"?self:typeof window<"u"?window:{});var Dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gx,rf,vx,sm,L1,yx,wx,_x;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,j){return m==Array.prototype||m==Object.prototype||(m[E]=j.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dp=="object"&&Dp];for(var E=0;E<m.length;++E){var j=m[E];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var n=t(this);function i(m,E){if(E)e:{var j=n;m=m.split(".");for(var ee=0;ee<m.length-1;ee++){var Ie=m[ee];if(!(Ie in j))break e;j=j[Ie]}m=m[m.length-1],ee=j[m],E=E(ee),E!=ee&&E!=null&&e(j,m,{configurable:!0,writable:!0,value:E})}}function s(m,E){m instanceof String&&(m+="");var j=0,ee=!1,Ie={next:function(){if(!ee&&j<m.length){var Oe=j++;return{value:E(Oe,m[Oe]),done:!1}}return ee=!0,{done:!0,value:void 0}}};return Ie[Symbol.iterator]=function(){return Ie},Ie}i("Array.prototype.values",function(m){return m||function(){return s(this,function(E,j){return j})}});var a=a||{},c=this||self;function u(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function d(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function f(m,E,j){return m.call.apply(m.bind,arguments)}function y(m,E,j){if(!m)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var Ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ie,ee),m.apply(E,Ie)}}return function(){return m.apply(E,arguments)}}function _(m,E,j){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:y,_.apply(null,arguments)}function g(m,E){var j=Array.prototype.slice.call(arguments,1);return function(){var ee=j.slice();return ee.push.apply(ee,arguments),m.apply(this,ee)}}function A(m,E){function j(){}j.prototype=E.prototype,m.aa=E.prototype,m.prototype=new j,m.prototype.constructor=m,m.Qb=function(ee,Ie,Oe){for(var it=Array(arguments.length-2),Cn=2;Cn<arguments.length;Cn++)it[Cn-2]=arguments[Cn];return E.prototype[Ie].apply(ee,it)}}function P(m){const E=m.length;if(0<E){const j=Array(E);for(let ee=0;ee<E;ee++)j[ee]=m[ee];return j}return[]}function I(m,E){for(let j=1;j<arguments.length;j++){const ee=arguments[j];if(u(ee)){const Ie=m.length||0,Oe=ee.length||0;m.length=Ie+Oe;for(let it=0;it<Oe;it++)m[Ie+it]=ee[it]}else m.push(ee)}}class M{constructor(E,j){this.i=E,this.j=j,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function W(m){return/^[\s\xa0]*$/.test(m)}function z(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function q(m){return q[" "](m),m}q[" "]=function(){};var ne=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function de(m,E,j){for(const ee in m)E.call(j,m[ee],ee,m)}function H(m,E){for(const j in m)E.call(void 0,m[j],j,m)}function O(m){const E={};for(const j in m)E[j]=m[j];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(m,E){let j,ee;for(let Ie=1;Ie<arguments.length;Ie++){ee=arguments[Ie];for(j in ee)m[j]=ee[j];for(let Oe=0;Oe<R.length;Oe++)j=R[Oe],Object.prototype.hasOwnProperty.call(ee,j)&&(m[j]=ee[j])}}function N(m){var E=1;m=m.split(":");const j=[];for(;0<E&&m.length;)j.push(m.shift()),E--;return m.length&&j.push(m.join(":")),j}function T(m){c.setTimeout(()=>{throw m},0)}function D(){var m=fe;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class Z{constructor(){this.h=this.g=null}add(E,j){const ee=ve.get();ee.set(E,j),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var ve=new M(()=>new be,m=>m.reset());class be{constructor(){this.next=this.g=this.h=null}set(E,j){this.h=E,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Q=!1,fe=new Z,he=()=>{const m=c.Promise.resolve(void 0);oe=()=>{m.then(J)}};var J=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(j){T(j)}var E=ve;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}Q=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var re=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const j=()=>{};c.addEventListener("test",j,E),c.removeEventListener("test",j,E)}catch{}return m})();function ue(m,E){if(G.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var j=this.type=m.type,ee=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(ne){e:{try{q(E.nodeName);var Ie=!0;break e}catch{}Ie=!1}Ie||(E=null)}}else j=="mouseover"?E=m.fromElement:j=="mouseout"&&(E=m.toElement);this.relatedTarget=E,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ge[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ue.aa.h.call(this)}}A(ue,G);var ge={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Te=0;function De(m,E,j,ee,Ie){this.listener=m,this.proxy=null,this.src=E,this.type=j,this.capture=!!ee,this.ha=Ie,this.key=++Te,this.da=this.fa=!1}function Ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Qe(m){this.src=m,this.g={},this.h=0}Qe.prototype.add=function(m,E,j,ee,Ie){var Oe=m.toString();m=this.g[Oe],m||(m=this.g[Oe]=[],this.h++);var it=ot(m,E,ee,Ie);return-1<it?(E=m[it],j||(E.fa=!1)):(E=new De(E,this.src,Oe,!!ee,Ie),E.fa=j,m.push(E)),E};function ct(m,E){var j=E.type;if(j in m.g){var ee=m.g[j],Ie=Array.prototype.indexOf.call(ee,E,void 0),Oe;(Oe=0<=Ie)&&Array.prototype.splice.call(ee,Ie,1),Oe&&(Ve(E),m.g[j].length==0&&(delete m.g[j],m.h--))}}function ot(m,E,j,ee){for(var Ie=0;Ie<m.length;++Ie){var Oe=m[Ie];if(!Oe.da&&Oe.listener==E&&Oe.capture==!!j&&Oe.ha==ee)return Ie}return-1}var vt="closure_lm_"+(1e6*Math.random()|0),ie={};function at(m,E,j,ee,Ie){if(Array.isArray(E)){for(var Oe=0;Oe<E.length;Oe++)at(m,E[Oe],j,ee,Ie);return null}return j=ln(j),m&&m[xe]?m.K(E,j,d(ee)?!!ee.capture:!1,Ie):Ze(m,E,j,!1,ee,Ie)}function Ze(m,E,j,ee,Ie,Oe){if(!E)throw Error("Invalid event type");var it=d(Ie)?!!Ie.capture:!!Ie,Cn=wt(m);if(Cn||(m[vt]=Cn=new Qe(m)),j=Cn.add(E,j,ee,it,Oe),j.proxy)return j;if(ee=Pt(),j.proxy=ee,ee.src=m,ee.listener=j,m.addEventListener)re||(Ie=it),Ie===void 0&&(Ie=!1),m.addEventListener(E.toString(),ee,Ie);else if(m.attachEvent)m.attachEvent(Xe(E.toString()),ee);else if(m.addListener&&m.removeListener)m.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Pt(){function m(j){return E.call(m.src,m.listener,j)}const E=It;return m}function qe(m,E,j,ee,Ie){if(Array.isArray(E))for(var Oe=0;Oe<E.length;Oe++)qe(m,E[Oe],j,ee,Ie);else ee=d(ee)?!!ee.capture:!!ee,j=ln(j),m&&m[xe]?(m=m.i,E=String(E).toString(),E in m.g&&(Oe=m.g[E],j=ot(Oe,j,ee,Ie),-1<j&&(Ve(Oe[j]),Array.prototype.splice.call(Oe,j,1),Oe.length==0&&(delete m.g[E],m.h--)))):m&&(m=wt(m))&&(E=m.g[E.toString()],m=-1,E&&(m=ot(E,j,ee,Ie)),(j=-1<m?E[m]:null)&&bt(j))}function bt(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[xe])ct(E.i,m);else{var j=m.type,ee=m.proxy;E.removeEventListener?E.removeEventListener(j,ee,m.capture):E.detachEvent?E.detachEvent(Xe(j),ee):E.addListener&&E.removeListener&&E.removeListener(ee),(j=wt(E))?(ct(j,m),j.h==0&&(j.src=null,E[vt]=null)):Ve(m)}}}function Xe(m){return m in ie?ie[m]:ie[m]="on"+m}function It(m,E){if(m.da)m=!0;else{E=new ue(E,this);var j=m.listener,ee=m.ha||m.src;m.fa&&bt(m),m=j.call(ee,E)}return m}function wt(m){return m=m[vt],m instanceof Qe?m:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ln(m){return typeof m=="function"?m:(m[wn]||(m[wn]=function(E){return m.handleEvent(E)}),m[wn])}function xt(){F.call(this),this.i=new Qe(this),this.M=this,this.F=null}A(xt,F),xt.prototype[xe]=!0,xt.prototype.removeEventListener=function(m,E,j,ee){qe(this,m,E,j,ee)};function kt(m,E){var j,ee=m.F;if(ee)for(j=[];ee;ee=ee.F)j.push(ee);if(m=m.M,ee=E.type||E,typeof E=="string")E=new G(E,m);else if(E instanceof G)E.target=E.target||m;else{var Ie=E;E=new G(ee,m),B(E,Ie)}if(Ie=!0,j)for(var Oe=j.length-1;0<=Oe;Oe--){var it=E.g=j[Oe];Ie=Qt(it,ee,!0,E)&&Ie}if(it=E.g=m,Ie=Qt(it,ee,!0,E)&&Ie,Ie=Qt(it,ee,!1,E)&&Ie,j)for(Oe=0;Oe<j.length;Oe++)it=E.g=j[Oe],Ie=Qt(it,ee,!1,E)&&Ie}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var j=m.g[E],ee=0;ee<j.length;ee++)Ve(j[ee]);delete m.g[E],m.h--}}this.F=null},xt.prototype.K=function(m,E,j,ee){return this.i.add(String(m),E,!1,j,ee)},xt.prototype.L=function(m,E,j,ee){return this.i.add(String(m),E,!0,j,ee)};function Qt(m,E,j,ee){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var Ie=!0,Oe=0;Oe<E.length;++Oe){var it=E[Oe];if(it&&!it.da&&it.capture==j){var Cn=it.listener,Nr=it.ha||it.src;it.fa&&ct(m.i,it),Ie=Cn.call(Nr,ee)!==!1&&Ie}}return Ie&&!ee.defaultPrevented}function ht(m,E,j){if(typeof m=="function")j&&(m=_(m,j));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(m,E||0)}function qt(m){m.g=ht(()=>{m.g=null,m.i&&(m.i=!1,qt(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class yt extends F{constructor(E,j){super(),this.m=E,this.l=j,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xn(m){F.call(this),this.h=m,this.g={}}A(Xn,F);var mn=[];function en(m){de(m.g,function(E,j){this.g.hasOwnProperty(j)&&bt(E)},m),m.g={}}Xn.prototype.N=function(){Xn.aa.N.call(this),en(this)},Xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tn=c.JSON.stringify,On=c.JSON.parse,Dt=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Nn(){}Nn.prototype.h=null;function Bt(m){return m.h||(m.h=m.i())}function Wt(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ht(){G.call(this,"d")}A(Ht,G);function Rt(){G.call(this,"c")}A(Rt,G);var fn={},Vs=null;function vr(){return Vs=Vs||new xt}fn.La="serverreachability";function Di(m){G.call(this,fn.La,m)}A(Di,G);function ti(m){const E=vr();kt(E,new Di(E))}fn.STAT_EVENT="statevent";function Vt(m,E){G.call(this,fn.STAT_EVENT,m),this.stat=E}A(Vt,G);function Fn(m){const E=vr();kt(E,new Vt(E,m))}fn.Ma="timingevent";function $i(m,E){G.call(this,fn.Ma,m),this.size=E}A($i,G);function br(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function Yn(m,E,j,ee,Ie,Oe){m.info(function(){if(m.g)if(Oe)for(var it="",Cn=Oe.split("&"),Nr=0;Nr<Cn.length;Nr++){var yn=Cn[Nr].split("=");if(1<yn.length){var Rn=yn[0];yn=yn[1];var nr=Rn.split("_");it=2<=nr.length&&nr[1]=="type"?it+(Rn+"="+yn+"&"):it+(Rn+"=redacted&")}}else it=null;else it=Oe;return"XMLHTTP REQ ("+ee+") [attempt "+Ie+"]: "+E+`
`+j+`
`+it})}function yr(m,E,j,ee,Ie,Oe,it){m.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+Ie+"]: "+E+`
`+j+`
`+Oe+" "+it})}function jn(m,E,j,ee){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+to(m,j)+(ee?" "+ee:"")})}function Us(m,E){m.info(function(){return"TIMEOUT: "+E})}ni.prototype.info=function(){};function to(m,E){if(!m.g)return E;if(!E)return null;try{var j=JSON.parse(E);if(j){for(m=0;m<j.length;m++)if(Array.isArray(j[m])){var ee=j[m];if(!(2>ee.length)){var Ie=ee[1];if(Array.isArray(Ie)&&!(1>Ie.length)){var Oe=Ie[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var it=1;it<Ie.length;it++)Ie[it]=""}}}}return tn(j)}catch{return E}}var Si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ee;function We(){}A(We,Nn),We.prototype.g=function(){return new XMLHttpRequest},We.prototype.i=function(){return{}},Ee=new We;function Ke(m,E,j,ee){this.j=m,this.i=E,this.l=j,this.R=ee||1,this.U=new Xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mt}function Mt(){this.i=null,this.g="",this.h=!1}var ut={},Bn={};function An(m,E,j){m.L=1,m.v=xo($r(E)),m.m=j,m.P=!0,Gn(m,null)}function Gn(m,E){m.F=Date.now(),nn(m),m.A=$r(m.v);var j=m.A,ee=m.R;Array.isArray(ee)||(ee=[String(ee)]),$o(j.i,"t",ee),m.C=0,j=m.j.J,m.h=new Mt,m.g=Fr(m.j,j?E:null,!m.m),0<m.O&&(m.M=new yt(_(m.Y,m,m.g),m.O)),E=m.U,j=m.g,ee=m.ca;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(mn[0]=Ie.toString()),Ie=mn);for(var Oe=0;Oe<Ie.length;Oe++){var it=at(j,Ie[Oe],ee||E.handleEvent,!1,E.h||E);if(!it)break;E.g[it.key]=it}E=m.H?O(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),ti(),Yn(m.i,m.u,m.A,m.l,m.R,m.m)}Ke.prototype.ca=function(m){m=m.target;const E=this.M;E&&ki(m)==3?E.j():this.Y(m)},Ke.prototype.Y=function(m){try{if(m==this.g)e:{const nr=ki(this.g);var E=this.g.Ba();const ji=this.g.Z();if(!(3>nr)&&(nr!=3||this.g&&(this.h.h||this.g.oa()||Va(this.g)))){this.J||nr!=4||E==7||(E==8||0>=ji?ti(3):ti(2)),mr(this);var j=this.g.Z();this.X=j;t:if(ri(this)){var ee=Va(this.g);m="";var Ie=ee.length,Oe=ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),Vn(this);var it="";break t}this.h.i=new c.TextDecoder}for(E=0;E<Ie;E++)this.h.h=!0,m+=this.h.i.decode(ee[E],{stream:!(Oe&&E==Ie-1)});ee.length=0,this.h.g+=m,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=j==200,yr(this.i,this.u,this.A,this.l,this.R,nr,j),this.o){if(this.T&&!this.K){t:{if(this.g){var Cn,Nr=this.g;if((Cn=Nr.g?Nr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Cn)){var yn=Cn;break t}}yn=null}if(j=yn)jn(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,no(this,j);else{this.o=!1,this.s=3,Fn(12),Mr(this),Vn(this);break e}}if(this.P){j=!0;let Qi;for(;!this.J&&this.C<it.length;)if(Qi=Yi(this,it),Qi==Bn){nr==4&&(this.s=4,Fn(14),j=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Qi==ut){this.s=4,Fn(15),jn(this.i,this.l,it,"[Invalid Chunk]"),j=!1;break}else jn(this.i,this.l,Qi,null),no(this,Qi);if(ri(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nr!=4||it.length!=0||this.h.h||(this.s=1,Fn(16),j=!1),this.o=this.o&&j,!j)jn(this.i,this.l,it,"[Invalid Chunked Response]"),Mr(this),Vn(this);else if(0<it.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),pt(Rn),Rn.M=!0,Fn(11))}}else jn(this.i,this.l,it,null),no(this,it);nr==4&&Mr(this),this.o&&!this.J&&(nr==4?Xt(this.j,this):(this.o=!1,nn(this)))}else da(this.g),j==400&&0<it.indexOf("Unknown SID")?(this.s=3,Fn(12)):(this.s=0,Fn(13)),Mr(this),Vn(this)}}}catch{}};function ri(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Yi(m,E){var j=m.C,ee=E.indexOf(`
`,j);return ee==-1?Bn:(j=Number(E.substring(j,ee)),isNaN(j)?ut:(ee+=1,ee+j>E.length?Bn:(E=E.slice(ee,ee+j),m.C=ee+j,E)))}Ke.prototype.cancel=function(){this.J=!0,Mr(this)};function nn(m){m.S=Date.now()+m.I,Rr(m,m.I)}function Rr(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=br(_(m.ba,m),E)}function mr(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Ke.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Us(this.i,this.A),this.L!=2&&(ti(),Fn(17)),Mr(this),this.s=2,Vn(this)):Rr(this,this.S-m)};function Vn(m){m.j.G==0||m.J||Xt(m.j,m)}function Mr(m){mr(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,en(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function no(m,E){try{var j=m.j;if(j.G!=0&&(j.g==m||xr(j.h,m))){if(!m.K&&xr(j.h,m)&&j.G==3){try{var ee=j.Da.g.parse(E)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var Ie=ee;if(Ie[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<m.F)$t(j),Fi(j);else break e;Ge(j),Fn(18)}}else j.za=Ie[1],0<j.za-j.T&&37500>Ie[2]&&j.F&&j.v==0&&!j.C&&(j.C=br(_(j.Za,j),6e3));if(1>=wl(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Un(j,11)}else if((m.K||j.g==m)&&$t(j),!W(E))for(Ie=j.Da.g.parse(E),E=0;E<Ie.length;E++){let yn=Ie[E];if(j.T=yn[0],yn=yn[1],j.G==2)if(yn[0]=="c"){j.K=yn[1],j.ia=yn[2];const Rn=yn[3];Rn!=null&&(j.la=Rn,j.j.info("VER="+j.la));const nr=yn[4];nr!=null&&(j.Aa=nr,j.j.info("SVER="+j.Aa));const ji=yn[5];ji!=null&&typeof ji=="number"&&0<ji&&(ee=1.5*ji,j.L=ee,j.j.info("backChannelRequestTimeoutMs_="+ee)),ee=j;const Qi=m.g;if(Qi){const Ai=Qi.g?Qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var Oe=ee.h;Oe.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Vo(Oe,Oe.h),Oe.h=null))}if(ee.D){const ao=Qi.g?Qi.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(ee.ya=ao,xn(ee.I,ee.D,ao))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-m.F,j.j.info("Handshake RTT: "+j.R+"ms")),ee=j;var it=m;if(ee.qa=Jn(ee,ee.J?ee.ia:null,ee.W),it.K){ic(ee.h,it);var Cn=it,Nr=ee.L;Nr&&(Cn.I=Nr),Cn.B&&(mr(Cn),nn(Cn)),ee.g=it}else He(ee);0<j.i.length&&b(j)}else yn[0]!="stop"&&yn[0]!="close"||Un(j,7);else j.G==3&&(yn[0]=="stop"||yn[0]=="close"?yn[0]=="stop"?Un(j,7):si(j):yn[0]!="noop"&&j.l&&j.l.ta(yn),j.v=0)}}ti(4)}catch{}}var Gi=class{constructor(m,E){this.g=m,this.map=E}};function ys(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ki(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function wl(m){return m.h?1:m.g?m.g.size:0}function xr(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Vo(m,E){m.g?m.g.add(E):m.h=E}function ic(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}ys.prototype.cancel=function(){if(this.i=Cr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Cr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const j of m.g.values())E=E.concat(j.D);return E}return P(m.i)}function ua(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(u(m)){for(var E=[],j=m.length,ee=0;ee<j;ee++)E.push(m[ee]);return E}E=[],j=0;for(ee in m)E[j++]=m[ee];return E}function os(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(u(m)||typeof m=="string"){var E=[];m=m.length;for(var j=0;j<m;j++)E.push(j);return E}E=[],j=0;for(const ee in m)E[j++]=ee;return E}}}function zs(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(u(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var j=os(m),ee=ua(m),Ie=ee.length,Oe=0;Oe<Ie;Oe++)E.call(void 0,ee[Oe],j&&j[Oe],m)}var Uo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(m,E){if(m){m=m.split("&");for(var j=0;j<m.length;j++){var ee=m[j].indexOf("="),Ie=null;if(0<=ee){var Oe=m[j].substring(0,ee);Ie=m[j].substring(ee+1)}else Oe=m[j];E(Oe,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function or(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof or){this.h=m.h,zo(this,m.j),this.o=m.o,this.g=m.g,qo(this,m.s),this.l=m.l;var E=m.i,j=new ii;j.i=E.i,E.g&&(j.g=new Map(E.g),j.h=E.h),Ho(this,j),this.m=m.m}else m&&(E=String(m).match(Uo))?(this.h=!1,zo(this,E[1]||"",!0),this.o=vn(E[2]||""),this.g=vn(E[3]||"",!0),qo(this,E[4]),this.l=vn(E[5]||"",!0),Ho(this,E[6]||"",!0),this.m=vn(E[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}or.prototype.toString=function(){var m=[],E=this.j;E&&m.push(qs(E,Ma,!0),":");var j=this.g;return(j||E=="file")&&(m.push("//"),(E=this.o)&&m.push(qs(E,Ma,!0),"@"),m.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&m.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&m.push("/"),m.push(qs(j,j.charAt(0)=="/"?oc:sc,!0))),(j=this.i.toString())&&m.push("?",j),(j=this.m)&&m.push("#",qs(j,Fa)),m.join("")};function $r(m){return new or(m)}function zo(m,E,j){m.j=j?vn(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function qo(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function Ho(m,E,j){E instanceof ii?(m.i=E,ro(m.i,m.h)):(j||(E=qs(E,Oa)),m.i=new ii(E,m.h))}function xn(m,E,j){m.i.set(E,j)}function xo(m){return xn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function vn(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function qs(m,E,j){return typeof m=="string"?(m=encodeURI(m).replace(E,Wo),j&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Wo(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ma=/[#\/\?@]/g,sc=/[#\?:]/g,oc=/[#\?]/g,Oa=/[#\?@]/g,Fa=/#/g;function ii(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function fi(m){m.g||(m.g=new Map,m.h=0,m.i&&ws(m.i,function(E,j){m.add(decodeURIComponent(E.replace(/\+/g," ")),j)}))}r=ii.prototype,r.add=function(m,E){fi(this),this.i=null,m=Ut(this,m);var j=this.g.get(m);return j||this.g.set(m,j=[]),j.push(E),this.h+=1,this};function Li(m,E){fi(m),E=Ut(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function as(m,E){return fi(m),E=Ut(m,E),m.g.has(E)}r.forEach=function(m,E){fi(this),this.g.forEach(function(j,ee){j.forEach(function(Ie){m.call(E,Ie,ee,this)},this)},this)},r.na=function(){fi(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),j=[];for(let ee=0;ee<E.length;ee++){const Ie=m[ee];for(let Oe=0;Oe<Ie.length;Oe++)j.push(E[ee])}return j},r.V=function(m){fi(this);let E=[];if(typeof m=="string")as(this,m)&&(E=E.concat(this.g.get(Ut(this,m))));else{m=Array.from(this.g.values());for(let j=0;j<m.length;j++)E=E.concat(m[j])}return E},r.set=function(m,E){return fi(this),this.i=null,m=Ut(this,m),as(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},r.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function $o(m,E,j){Li(m,E),0<j.length&&(m.i=null,m.g.set(Ut(m,E),P(j)),m.h+=j.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var j=0;j<E.length;j++){var ee=E[j];const Oe=encodeURIComponent(String(ee)),it=this.V(ee);for(ee=0;ee<it.length;ee++){var Ie=Oe;it[ee]!==""&&(Ie+="="+encodeURIComponent(String(it[ee]))),m.push(Ie)}}return this.i=m.join("&")};function Ut(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function ro(m,E){E&&!m.j&&(fi(m),m.i=null,m.g.forEach(function(j,ee){var Ie=ee.toLowerCase();ee!=Ie&&(Li(this,ee),$o(this,Ie,j))},m)),m.j=E}function su(m,E){const j=new ni;if(c.Image){const ee=new Image;ee.onload=g(Or,j,"TestLoadImage: loaded",!0,E,ee),ee.onerror=g(Or,j,"TestLoadImage: error",!1,E,ee),ee.onabort=g(Or,j,"TestLoadImage: abort",!1,E,ee),ee.ontimeout=g(Or,j,"TestLoadImage: timeout",!1,E,ee),c.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=m}else E(!1)}function ac(m,E){const j=new ni,ee=new AbortController,Ie=setTimeout(()=>{ee.abort(),Or(j,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:ee.signal}).then(Oe=>{clearTimeout(Ie),Oe.ok?Or(j,"TestPingServer: ok",!0,E):Or(j,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Ie),Or(j,"TestPingServer: error",!1,E)})}function Or(m,E,j,ee,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),ee(j)}catch{}}function So(){this.g=new Dt}function lc(m,E,j){const ee=j||"";try{zs(m,function(Ie,Oe){let it=Ie;d(Ie)&&(it=tn(Ie)),E.push(ee+Oe+"="+encodeURIComponent(it))})}catch(Ie){throw E.push(ee+"type="+encodeURIComponent("_badmap")),Ie}}function ko(m){this.l=m.Ub||null,this.j=m.eb||!1}A(ko,Nn),ko.prototype.g=function(){return new io(this.l,this.j)},ko.prototype.i=(function(m){return function(){return m}})({});function io(m,E){xt.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(io,xt),r=io.prototype,r.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,Hs(this)},r.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},r.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Hs(this)),this.g&&(this.readyState=3,Hs(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ja(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ja(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}r.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Ri(this):Hs(this),this.readyState==3&&ja(this)}},r.Ra=function(m){this.g&&(this.response=this.responseText=m,Ri(this))},r.Qa=function(m){this.g&&(this.response=m,Ri(this))},r.ga=function(){this.g&&Ri(this)};function Ri(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Hs(m)}r.setRequestHeader=function(m,E){this.u.append(m,E)},r.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var j=E.next();!j.done;)j=j.value,m.push(j[0]+": "+j[1]),j=E.next();return m.join(`\r
`)};function Hs(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Mi(m){let E="";return de(m,function(j,ee){E+=ee,E+=":",E+=j,E+=`\r
`}),E}function Yo(m,E,j){e:{for(ee in j){var ee=!1;break e}ee=!0}ee||(j=Mi(j),typeof m=="string"?j!=null&&encodeURIComponent(String(j)):xn(m,E,j))}function tr(m){xt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(tr,xt);var _l=/^https?$/i,Ba=["POST","PUT"];r=tr.prototype,r.Ha=function(m){this.J=m},r.ea=function(m,E,j,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ee.g(),this.v=this.o?Bt(this.o):Bt(Ee),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(Oe){ls(this,Oe);return}if(m=j||"",j=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var Ie in ee)j.set(Ie,ee[Ie]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const Oe of ee.keys())j.set(Oe,ee.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(j.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),Ie=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ba,E,void 0))||ee||Ie||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,it]of j)this.g.setRequestHeader(Oe,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{so(this),this.u=!0,this.g.send(m),this.u=!1}catch(Oe){ls(this,Oe)}};function ls(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,Go(m),Oi(m)}function Go(m){m.A||(m.A=!0,kt(m,"complete"),kt(m,"error"))}r.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,kt(this,"complete"),kt(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),tr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ko(this):this.bb())},r.bb=function(){Ko(this)};function Ko(m){if(m.h&&typeof a<"u"&&(!m.v[1]||ki(m)!=4||m.Z()!=2)){if(m.u&&ki(m)==4)ht(m.Ea,0,m);else if(kt(m,"readystatechange"),ki(m)==4){m.h=!1;try{const it=m.Z();e:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var j;if(!(j=E)){var ee;if(ee=it===0){var Ie=String(m.D).match(Uo)[1]||null;!Ie&&c.self&&c.self.location&&(Ie=c.self.location.protocol.slice(0,-1)),ee=!_l.test(Ie?Ie.toLowerCase():"")}j=ee}if(j)kt(m,"complete"),kt(m,"success");else{m.m=6;try{var Oe=2<ki(m)?m.g.statusText:""}catch{Oe=""}m.l=Oe+" ["+m.Z()+"]",Go(m)}}finally{Oi(m)}}}}function Oi(m,E){if(m.g){so(m);const j=m.g,ee=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||kt(m,"ready");try{j.onreadystatechange=ee}catch{}}}function so(m){m.I&&(c.clearTimeout(m.I),m.I=null)}r.isActive=function(){return!!this.g};function ki(m){return m.g?m.g.readyState:0}r.Z=function(){try{return 2<ki(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),On(E)}};function Va(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function da(m){const E={};m=(m.g&&2<=ki(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<m.length;ee++){if(W(m[ee]))continue;var j=N(m[ee]);const Ie=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Oe=E[Ie]||[];E[Ie]=Oe,Oe.push(j)}H(E,function(ee){return ee.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(m,E,j){return j&&j.internalChannelParams&&j.internalChannelParams[m]||E}function Ws(m){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ei("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ei("baseRetryDelayMs",5e3,m),this.cb=Ei("retryDelaySeedMs",1e4,m),this.Wa=Ei("forwardChannelMaxRetries",2,m),this.wa=Ei("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ys(m&&m.concurrentRequestLimit),this.Da=new So,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ws.prototype,r.la=8,r.G=1,r.connect=function(m,E,j,ee){Fn(0),this.W=m,this.H=E||{},j&&ee!==void 0&&(this.H.OSID=j,this.H.OAID=ee),this.F=this.X,this.I=Jn(this,null,this.W),b(this)};function si(m){if(ha(m),m.G==3){var E=m.U++,j=$r(m.I);if(xn(j,"SID",m.K),xn(j,"RID",E),xn(j,"TYPE","terminate"),ye(m,j),E=new Ke(m,m.j,E),E.L=2,E.v=xo($r(j)),j=!1,c.navigator&&c.navigator.sendBeacon)try{j=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!j&&c.Image&&(new Image().src=E.v,j=!0),j||(E.g=Fr(E.j,null),E.g.ea(E.v)),E.F=Date.now(),nn(E)}Ir(m)}function Fi(m){m.g&&(pt(m),m.g.cancel(),m.g=null)}function ha(m){Fi(m),m.u&&(c.clearTimeout(m.u),m.u=null),$t(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function b(m){if(!Ki(m.h)&&!m.s){m.s=!0;var E=m.Ga;oe||he(),Q||(oe(),Q=!0),fe.add(E,m),m.B=0}}function V(m,E){return wl(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=br(_(m.Ga,m,E),Sn(m,m.B)),m.B++,!0)}r.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Ie=new Ke(this,this.j,m);let Oe=this.o;if(this.S&&(Oe?(Oe=O(Oe),B(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(Ie.H=Oe,Oe=null),this.P)e:{for(var E=0,j=0;j<this.i.length;j++){t:{var ee=this.i[j];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(E+=ee,4096<E){E=j;break e}if(E===4096||j===this.i.length-1){E=j+1;break e}}E=1e3}else E=1e3;E=Ae(this,Ie,E),j=$r(this.I),xn(j,"RID",m),xn(j,"CVER",22),this.D&&xn(j,"X-HTTP-Session-Id",this.D),ye(this,j),Oe&&(this.O?E="headers="+encodeURIComponent(String(Mi(Oe)))+"&"+E:this.m&&Yo(j,this.m,Oe)),Vo(this.h,Ie),this.Ua&&xn(j,"TYPE","init"),this.P?(xn(j,"$req",E),xn(j,"SID","null"),Ie.T=!0,An(Ie,j,null)):An(Ie,j,E),this.G=2}}else this.G==3&&(m?ce(this,m):this.i.length==0||Ki(this.h)||ce(this))};function ce(m,E){var j;E?j=E.l:j=m.U++;const ee=$r(m.I);xn(ee,"SID",m.K),xn(ee,"RID",j),xn(ee,"AID",m.T),ye(m,ee),m.m&&m.o&&Yo(ee,m.m,m.o),j=new Ke(m,m.j,j,m.B+1),m.m===null&&(j.H=m.o),E&&(m.i=E.D.concat(m.i)),E=Ae(m,j,1e3),j.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Vo(m.h,j),An(j,ee,E)}function ye(m,E){m.H&&de(m.H,function(j,ee){xn(E,ee,j)}),m.l&&zs({},function(j,ee){xn(E,ee,j)})}function Ae(m,E,j){j=Math.min(m.i.length,j);var ee=m.l?_(m.l.Na,m.l,m):null;e:{var Ie=m.i;let Oe=-1;for(;;){const it=["count="+j];Oe==-1?0<j?(Oe=Ie[0].g,it.push("ofs="+Oe)):Oe=0:it.push("ofs="+Oe);let Cn=!0;for(let Nr=0;Nr<j;Nr++){let yn=Ie[Nr].g;const Rn=Ie[Nr].map;if(yn-=Oe,0>yn)Oe=Math.max(0,Ie[Nr].g-100),Cn=!1;else try{lc(Rn,it,"req"+yn+"_")}catch{ee&&ee(Rn)}}if(Cn){ee=it.join("&");break e}}}return m=m.i.splice(0,j),E.D=m,ee}function He(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;oe||he(),Q||(oe(),Q=!0),fe.add(E,m),m.v=0}}function Ge(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=br(_(m.Fa,m),Sn(m,m.v)),m.v++,!0)}r.Fa=function(){if(this.u=null,Et(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=br(_(this.ab,this),m)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fn(10),Fi(this),Et(this))};function pt(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Et(m){m.g=new Ke(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=$r(m.qa);xn(E,"RID","rpc"),xn(E,"SID",m.K),xn(E,"AID",m.T),xn(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&xn(E,"TO",m.ja),xn(E,"TYPE","xmlhttp"),ye(m,E),m.m&&m.o&&Yo(E,m.m,m.o),m.L&&(m.g.I=m.L);var j=m.g;m=m.ia,j.L=1,j.v=xo($r(E)),j.m=null,j.P=!0,Gn(j,m)}r.Za=function(){this.C!=null&&(this.C=null,Fi(this),Ge(this),Fn(19))};function $t(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Xt(m,E){var j=null;if(m.g==E){$t(m),pt(m),m.g=null;var ee=2}else if(xr(m.h,E))j=E.D,ic(m.h,E),ee=1;else return;if(m.G!=0){if(E.o)if(ee==1){j=E.m?E.m.length:0,E=Date.now()-E.F;var Ie=m.B;ee=vr(),kt(ee,new $i(ee,j)),b(m)}else He(m);else if(Ie=E.s,Ie==3||Ie==0&&0<E.X||!(ee==1&&V(m,E)||ee==2&&Ge(m)))switch(j&&0<j.length&&(E=m.h,E.i=E.i.concat(j)),Ie){case 1:Un(m,5);break;case 4:Un(m,10);break;case 3:Un(m,6);break;default:Un(m,2)}}}function Sn(m,E){let j=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(j*=2),j*E}function Un(m,E){if(m.j.info("Error code "+E),E==2){var j=_(m.fb,m),ee=m.Xa;const Ie=!ee;ee=new or(ee||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||zo(ee,"https"),xo(ee),Ie?su(ee.toString(),j):ac(ee.toString(),j)}else Fn(2);m.G=0,m.l&&m.l.sa(E),Ir(m),ha(m)}r.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Fn(2)):(this.j.info("Failed to ping google.com"),Fn(1))};function Ir(m){if(m.G=0,m.ka=[],m.l){const E=Cr(m.h);(E.length!=0||m.i.length!=0)&&(I(m.ka,E),I(m.ka,m.i),m.h.i.length=0,P(m.i),m.i.length=0),m.l.ra()}}function Jn(m,E,j){var ee=j instanceof or?$r(j):new or(j);if(ee.g!="")E&&(ee.g=E+"."+ee.g),qo(ee,ee.s);else{var Ie=c.location;ee=Ie.protocol,E=E?E+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;var Oe=new or(null);ee&&zo(Oe,ee),E&&(Oe.g=E),Ie&&qo(Oe,Ie),j&&(Oe.l=j),ee=Oe}return j=m.D,E=m.ya,j&&E&&xn(ee,j,E),xn(ee,"VER",m.la),ye(m,ee),ee}function Fr(m,E,j){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new tr(new ko({eb:j})):new tr(m.pa),E.Ha(m.J),E}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sr(){}r=Sr.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function jr(){}jr.prototype.g=function(m,E){return new Tr(m,E)};function Tr(m,E){xt.call(this),this.g=new Ws(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!W(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!W(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new bs(this)}A(Tr,xt),Tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){si(this.g)},Tr.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var j={};j.__data__=m,m=j}else this.u&&(j={},j.__data__=tn(m),m=j);E.i.push(new Gi(E.Ya++,m)),E.G==3&&b(E)},Tr.prototype.N=function(){this.g.l=null,delete this.j,si(this.g),delete this.g,Tr.aa.N.call(this)};function _s(m){Ht.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const j in E){m=j;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}A(_s,Ht);function oo(){Rt.call(this),this.status=1}A(oo,Rt);function bs(m){this.g=m}A(bs,Sr),bs.prototype.ua=function(){kt(this.g,"a")},bs.prototype.ta=function(m){kt(this.g,new _s(m))},bs.prototype.sa=function(m){kt(this.g,new oo)},bs.prototype.ra=function(){kt(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,_x=function(){return new jr},wx=function(){return vr()},yx=fn,L1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,sm=Si,se.COMPLETE="complete",vx=se,Wt.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",xt.prototype.listen=xt.prototype.K,rf=Wt,tr.prototype.listenOnce=tr.prototype.L,tr.prototype.getLastError=tr.prototype.Ka,tr.prototype.getLastErrorCode=tr.prototype.Ba,tr.prototype.getStatus=tr.prototype.Z,tr.prototype.getResponseJson=tr.prototype.Oa,tr.prototype.getResponseText=tr.prototype.oa,tr.prototype.send=tr.prototype.ea,tr.prototype.setWithCredentials=tr.prototype.Ha,gx=tr}).apply(typeof Dp<"u"?Dp:typeof self<"u"?self:typeof window<"u"?window:{});const _w="@firebase/firestore";class Fs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fs.UNAUTHENTICATED=new Fs(null),Fs.GOOGLE_CREDENTIALS=new Fs("google-credentials-uid"),Fs.FIRST_PARTY=new Fs("first-party-uid"),Fs.MOCK_USER=new Fs("mock-user");let yh="10.14.0";const qu=new wv("@firebase/firestore");function Gh(){return qu.logLevel}function Nt(r,...e){if(qu.logLevel<=Ln.DEBUG){const t=e.map(Pv);qu.debug(`Firestore (${yh}): ${r}`,...t)}}function Jl(r,...e){if(qu.logLevel<=Ln.ERROR){const t=e.map(Pv);qu.error(`Firestore (${yh}): ${r}`,...t)}}function Xd(r,...e){if(qu.logLevel<=Ln.WARN){const t=e.map(Pv);qu.warn(`Firestore (${yh}): ${r}`,...t)}}function Pv(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function on(r="Unexpected state"){const e=`FIRESTORE (${yh}) INTERNAL ASSERTION FAILED: `+r;throw Jl(e),new Error(e)}function fr(r,e){r||on()}function hn(r,e){return r}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends nc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class bx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Fs.UNAUTHENTICATED)))}shutdown(){}}class g3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class v3{constructor(e){this.t=e,this.currentUser=Fs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){fr(this.o===void 0);let n=this.i;const i=u=>this.i!==n?(n=this.i,t(u)):Promise.resolve();let s=new Fu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fu,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fu)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(fr(typeof n.accessToken=="string"),new bx(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fr(e===null||typeof e=="string"),new Fs(e)}}class y3{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Fs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class w3{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new y3(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Fs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){fr(this.o===void 0);const n=s=>{s.error!=null&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Nt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(fr(typeof t.token=="string"),this.R=t.token,new _3(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x3(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}class xx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=x3(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<t&&(n+=e.charAt(i[s]%e.length))}return n}}function Qn(r,e){return r<e?-1:r>e?1:0}function Jd(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}class Hi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new zt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hi.fromMillis(Date.now())}static fromDate(e){return Hi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Hi(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qn(this.nanoseconds,e.nanoseconds):Qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dn(e)}static min(){return new dn(new Hi(0,0))}static max(){return new dn(new Hi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xf{constructor(e,t,n){t===void 0?t=0:t>e.length&&on(),n===void 0?n=e.length-t:n>e.length-t&&on(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return xf.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xf?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wr extends xf{construct(e,t,n){return new Wr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new zt(tt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new Wr(t)}static emptyPath(){return new Wr([])}}const S3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ps extends xf{construct(e,t,n){return new ps(e,t,n)}static isValidIdentifier(e){return S3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ps.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ps(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const s=()=>{if(n.length===0)throw new zt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new zt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new zt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(n+=c,i++):(s(),i++)}if(s(),a)throw new zt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ps(t)}static emptyPath(){return new ps([])}}class Kt{constructor(e){this.path=e}static fromPath(e){return new Kt(Wr.fromString(e))}static fromName(e){return new Kt(Wr.fromString(e).popFirst(5))}static empty(){return new Kt(Wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Wr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Kt(new Wr(e.slice()))}}function k3(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=dn.fromTimestamp(n===1e9?new Hi(t+1,0):new Hi(t,n));return new Xc(i,Kt.empty(),e)}function E3(r){return new Xc(r.readTime,r.key,-1)}class Xc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Xc(dn.min(),Kt.empty(),-1)}static max(){return new Xc(dn.max(),Kt.empty(),-1)}}function A3(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Kt.comparator(r.documentKey,e.documentKey),t!==0?t:Qn(r.largestBatchId,e.largestBatchId))}const C3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Bf(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==C3)throw r;Nt("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&on(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.reject(t)}static resolve(e){return new nt(((t,n)=>{t(e)}))}static reject(e){return new nt(((t,n)=>{n(e)}))}static waitFor(e){return new nt(((t,n)=>{let i=0,s=0,a=!1;e.forEach((c=>{++i,c.next((()=>{++s,a&&s===i&&t()}),(u=>n(u)))})),a=!0,s===i&&t()}))}static or(e){let t=nt.resolve(!1);for(const n of e)t=t.next((i=>i?nt.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,s)=>{n.push(t.call(this,i,s))})),this.waitFor(n)}static mapArray(e,t){return new nt(((n,i)=>{const s=e.length,a=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;t(e[d]).next((f=>{a[d]=f,++c,c===s&&n(a)}),(f=>i(f)))}}))}static doWhile(e,t){return new nt(((n,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):n()};s()}))}}function T3(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vf(r){return r.name==="IndexedDbTransactionError"}class Dv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dv.oe=-1;function ug(r){return r==null}function Tm(r){return r===0&&1/r==-1/0}function N3(r){return typeof r=="number"&&Number.isInteger(r)&&!Tm(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function bw(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Xu(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Sx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ei{constructor(e,t){this.comparator=e,this.root=t||fs.EMPTY}insert(e,t){return new ei(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lp(this.root,e,this.comparator,!0)}}class Lp{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=n??fs.RED,this.left=i??fs.EMPTY,this.right=s??fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new fs(e??this.key,t??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return fs.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw on();const e=this.left.check();if(e!==this.right.check())throw on();return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1;fs.EMPTY=new class{constructor(){this.size=0}get key(){throw on()}get value(){throw on()}get color(){throw on()}get left(){throw on()}get right(){throw on()}copy(e,t,n,i,s){return this}insert(e,t,n){return new fs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ms{constructor(e){this.comparator=e,this.data=new ei(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xw(this.data.getIterator())}getIteratorFrom(e){return new xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof ms)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ms(this.comparator);return t.data=e,t}}class xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mo{constructor(e){this.fields=e,e.sort(ps.comparator)}static empty(){return new Mo([])}unionWith(e){let t=new ms(ps.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Mo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jd(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class kx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kx("Invalid base64 string: "+s):s}})(e);return new gs(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new gs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gs.EMPTY_BYTE_STRING=new gs("");const P3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jc(r){if(fr(!!r),typeof r=="string"){let e=0;const t=P3.exec(r);if(fr(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:vi(r.seconds),nanos:vi(r.nanos)}}function vi(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hu(r){return typeof r=="string"?gs.fromBase64String(r):gs.fromUint8Array(r)}function Lv(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Rv(r){const e=r.mapValue.fields.__previous_value__;return Lv(e)?Rv(e):e}function Sf(r){const e=Jc(r.mapValue.fields.__local_write_time__.timestampValue);return new Hi(e.seconds,e.nanos)}class D3{constructor(e,t,n,i,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}class kf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kf&&e.projectId===this.projectId&&e.database===this.database}}const Rp={mapValue:{}};function Wu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lv(r)?4:R3(r)?9007199254740991:L3(r)?10:11:on()}function pl(r,e){if(r===e)return!0;const t=Wu(r);if(t!==Wu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Sf(r).isEqual(Sf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Jc(i.timestampValue),c=Jc(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,s){return Hu(i.bytesValue).isEqual(Hu(s.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,s){return vi(i.geoPointValue.latitude)===vi(s.geoPointValue.latitude)&&vi(i.geoPointValue.longitude)===vi(s.geoPointValue.longitude)})(r,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return vi(i.integerValue)===vi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=vi(i.doubleValue),c=vi(s.doubleValue);return a===c?Tm(a)===Tm(c):isNaN(a)&&isNaN(c)}return!1})(r,e);case 9:return Jd(r.arrayValue.values||[],e.arrayValue.values||[],pl);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(bw(a)!==bw(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!pl(a[u],c[u])))return!1;return!0})(r,e);default:return on()}}function Ef(r,e){return(r.values||[]).find((t=>pl(t,e)))!==void 0}function Zd(r,e){if(r===e)return 0;const t=Wu(r),n=Wu(e);if(t!==n)return Qn(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qn(r.booleanValue,e.booleanValue);case 2:return(function(s,a){const c=vi(s.integerValue||s.doubleValue),u=vi(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(r,e);case 3:return Sw(r.timestampValue,e.timestampValue);case 4:return Sw(Sf(r),Sf(e));case 5:return Qn(r.stringValue,e.stringValue);case 6:return(function(s,a){const c=Hu(s),u=Hu(a);return c.compareTo(u)})(r.bytesValue,e.bytesValue);case 7:return(function(s,a){const c=s.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=Qn(c[d],u[d]);if(f!==0)return f}return Qn(c.length,u.length)})(r.referenceValue,e.referenceValue);case 8:return(function(s,a){const c=Qn(vi(s.latitude),vi(a.latitude));return c!==0?c:Qn(vi(s.longitude),vi(a.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return kw(r.arrayValue,e.arrayValue);case 10:return(function(s,a){var c,u,d,f;const y=s.fields||{},_=a.fields||{},g=(c=y.value)===null||c===void 0?void 0:c.arrayValue,A=(u=_.value)===null||u===void 0?void 0:u.arrayValue,P=Qn(((d=g?.values)===null||d===void 0?void 0:d.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return P!==0?P:kw(g,A)})(r.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Rp.mapValue&&a===Rp.mapValue)return 0;if(s===Rp.mapValue)return 1;if(a===Rp.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let y=0;y<u.length&&y<f.length;++y){const _=Qn(u[y],f[y]);if(_!==0)return _;const g=Zd(c[u[y]],d[f[y]]);if(g!==0)return g}return Qn(u.length,f.length)})(r.mapValue,e.mapValue);default:throw on()}}function Sw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qn(r,e);const t=Jc(r),n=Jc(e),i=Qn(t.seconds,n.seconds);return i!==0?i:Qn(t.nanos,n.nanos)}function kw(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const s=Zd(t[i],n[i]);if(s)return s}return Qn(t.length,n.length)}function eh(r){return R1(r)}function R1(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=Jc(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Hu(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Kt.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const s of t.values||[])i?i=!1:n+=",",n+=R1(s);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${R1(t.fields[a])}`;return i+"}"})(r.mapValue):on()}function M1(r){return!!r&&"integerValue"in r}function Mv(r){return!!r&&"arrayValue"in r}function Ew(r){return!!r&&"nullValue"in r}function Aw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function om(r){return!!r&&"mapValue"in r}function L3(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function df(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Xu(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=df(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=df(r.arrayValue.values[t]);return e}return Object.assign({},r)}function R3(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class wo{constructor(e){this.value=e}static empty(){return new wo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!om(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=df(t)}setAll(e){let t=ps.emptyPath(),n={},i=[];e.forEach(((a,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,n,i),n={},i=[],t=c.popLast()}a?n[c.lastSegment()]=df(a):i.push(c.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());om(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];om(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Xu(t,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new wo(df(this.value))}}function Ex(r){const e=[];return Xu(r.fields,((t,n)=>{const i=new ps([t]);if(om(n)){const s=Ex(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Mo(e)}class js{constructor(e,t,n,i,s,a,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new js(e,0,dn.min(),dn.min(),dn.min(),wo.empty(),0)}static newFoundDocument(e,t,n,i){return new js(e,1,t,dn.min(),n,i,0)}static newNoDocument(e,t){return new js(e,2,t,dn.min(),dn.min(),wo.empty(),0)}static newUnknownDocument(e,t){return new js(e,3,t,dn.min(),dn.min(),wo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(dn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof js&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new js(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nm{constructor(e,t){this.position=e,this.inclusive=t}}function Cw(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const s=e[i],a=r.position[i];if(s.field.isKeyField()?n=Kt.comparator(Kt.fromName(a.referenceValue),t.key):n=Zd(a,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Iw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!pl(r.position[t],e.position[t]))return!1;return!0}class Pm{constructor(e,t="asc"){this.field=e,this.dir=t}}function M3(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}let Ax=class{};class zi extends Ax{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new F3(e,t,n):t==="array-contains"?new V3(e,n):t==="in"?new U3(e,n):t==="not-in"?new z3(e,n):t==="array-contains-any"?new q3(e,n):new zi(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new j3(e,n):new B3(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Zd(t,this.value)):t!==null&&Wu(this.value)===Wu(t)&&this.matchesComparison(Zd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return on()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ml extends Ax{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ml(e,t)}matches(e){return Cx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Cx(r){return r.op==="and"}function Ix(r){return O3(r)&&Cx(r)}function O3(r){for(const e of r.filters)if(e instanceof ml)return!1;return!0}function O1(r){if(r instanceof zi)return r.field.canonicalString()+r.op.toString()+eh(r.value);if(Ix(r))return r.filters.map((e=>O1(e))).join(",");{const e=r.filters.map((t=>O1(t))).join(",");return`${r.op}(${e})`}}function Tx(r,e){return r instanceof zi?(function(n,i){return i instanceof zi&&n.op===i.op&&n.field.isEqual(i.field)&&pl(n.value,i.value)})(r,e):r instanceof ml?(function(n,i){return i instanceof ml&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,a,c)=>s&&Tx(a,i.filters[c])),!0):!1})(r,e):void on()}function Nx(r){return r instanceof zi?(function(t){return`${t.field.canonicalString()} ${t.op} ${eh(t.value)}`})(r):r instanceof ml?(function(t){return t.op.toString()+" {"+t.getFilters().map(Nx).join(" ,")+"}"})(r):"Filter"}class F3 extends zi{constructor(e,t,n){super(e,t,n),this.key=Kt.fromName(n.referenceValue)}matches(e){const t=Kt.comparator(e.key,this.key);return this.matchesComparison(t)}}class j3 extends zi{constructor(e,t){super(e,"in",t),this.keys=Px("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class B3 extends zi{constructor(e,t){super(e,"not-in",t),this.keys=Px("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Px(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((n=>Kt.fromName(n.referenceValue)))}class V3 extends zi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mv(t)&&Ef(t.arrayValue,this.value)}}class U3 extends zi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ef(this.value.arrayValue,t)}}class z3 extends zi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ef(this.value.arrayValue,t)}}class q3 extends zi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Ef(this.value.arrayValue,n)))}}class H3{constructor(e,t=null,n=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}}function Tw(r,e=null,t=[],n=[],i=null,s=null,a=null){return new H3(r,e,t,n,i,s,a)}function Ov(r){const e=hn(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>O1(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),ug(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>eh(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>eh(n))).join(",")),e.ue=t}return e.ue}function Fv(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!M3(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Tx(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Iw(r.startAt,e.startAt)&&Iw(r.endAt,e.endAt)}function F1(r){return Kt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dg{constructor(e,t=null,n=[],i=[],s=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function W3(r,e,t,n,i,s,a,c){return new dg(r,e,t,n,i,s,a,c)}function jv(r){return new dg(r)}function Nw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $3(r){return r.collectionGroup!==null}function hf(r){const e=hn(r);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new ms(ps.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Pm(s,n))})),t.has(ps.keyField().canonicalString())||e.ce.push(new Pm(ps.keyField(),n))}return e.ce}function ul(r){const e=hn(r);return e.le||(e.le=Y3(e,hf(r))),e.le}function Y3(r,e){if(r.limitType==="F")return Tw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Pm(i.field,s)}));const t=r.endAt?new Nm(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Nm(r.startAt.position,r.startAt.inclusive):null;return Tw(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function j1(r,e,t){return new dg(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function hg(r,e){return Fv(ul(r),ul(e))&&r.limitType===e.limitType}function Dx(r){return`${Ov(ul(r))}|lt:${r.limitType}`}function Td(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>Nx(i))).join(", ")}]`),ug(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>eh(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>eh(i))).join(",")),`Target(${n})`})(ul(r))}; limitType=${r.limitType})`}function fg(r,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Kt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(r,e)&&(function(n,i){for(const s of hf(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(a,c,u){const d=Cw(a,c,u);return a.inclusive?d<=0:d<0})(n.startAt,hf(n),i)||n.endAt&&!(function(a,c,u){const d=Cw(a,c,u);return a.inclusive?d>=0:d>0})(n.endAt,hf(n),i))})(r,e)}function G3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Lx(r){return(e,t)=>{let n=!1;for(const i of hf(r)){const s=K3(i,e,t);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function K3(r,e,t){const n=r.field.isKeyField()?Kt.comparator(e.key,t.key):(function(s,a,c){const u=a.data.field(s),d=c.data.field(s);return u!==null&&d!==null?Zd(u,d):on()})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return on()}}class wh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xu(this.inner,((t,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return Sx(this.inner)}size(){return this.innerSize}}const Q3=new ei(Kt.comparator);function Zl(){return Q3}const Rx=new ei(Kt.comparator);function sf(...r){let e=Rx;for(const t of r)e=e.insert(t.key,t);return e}function Mx(r){let e=Rx;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Pu(){return ff()}function Ox(){return ff()}function ff(){return new wh((r=>r.toString()),((r,e)=>r.isEqual(e)))}const X3=new ei(Kt.comparator),J3=new ms(Kt.comparator);function Dn(...r){let e=J3;for(const t of r)e=e.add(t);return e}const Z3=new ms(Qn);function eT(){return Z3}function Bv(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tm(e)?"-0":e}}function Fx(r){return{integerValue:""+r}}function tT(r,e){return N3(e)?Fx(e):Bv(r,e)}class pg{constructor(){this._=void 0}}function nT(r,e,t){return r instanceof Dm?(function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Lv(s)&&(s=Rv(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}})(t,e):r instanceof Af?Bx(r,e):r instanceof Cf?Vx(r,e):(function(i,s){const a=jx(i,s),c=Pw(a)+Pw(i.Pe);return M1(a)&&M1(i.Pe)?Fx(c):Bv(i.serializer,c)})(r,e)}function rT(r,e,t){return r instanceof Af?Bx(r,e):r instanceof Cf?Vx(r,e):t}function jx(r,e){return r instanceof Lm?(function(n){return M1(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class Dm extends pg{}class Af extends pg{constructor(e){super(),this.elements=e}}function Bx(r,e){const t=Ux(e);for(const n of r.elements)t.some((i=>pl(i,n)))||t.push(n);return{arrayValue:{values:t}}}class Cf extends pg{constructor(e){super(),this.elements=e}}function Vx(r,e){let t=Ux(e);for(const n of r.elements)t=t.filter((i=>!pl(i,n)));return{arrayValue:{values:t}}}class Lm extends pg{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Pw(r){return vi(r.integerValue||r.doubleValue)}function Ux(r){return Mv(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function iT(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof Af&&i instanceof Af||n instanceof Cf&&i instanceof Cf?Jd(n.elements,i.elements,pl):n instanceof Lm&&i instanceof Lm?pl(n.Pe,i.Pe):n instanceof Dm&&i instanceof Dm})(r.transform,e.transform)}class sT{constructor(e,t){this.version=e,this.transformResults=t}}class Fo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fo}static exists(e){return new Fo(void 0,e)}static updateTime(e){return new Fo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function am(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mg{}function zx(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gg(r.key,Fo.none()):new Uf(r.key,r.data,Fo.none());{const t=r.data,n=wo.empty();let i=new ms(ps.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new iu(r.key,n,new Mo(i.toArray()),Fo.none())}}function oT(r,e,t){r instanceof Uf?(function(i,s,a){const c=i.value.clone(),u=Lw(i.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(r,e,t):r instanceof iu?(function(i,s,a){if(!am(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=Lw(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(qx(i)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(r,e,t):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function pf(r,e,t,n){return r instanceof Uf?(function(s,a,c,u){if(!am(s.precondition,a))return c;const d=s.value.clone(),f=Rw(s.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(r,e,t,n):r instanceof iu?(function(s,a,c,u){if(!am(s.precondition,a))return c;const d=Rw(s.fieldTransforms,u,a),f=a.data;return f.setAll(qx(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((y=>y.field)))})(r,e,t,n):(function(s,a,c){return am(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(r,e,t)}function aT(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),s=jx(n.transform,i||null);s!=null&&(t===null&&(t=wo.empty()),t.set(n.field,s))}return t||null}function Dw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Jd(n,i,((s,a)=>iT(s,a)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Uf extends mg{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class iu extends mg{constructor(e,t,n,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qx(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function Lw(r,e,t){const n=new Map;fr(r.length===t.length);for(let i=0;i<t.length;i++){const s=r[i],a=s.transform,c=e.data.field(s.field);n.set(s.field,rT(a,c,t[i]))}return n}function Rw(r,e,t){const n=new Map;for(const i of r){const s=i.transform,a=t.data.field(i.field);n.set(i.field,nT(s,a,e))}return n}class gg extends mg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lT extends mg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cT{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&oT(s,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=pf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=pf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ox();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=t.has(i.key)?null:c;const u=zx(a,c);u!==null&&n.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(dn.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Dn())}isEqual(e){return this.batchId===e.batchId&&Jd(this.mutations,e.mutations,((t,n)=>Dw(t,n)))&&Jd(this.baseMutations,e.baseMutations,((t,n)=>Dw(t,n)))}}class Vv{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){fr(e.mutations.length===n.length);let i=(function(){return X3})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new Vv(e,t,n,i)}}class uT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dT{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pi,Mn;function hT(r){switch(r){default:return on();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function Hx(r){if(r===void 0)return Jl("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Pi.OK:return tt.OK;case Pi.CANCELLED:return tt.CANCELLED;case Pi.UNKNOWN:return tt.UNKNOWN;case Pi.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Pi.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Pi.INTERNAL:return tt.INTERNAL;case Pi.UNAVAILABLE:return tt.UNAVAILABLE;case Pi.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Pi.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Pi.NOT_FOUND:return tt.NOT_FOUND;case Pi.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Pi.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Pi.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Pi.ABORTED:return tt.ABORTED;case Pi.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Pi.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Pi.DATA_LOSS:return tt.DATA_LOSS;default:return on()}}(Mn=Pi||(Pi={}))[Mn.OK=0]="OK",Mn[Mn.CANCELLED=1]="CANCELLED",Mn[Mn.UNKNOWN=2]="UNKNOWN",Mn[Mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mn[Mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mn[Mn.NOT_FOUND=5]="NOT_FOUND",Mn[Mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mn[Mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mn[Mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mn[Mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mn[Mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mn[Mn.ABORTED=10]="ABORTED",Mn[Mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mn[Mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mn[Mn.INTERNAL=13]="INTERNAL",Mn[Mn.UNAVAILABLE=14]="UNAVAILABLE",Mn[Mn.DATA_LOSS=15]="DATA_LOSS";function fT(){return new TextEncoder}const pT=new Ou([4294967295,4294967295],0);function Mw(r){const e=fT().encode(r),t=new mx;return t.update(e),new Uint8Array(t.digest())}function Ow(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ou([t,n],0),new Ou([i,s],0)]}class Uv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new of(`Invalid padding: ${t}`);if(n<0)throw new of(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new of(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new of(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ou.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(Ou.fromNumber(n)));return i.compare(pT)===1&&(i=new Ou([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Mw(e),[n,i]=Ow(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Uv(s,i,t);return n.forEach((c=>a.insert(c))),a}insert(e){if(this.Ie===0)return;const t=Mw(e),[n,i]=Ow(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class of extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vg{constructor(e,t,n,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,zf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new vg(dn.min(),i,new ei(Qn),Zl(),Dn())}}class zf{constructor(e,t,n,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new zf(n,t,Dn(),Dn(),Dn())}}class lm{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class Wx{constructor(e,t){this.targetId=e,this.me=t}}class $x{constructor(e,t,n=gs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class Fw{constructor(){this.fe=0,this.ge=Bw(),this.pe=gs.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Dn(),t=Dn(),n=Dn();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:on()}})),new zf(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Bw()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mT{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zl(),this.qe=jw(),this.Qe=new ei(Qn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:on()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((n,i)=>{this.ze(i)&&t(i)}))}He(e){const t=e.targetId,n=e.me.count,i=this.Je(t);if(i){const s=i.target;if(F1(s))if(n===0){const a=new Kt(s.path);this.Ue(t,a,js.newNoDocument(a,dn.min()))}else fr(n===1);else{const a=this.Ye(t);if(a!==n){const c=this.Ze(e),u=c?this.Xe(c,e,a):1;if(u!==0){this.je(t);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=t;let a,c;try{a=Hu(n).toUint8Array()}catch(u){if(u instanceof kx)return Xd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Uv(a,i,s)}catch(u){return Xd(u instanceof of?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach((s=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),i++)})),i}rt(e){const t=new Map;this.Be.forEach(((s,a)=>{const c=this.Je(a);if(c){if(s.current&&F1(c.target)){const u=new Kt(c.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,js.newNoDocument(u,e))}s.be&&(t.set(a,s.ve()),s.Ce())}}));let n=Dn();this.qe.forEach(((s,a)=>{let c=!0;a.forEachWhile((u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(s))})),this.ke.forEach(((s,a)=>a.setReadTime(e)));const i=new vg(e,t,this.Qe,this.ke,n);return this.ke=Zl(),this.qe=jw(),this.Qe=new ei(Qn),i}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Fw,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ms(Qn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||Nt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Fw),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function jw(){return new ei(Kt.comparator)}function Bw(){return new ei(Kt.comparator)}const gT={asc:"ASCENDING",desc:"DESCENDING"},vT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yT={and:"AND",or:"OR"};class wT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function B1(r,e){return r.useProto3Json||ug(e)?e:{value:e}}function Rm(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _T(r,e){return Rm(r,e.toTimestamp())}function dl(r){return fr(!!r),dn.fromTimestamp((function(t){const n=Jc(t);return new Hi(n.seconds,n.nanos)})(r))}function zv(r,e){return V1(r,e).canonicalString()}function V1(r,e){const t=(function(i){return new Wr(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Gx(r){const e=Wr.fromString(r);return fr(Zx(e)),e}function U1(r,e){return zv(r.databaseId,e.path)}function O0(r,e){const t=Gx(e);if(t.get(1)!==r.databaseId.projectId)throw new zt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new zt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Kt(Qx(t))}function Kx(r,e){return zv(r.databaseId,e)}function bT(r){const e=Gx(r);return e.length===4?Wr.emptyPath():Qx(e)}function z1(r){return new Wr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Qx(r){return fr(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Vw(r,e,t){return{name:U1(r,e),fields:t.value.mapValue.fields}}function xT(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:on()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(fr(f===void 0||typeof f=="string"),gs.fromBase64String(f||"")):(fr(f===void 0||f instanceof Buffer||f instanceof Uint8Array),gs.fromUint8Array(f||new Uint8Array))})(r,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(d){const f=d.code===void 0?tt.UNKNOWN:Hx(d.code);return new zt(f,d.message||"")})(a);t=new $x(n,i,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=O0(r,n.document.name),s=dl(n.document.updateTime),a=n.document.createTime?dl(n.document.createTime):dn.min(),c=new wo({mapValue:{fields:n.document.fields}}),u=js.newFoundDocument(i,s,a,c),d=n.targetIds||[],f=n.removedTargetIds||[];t=new lm(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=O0(r,n.document),s=n.readTime?dl(n.readTime):dn.min(),a=js.newNoDocument(i,s),c=n.removedTargetIds||[];t=new lm([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=O0(r,n.document),s=n.removedTargetIds||[];t=new lm([],s,i,null)}else{if(!("filter"in e))return on();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new dT(i,s),c=n.targetId;t=new Wx(c,a)}}return t}function ST(r,e){let t;if(e instanceof Uf)t={update:Vw(r,e.key,e.value)};else if(e instanceof gg)t={delete:U1(r,e.key)};else if(e instanceof iu)t={update:Vw(r,e.key,e.data),updateMask:DT(e.fieldMask)};else{if(!(e instanceof lT))return on();t={verify:U1(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(s,a){const c=a.transform;if(c instanceof Dm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Af)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Cf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Lm)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw on()})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:_T(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:on()})(r,e.precondition)),t}function kT(r,e){return r&&r.length>0?(fr(e!==void 0),r.map((t=>(function(i,s){let a=i.updateTime?dl(i.updateTime):dl(s);return a.isEqual(dn.min())&&(a=dl(s)),new sT(a,i.transformResults||[])})(t,e)))):[]}function ET(r,e){return{documents:[Kx(r,e.path)]}}function AT(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=Kx(r,i);const s=(function(d){if(d.length!==0)return Jx(ml.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(d){if(d.length!==0)return d.map((f=>(function(_){return{field:Nd(_.field),direction:TT(_.dir)}})(f)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=B1(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{_t:t,parent:i}}function CT(r){let e=bT(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){fr(n===1);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=(function(y){const _=Xx(y);return _ instanceof ml&&Ix(_)?_.getFilters():[_]})(t.where));let a=[];t.orderBy&&(a=(function(y){return y.map((_=>(function(A){return new Pm(Pd(A.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(_)))})(t.orderBy));let c=null;t.limit&&(c=(function(y){let _;return _=typeof y=="object"?y.value:y,ug(_)?null:_})(t.limit));let u=null;t.startAt&&(u=(function(y){const _=!!y.before,g=y.values||[];return new Nm(g,_)})(t.startAt));let d=null;return t.endAt&&(d=(function(y){const _=!y.before,g=y.values||[];return new Nm(g,_)})(t.endAt)),W3(e,i,a,s,c,"F",u,d)}function IT(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return on()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Xx(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Pd(t.unaryFilter.field);return zi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Pd(t.unaryFilter.field);return zi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Pd(t.unaryFilter.field);return zi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Pd(t.unaryFilter.field);return zi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return on()}})(r):r.fieldFilter!==void 0?(function(t){return zi.create(Pd(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return on()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return ml.create(t.compositeFilter.filters.map((n=>Xx(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return on()}})(t.compositeFilter.op))})(r):on()}function TT(r){return gT[r]}function NT(r){return vT[r]}function PT(r){return yT[r]}function Nd(r){return{fieldPath:r.canonicalString()}}function Pd(r){return ps.fromServerFormat(r.fieldPath)}function Jx(r){return r instanceof zi?(function(t){if(t.op==="=="){if(Aw(t.value))return{unaryFilter:{field:Nd(t.field),op:"IS_NAN"}};if(Ew(t.value))return{unaryFilter:{field:Nd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Aw(t.value))return{unaryFilter:{field:Nd(t.field),op:"IS_NOT_NAN"}};if(Ew(t.value))return{unaryFilter:{field:Nd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nd(t.field),op:NT(t.op),value:t.value}}})(r):r instanceof ml?(function(t){const n=t.getFilters().map((i=>Jx(i)));return n.length===1?n[0]:{compositeFilter:{op:PT(t.op),filters:n}}})(r):on()}function DT(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Zx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Vc{constructor(e,t,n,i,s=dn.min(),a=dn.min(),c=gs.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Vc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class LT{constructor(e){this.ct=e}}function RT(r){const e=CT({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?j1(e,e.limit,"L"):e}class MT{constructor(){this.un=new OT}addToCollectionParentIndex(e,t){return this.un.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return nt.resolve()}deleteFieldIndex(e,t){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,t){return nt.resolve()}getDocumentsMatchingTarget(e,t){return nt.resolve(null)}getIndexType(e,t){return nt.resolve(0)}getFieldIndexes(e,t){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,t){return nt.resolve(Xc.min())}getMinOffsetFromCollectionGroup(e,t){return nt.resolve(Xc.min())}updateCollectionGroup(e,t,n){return nt.resolve()}updateIndexEntries(e,t){return nt.resolve()}}class OT{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new ms(Wr.comparator),s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ms(Wr.comparator)).toArray()}}class th{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new th(0)}static kn(){return new th(-1)}}class FT{constructor(){this.changes=new wh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,js.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?nt.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class BT{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&pf(n.mutation,i,Mo.empty(),Hi.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Dn()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Dn()){const i=Pu();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((s=>{let a=sf();return s.forEach(((c,u)=>{a=a.insert(c,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const n=Pu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Dn())))}populateOverlays(e,t,n){const i=[];return n.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,c)=>{t.set(a,c)}))}))}computeViews(e,t,n,i){let s=Zl();const a=ff(),c=(function(){return ff()})();return t.forEach(((u,d)=>{const f=n.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof iu)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),pf(f.mutation,d,f.mutation.getFieldMask(),Hi.now())):a.set(d.key,Mo.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((d,f)=>a.set(d,f))),t.forEach(((d,f)=>{var y;return c.set(d,new jT(f,(y=a.get(d))!==null&&y!==void 0?y:null))})),c)))}recalculateAndSaveOverlays(e,t){const n=ff();let i=new ei(((a,c)=>a-c)),s=Dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const c of a)c.keys().forEach((u=>{const d=t.get(u);if(d===null)return;let f=n.get(u)||Mo.empty();f=c.applyToLocalView(d,f),n.set(u,f);const y=(i.get(c.batchId)||Dn()).add(u);i=i.insert(c.batchId,y)}))})).next((()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,y=Ox();f.forEach((_=>{if(!s.has(_)){const g=zx(t.get(_),n.get(_));g!==null&&y.set(_,g),s=s.add(_)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,y))}return nt.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(a){return Kt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):nt.resolve(Pu());let c=-1,u=s;return a.next((d=>nt.forEach(d,((f,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(f)?nt.resolve():this.remoteDocumentCache.getEntry(e,f).next((_=>{u=u.insert(f,_)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,u,d,Dn()))).next((f=>({batchId:c,changes:Mx(f)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Kt(t)).next((n=>{let i=sf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=t.collectionGroup;let a=sf();return this.indexManager.getCollectionParents(e,s).next((c=>nt.forEach(c,(u=>{const d=(function(y,_){return new dg(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((f=>{f.forEach(((y,_)=>{a=a.insert(y,_)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i)))).next((a=>{s.forEach(((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,js.newInvalidDocument(f)))}));let c=sf();return a.forEach(((u,d)=>{const f=s.get(u);f!==void 0&&pf(f.mutation,d,Mo.empty(),Hi.now()),fg(t,d)&&(c=c.insert(u,d))})),c}))}}class VT{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return nt.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:dl(i.createTime)}})(t)),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(i){return{name:i.name,query:RT(i.bundledQuery),readTime:dl(i.readTime)}})(t)),nt.resolve()}}class UT{constructor(){this.overlays=new ei(Kt.comparator),this.Ir=new Map}getOverlay(e,t){return nt.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Pu();return nt.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,s)=>{this.ht(e,t,s)})),nt.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(n)),nt.resolve()}getOverlaysForCollection(e,t,n){const i=Pu(),s=t.length+1,a=new Kt(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>n&&i.set(u.getKey(),u)}return nt.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let s=new ei(((d,f)=>d-f));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let f=s.get(d.largestBatchId);f===null&&(f=Pu(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=Pu(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>c.set(d,f))),!(c.size()>=i)););return nt.resolve(c)}ht(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new uT(t,n));let s=this.Ir.get(t);s===void 0&&(s=Dn(),this.Ir.set(t,s)),this.Ir.set(t,s.add(n.key))}}class zT{constructor(){this.sessionToken=gs.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,nt.resolve()}}class qv{constructor(){this.Tr=new ms(rs.Er),this.dr=new ms(rs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new rs(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Vr(new rs(e,t))}mr(e,t){e.forEach((n=>this.removeReference(n,t)))}gr(e){const t=new Kt(new Wr([])),n=new rs(t,e),i=new rs(t,e+1),s=[];return this.dr.forEachInRange([n,i],(a=>{this.Vr(a),s.push(a.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Kt(new Wr([])),n=new rs(t,e),i=new rs(t,e+1);let s=Dn();return this.dr.forEachInRange([n,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new rs(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class rs{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Kt.comparator(e.key,t.key)||Qn(e.wr,t.wr)}static Ar(e,t){return Qn(e.wr,t.wr)||Kt.comparator(e.key,t.key)}}class qT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ms(rs.Er)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new cT(s,t,n,i);this.mutationQueue.push(a);for(const c of i)this.br=this.br.add(new rs(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return nt.resolve(a)}lookupMutationBatch(e,t){return nt.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.vr(n),s=i<0?0:i;return nt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new rs(t,0),i=new rs(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],(a=>{const c=this.Dr(a.wr);s.push(c)})),nt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ms(Qn);return t.forEach((i=>{const s=new rs(i,0),a=new rs(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],(c=>{n=n.add(c.wr)}))})),nt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let s=n;Kt.isDocumentKey(s)||(s=s.child(""));const a=new rs(new Kt(s),0);let c=new ms(Qn);return this.br.forEachWhile((u=>{const d=u.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)}),a),nt.resolve(this.Cr(c))}Cr(e){const t=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){fr(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return nt.forEach(t.mutations,(i=>{const s=new rs(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new rs(t,0),i=this.br.firstAfterOrEqual(n);return nt.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class HT{constructor(e){this.Mr=e,this.docs=(function(){return new ei(Kt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return nt.resolve(n?n.document.mutableCopy():js.newInvalidDocument(t))}getEntries(e,t){let n=Zl();return t.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():js.newInvalidDocument(i))})),nt.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=Zl();const a=t.path,c=new Kt(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||A3(E3(f),n)<=0||(i.has(f.key)||fg(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return nt.resolve(s)}getAllFromCollectionGroup(e,t,n,i){on()}Or(e,t){return nt.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new WT(this)}getSize(e){return nt.resolve(this.size)}}class WT extends FT{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),nt.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class $T{constructor(e){this.persistence=e,this.Nr=new wh((t=>Ov(t)),Fv),this.lastRemoteSnapshotVersion=dn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new qv,this.targetCount=0,this.kr=th.Bn()}forEachTarget(e,t){return this.Nr.forEach(((n,i)=>t(i))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),nt.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new th(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.Kn(t),nt.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,n){let i=0;const s=[];return this.Nr.forEach(((a,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),nt.waitFor(s).next((()=>i))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return nt.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),nt.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),nt.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return nt.resolve(n)}containsKey(e,t){return nt.resolve(this.Br.containsKey(t))}}class YT{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Dv(0),this.Kr=!1,this.Kr=!0,this.$r=new zT,this.referenceDelegate=e(this),this.Ur=new $T(this),this.indexManager=new MT,this.remoteDocumentCache=(function(i){return new HT(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new LT(t),this.Gr=new VT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new UT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new qT(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Nt("MemoryPersistence","Starting transaction:",e);const i=new GT(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,t){return nt.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class GT extends I3{constructor(e){super(),this.currentSequenceNumber=e}}class Hv{constructor(e){this.persistence=e,this.Jr=new qv,this.Yr=null}static Zr(e){return new Hv(e)}get Xr(){if(this.Yr)return this.Yr;throw on()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),nt.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),nt.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.Xr,(n=>{const i=Kt.fromPath(n);return this.ei(e,i).next((s=>{s||t.removeEntry(i,dn.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return nt.or([()=>nt.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Wv{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=i}static Wi(e,t){let n=Dn(),i=Dn();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Wv(e,t.fromCache,n,i)}}class KT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QT{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return j4()?8:T3(Bs())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.Yi(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.Zi(e,t,i,n).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new KT;return this.Xi(e,t,a).next((c=>{if(s.result=c,this.zi)return this.es(e,t,a,c.size)}))})).next((()=>s.result))}es(e,t,n,i){return n.documentReadCount<this.ji?(Gh()<=Ln.DEBUG&&Nt("QueryEngine","SDK will not create cache indexes for query:",Td(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),nt.resolve()):(Gh()<=Ln.DEBUG&&Nt("QueryEngine","Query:",Td(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Gh()<=Ln.DEBUG&&Nt("QueryEngine","The SDK decides to create cache indexes for query:",Td(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ul(t))):nt.resolve())}Yi(e,t){if(Nw(t))return nt.resolve(null);let n=ul(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=j1(t,null,"F"),n=ul(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const a=Dn(...s);return this.Ji.getDocuments(e,a).next((c=>this.indexManager.getMinOffset(e,n).next((u=>{const d=this.ts(t,c);return this.ns(t,d,a,u.readTime)?this.Yi(e,j1(t,null,"F")):this.rs(e,d,t,u)}))))})))))}Zi(e,t,n,i){return Nw(t)||i.isEqual(dn.min())?nt.resolve(null):this.Ji.getDocuments(e,n).next((s=>{const a=this.ts(t,s);return this.ns(t,a,n,i)?nt.resolve(null):(Gh()<=Ln.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Td(t)),this.rs(e,a,t,k3(i,-1)).next((c=>c)))}))}ts(e,t){let n=new ms(Lx(e));return t.forEach(((i,s)=>{fg(e,s)&&(n=n.add(s))})),n}ns(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,n){return Gh()<=Ln.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",Td(t)),this.Ji.getDocumentsMatchingQuery(e,t,Xc.min(),n)}rs(e,t,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}class XT{constructor(e,t,n,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new ei(Qn),this._s=new wh((s=>Ov(s)),Fv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BT(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function JT(r,e,t,n){return new XT(r,e,t,n)}async function eS(r,e){const t=hn(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(n)))).next((s=>{const a=[],c=[];let u=Dn();for(const d of i){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(n,u).next((d=>({hs:d,removedBatchIds:a,addedBatchIds:c})))}))}))}function ZT(r,e){const t=hn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return(function(c,u,d,f){const y=d.batch,_=y.keys();let g=nt.resolve();return _.forEach((A=>{g=g.next((()=>f.getEntry(u,A))).next((P=>{const I=d.docVersions.get(A);fr(I!==null),P.version.compareTo(I)<0&&(y.applyToRemoteDocument(P,d),P.isValidDocument()&&(P.setReadTime(d.commitVersion),f.addEntry(P)))}))})),g.next((()=>c.mutationQueue.removeMutationBatch(u,y)))})(t,n,e,s).next((()=>s.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let u=Dn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function tS(r){const e=hn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function eN(r,e){const t=hn(r),n=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const c=[];e.targetChanges.forEach(((f,y)=>{const _=i.get(y);if(!_)return;c.push(t.Ur.removeMatchingKeys(s,f.removedDocuments,y).next((()=>t.Ur.addMatchingKeys(s,f.addedDocuments,y))));let g=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?g=g.withResumeToken(gs.EMPTY_BYTE_STRING,dn.min()).withLastLimboFreeSnapshotVersion(dn.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,n)),i=i.insert(y,g),(function(P,I,M){return P.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(_,g,f)&&c.push(t.Ur.updateTargetData(s,g))}));let u=Zl(),d=Dn();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))})),c.push(tN(s,a,e.documentUpdates).next((f=>{u=f.Ps,d=f.Is}))),!n.isEqual(dn.min())){const f=t.Ur.getLastRemoteSnapshotVersion(s).next((y=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n)));c.push(f)}return nt.waitFor(c).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,u,d))).next((()=>u))})).then((s=>(t.os=i,s)))}function tN(r,e,t){let n=Dn(),i=Dn();return t.forEach((s=>n=n.add(s))),e.getEntries(r,n).next((s=>{let a=Zl();return t.forEach(((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(dn.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):Nt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)})),{Ps:a,Is:i}}))}function nN(r,e){const t=hn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function rN(r,e){const t=hn(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.Ur.getTargetData(n,e).next((s=>s?(i=s,nt.resolve(i)):t.Ur.allocateTargetId(n).next((a=>(i=new Vc(e,a,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n}))}async function q1(r,e,t){const n=hn(r),i=n.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,(a=>n.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Vf(a))throw a;Nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function Uw(r,e,t){const n=hn(r);let i=dn.min(),s=Dn();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,d,f){const y=hn(u),_=y._s.get(f);return _!==void 0?nt.resolve(y.os.get(_)):y.Ur.getTargetData(d,f)})(n,a,ul(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,c.targetId).next((u=>{s=u}))})).next((()=>n.ss.getDocumentsMatchingQuery(a,e,t?i:dn.min(),t?s:Dn()))).next((c=>(iN(n,G3(e),c),{documents:c,Ts:s})))))}function iN(r,e,t){let n=r.us.get(e)||dn.min();t.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),r.us.set(e,n)}class zw{constructor(){this.activeTargetIds=eT()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sN{constructor(){this.so=new zw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new zw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oN{_o(e){}shutdown(){}}class qw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mp=null;function F0(){return Mp===null?Mp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mp++,"0x"+Mp.toString(16)}const aN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ns="WebChannelConnection";class cN extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,n,i,s,a){const c=F0(),u=this.xo(t,n.toUriEncodedString());Nt("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,a),this.No(t,u,d,i).then((f=>(Nt("RestConnection",`Received RPC '${t}' ${c}: `,f),f)),(f=>{throw Xd("RestConnection",`RPC '${t}' ${c} failed with error: `,f,"url: ",u,"request:",i),f}))}Lo(t,n,i,s,a,c){return this.Mo(t,n,i,s,a)}Oo(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>t[a]=s)),i&&i.headers.forEach(((s,a)=>t[a]=s))}xo(t,n){const i=aN[t];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,i){const s=F0();return new Promise(((a,c)=>{const u=new gx;u.setWithCredentials(!0),u.listenOnce(vx.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case sm.NO_ERROR:const f=u.getResponseJson();Nt(Ns,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case sm.TIMEOUT:Nt(Ns,`RPC '${e}' ${s} timed out`),c(new zt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case sm.HTTP_ERROR:const y=u.getStatus();if(Nt(Ns,`RPC '${e}' ${s} failed with status:`,y,"response text:",u.getResponseText()),y>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);const g=_?.error;if(g&&g.status&&g.message){const A=(function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(M)>=0?M:tt.UNKNOWN})(g.status);c(new zt(A,g.message))}else c(new zt(tt.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new zt(tt.UNAVAILABLE,"Connection failed."));break;default:on()}}finally{Nt(Ns,`RPC '${e}' ${s} completed.`)}}));const d=JSON.stringify(i);Nt(Ns,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,n,15)}))}Bo(e,t,n){const i=F0(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=_x(),c=wx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const f=s.join("");Nt(Ns,`Creating RPC '${e}' stream ${i}: ${f}`,u);const y=a.createWebChannel(f,u);let _=!1,g=!1;const A=new lN({Io:I=>{g?Nt(Ns,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(_||(Nt(Ns,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),Nt(Ns,`RPC '${e}' stream ${i} sending:`,I),y.send(I))},To:()=>y.close()}),P=(I,M,W)=>{I.listen(M,(z=>{try{W(z)}catch(q){setTimeout((()=>{throw q}),0)}}))};return P(y,rf.EventType.OPEN,(()=>{g||(Nt(Ns,`RPC '${e}' stream ${i} transport opened.`),A.yo())})),P(y,rf.EventType.CLOSE,(()=>{g||(g=!0,Nt(Ns,`RPC '${e}' stream ${i} transport closed`),A.So())})),P(y,rf.EventType.ERROR,(I=>{g||(g=!0,Xd(Ns,`RPC '${e}' stream ${i} transport errored:`,I),A.So(new zt(tt.UNAVAILABLE,"The operation could not be completed")))})),P(y,rf.EventType.MESSAGE,(I=>{var M;if(!g){const W=I.data[0];fr(!!W);const z=W,q=z.error||((M=z[0])===null||M===void 0?void 0:M.error);if(q){Nt(Ns,`RPC '${e}' stream ${i} received error:`,q);const ne=q.status;let de=(function(R){const B=Pi[R];if(B!==void 0)return Hx(B)})(ne),H=q.message;de===void 0&&(de=tt.INTERNAL,H="Unknown error status: "+ne+" with message "+q.message),g=!0,A.So(new zt(de,H)),y.close()}else Nt(Ns,`RPC '${e}' stream ${i} received:`,W),A.bo(W)}})),P(c,yx.STAT_EVENT,(I=>{I.stat===L1.PROXY?Nt(Ns,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===L1.NOPROXY&&Nt(Ns,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.wo()}),0),A}}function j0(){return typeof document<"u"?document:null}function yg(r){return new wT(r,!0)}class nS{constructor(e,t,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-n);i>0&&Nt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class rS{constructor(e,t,n,i,s,a,c,u){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nS(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(Jl(t.toString()),Jl("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===t&&this.P_(n,i)}),(n=>{e((()=>{const i=new zt(tt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uN extends rS{constructor(e,t,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=xT(this.serializer,e),n=(function(s){if(!("targetChange"in s))return dn.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?dn.min():a.readTime?dl(a.readTime):dn.min()})(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=z1(this.serializer),t.addTarget=(function(s,a){let c;const u=a.target;if(c=F1(u)?{documents:ET(s,u)}:{query:AT(s,u)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=Yx(s,a.resumeToken);const d=B1(s,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(dn.min())>0){c.readTime=Rm(s,a.snapshotVersion.toTimestamp());const d=B1(s,a.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const n=IT(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=z1(this.serializer),t.removeTarget=e,this.a_(t)}}class dN extends rS{constructor(e,t,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return fr(!!e.streamToken),this.lastStreamToken=e.streamToken,fr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){fr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=kT(e.writeResults,e.commitTime),n=dl(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=z1(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>ST(this.serializer,n)))};this.a_(t)}}class hN extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new zt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Mo(e,V1(t,n),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new zt(tt.UNKNOWN,s.toString())}))}Lo(e,t,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Lo(e,V1(t,n),i,a,c,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new zt(tt.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class fN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jl(t),this.D_=!1):Nt("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class pN{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((a=>{n.enqueueAndForget((async()=>{Ju(this)&&(Nt("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const d=hn(u);d.L_.add(4),await qf(d),d.q_.set("Unknown"),d.L_.delete(4),await wg(d)})(this))}))})),this.q_=new fN(n,i)}}async function wg(r){if(Ju(r))for(const e of r.B_)await e(!0)}async function qf(r){for(const e of r.B_)await e(!1)}function iS(r,e){const t=hn(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Kv(t)?Gv(t):_h(t).r_()&&Yv(t,e))}function $v(r,e){const t=hn(r),n=_h(t);t.N_.delete(e),n.r_()&&sS(t,e),t.N_.size===0&&(n.r_()?n.o_():Ju(t)&&t.q_.set("Unknown"))}function Yv(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_h(r).A_(e)}function sS(r,e){r.Q_.xe(e),_h(r).R_(e)}function Gv(r){r.Q_=new mT({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),_h(r).start(),r.q_.v_()}function Kv(r){return Ju(r)&&!_h(r).n_()&&r.N_.size>0}function Ju(r){return hn(r).L_.size===0}function oS(r){r.Q_=void 0}async function mN(r){r.q_.set("Online")}async function gN(r){r.N_.forEach(((e,t)=>{Yv(r,e)}))}async function vN(r,e){oS(r),Kv(r)?(r.q_.M_(e),Gv(r)):r.q_.set("Unknown")}async function yN(r,e,t){if(r.q_.set("Online"),e instanceof $x&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const c of s.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.N_.delete(c),i.Q_.removeTarget(c))})(r,e)}catch(n){Nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Mm(r,n)}else if(e instanceof lm?r.Q_.Ke(e):e instanceof Wx?r.Q_.He(e):r.Q_.We(e),!t.isEqual(dn.min()))try{const n=await tS(r.localStore);t.compareTo(n)>=0&&await(function(s,a){const c=s.Q_.rt(a);return c.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(d);f&&s.N_.set(d,f.withResumeToken(u.resumeToken,a))}})),c.targetMismatches.forEach(((u,d)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(gs.EMPTY_BYTE_STRING,f.snapshotVersion)),sS(s,u);const y=new Vc(f.target,u,d,f.sequenceNumber);Yv(s,y)})),s.remoteSyncer.applyRemoteEvent(c)})(r,t)}catch(n){Nt("RemoteStore","Failed to raise snapshot:",n),await Mm(r,n)}}async function Mm(r,e,t){if(!Vf(e))throw e;r.L_.add(1),await qf(r),r.q_.set("Offline"),t||(t=()=>tS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Nt("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await wg(r)}))}function aS(r,e){return e().catch((t=>Mm(r,t,e)))}async function _g(r){const e=hn(r),t=Zc(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wN(e);)try{const i=await nN(e.localStore,n);if(i===null){e.O_.length===0&&t.o_();break}n=i.batchId,_N(e,i)}catch(i){await Mm(e,i)}lS(e)&&cS(e)}function wN(r){return Ju(r)&&r.O_.length<10}function _N(r,e){r.O_.push(e);const t=Zc(r);t.r_()&&t.V_&&t.m_(e.mutations)}function lS(r){return Ju(r)&&!Zc(r).n_()&&r.O_.length>0}function cS(r){Zc(r).start()}async function bN(r){Zc(r).p_()}async function xN(r){const e=Zc(r);for(const t of r.O_)e.m_(t.mutations)}async function SN(r,e,t){const n=r.O_.shift(),i=Vv.from(n,e,t);await aS(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await _g(r)}async function kN(r,e){e&&Zc(r).V_&&await(async function(n,i){if((function(a){return hT(a)&&a!==tt.ABORTED})(i.code)){const s=n.O_.shift();Zc(n).s_(),await aS(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await _g(n)}})(r,e),lS(r)&&cS(r)}async function Hw(r,e){const t=hn(r);t.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const n=Ju(t);t.L_.add(3),await qf(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await wg(t)}async function EN(r,e){const t=hn(r);e?(t.L_.delete(2),await wg(t)):e||(t.L_.add(2),await qf(t),t.q_.set("Unknown"))}function _h(r){return r.K_||(r.K_=(function(t,n,i){const s=hn(t);return s.w_(),new uN(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(r.datastore,r.asyncQueue,{Eo:mN.bind(null,r),Ro:gN.bind(null,r),mo:vN.bind(null,r),d_:yN.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),Kv(r)?Gv(r):r.q_.set("Unknown")):(await r.K_.stop(),oS(r))}))),r.K_}function Zc(r){return r.U_||(r.U_=(function(t,n,i){const s=hn(t);return s.w_(),new dN(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:bN.bind(null,r),mo:kN.bind(null,r),f_:xN.bind(null,r),g_:SN.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await _g(r)):(await r.U_.stop(),r.O_.length>0&&(Nt("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class Qv{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Fu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const a=Date.now()+n,c=new Qv(e,t,a,i,s);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xv(r,e){if(Jl("AsyncQueue",`${e}: ${r}`),Vf(r))return new zt(tt.UNAVAILABLE,`${e}: ${r}`);throw r}class Vd{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Kt.comparator(t.key,n.key):(t,n)=>Kt.comparator(t.key,n.key),this.keyedMap=sf(),this.sortedSet=new ei(this.comparator)}static emptySet(e){return new Vd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Vd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ww{constructor(){this.W_=new ei(Kt.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):on():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class nh{constructor(e,t,n,i,s,a,c,u,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,i,s){const a=[];return t.forEach((c=>{a.push({type:0,doc:c})})),new nh(e,t,Vd.emptySet(t),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class AN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class CN{constructor(){this.queries=$w(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const i=hn(t),s=i.queries;i.queries=$w(),s.forEach(((a,c)=>{for(const u of c.j_)u.onError(n)}))})(this,new zt(tt.ABORTED,"Firestore shutting down"))}}function $w(){return new wh((r=>Dx(r)),hg)}async function IN(r,e){const t=hn(r);let n=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new AN,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const c=Xv(a,`Initialization of query '${Td(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Jv(t)}async function TN(r,e){const t=hn(r),n=e.query;let i=3;const s=t.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function NN(r,e){const t=hn(r);let n=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const c of a.j_)c.X_(i)&&(n=!0);a.z_=i}}n&&Jv(t)}function PN(r,e,t){const n=hn(r),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(t);n.queries.delete(e)}function Jv(r){r.Y_.forEach((e=>{e.next()}))}var H1,Yw;(Yw=H1||(H1={})).ea="default",Yw.Cache="cache";class DN{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new nh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=nh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==H1.Cache}}class uS{constructor(e){this.key=e}}class dS{constructor(e){this.key=e}}class LN{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Dn(),this.mutatedKeys=Dn(),this.Aa=Lx(e),this.Ra=new Vd(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Ww,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,y)=>{const _=i.get(f),g=fg(this.query,y)?y:null,A=!!_&&this.mutatedKeys.has(_.key),P=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;_&&g?_.data.isEqual(g.data)?A!==P&&(n.track({type:3,doc:g}),I=!0):this.ga(_,g)||(n.track({type:2,doc:g}),I=!0,(u&&this.Aa(g,u)>0||d&&this.Aa(g,d)<0)&&(c=!0)):!_&&g?(n.track({type:0,doc:g}),I=!0):_&&!g&&(n.track({type:1,doc:_}),I=!0,(u||d)&&(c=!0)),I&&(g?(a=a.add(g),s=P?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{Ra:a,fa:n,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort(((f,y)=>(function(g,A){const P=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return on()}};return P(g)-P(A)})(f.type,y.type)||this.Aa(f.doc,y.doc))),this.pa(n),i=i!=null&&i;const c=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,a.length!==0||d?{snapshot:new nh(this.query,e.Ra,s,a,e.mutatedKeys,u===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ww,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Dn(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const t=[];return e.forEach((n=>{this.da.has(n)||t.push(new dS(n))})),this.da.forEach((n=>{e.has(n)||t.push(new uS(n))})),t}ba(e){this.Ta=e.Ts,this.da=Dn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return nh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class RN{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class MN{constructor(e){this.key=e,this.va=!1}}class ON{constructor(e,t,n,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new wh((c=>Dx(c)),hg),this.Ma=new Map,this.xa=new Set,this.Oa=new ei(Kt.comparator),this.Na=new Map,this.La=new qv,this.Ba={},this.ka=new Map,this.qa=th.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function FN(r,e,t=!0){const n=vS(r);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await hS(n,e,t,!0),i}async function jN(r,e){const t=vS(r);await hS(t,e,!0,!1)}async function hS(r,e,t,n){const i=await rN(r.localStore,ul(e)),s=i.targetId,a=r.sharedClientState.addLocalQueryTarget(s,t);let c;return n&&(c=await BN(r,e,s,a==="current",i.resumeToken)),r.isPrimaryClient&&t&&iS(r.remoteStore,i),c}async function BN(r,e,t,n,i){r.Ka=(y,_,g)=>(async function(P,I,M,W){let z=I.view.ma(M);z.ns&&(z=await Uw(P.localStore,I.query,!1).then((({documents:H})=>I.view.ma(H,z))));const q=W&&W.targetChanges.get(I.targetId),ne=W&&W.targetMismatches.get(I.targetId)!=null,de=I.view.applyChanges(z,P.isPrimaryClient,q,ne);return Kw(P,I.targetId,de.wa),de.snapshot})(r,y,_,g);const s=await Uw(r.localStore,e,!0),a=new LN(e,s.Ts),c=a.ma(s.documents),u=zf.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),d=a.applyChanges(c,r.isPrimaryClient,u);Kw(r,t,d.wa);const f=new RN(e,t,a);return r.Fa.set(e,f),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),d.snapshot}async function VN(r,e,t){const n=hn(r),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter((a=>!hg(a,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await q1(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&$v(n.remoteStore,i.targetId),W1(n,i.targetId)})).catch(Bf)):(W1(n,i.targetId),await q1(n.localStore,i.targetId,!0))}async function UN(r,e){const t=hn(r),n=t.Fa.get(e),i=t.Ma.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),$v(t.remoteStore,n.targetId))}async function zN(r,e,t){const n=KN(r);try{const i=await(function(a,c){const u=hn(a),d=Hi.now(),f=c.reduce(((g,A)=>g.add(A.key)),Dn());let y,_;return u.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let A=Zl(),P=Dn();return u.cs.getEntries(g,f).next((I=>{A=I,A.forEach(((M,W)=>{W.isValidDocument()||(P=P.add(M))}))})).next((()=>u.localDocuments.getOverlayedDocuments(g,A))).next((I=>{y=I;const M=[];for(const W of c){const z=aT(W,y.get(W.key).overlayedDocument);z!=null&&M.push(new iu(W.key,z,Ex(z.value.mapValue),Fo.exists(!0)))}return u.mutationQueue.addMutationBatch(g,d,M,c)})).next((I=>{_=I;const M=I.applyToLocalDocumentSet(y,P);return u.documentOverlayCache.saveOverlays(g,I.batchId,M)}))})).then((()=>({batchId:_.batchId,changes:Mx(y)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(a,c,u){let d=a.Ba[a.currentUser.toKey()];d||(d=new ei(Qn)),d=d.insert(c,u),a.Ba[a.currentUser.toKey()]=d})(n,i.batchId,t),await Hf(n,i.changes),await _g(n.remoteStore)}catch(i){const s=Xv(i,"Failed to persist write");t.reject(s)}}async function fS(r,e){const t=hn(r);try{const n=await eN(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=t.Na.get(s);a&&(fr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?fr(a.va):i.removedDocuments.size>0&&(fr(a.va),a.va=!1))})),await Hf(t,n,e)}catch(n){await Bf(n)}}function Gw(r,e,t){const n=hn(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Fa.forEach(((s,a)=>{const c=a.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(a,c){const u=hn(a);u.onlineState=c;let d=!1;u.queries.forEach(((f,y)=>{for(const _ of y.j_)_.Z_(c)&&(d=!0)})),d&&Jv(u)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function qN(r,e,t){const n=hn(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new ei(Kt.comparator);a=a.insert(s,js.newNoDocument(s,dn.min()));const c=Dn().add(s),u=new vg(dn.min(),new Map,new ei(Qn),a,c);await fS(n,u),n.Oa=n.Oa.remove(s),n.Na.delete(e),Zv(n)}else await q1(n.localStore,e,!1).then((()=>W1(n,e,t))).catch(Bf)}async function HN(r,e){const t=hn(r),n=e.batch.batchId;try{const i=await ZT(t.localStore,e);mS(t,n,null),pS(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Hf(t,i)}catch(i){await Bf(i)}}async function WN(r,e,t){const n=hn(r);try{const i=await(function(a,c){const u=hn(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next((y=>(fr(y!==null),f=y.keys(),u.mutationQueue.removeMutationBatch(d,y)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(n.localStore,e);mS(n,e,t),pS(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Hf(n,i)}catch(i){await Bf(i)}}function pS(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function mS(r,e,t){const n=hn(r);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function W1(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((n=>{r.La.containsKey(n)||gS(r,n)}))}function gS(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&($v(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),Zv(r))}function Kw(r,e,t){for(const n of t)n instanceof uS?(r.La.addReference(n.key,e),$N(r,n)):n instanceof dS?(Nt("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||gS(r,n.key)):on()}function $N(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(Nt("SyncEngine","New document in limbo: "+t),r.xa.add(n),Zv(r))}function Zv(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new Kt(Wr.fromString(e)),n=r.qa.next();r.Na.set(n,new MN(t)),r.Oa=r.Oa.insert(t,n),iS(r.remoteStore,new Vc(ul(jv(t.path)),n,"TargetPurposeLimboResolution",Dv.oe))}}async function Hf(r,e,t){const n=hn(r),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach(((c,u)=>{a.push(n.Ka(u,e,t).then((d=>{var f;if((d||t)&&n.isPrimaryClient){const y=d?!d.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;n.sharedClientState.updateQueryState(u.targetId,y?"current":"not-current")}if(d){i.push(d);const y=Wv.Wi(u.targetId,d);s.push(y)}})))})),await Promise.all(a),n.Ca.d_(i),await(async function(u,d){const f=hn(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>nt.forEach(d,(_=>nt.forEach(_.$i,(g=>f.persistence.referenceDelegate.addReference(y,_.targetId,g))).next((()=>nt.forEach(_.Ui,(g=>f.persistence.referenceDelegate.removeReference(y,_.targetId,g)))))))))}catch(y){if(!Vf(y))throw y;Nt("LocalStore","Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const g=f.os.get(_),A=g.snapshotVersion,P=g.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,P)}}})(n.localStore,s))}async function YN(r,e){const t=hn(r);if(!t.currentUser.isEqual(e)){Nt("SyncEngine","User change. New user:",e.toKey());const n=await eS(t.localStore,e);t.currentUser=e,(function(s,a){s.ka.forEach((c=>{c.forEach((u=>{u.reject(new zt(tt.CANCELLED,a))}))})),s.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Hf(t,n.hs)}}function GN(r,e){const t=hn(r),n=t.Na.get(e);if(n&&n.va)return Dn().add(n.key);{let i=Dn();const s=t.Ma.get(e);if(!s)return i;for(const a of s){const c=t.Fa.get(a);i=i.unionWith(c.view.Va)}return i}}function vS(r){const e=hn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=fS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qN.bind(null,e),e.Ca.d_=NN.bind(null,e.eventManager),e.Ca.$a=PN.bind(null,e.eventManager),e}function KN(r){const e=hn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WN.bind(null,e),e}class Om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return JT(this.persistence,new QT,e.initialUser,this.serializer)}Ga(e){return new YT(Hv.Zr,this.serializer)}Wa(e){return new sN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Om.provider={build:()=>new Om};class $1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Gw(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=YN.bind(null,this.syncEngine),await EN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CN})()}createDatastore(e){const t=yg(e.databaseInfo.databaseId),n=(function(s){return new cN(s)})(e.databaseInfo);return(function(s,a,c,u){return new hN(s,a,c,u)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,s,a,c){return new pN(n,i,s,a,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>Gw(this.syncEngine,t,0)),(function(){return qw.D()?new qw:new oN})())}createSyncEngine(e,t){return(function(i,s,a,c,u,d,f){const y=new ON(i,s,a,c,u,d);return f&&(y.Qa=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const s=hn(i);Nt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await qf(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$1.provider={build:()=>new $1};class QN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Jl("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class XN{constructor(e,t,n,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Fs.UNAUTHENTICATED,this.clientId=xx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async a=>{Nt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(Nt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Xv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function B0(r,e){r.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await eS(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Qw(r,e){r.asyncQueue.verifyOperationInProgress();const t=await JN(r);Nt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>Hw(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>Hw(e.remoteStore,i))),r._onlineComponents=e}async function JN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Nt("FirestoreClient","Using user provided OfflineComponentProvider");try{await B0(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===tt.FAILED_PRECONDITION||i.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Xd("Error using user provided cache. Falling back to memory cache: "+t),await B0(r,new Om)}}else Nt("FirestoreClient","Using default OfflineComponentProvider"),await B0(r,new Om);return r._offlineComponents}async function yS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Nt("FirestoreClient","Using user provided OnlineComponentProvider"),await Qw(r,r._uninitializedComponentsProvider._online)):(Nt("FirestoreClient","Using default OnlineComponentProvider"),await Qw(r,new $1))),r._onlineComponents}function ZN(r){return yS(r).then((e=>e.syncEngine))}async function Xw(r){const e=await yS(r),t=e.eventManager;return t.onListen=FN.bind(null,e.syncEngine),t.onUnlisten=VN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=UN.bind(null,e.syncEngine),t}function wS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Jw=new Map;function _S(r,e,t){if(!t)throw new zt(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function eP(r,e,t,n){if(e===!0&&n===!0)throw new zt(tt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Zw(r){if(!Kt.isDocumentKey(r))throw new zt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function e5(r){if(Kt.isDocumentKey(r))throw new zt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ey(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":on()}function Yc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new zt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ey(r);throw new zt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class t5{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new zt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new zt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new zt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new zt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new zt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bg{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t5({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new zt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t5(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new m3;switch(n.type){case"firstParty":return new w3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new zt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=Jw.get(t);n&&(Nt("ComponentProvider","Removing Datastore"),Jw.delete(t),n.terminate())})(this),Promise.resolve()}}function tP(r,e,t,n={}){var i;const s=(r=Yc(r,bg))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Xd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let c,u;if(typeof n.mockUserToken=="string")c=n.mockUserToken,u=Fs.MOCK_USER;else{c=P4(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new zt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Fs(d)}r._authCredentials=new g3(new bx(c,u))}}class xg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new xg(this.firestore,e,this._query)}}class jo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jo(this.firestore,e,this._key)}}class Gc extends xg{constructor(e,t,n){super(e,t,jv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jo(this.firestore,null,new Kt(e))}withConverter(e){return new Gc(this.firestore,e,this._path)}}function V0(r,e,...t){if(r=Wi(r),_S("collection","path",e),r instanceof bg){const n=Wr.fromString(e,...t);return e5(n),new Gc(r,null,n)}{if(!(r instanceof jo||r instanceof Gc))throw new zt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Wr.fromString(e,...t));return e5(n),new Gc(r.firestore,null,n)}}function rh(r,e,...t){if(r=Wi(r),arguments.length===1&&(e=xx.newId()),_S("doc","path",e),r instanceof bg){const n=Wr.fromString(e,...t);return Zw(n),new jo(r,null,new Kt(n))}{if(!(r instanceof jo||r instanceof Gc))throw new zt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Wr.fromString(e,...t));return Zw(n),new jo(r.firestore,r instanceof Gc?r.converter:null,new Kt(n))}}class n5{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new nS(this,"async_queue_retry"),this.Vu=()=>{const n=j0();n&&Nt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=j0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=j0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Fu;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vf(e))throw e;Nt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c})(n);throw Jl("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=Qv.createAndSchedule(this,e,t,n,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&on()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function r5(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(r,["next","error","complete"])}class ih extends bg{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new n5,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n5(e),this._firestoreClient=void 0,await e}}}function nP(r,e){const t=typeof r=="object"?r:Lb(),n=typeof r=="string"?r:"(default)",i=bv(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=T4("firestore");s&&tP(i,...s)}return i}function ty(r){if(r._terminated)throw new zt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||rP(r),r._firestoreClient}function rP(r){var e,t,n;const i=r._freezeSettings(),s=(function(c,u,d,f){return new D3(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,wS(f.experimentalLongPollingOptions),f.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new XN(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&(function(c){const u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(r._componentsProvider))}class sh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sh(gs.fromBase64String(e))}catch(t){throw new zt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sh(gs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new zt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ps(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ny{constructor(e){this._methodName=e}}class ry{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qn(this._lat,e._lat)||Qn(this._long,e._long)}}class iy{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}}const iP=/^__.*__$/;class sP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new iu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uf(e,this.data,t,this.fieldTransforms)}}class bS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new iu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw on()}}class sy{constructor(e,t,n,i,s,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Fm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(xS(this.Cu)&&iP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class oP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||yg(e)}Qu(e,t,n,i=!1){return new sy({Cu:e,methodName:t,qu:n,path:ps.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SS(r){const e=r._freezeSettings(),t=yg(r._databaseId);return new oP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function kS(r,e,t,n,i,s={}){const a=r.Qu(s.merge||s.mergeFields?2:0,e,t,i);oy("Data must be an object, but it was:",a,n);const c=ES(n,a);let u,d;if(s.merge)u=new Mo(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const y of s.mergeFields){const _=Y1(e,y,t);if(!a.contains(_))throw new zt(tt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);CS(f,_)||f.push(_)}u=new Mo(f),d=a.fieldTransforms.filter((y=>u.covers(y.field)))}else u=null,d=a.fieldTransforms;return new sP(new wo(c),u,d)}class kg extends ny{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kg}}function aP(r,e,t,n){const i=r.Qu(1,e,t);oy("Data must be an object, but it was:",i,n);const s=[],a=wo.empty();Xu(n,((u,d)=>{const f=ay(e,u,t);d=Wi(d);const y=i.Nu(f);if(d instanceof kg)s.push(f);else{const _=Eg(d,y);_!=null&&(s.push(f),a.set(f,_))}}));const c=new Mo(s);return new bS(a,c,i.fieldTransforms)}function lP(r,e,t,n,i,s){const a=r.Qu(1,e,t),c=[Y1(e,n,t)],u=[i];if(s.length%2!=0)throw new zt(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)c.push(Y1(e,s[_])),u.push(s[_+1]);const d=[],f=wo.empty();for(let _=c.length-1;_>=0;--_)if(!CS(d,c[_])){const g=c[_];let A=u[_];A=Wi(A);const P=a.Nu(g);if(A instanceof kg)d.push(g);else{const I=Eg(A,P);I!=null&&(d.push(g),f.set(g,I))}}const y=new Mo(d);return new bS(f,y,a.fieldTransforms)}function Eg(r,e){if(AS(r=Wi(r)))return oy("Unsupported field value:",e,r),ES(r,e);if(r instanceof ny)return(function(n,i){if(!xS(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const s=[];let a=0;for(const c of n){let u=Eg(c,i.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}})(r,e)}return(function(n,i){if((n=Wi(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tT(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Hi.fromDate(n);return{timestampValue:Rm(i.serializer,s)}}if(n instanceof Hi){const s=new Hi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Rm(i.serializer,s)}}if(n instanceof ry)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof sh)return{bytesValue:Yx(i.serializer,n._byteString)};if(n instanceof jo){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zv(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof iy)return(function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Bv(c.serializer,u)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${ey(n)}`)})(r,e)}function ES(r,e){const t={};return Sx(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xu(r,((n,i)=>{const s=Eg(i,e.Mu(n));s!=null&&(t[n]=s)})),{mapValue:{fields:t}}}function AS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Hi||r instanceof ry||r instanceof sh||r instanceof jo||r instanceof ny||r instanceof iy)}function oy(r,e,t){if(!AS(t)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(t)){const n=ey(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function Y1(r,e,t){if((e=Wi(e))instanceof Sg)return e._internalPath;if(typeof e=="string")return ay(r,e);throw Fm("Field path arguments must be of type string or ",r,!1,void 0,t)}const cP=new RegExp("[~\\*/\\[\\]]");function ay(r,e,t){if(e.search(cP)>=0)throw Fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Sg(...e.split("."))._internalPath}catch{throw Fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Fm(r,e,t,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${n}`),a&&(u+=` in document ${i}`),u+=")"),new zt(tt.INVALID_ARGUMENT,c+r+u)}function CS(r,e){return r.some((t=>t.isEqual(e)))}class IS{constructor(e,t,n,i,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uP extends IS{data(){return super.data()}}function TS(r,e){return typeof e=="string"?ay(r,e):e instanceof Sg?e._internalPath:e._delegate._internalPath}function dP(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new zt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hP{convertValue(e,t="none"){switch(Wu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw on()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Xu(e,((i,s)=>{n[i]=this.convertValue(s,t)})),n}convertVectorValue(e){var t,n,i;const s=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((a=>vi(a.doubleValue)));return new iy(s)}convertGeoPoint(e){return new ry(vi(e.latitude),vi(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Rv(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sf(e));default:return null}}convertTimestamp(e){const t=Jc(e);return new Hi(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Wr.fromString(e);fr(Zx(n));const i=new kf(n.get(1),n.get(3)),s=new Kt(n.popFirst(5));return i.isEqual(t)||Jl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function NS(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class af{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PS extends IS{constructor(e,t,n,i,s,a){super(e,t,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(TS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class cm extends PS{data(e={}){return super.data(e)}}class fP{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new af(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new cm(this._firestore,this._userDataWriter,n.key,n,new af(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((c=>{const u=new cm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new af(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const u=new cm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new af(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),f=a.indexOf(c.doc.key)),{type:pP(c.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return on()}}class DS extends hP{constructor(e){super(),this.firestore=e}convertBytes(e){return new sh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jo(this.firestore,null,t)}}function ly(r,e,t){r=Yc(r,jo);const n=Yc(r.firestore,ih),i=NS(r.converter,e,t);return cy(n,[kS(SS(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Fo.none())])}function mP(r){return cy(Yc(r.firestore,ih),[new gg(r._key,Fo.none())])}function Op(r,...e){var t,n,i;r=Wi(r);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||r5(e[a])||(s=e[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(r5(e[a])){const y=e[a];e[a]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[a+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),e[a+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let u,d,f;if(r instanceof jo)d=Yc(r.firestore,ih),f=jv(r._key.path),u={next:y=>{e[a]&&e[a](gP(d,r,y))},error:e[a+1],complete:e[a+2]};else{const y=Yc(r,xg);d=Yc(y.firestore,ih),f=y._query;const _=new DS(d);u={next:g=>{e[a]&&e[a](new fP(d,_,y,g))},error:e[a+1],complete:e[a+2]},dP(r._query)}return(function(_,g,A,P){const I=new QN(P),M=new DN(g,I,A);return _.asyncQueue.enqueueAndForget((async()=>IN(await Xw(_),M))),()=>{I.Za(),_.asyncQueue.enqueueAndForget((async()=>TN(await Xw(_),M)))}})(ty(d),f,c,u)}function cy(r,e){return(function(n,i){const s=new Fu;return n.asyncQueue.enqueueAndForget((async()=>zN(await ZN(n),i,s))),s.promise})(ty(r),e)}function gP(r,e,t){const n=t.docs.get(e._key),i=new DS(r);return new PS(r,i,e._key,n,new af(t.hasPendingWrites,t.fromCache),e.converter)}class vP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=SS(e)}set(e,t,n){this._verifyNotCommitted();const i=U0(e,this._firestore),s=NS(i.converter,t,n),a=kS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,Fo.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const s=U0(e,this._firestore);let a;return a=typeof(t=Wi(t))=="string"||t instanceof Sg?lP(this._dataReader,"WriteBatch.update",s._key,t,n,i):aP(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,Fo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=U0(e,this._firestore);return this._mutations=this._mutations.concat(new gg(t._key,Fo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new zt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function U0(r,e){if((r=Wi(r)).firestore!==e)throw new zt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function yP(r){return ty(r=Yc(r,ih)),new vP(r,(e=>cy(r,e)))}(function(e,t=!0){(function(i){yh=i})(mh),Kd(new Uu("firestore",((n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),c=new ih(new v3(n.getProvider("auth-internal")),new b3(n.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new zt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(d.options.projectId,f)})(a,i),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Wc(_w,"4.7.3",e),Wc(_w,"4.7.3","esm2017")})();const i5={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyBaZA4J1Tqnd_iFnB3ouRRZOIoVmw1fUoU",VITE_FIREBASE_APP_ID:"1:708593597740:web:c9710d663c611cba098089",VITE_FIREBASE_AUTH_DOMAIN:"cuepack-facf6.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"708593597740",VITE_FIREBASE_PROJECT_ID:"cuepack-facf6",VITE_FIREBASE_STORAGE_BUCKET:"cuepack-facf6.firebasestorage.app"},Sd=r=>{if(typeof import.meta<"u"&&i5)return i5[r]},wP={apiKey:Sd("VITE_FIREBASE_API_KEY"),authDomain:Sd("VITE_FIREBASE_AUTH_DOMAIN"),projectId:Sd("VITE_FIREBASE_PROJECT_ID"),storageBucket:Sd("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:Sd("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:Sd("VITE_FIREBASE_APP_ID")},LS=Db(wP),tl=nP(LS),uy=d3(LS),aa="inventory",Ud="kits",Du="packing_lists",G1="checklist_config",Zs=async(r,e)=>{try{const t=rh(tl,r,e.id);await ly(t,e)}catch(t){throw console.error(`Error writing to ${r}:`,t),t}},dy=async(r,e)=>{try{await mP(rh(tl,r,e))}catch(t){throw console.error(`Error deleting from ${r}:`,t),t}},jm=async(r,e)=>{const t=yP(tl);e.forEach(n=>{const i=rh(tl,r,n.id);t.set(i,n)}),await t.commit()};var _P={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bP=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pn=(r,e)=>{const t=Ce.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:c="",children:u,...d},f)=>Ce.createElement("svg",{ref:f,..._P,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${bP(r)}`,c].join(" "),...d},[...e.map(([y,_])=>Ce.createElement(y,_)),...Array.isArray(u)?u:[u]]));return t.displayName=`${r}`,t};const xP=pn("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const K1=pn("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const SP=pn("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const z0=pn("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const RS=pn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const kP=pn("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const EP=pn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const MS=pn("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);const AP=pn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const OS=pn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const s5=pn("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);const CP=pn("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const IP=pn("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);const FS=pn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const TP=pn("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const NP=pn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const q0=pn("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const o5=pn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const jS=pn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const PP=pn("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const DP=pn("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const LP=pn("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const a5=pn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Q1=pn("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const hy=pn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const RP=pn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const l5=pn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const MP=pn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const c5=pn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const If=pn("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const Bm=pn("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const is=pn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const OP=pn("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const FP=pn("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const jP=pn("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);const oh=pn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const BS=pn("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const BP=pn("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);const nl=pn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const VP=pn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const UP=pn("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const ah=pn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var me=(r=>(r.AUDIO="Audio",r.LIGHTS="Luci",r.VIDEO="Video",r.STRUCTURE="Strutture",r.CABLES="Cablaggi",r.REGIA="Regia",r.TOOLS="Attrezzi",r.OTHER="Altro",r))(me||{});const Vm=({isOpen:r,onClose:e,title:t,children:n,size:i="md"})=>{if(!r)return null;const s={md:"max-w-md",lg:"max-w-2xl",xl:"max-w-6xl"};return k.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:k.jsxs("div",{className:`bg-slate-900 border border-slate-700 rounded-xl shadow-2xl w-full ${s[i]} max-h-[90vh] flex flex-col`,children:[k.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-700",children:[k.jsx("h2",{className:"text-xl font-bold text-white",children:t}),k.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:k.jsx(ah,{size:24})})]}),k.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:n})]})})},fy=({isOpen:r,onClose:e,onSave:t,initialData:n,inventory:i=[],onCreateAccessory:s,title:a})=>{const[c,u]=Ce.useState({}),[d,f]=Ce.useState("0"),[y,_]=Ce.useState("0"),[g,A]=Ce.useState(""),[P,I]=Ce.useState(!1),[M,W]=Ce.useState([]),[z,q]=Ce.useState({}),[ne,de]=Ce.useState("0"),[H,O]=Ce.useState("0");Ce.useEffect(()=>{r&&(n?(u({...n}),f(n.weight?.toString()||"0"),_(n.powerConsumption?.toString()||"0")):(u({category:me.AUDIO,inStock:0,weight:0,powerConsumption:0,name:"",description:"",accessories:[]}),f("0"),_("0")),A(""),I(!1),W([]))},[n,r]);const R=(he,J,F,G)=>{const re=he.target.value;J(re);const ue=parseFloat(re);isNaN(ue)||G(ge=>({...ge,[F]:ue}))},B=()=>{c.name&&c.category&&(t(c),e())},N=he=>{const J=c.accessories||[],F=J.find(re=>re.itemId===he.id);let G;F?G=J.map(re=>re.itemId===he.id?{...re,quantity:re.quantity+1}:re):G=[...J,{itemId:he.id,quantity:1}],u(re=>({...re,accessories:G})),A("")},T=he=>{u(J=>({...J,accessories:(J.accessories||[]).filter(F=>F.itemId!==he)}))},D=(he,J)=>{J<1||u(F=>({...F,accessories:(F.accessories||[]).map(G=>G.itemId===he?{...G,quantity:J}:G)}))},Z=()=>{q({name:g,category:me.CABLES,inStock:0,weight:0,powerConsumption:0,description:""}),de("0"),O("0"),I(!0)},ve=()=>{if(!z.name?.trim()||!s)return;const he={id:crypto.randomUUID(),name:z.name.trim(),category:z.category||me.CABLES,inStock:z.inStock||0,weight:z.weight||0,powerConsumption:z.powerConsumption||0,description:z.description||"",accessories:[]};W(J=>[...J,he]),s(he),N(he),I(!1),A("")},be=Ce.useMemo(()=>{const he=g.trim().toLowerCase().split(/\s+/).filter(J=>J.length>0);return he.length===0?[]:i.filter(J=>{if(J.id===n?.id)return!1;const F=`${J.name} ${J.category} ${J.description||""}`.toLowerCase();return he.every(G=>F.includes(G))})},[i,g,n]),oe=()=>{const he=c.accessories||[];return he.length===0?k.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-600 p-4 text-center",children:[k.jsx(Q1,{size:32,className:"mb-2 opacity-20"}),k.jsx("p",{className:"text-sm",children:"Nessun accessorio collegato."}),k.jsx("p",{className:"text-xs mt-1 opacity-50",children:"Cerca qui sopra per aggiungerne uno."})]}):k.jsx("div",{className:"space-y-2",children:he.map((J,F)=>{const G=i.find(ue=>ue.id===J.itemId)||M.find(ue=>ue.id===J.itemId),re=G?G.name:"Caricamento...";return k.jsxs("div",{className:"flex justify-between items-center bg-slate-900 p-2 rounded border border-slate-800/50 group",children:[k.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[k.jsx("div",{className:"text-sm text-slate-200 truncate",children:re}),k.jsx("div",{className:"text-[10px] text-slate-500",children:"Accessorio collegato"})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("input",{type:"number",min:"1",className:"w-10 bg-slate-800 border border-slate-700 rounded px-1 py-0.5 text-center text-white text-xs outline-none focus:border-blue-500",value:J.quantity,onChange:ue=>D(J.itemId,parseInt(ue.target.value))}),k.jsx("button",{onClick:()=>T(J.itemId),className:"text-slate-600 hover:text-rose-500 p-1",children:k.jsx(ah,{size:14})})]})]},F)})})},Q=()=>k.jsx("div",{className:"space-y-1",children:be.length>0?be.map(he=>k.jsxs("button",{onClick:()=>N(he),className:"w-full text-left p-2 hover:bg-blue-900/20 border border-transparent hover:border-blue-500/30 rounded-lg flex justify-between items-center group transition-colors",children:[k.jsxs("div",{className:"min-w-0",children:[k.jsx("div",{className:"text-sm text-slate-200 truncate font-medium group-hover:text-blue-300",children:he.name}),k.jsx("div",{className:"text-xs text-slate-500",children:he.category})]}),k.jsx(is,{size:16,className:"text-slate-600 group-hover:text-blue-400"})]},he.id)):k.jsxs("div",{className:"text-center py-8",children:[k.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:['Nessun risultato per "',g,'"']}),s&&k.jsxs("button",{onClick:Z,className:"text-xs bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded-full inline-flex items-center gap-1",children:[k.jsx(is,{size:12}),' Crea "',g,'"']})]})}),fe=()=>k.jsxs("div",{className:"absolute inset-0 z-20 bg-slate-900 flex flex-col animate-in fade-in zoom-in-95 rounded-xl",children:[k.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800",children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("button",{onClick:()=>I(!1),className:"text-slate-400 hover:text-white mr-2",children:k.jsx(RS,{size:20})}),k.jsx("h2",{className:"text-xl font-bold text-white",children:"Nuovo Accessorio"})]}),k.jsx("button",{onClick:()=>I(!1),className:"text-slate-400 hover:text-white",children:k.jsx(ah,{size:24})})]}),k.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-1",children:k.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Nome"}),k.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:z.name,onChange:he=>q({...z,name:he.target.value}),placeholder:"Es. Gancio Aliscaf",autoFocus:!0})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Categoria"}),k.jsx("select",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:z.category,onChange:he=>q({...z,category:he.target.value}),children:Object.values(me).map(he=>k.jsx("option",{value:he,children:he},he))})]}),k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Stock Totale"}),k.jsx("input",{type:"number",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none text-right",value:z.inStock,onChange:he=>q({...z,inStock:parseInt(he.target.value)||0})})]})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Peso (kg)"}),k.jsx("input",{type:"number",step:"0.01",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:ne,onChange:he=>R(he,de,"weight",q)})]}),k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Consumo (W)"}),k.jsx("input",{type:"number",step:"1",min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:H,onChange:he=>R(he,O,"powerConsumption",q),placeholder:"0 se non elettrico"})]})]}),k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Descrizione"}),k.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none h-24 resize-none",value:z.description,onChange:he=>q({...z,description:he.target.value}),placeholder:"Dettagli aggiuntivi..."})]})]})}),k.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-800 bg-slate-900 rounded-b-xl",children:[k.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:"Annulla"}),k.jsx("button",{onClick:ve,disabled:!z.name,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded-lg font-medium transition-colors",children:"Crea Accessorio"})]})]});return k.jsxs(Vm,{isOpen:r,onClose:e,title:a,size:"xl",children:[k.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 relative",children:[k.jsxs("div",{className:"flex-1 space-y-4",children:[k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Nome"}),k.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none placeholder-slate-700",value:c.name||"",onChange:he=>u({...c,name:he.target.value}),placeholder:"Es. Cavo XLR 5mt",autoFocus:!0})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Categoria"}),k.jsx("select",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:c.category,onChange:he=>u({...c,category:he.target.value}),children:Object.values(me).map(he=>k.jsx("option",{value:he,children:he},he))})]}),k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Stock Totale"}),k.jsx("input",{type:"number",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none text-right",value:c.inStock,onChange:he=>u({...c,inStock:parseInt(he.target.value)||0})})]})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Peso (kg)"}),k.jsx("input",{type:"number",step:"0.01",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:d,onChange:he=>R(he,f,"weight",u)})]}),k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Consumo (W)"}),k.jsx("input",{type:"number",step:"1",min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:y,onChange:he=>R(he,_,"powerConsumption",u),placeholder:"0 se non elettrico"})]})]}),k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Descrizione"}),k.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none h-24 resize-none placeholder-slate-700",value:c.description||"",onChange:he=>u({...c,description:he.target.value}),placeholder:"Dettagli aggiuntivi..."})]})]}),k.jsx("div",{className:"hidden lg:block w-px bg-slate-800"}),k.jsxs("div",{className:"w-full lg:w-[400px] flex flex-col h-[500px] lg:h-auto",children:[k.jsxs("div",{className:"mb-3",children:[k.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[k.jsx(Q1,{size:16,className:"text-blue-500"})," Accessori Predefiniti"]}),k.jsx("p",{className:"text-xs text-slate-500 mt-1 leading-snug",children:"Oggetti aggiunti automaticamente in lista quando selezioni questo articolo (es. Cavi, Ganci)."})]}),k.jsxs("div",{className:"flex gap-2 mb-3",children:[k.jsxs("div",{className:"relative flex-1",children:[k.jsx(oh,{className:"absolute left-3 top-2.5 text-slate-500",size:16}),k.jsx("input",{type:"text",placeholder:"Cerca accessorio nell'inventario...",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-9 pr-3 py-2 text-sm text-white outline-none focus:border-blue-500 placeholder-slate-600",value:g,onChange:he=>A(he.target.value)})]}),s&&k.jsx("button",{onClick:Z,className:"bg-slate-800 hover:bg-blue-600 hover:text-white text-slate-300 border border-slate-700 rounded-lg w-10 flex items-center justify-center transition-colors",title:"Crea nuovo accessorio se non esiste",children:k.jsx(is,{size:20})})]}),k.jsx("div",{className:"flex-1 bg-slate-950 border border-slate-800 rounded-xl p-2 overflow-y-auto custom-scrollbar relative",children:g?Q():oe()})]}),P&&fe()]}),k.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-800 mt-2",children:[k.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:"Annulla"}),k.jsx("button",{onClick:B,disabled:!c.name,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors shadow-lg shadow-blue-900/20",children:"Salva"})]})]})},mf=({isOpen:r,onClose:e,onConfirm:t,title:n,message:i})=>r?k.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:k.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl max-w-md w-full p-6 animate-in fade-in zoom-in-95 duration-200",children:[k.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[k.jsx("div",{className:"p-3 bg-rose-900/30 rounded-full text-rose-500",children:k.jsx(K1,{size:24})}),k.jsx("h2",{className:"text-xl font-bold text-white",children:n})]}),k.jsx("p",{className:"text-slate-300 mb-6 leading-relaxed",children:i}),k.jsxs("div",{className:"flex justify-end gap-3",children:[k.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all",children:"Annulla"}),k.jsx("button",{onClick:()=>{t(),e()},className:"px-6 py-2 bg-rose-600 hover:bg-rose-500 text-white rounded-lg font-medium shadow-lg shadow-rose-900/20 transition-all",children:"Elimina"})]})]})}):null,zP=({items:r,packingLists:e})=>{const[t,n]=Ce.useState(""),[i,s]=Ce.useState("All"),[a,c]=Ce.useState(!1),[u,d]=Ce.useState(null),[f,y]=Ce.useState(null),[_,g]=Ce.useState(""),A=Ce.useRef(null),[P,I]=Ce.useState(null),M=Ce.useMemo(()=>{if(!r||!Array.isArray(r))return[];const T=(t||"").toLowerCase().split(" ").filter(Z=>Z.trim()!=="");return r.map(Z=>{const ve=(Z.name||"").toLowerCase(),be=(Z.category||"").toLowerCase(),oe=(Z.description||"").toLowerCase(),Q=`${ve} ${be} ${oe}`;if(!T.every(G=>Q.includes(G)))return{item:Z,score:-1,nameMatches:0};let he=0,J=0;return T.length===0?he=1:T.forEach(G=>{ve.includes(G)&&(J++,ve===G?he+=1e3:ve.startsWith(G)?he+=500:ve.includes(" "+G)?he+=200:he+=100),be.includes(G)&&(he+=10),oe.includes(G)&&(he+=1)}),i==="All"||Z.category===i?{item:Z,score:he,nameMatches:J}:{item:Z,score:-1,nameMatches:0}}).filter(Z=>Z.score>-1).sort((Z,ve)=>ve.nameMatches!==Z.nameMatches?ve.nameMatches-Z.nameMatches:ve.score!==Z.score?ve.score-Z.score:(Z.item.name||"").localeCompare(ve.item.name||"")).map(Z=>Z.item)},[r,t,i]);Ce.useEffect(()=>{f&&A.current&&A.current.focus()},[f]);const W=T=>{d(T||null),c(!0)},z=async T=>{await Zs(aa,T)},q=async T=>{const D=[];e.forEach(Z=>{let ve=!1;const be=oe=>oe.map(Q=>{if(Q.type==="item"&&Q.referenceId===T.id){let fe=!1;Q.name!==T.name&&(Q.name=T.name,fe=!0),Q.category!==T.category&&(Q.category=T.category,fe=!0);const he=(T.accessories||[]).map(J=>{const F=r.find(G=>G.id===J.itemId);return{itemId:J.itemId,name:F?.name||"?",quantity:J.quantity,category:F?.category||"Altro"}});return JSON.stringify(Q.contents)!==JSON.stringify(he)&&(Q.contents=he,fe=!0),fe&&(ve=!0),{...Q}}return Q});if(Z.zones){const oe=Z.zones.map(Q=>({...Q,sections:Q.sections.map(fe=>({...fe,components:be(fe.components)}))}));ve&&D.push({...Z,zones:oe})}else if(Z.sections){const oe=Z.sections.map(Q=>({...Q,components:be(Q.components)}));ve&&D.push({...Z,sections:oe})}}),D.length>0&&(console.log(`Propagating updates to ${D.length} lists...`),await Promise.all(D.map(Z=>Zs(Du,Z))))},ne=async T=>{const D=T.name.trim().toLowerCase(),Z=r.find(be=>be.name.trim().toLowerCase()===D&&(!u||be.id!==u.id));let ve;if(Z)ve={...T,id:Z.id};else{const be=u?u.id:crypto.randomUUID();ve={...T,id:be}}await Zs(aa,ve),await q(ve),c(!1)},de=(T,D)=>{y({itemId:T.id,field:D}),g(T[D])},H=()=>{y(null),g("")},O=async()=>{if(!f)return;const{itemId:T,field:D}=f,Z=r.find(ve=>ve.id===T);if(Z){const ve={...Z,[D]:_};await Zs(aa,ve),(D==="name"||D==="category")&&await q(ve)}y(null),g("")},R=T=>{T.key==="Enter"?O():T.key==="Escape"&&H()},B=async()=>{P&&(await dy(aa,P),I(null))},N=async T=>{const D={...T,id:crypto.randomUUID(),name:`${T.name} (Copia)`};await Zs(aa,D),W(D)};return k.jsxs("div",{className:"h-full flex flex-col p-6 space-y-4",children:[k.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[k.jsx("h1",{className:"text-3xl font-bold text-white",children:"Inventario Materiale"}),k.jsxs("div",{className:"flex flex-col md:flex-row gap-2 w-full xl:w-auto",children:[k.jsxs("div",{className:"relative flex-grow md:w-64",children:[k.jsx(oh,{className:"absolute left-3 top-2.5 text-slate-400",size:20}),k.jsx("input",{type:"text",placeholder:"Cerca materiale... (es. 'cavo 10')",className:"w-full bg-slate-800 border border-slate-700 text-white pl-10 pr-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:t,onChange:T=>n(T.target.value)})]}),k.jsxs("div",{className:"relative min-w-[180px]",children:[k.jsx("div",{className:"absolute left-3 top-2.5 pointer-events-none text-slate-400",children:k.jsx(jS,{size:18})}),k.jsxs("select",{value:i,onChange:T=>s(T.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white pl-10 pr-8 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none appearance-none cursor-pointer",children:[k.jsx("option",{value:"All",children:"Tutte le Categorie"}),Object.values(me).map(T=>k.jsx("option",{value:T,children:T},T))]}),k.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:k.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),k.jsxs("button",{onClick:()=>W(),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 font-medium transition-colors whitespace-nowrap",children:[k.jsx(is,{size:20}),k.jsx("span",{children:"Nuovo"})]})]})]}),k.jsx("div",{className:"flex-1 bg-slate-900 border border-slate-800 rounded-xl overflow-hidden flex flex-col",children:k.jsx("div",{className:"overflow-auto flex-1 custom-scrollbar",children:k.jsxs("table",{className:"w-full text-left border-collapse",children:[k.jsx("thead",{className:"bg-slate-800 text-slate-300 sticky top-0 z-10 shadow-sm",children:k.jsxs("tr",{children:[k.jsx("th",{className:"p-4 font-semibold text-sm uppercase tracking-wider",children:"Nome"}),k.jsx("th",{className:"p-4 font-semibold text-sm uppercase tracking-wider",children:"Categoria"}),k.jsx("th",{className:"p-4 font-semibold text-right text-sm uppercase tracking-wider",children:"Peso (kg)"}),k.jsx("th",{className:"p-4 font-semibold text-right text-sm uppercase tracking-wider",children:"Consumo (W)"}),k.jsx("th",{className:"p-4 font-semibold text-right text-sm uppercase tracking-wider",children:"Stock"}),k.jsx("th",{className:"p-4 font-semibold text-center text-sm uppercase tracking-wider",children:"Azioni"})]})}),k.jsx("tbody",{className:"divide-y divide-slate-800",children:M.length===0?k.jsx("tr",{children:k.jsx("td",{colSpan:6,className:"p-8 text-center text-slate-500",children:"Nessun materiale trovato."})}):M.map(T=>k.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors group",children:[k.jsxs("td",{className:"p-4",onDoubleClick:D=>{D.stopPropagation(),de(T,"name")},children:[f?.itemId===T.id&&f?.field==="name"?k.jsx("input",{ref:A,type:"text",className:"w-full bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none",value:_,onChange:D=>g(D.target.value),onBlur:O,onKeyDown:R}):k.jsxs("div",{className:"flex items-center gap-2 cursor-text",title:"Doppio click per rinominare",children:[k.jsx("div",{className:"font-medium text-white",children:T.name}),T.accessories&&T.accessories.length>0&&k.jsx("span",{title:`${T.accessories.length} accessori collegati`,children:k.jsx(Q1,{size:14,className:"text-slate-500"})})]}),(!f||f.itemId!==T.id||f?.field!=="name")&&k.jsx("div",{className:"text-sm text-slate-500 truncate max-w-xs cursor-text",onDoubleClick:D=>{D.stopPropagation(),de(T,"description")},children:T.description})]}),k.jsx("td",{className:"p-4",onDoubleClick:D=>{D.stopPropagation(),de(T,"category")},children:f?.itemId===T.id&&f?.field==="category"?k.jsx("select",{ref:A,className:"bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none text-sm",value:_,onChange:D=>g(D.target.value),onBlur:O,onKeyDown:R,children:Object.values(me).map(D=>k.jsx("option",{value:D,children:D},D))}):k.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border cursor-pointer
                            ${T.category===me.AUDIO?"bg-amber-900/20 text-amber-500 border-amber-900/30":T.category===me.LIGHTS?"bg-purple-900/20 text-purple-500 border-purple-900/30":T.category===me.VIDEO?"bg-blue-900/20 text-blue-500 border-blue-900/30":T.category===me.REGIA?"bg-teal-900/20 text-teal-500 border-teal-900/30":"bg-slate-800 text-slate-400 border-slate-700"}`,title:"Doppio click per cambiare categoria",children:T.category})}),k.jsx("td",{className:"p-4 text-right",onDoubleClick:D=>{D.stopPropagation(),de(T,"weight")},children:f?.itemId===T.id&&f?.field==="weight"?k.jsx("input",{ref:A,type:"number",step:"0.1",className:"w-20 bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none text-right font-mono",value:_,onChange:D=>g(Number(D.target.value)),onBlur:O,onKeyDown:R}):k.jsx("span",{className:"text-slate-300 font-mono cursor-pointer",title:"Doppio click per modificare peso",children:T.weight})}),k.jsx("td",{className:"p-4 text-right",onDoubleClick:D=>{D.stopPropagation(),de(T,"powerConsumption")},children:f?.itemId===T.id&&f?.field==="powerConsumption"?k.jsx("input",{ref:A,type:"number",min:"0",className:"w-20 bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none text-right font-mono",value:_,onChange:D=>g(Number(D.target.value)),onBlur:O,onKeyDown:R}):k.jsx("span",{className:`font-mono cursor-pointer ${(T.powerConsumption||0)>0?"text-yellow-400":"text-slate-500"}`,title:"Doppio click per modificare consumo",children:T.powerConsumption||0})}),k.jsx("td",{className:"p-4 text-right",onDoubleClick:D=>{D.stopPropagation(),de(T,"inStock")},children:f?.itemId===T.id&&f?.field==="inStock"?k.jsx("input",{ref:A,type:"number",className:"w-20 bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none text-right font-mono font-bold",value:_,onChange:D=>g(Number(D.target.value)),onBlur:O,onKeyDown:R}):k.jsx("span",{className:`font-mono font-bold cursor-pointer ${T.inStock>0?"text-emerald-400":"text-rose-400"}`,title:"Doppio click per modificare stock",children:T.inStock})}),k.jsx("td",{className:"p-4",children:k.jsxs("div",{className:"flex justify-center gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[k.jsx("button",{onClick:D=>{D.stopPropagation(),W(T)},className:"p-2 text-blue-400 hover:text-blue-300 rounded-lg hover:bg-slate-800",title:"Modifica completa",children:k.jsx(Bm,{size:16})}),k.jsx("button",{onClick:D=>{D.stopPropagation(),N(T)},className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-800",title:"Duplica",children:k.jsx(FS,{size:16})}),k.jsx("button",{onClick:D=>{D.stopPropagation(),I(T.id)},className:"p-2 text-rose-400 hover:text-rose-300 rounded-lg hover:bg-slate-800",title:"Elimina",children:k.jsx(nl,{size:16})})]})})]},T.id))})]})})}),k.jsx(fy,{isOpen:a,onClose:()=>c(!1),onSave:ne,initialData:u,inventory:r,onCreateAccessory:z,title:u?"Modifica Materiale":"Nuovo Materiale"}),k.jsx(mf,{isOpen:!!P,onClose:()=>I(null),onConfirm:B,title:"Elimina Materiale",message:"Sei sicuro di voler eliminare questo materiale dall'inventario?"})]})},qP=({kits:r,inventory:e})=>{const[t,n]=Ce.useState(""),[i,s]=Ce.useState("All"),[a,c]=Ce.useState(!1),[u,d]=Ce.useState(null),[f,y]=Ce.useState({items:[]}),[_,g]=Ce.useState(""),[A,P]=Ce.useState(null),[I,M]=Ce.useState(!1),W=Ce.useRef({}),[z,q]=Ce.useState(null),ne=Ce.useMemo(()=>{const oe=(t||"").toLowerCase().split(" ").filter(Q=>Q.trim()!=="");return r.map(Q=>{const fe=(Q.name||"").toLowerCase(),he=(Q.category||"").toLowerCase(),J=(Q.description||"").toLowerCase(),F=`${fe} ${he} ${J}`;if(!oe.every(ue=>F.includes(ue)))return{kit:Q,score:-1,nameMatches:0};if(i!=="All"&&Q.category!==i)return{kit:Q,score:-1,nameMatches:0};let G=0,re=0;return oe.length===0?G=1:oe.forEach(ue=>{fe.includes(ue)&&(re++,fe===ue?G+=1e3:fe.startsWith(ue)?G+=500:fe.includes(" "+ue)?G+=200:G+=100),he.includes(ue)&&(G+=20),J.includes(ue)&&(G+=5)}),{kit:Q,score:G,nameMatches:re}}).filter(Q=>Q.score>-1).sort((Q,fe)=>fe.nameMatches!==Q.nameMatches?fe.nameMatches-Q.nameMatches:fe.score!==Q.score?fe.score-Q.score:(Q.kit.name||"").localeCompare(fe.kit.name||"")).map(Q=>Q.kit)},[r,t,i]);Ce.useEffect(()=>{z&&W.current[z]&&(W.current[z]?.focus(),W.current[z]?.select(),q(null))},[f.items,z]);const de=oe=>{oe?(d(oe),y({...oe})):(d(null),y({name:"",description:"",items:[],category:me.OTHER})),c(!0)},H=async()=>{if(!f.name)return;let oe;u?oe={...f,id:u.id}:oe={...f,category:f.category||me.OTHER,id:crypto.randomUUID()},await Zs(Ud,oe),c(!1)},O=async()=>{A&&(await dy(Ud,A),P(null))},R=async oe=>{const Q={...oe,id:crypto.randomUUID(),name:`${oe.name} (Copia)`};await Zs(Ud,Q)},B=oe=>{const Q=[{itemId:oe.id,quantity:1}];oe.accessories&&oe.accessories.length>0&&oe.accessories.forEach(he=>{Q.push({itemId:he.itemId,quantity:he.quantity})});let fe=[...f.items||[]];Q.forEach(he=>{const J=fe.findIndex(F=>F.itemId===he.itemId);J>=0?fe[J]={...fe[J],quantity:fe[J].quantity+he.quantity}:fe.push({itemId:he.itemId,quantity:he.quantity})}),y({...f,items:fe}),q(oe.id)},N=oe=>{y({...f,items:f.items?.filter(Q=>Q.itemId!==oe)})},T=(oe,Q)=>{Q<1||y({...f,items:f.items?.map(fe=>fe.itemId===oe?{...fe,quantity:Q}:fe)})},D=oe=>e.find(Q=>Q.id===oe)?.name||"Unknown Item",Z=async oe=>{const Q={...oe,id:crypto.randomUUID()};await Zs(aa,Q),B(Q)},ve=async oe=>{await Zs(aa,oe)},be=Ce.useMemo(()=>{const oe=(_||"").toLowerCase().split(" ").filter(Q=>Q.trim()!=="");return e.map(Q=>{const fe=(Q.name||"").toLowerCase(),he=(Q.category||"").toLowerCase(),J=(Q.description||"").toLowerCase(),F=`${fe} ${he} ${J}`;if(!oe.every(ue=>F.includes(ue)))return{item:Q,score:-1,nameMatches:0};let G=0,re=0;return oe.length===0?G=1:oe.forEach(ue=>{fe.includes(ue)&&(re++,fe===ue?G+=1e3:fe.startsWith(ue)?G+=500:fe.includes(" "+ue)?G+=200:G+=100),he.includes(ue)&&(G+=20),J.includes(ue)&&(G+=5)}),{item:Q,score:G,nameMatches:re}}).filter(Q=>Q.score>-1).sort((Q,fe)=>fe.nameMatches!==Q.nameMatches?fe.nameMatches-Q.nameMatches:fe.score!==Q.score?fe.score-Q.score:(Q.item.name||"").localeCompare(fe.item.name||"")).map(Q=>Q.item)},[e,_]);return k.jsxs("div",{className:"h-full flex flex-col p-6 space-y-4",children:[k.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[k.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gestione Kit"}),k.jsxs("div",{className:"flex flex-col md:flex-row gap-2 w-full xl:w-auto",children:[k.jsxs("div",{className:"relative flex-grow md:w-64",children:[k.jsx(oh,{className:"absolute left-3 top-2.5 text-slate-400",size:20}),k.jsx("input",{type:"text",placeholder:"Cerca kit... (es. 'totem 2m')",className:"w-full bg-slate-800 border border-slate-700 text-white pl-10 pr-4 py-2 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",value:t,onChange:oe=>n(oe.target.value)})]}),k.jsxs("div",{className:"relative min-w-[180px]",children:[k.jsx("div",{className:"absolute left-3 top-2.5 pointer-events-none text-slate-400",children:k.jsx(jS,{size:18})}),k.jsxs("select",{value:i,onChange:oe=>s(oe.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white pl-10 pr-8 py-2 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none appearance-none cursor-pointer",children:[k.jsx("option",{value:"All",children:"Tutte le Categorie"}),Object.values(me).map(oe=>k.jsx("option",{value:oe,children:oe},oe))]}),k.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:k.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),k.jsxs("button",{onClick:()=>de(),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 font-medium transition-colors whitespace-nowrap",children:[k.jsx(is,{size:20}),k.jsx("span",{children:"Nuovo Kit"})]})]})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 overflow-y-auto pb-4 custom-scrollbar",children:ne.length===0?k.jsx("div",{className:"col-span-full text-center py-10 text-slate-500",children:"Nessun kit trovato."}):ne.map(oe=>k.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 flex flex-col gap-4 hover:border-slate-700 transition-all group",children:[k.jsxs("div",{className:"flex justify-between items-start",children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("div",{className:"p-3 bg-purple-900/30 text-purple-400 rounded-lg",children:k.jsx(If,{size:24})}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-bold text-white leading-tight",children:oe.name}),k.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[k.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-semibold border uppercase tracking-wider
                          ${oe.category===me.AUDIO?"bg-amber-900/20 text-amber-500 border-amber-900/30":oe.category===me.LIGHTS?"bg-purple-900/20 text-purple-500 border-purple-900/30":oe.category===me.VIDEO?"bg-blue-900/20 text-blue-500 border-blue-900/30":oe.category===me.STRUCTURE?"bg-slate-700/30 text-slate-400 border-slate-600/30":"bg-slate-800 text-slate-400 border-slate-700"}`,children:oe.category}),k.jsxs("span",{className:"text-xs text-slate-500",children:[" ",oe.items.length," Elementi"]})]})]})]}),k.jsxs("div",{className:"flex gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[k.jsx("button",{onClick:()=>R(oe),className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-800",children:k.jsx(FS,{size:16})}),k.jsx("button",{onClick:()=>de(oe),className:"p-2 text-blue-400 hover:text-blue-300 rounded-lg hover:bg-slate-800",children:k.jsx(Bm,{size:16})}),k.jsx("button",{onClick:()=>P(oe.id),className:"p-2 text-rose-400 hover:text-rose-300 rounded-lg hover:bg-slate-800",children:k.jsx(nl,{size:16})})]})]}),k.jsx("div",{className:"bg-slate-950/50 rounded-lg p-3 text-sm text-slate-400 h-20 overflow-y-auto custom-scrollbar",children:oe.description||"Nessuna descrizione."}),k.jsxs("div",{className:"text-xs text-slate-500 border-t border-slate-800 pt-3 truncate",children:["Contiene: ",oe.items.slice(0,3).map(Q=>D(Q.itemId)).join(", ")," ",oe.items.length>3?"...":""]})]},oe.id))}),k.jsxs(Vm,{isOpen:a,onClose:()=>c(!1),title:u?"Modifica Kit":"Nuovo Kit",size:"xl",children:[k.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[70vh]",children:[k.jsxs("div",{className:"flex-1 flex flex-col gap-4 overflow-hidden",children:[k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[k.jsxs("div",{className:"col-span-2",children:[k.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Nome Kit"}),k.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2 text-white focus:border-purple-500 outline-none",value:f.name||"",onChange:oe=>y({...f,name:oe.target.value}),placeholder:"Es. Kit Batteria"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Categoria"}),k.jsx("select",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2 text-white focus:border-purple-500 outline-none",value:f.category||me.OTHER,onChange:oe=>y({...f,category:oe.target.value}),children:Object.values(me).map(oe=>k.jsx("option",{value:oe,children:oe},oe))})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Descrizione"}),k.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2 text-white focus:border-purple-500 outline-none h-16 resize-none",value:f.description||"",onChange:oe=>y({...f,description:oe.target.value})})]})]}),k.jsxs("div",{className:"flex-1 bg-slate-950 rounded-lg border border-slate-800 p-4 overflow-hidden flex flex-col",children:[k.jsx("h4",{className:"text-sm font-semibold text-purple-400 mb-2 uppercase tracking-wider",children:"Contenuto Kit"}),k.jsxs("div",{className:"overflow-y-auto flex-1 space-y-2 pr-2 custom-scrollbar",children:[f.items?.length===0&&k.jsx("p",{className:"text-slate-600 text-center py-4",children:"Nessun materiale aggiunto."}),f.items?.map((oe,Q)=>k.jsxs("div",{className:"flex justify-between items-center bg-slate-900 p-2 rounded border border-slate-800",children:[k.jsx("span",{className:"text-slate-300 text-sm truncate flex-1 mr-2",children:D(oe.itemId)}),k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("input",{ref:fe=>{W.current[oe.itemId]=fe},type:"number",className:"w-16 bg-slate-800 border border-slate-700 rounded px-2 py-1 text-center text-white text-sm focus:border-purple-500 outline-none",value:oe.quantity,onChange:fe=>T(oe.itemId,Number(fe.target.value))}),k.jsx("button",{onClick:()=>N(oe.itemId),className:"text-rose-500 hover:text-rose-400",children:k.jsx(ah,{size:16})})]})]},Q))]})]})]}),k.jsxs("div",{className:"w-full lg:w-96 bg-slate-800 rounded-lg p-4 flex flex-col border border-slate-700",children:[k.jsxs("div",{className:"flex justify-between items-center mb-3",children:[k.jsx("h4",{className:"font-semibold text-white",children:"Aggiungi Materiale"}),k.jsx("button",{onClick:()=>M(!0),className:"p-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded transition-colors",title:"Crea nuovo materiale",children:k.jsx(is,{size:16})})]}),k.jsxs("div",{className:"relative mb-3",children:[k.jsx(oh,{className:"absolute left-3 top-2.5 text-slate-400",size:16}),k.jsx("input",{type:"text",placeholder:"Cerca... (es. 'cavo 10')",className:"w-full bg-slate-900 border border-slate-700 text-white pl-9 pr-3 py-2 rounded-lg text-sm focus:border-purple-500 outline-none",value:_,onChange:oe=>g(oe.target.value)})]}),k.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-1",children:be.map(oe=>k.jsxs("button",{onClick:()=>B(oe),className:"w-full text-left p-2 hover:bg-slate-700 rounded flex justify-between items-center group transition-colors",children:[k.jsx("span",{className:"text-sm text-slate-300 truncate flex-1",children:oe.name}),k.jsx(is,{size:16,className:"text-slate-500 group-hover:text-purple-400 ml-2"})]},oe.id))})]})]}),k.jsxs("div",{className:"flex justify-end gap-2 mt-6 border-t border-slate-800 pt-4",children:[k.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-slate-400 hover:text-white",children:"Annulla"}),k.jsx("button",{onClick:H,className:"px-6 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg font-medium",children:"Salva Kit"})]})]}),k.jsx(fy,{isOpen:I,onClose:()=>M(!1),onSave:Z,title:"Nuovo Materiale",inventory:e,onCreateAccessory:ve}),k.jsx(mf,{isOpen:!!A,onClose:()=>P(null),onConfirm:O,title:"Elimina Kit",message:"Sei sicuro di voler eliminare questo kit? I materiali all'interno non verranno cancellati dall'inventario."})]})};function VS(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=VS(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function qi(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=VS(r))&&(n&&(n+=" "),n+=e);return n}const US=6048e5,HP=864e5,Ag=6e4,Cg=36e5,WP=1e3,u5=Symbol.for("constructDateFrom");function pr(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&u5 in r?r[u5](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ft(r,e){return pr(e||r,r)}function Ia(r,e,t){const n=Ft(r,t?.in);return isNaN(e)?pr(t?.in||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function Pa(r,e,t){const n=Ft(r,t?.in);if(isNaN(e))return pr(r,NaN);if(!e)return n;const i=n.getDate(),s=pr(r,n.getTime());s.setMonth(n.getMonth()+e+1,0);const a=s.getDate();return i>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function zS(r,e,t){return pr(r,+Ft(r)+e)}function $P(r,e,t){return zS(r,e*Cg)}let YP={};function Zu(){return YP}function ec(r,e){const t=Zu(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Ft(r,e?.in),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function lh(r,e){return ec(r,{...e,weekStartsOn:1})}function qS(r,e){const t=Ft(r,e?.in),n=t.getFullYear(),i=pr(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=lh(i),a=pr(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const c=lh(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function Um(r){const e=Ft(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function rc(r,...e){const t=pr.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function $u(r,e){const t=Ft(r,e?.in);return t.setHours(0,0,0,0),t}function ch(r,e,t){const[n,i]=rc(t?.in,r,e),s=$u(n),a=$u(i),c=+s-Um(s),u=+a-Um(a);return Math.round((c-u)/HP)}function GP(r,e){const t=qS(r,e),n=pr(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),lh(n)}function Tf(r,e,t){const n=Ft(r,t?.in);return n.setTime(n.getTime()+e*Ag),n}function py(r,e,t){return Pa(r,e*3,t)}function KP(r,e,t){return zS(r,e*1e3)}function zm(r,e,t){return Ia(r,e*7,t)}function Ta(r,e,t){return Pa(r,e*12,t)}function d5(r,e){let t,n=e?.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=pr.bind(null,i));const s=Ft(i,n);(!t||t<s||isNaN(+s))&&(t=s)}),pr(n,t||NaN)}function h5(r,e){let t,n=e?.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=pr.bind(null,i));const s=Ft(i,n);(!t||t>s||isNaN(+s))&&(t=s)}),pr(n,t||NaN)}function QP(r,e,t){const[n,i]=rc(t?.in,r,e);return+$u(n)==+$u(i)}function hl(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function uh(r){return!(!hl(r)&&typeof r!="number"||isNaN(+Ft(r)))}function qm(r,e,t){const[n,i]=rc(t?.in,r,e),s=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return s*12+a}function Uc(r,e){const t=Ft(r,e?.in);return Math.trunc(t.getMonth()/3)+1}function Hm(r,e,t){const[n,i]=rc(t?.in,r,e),s=n.getFullYear()-i.getFullYear(),a=Uc(n)-Uc(i);return s*4+a}function Wm(r,e,t){const[n,i]=rc(t?.in,r,e);return n.getFullYear()-i.getFullYear()}function XP(r,e,t){const[n,i]=rc(t?.in,r,e),s=f5(n,i),a=Math.abs(ch(n,i));n.setDate(n.getDate()-s*a);const c=+(f5(n,i)===-s),u=s*(a-c);return u===0?0:u}function f5(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function HS(r,e){const t=Ft(r,e?.in);return t.setHours(23,59,59,999),t}function WS(r,e){const t=Ft(r,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function X1(r,e){const t=Ft(r,e?.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function $S(r,e){const t=Ft(r,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function YS(r,e){const t=Ft(r,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Ig(r,e){const t=Ft(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function JP(r,e){const t=Zu(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Ft(r,e?.in),s=i.getDay(),a=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}const ZP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eD=(r,e,t)=>{let n;const i=ZP[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function H0(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const tD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iD={date:H0({formats:tD,defaultWidth:"full"}),time:H0({formats:nD,defaultWidth:"full"}),dateTime:H0({formats:rD,defaultWidth:"full"})},sD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oD=(r,e,t,n)=>sD[r];function Kh(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,c=t?.width?String(t.width):a;i=r.formattingValues[c]||r.formattingValues[a]}else{const a=r.defaultWidth,c=t?.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[a]}const s=r.argumentCallback?r.argumentCallback(e):e;return i[s]}}const aD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fD=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},pD={ordinalNumber:fD,era:Kh({values:aD,defaultWidth:"wide"}),quarter:Kh({values:lD,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Kh({values:cD,defaultWidth:"wide"}),day:Kh({values:uD,defaultWidth:"wide"}),dayPeriod:Kh({values:dD,defaultWidth:"wide",formattingValues:hD,defaultFormattingWidth:"wide"})};function Qh(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],u=Array.isArray(c)?gD(c,y=>y.test(a)):mD(c,y=>y.test(a));let d;d=r.valueCallback?r.valueCallback(u):u,d=t.valueCallback?t.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}function mD(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function gD(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function vD(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],s=e.match(r.parsePattern);if(!s)return null;let a=r.valueCallback?r.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const c=e.slice(i.length);return{value:a,rest:c}}}const yD=/^(\d+)(th|st|nd|rd)?/i,wD=/\d+/i,_D={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bD={any:[/^b/i,/^(a|c)/i]},xD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SD={any:[/1/i,/2/i,/3/i,/4/i]},kD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ED={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ID={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ND={ordinalNumber:vD({matchPattern:yD,parsePattern:wD,valueCallback:r=>parseInt(r,10)}),era:Qh({matchPatterns:_D,defaultMatchWidth:"wide",parsePatterns:bD,defaultParseWidth:"any"}),quarter:Qh({matchPatterns:xD,defaultMatchWidth:"wide",parsePatterns:SD,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Qh({matchPatterns:kD,defaultMatchWidth:"wide",parsePatterns:ED,defaultParseWidth:"any"}),day:Qh({matchPatterns:AD,defaultMatchWidth:"wide",parsePatterns:CD,defaultParseWidth:"any"}),dayPeriod:Qh({matchPatterns:ID,defaultMatchWidth:"any",parsePatterns:TD,defaultParseWidth:"any"})},GS={code:"en-US",formatDistance:eD,formatLong:iD,formatRelative:oD,localize:pD,match:ND,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PD(r,e){const t=Ft(r,e?.in);return ch(t,Ig(t))+1}function my(r,e){const t=Ft(r,e?.in),n=+lh(t)-+GP(t);return Math.round(n/US)+1}function gy(r,e){const t=Ft(r,e?.in),n=t.getFullYear(),i=Zu(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=pr(e?.in||r,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const c=ec(a,e),u=pr(e?.in||r,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const d=ec(u,e);return+t>=+c?n+1:+t>=+d?n:n-1}function DD(r,e){const t=Zu(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=gy(r,e),s=pr(e?.in||r,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),ec(s,e)}function KS(r,e){const t=Ft(r,e?.in),n=+ec(t,e)-+DD(t,e);return Math.round(n/US)+1}function dr(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Lc={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return dr(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):dr(t+1,2)},d(r,e){return dr(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(r,e){return dr(r.getHours()%12||12,e.length)},H(r,e){return dr(r.getHours(),e.length)},m(r,e){return dr(r.getMinutes(),e.length)},s(r,e){return dr(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return dr(i,e.length)}},kd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},p5={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return Lc.y(r,e)},Y:function(r,e,t,n){const i=gy(r,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return dr(a,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):dr(s,e.length)},R:function(r,e){const t=qS(r);return dr(t,e.length)},u:function(r,e){const t=r.getFullYear();return dr(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return dr(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return dr(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Lc.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return dr(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=KS(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):dr(i,e.length)},I:function(r,e,t){const n=my(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):dr(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Lc.d(r,e)},D:function(r,e,t){const n=PD(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):dr(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return dr(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return dr(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return dr(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=kd.noon:n===0?i=kd.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=kd.evening:n>=12?i=kd.afternoon:n>=4?i=kd.morning:i=kd.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Lc.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Lc.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):dr(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):dr(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Lc.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Lc.s(r,e)},S:function(r,e){return Lc.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return g5(n);case"XXXX":case"XX":return Cu(n);default:return Cu(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return g5(n);case"xxxx":case"xx":return Cu(n);default:return Cu(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+m5(n,":");default:return"GMT"+Cu(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+m5(n,":");default:return"GMT"+Cu(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return dr(n,e.length)},T:function(r,e,t){return dr(+r,e.length)}};function m5(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),s=n%60;return s===0?t+String(i):t+String(i)+e+dr(s,2)}function g5(r,e){return r%60===0?(r>0?"-":"+")+dr(Math.abs(r)/60,2):Cu(r,e)}function Cu(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=dr(Math.trunc(n/60),2),s=dr(n%60,2);return t+i+e+s}const v5=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},QS=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},LD=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return v5(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",v5(n,e)).replace("{{time}}",QS(i,e))},J1={p:QS,P:LD},RD=/^D+$/,MD=/^Y+$/,OD=["D","DD","YY","YYYY"];function FD(r){return RD.test(r)}function jD(r){return MD.test(r)}function BD(r,e,t){const n=VD(r,e,t);if(console.warn(n),OD.includes(r))throw new RangeError(n)}function VD(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qD=/^'([^]*?)'?$/,HD=/''/g,WD=/[a-zA-Z]/;function y5(r,e,t){const n=Zu(),i=t?.locale??n.locale??GS,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=Ft(r,t?.in);if(!uh(c))throw new RangeError("Invalid time value");let u=e.match(zD).map(f=>{const y=f[0];if(y==="p"||y==="P"){const _=J1[y];return _(f,i.formatLong)}return f}).join("").match(UD).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const y=f[0];if(y==="'")return{isToken:!1,value:$D(f)};if(p5[y])return{isToken:!0,value:f};if(y.match(WD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(f=>{if(!f.isToken)return f.value;const y=f.value;(!t?.useAdditionalWeekYearTokens&&jD(y)||!t?.useAdditionalDayOfYearTokens&&FD(y))&&BD(y,e,String(r));const _=p5[y[0]];return _(c,y,i.localize,d)}).join("")}function $D(r){const e=r.match(qD);return e?e[1].replace(HD,"'"):r}function w5(r,e){return Ft(r,e?.in).getDate()}function YD(r,e){return Ft(r,e?.in).getDay()}function GD(r,e){const t=Ft(r,e?.in),n=t.getFullYear(),i=t.getMonth(),s=pr(t,0);return s.setFullYear(n,i+1,0),s.setHours(0,0,0,0),s.getDate()}function KD(){return Object.assign({},Zu())}function Ms(r,e){return Ft(r,e?.in).getHours()}function QD(r,e){const t=Ft(r,e?.in).getDay();return t===0?7:t}function Os(r,e){return Ft(r,e?.in).getMinutes()}function _o(r,e){return Ft(r,e?.in).getMonth()}function Kc(r){return Ft(r).getSeconds()}function Z1(r){return+Ft(r)}function Tn(r,e){return Ft(r,e?.in).getFullYear()}function Gl(r,e){return+Ft(r)>+Ft(e)}function sl(r,e){return+Ft(r)<+Ft(e)}function XD(r,e){return+Ft(r)==+Ft(e)}function JD(r,e){const t=ZD(e)?new e(0):pr(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function ZD(r){return typeof r=="function"&&r.prototype?.constructor===r}const e6=10;class XS{subPriority=0;validate(e,t){return!0}}class t6 extends XS{constructor(e,t,n,i,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class n6 extends XS{priority=e6;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>pr(t,n))}set(e,t){return t.timestampIsSet?e:pr(e,JD(e,this.context))}}class er{run(e,t,n,i){const s=this.parse(e,t,n,i);return s?{setter:new t6(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}}class r6 extends er{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const bi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},rl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function xi(r,e){return r&&{value:e(r.value),rest:r.rest}}function Zr(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function il(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:n*(i*Cg+s*Ag+a*WP),rest:e.slice(t[0].length)}}function JS(r){return Zr(bi.anyDigitsSigned,r)}function hi(r,e){switch(r){case 1:return Zr(bi.singleDigit,e);case 2:return Zr(bi.twoDigits,e);case 3:return Zr(bi.threeDigits,e);case 4:return Zr(bi.fourDigits,e);default:return Zr(new RegExp("^\\d{1,"+r+"}"),e)}}function $m(r,e){switch(r){case 1:return Zr(bi.singleDigitSigned,e);case 2:return Zr(bi.twoDigitsSigned,e);case 3:return Zr(bi.threeDigitsSigned,e);case 4:return Zr(bi.fourDigitsSigned,e);default:return Zr(new RegExp("^-?\\d{1,"+r+"}"),e)}}function vy(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function ZS(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const s=n+50,a=Math.trunc(s/100)*100,c=r>=s%100;i=r+a-(c?100:0)}return t?i:1-i}function ek(r){return r%400===0||r%4===0&&r%100!==0}class i6 extends er{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const i=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return xi(hi(4,e),i);case"yo":return xi(n.ordinalNumber(e,{unit:"year"}),i);default:return xi(hi(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const i=e.getFullYear();if(n.isTwoDigitYear){const a=ZS(n.year,i);return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class s6 extends er{priority=130;parse(e,t,n){const i=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return xi(hi(4,e),i);case"Yo":return xi(n.ordinalNumber(e,{unit:"year"}),i);default:return xi(hi(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,i){const s=gy(e,i);if(n.isTwoDigitYear){const c=ZS(n.year,s);return e.setFullYear(c,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),ec(e,i)}const a=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(a,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),ec(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class o6 extends er{priority=130;parse(e,t){return $m(t==="R"?4:t.length,e)}set(e,t,n){const i=pr(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),lh(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class a6 extends er{priority=130;parse(e,t){return $m(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class l6 extends er{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return hi(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class c6 extends er{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return hi(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class u6 extends er{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const i=s=>s-1;switch(t){case"M":return xi(Zr(bi.month,e),i);case"MM":return xi(hi(2,e),i);case"Mo":return xi(n.ordinalNumber(e,{unit:"month"}),i);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class d6 extends er{priority=110;parse(e,t,n){const i=s=>s-1;switch(t){case"L":return xi(Zr(bi.month,e),i);case"LL":return xi(hi(2,e),i);case"Lo":return xi(n.ordinalNumber(e,{unit:"month"}),i);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function h6(r,e,t){const n=Ft(r,t?.in),i=KS(n,t)-e;return n.setDate(n.getDate()-i*7),Ft(n,t?.in)}class f6 extends er{priority=100;parse(e,t,n){switch(t){case"w":return Zr(bi.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return hi(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,i){return ec(h6(e,n,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function p6(r,e,t){const n=Ft(r,t?.in),i=my(n,t)-e;return n.setDate(n.getDate()-i*7),n}class m6 extends er{priority=100;parse(e,t,n){switch(t){case"I":return Zr(bi.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return hi(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return lh(p6(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const g6=[31,28,31,30,31,30,31,31,30,31,30,31],v6=[31,29,31,30,31,30,31,31,30,31,30,31];class y6 extends er{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return Zr(bi.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return hi(t.length,e)}}validate(e,t){const n=e.getFullYear(),i=ek(n),s=e.getMonth();return i?t>=1&&t<=v6[s]:t>=1&&t<=g6[s]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class w6 extends er{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return Zr(bi.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return hi(t.length,e)}}validate(e,t){const n=e.getFullYear();return ek(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function yy(r,e,t){const n=Zu(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Ft(r,t?.in),a=s.getDay(),u=(e%7+7)%7,d=7-i,f=e<0||e>6?e-(a+d)%7:(u+d)%7-(a+d)%7;return Ia(s,f,t)}class _6 extends er{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=yy(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class b6 extends er{priority=90;parse(e,t,n,i){const s=a=>{const c=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+c};switch(t){case"e":case"ee":return xi(hi(t.length,e),s);case"eo":return xi(n.ordinalNumber(e,{unit:"day"}),s);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=yy(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class x6 extends er{priority=90;parse(e,t,n,i){const s=a=>{const c=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+c};switch(t){case"c":case"cc":return xi(hi(t.length,e),s);case"co":return xi(n.ordinalNumber(e,{unit:"day"}),s);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=yy(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function S6(r,e,t){const n=Ft(r,t?.in),i=QD(n,t),s=e-i;return Ia(n,s,t)}class k6 extends er{priority=90;parse(e,t,n){const i=s=>s===0?7:s;switch(t){case"i":case"ii":return hi(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return xi(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return xi(n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return xi(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);default:return xi(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=S6(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class E6 extends er{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(vy(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class A6 extends er{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(vy(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class C6 extends er{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(vy(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class I6 extends er{priority=70;parse(e,t,n){switch(t){case"h":return Zr(bi.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return hi(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const i=e.getHours()>=12;return i&&n<12?e.setHours(n+12,0,0,0):!i&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class T6 extends er{priority=70;parse(e,t,n){switch(t){case"H":return Zr(bi.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return hi(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class N6 extends er{priority=70;parse(e,t,n){switch(t){case"K":return Zr(bi.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return hi(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class P6 extends er{priority=70;parse(e,t,n){switch(t){case"k":return Zr(bi.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return hi(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const i=n<=24?n%24:n;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class D6 extends er{priority=60;parse(e,t,n){switch(t){case"m":return Zr(bi.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return hi(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class L6 extends er{priority=50;parse(e,t,n){switch(t){case"s":return Zr(bi.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return hi(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class R6 extends er{priority=30;parse(e,t){const n=i=>Math.trunc(i*Math.pow(10,-t.length+3));return xi(hi(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class M6 extends er{priority=10;parse(e,t){switch(t){case"X":return il(rl.basicOptionalMinutes,e);case"XX":return il(rl.basic,e);case"XXXX":return il(rl.basicOptionalSeconds,e);case"XXXXX":return il(rl.extendedOptionalSeconds,e);default:return il(rl.extended,e)}}set(e,t,n){return t.timestampIsSet?e:pr(e,e.getTime()-Um(e)-n)}incompatibleTokens=["t","T","x"]}class O6 extends er{priority=10;parse(e,t){switch(t){case"x":return il(rl.basicOptionalMinutes,e);case"xx":return il(rl.basic,e);case"xxxx":return il(rl.basicOptionalSeconds,e);case"xxxxx":return il(rl.extendedOptionalSeconds,e);default:return il(rl.extended,e)}}set(e,t,n){return t.timestampIsSet?e:pr(e,e.getTime()-Um(e)-n)}incompatibleTokens=["t","T","X"]}class F6 extends er{priority=40;parse(e){return JS(e)}set(e,t,n){return[pr(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class j6 extends er{priority=20;parse(e){return JS(e)}set(e,t,n){return[pr(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const B6={G:new r6,y:new i6,Y:new s6,R:new o6,u:new a6,Q:new l6,q:new c6,M:new u6,L:new d6,w:new f6,I:new m6,d:new y6,D:new w6,E:new _6,e:new b6,c:new x6,i:new k6,a:new E6,b:new A6,B:new C6,h:new I6,H:new T6,K:new N6,k:new P6,m:new D6,s:new L6,S:new R6,X:new M6,x:new O6,t:new F6,T:new j6},V6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,U6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z6=/^'([^]*?)'?$/,q6=/''/g,H6=/\S/,W6=/[a-zA-Z]/;function $6(r,e,t,n){const i=()=>pr(n?.in||t,NaN),s=KD(),a=n?.locale??s.locale??GS,c=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!e)return r?i():Ft(t,n?.in);const d={firstWeekContainsDate:c,weekStartsOn:u,locale:a},f=[new n6(n?.in,t)],y=e.match(U6).map(I=>{const M=I[0];if(M in J1){const W=J1[M];return W(I,a.formatLong)}return I}).join("").match(V6),_=[];for(let I of y){const M=I[0],W=B6[M];if(W){const{incompatibleTokens:z}=W;if(Array.isArray(z)){const ne=_.find(de=>z.includes(de.token)||de.token===M);if(ne)throw new RangeError(`The format string mustn't contain \`${ne.fullToken}\` and \`${I}\` at the same time`)}else if(W.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);_.push({token:M,fullToken:I});const q=W.run(r,I,a.match,d);if(!q)return i();f.push(q.setter),r=q.rest}else{if(M.match(W6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");if(I==="''"?I="'":M==="'"&&(I=Y6(I)),r.indexOf(I)===0)r=r.slice(I.length);else return i()}}if(r.length>0&&H6.test(r))return i();const g=f.map(I=>I.priority).sort((I,M)=>M-I).filter((I,M,W)=>W.indexOf(I)===M).map(I=>f.filter(M=>M.priority===I).sort((M,W)=>W.subPriority-M.subPriority)).map(I=>I[0]);let A=Ft(t,n?.in);if(isNaN(+A))return i();const P={};for(const I of g){if(!I.validate(A,d))return i();const M=I.set(A,P,d);Array.isArray(M)?(A=M[0],Object.assign(P,M[1])):A=M}return A}function Y6(r){return r.match(z6)[1].replace(q6,"'")}function G6(r,e,t){const[n,i]=rc(t?.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function K6(r,e,t){const[n,i]=rc(t?.in,r,e);return+X1(n)==+X1(i)}function Q6(r,e,t){const[n,i]=rc(t?.in,r,e);return n.getFullYear()===i.getFullYear()}function Nf(r,e,t){const n=+Ft(r,t?.in),[i,s]=[+Ft(e.start,t?.in),+Ft(e.end,t?.in)].sort((a,c)=>a-c);return n>=i&&n<=s}function X6(r,e,t){return Ia(r,-1,t)}function J6(r,e){const t=()=>pr(e?.in,NaN),i=nL(r);let s;if(i.date){const d=rL(i.date,2);s=iL(d.restDateString,d.year)}if(!s||isNaN(+s))return t();const a=+s;let c=0,u;if(i.time&&(c=sL(i.time),isNaN(c)))return t();if(i.timezone){if(u=oL(i.timezone),isNaN(u))return t()}else{const d=new Date(a+c),f=Ft(0,e?.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return Ft(a+c+u,e?.in)}const Fp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Z6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eL=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nL(r){const e={},t=r.split(Fp.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Fp.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Fp.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=Fp.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function rL(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:r.slice((n[1]||n[2]).length)}}function iL(r,e){if(e===null)return new Date(NaN);const t=r.match(Z6);if(!t)return new Date(NaN);const n=!!t[4],i=Xh(t[1]),s=Xh(t[2])-1,a=Xh(t[3]),c=Xh(t[4]),u=Xh(t[5])-1;if(n)return dL(e,c,u)?aL(e,c,u):new Date(NaN);{const d=new Date(0);return!cL(e,s,a)||!uL(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,a)),d)}}function Xh(r){return r?parseInt(r):1}function sL(r){const e=r.match(eL);if(!e)return NaN;const t=W0(e[1]),n=W0(e[2]),i=W0(e[3]);return hL(t,n,i)?t*Cg+n*Ag+i*1e3:NaN}function W0(r){return r&&parseFloat(r.replace(",","."))||0}function oL(r){if(r==="Z")return 0;const e=r.match(tL);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return fL(n,i)?t*(n*Cg+i*Ag):NaN}function aL(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const lL=[31,null,31,30,31,30,31,31,30,31,30,31];function tk(r){return r%400===0||r%4===0&&r%100!==0}function cL(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(lL[e]||(tk(r)?29:28))}function uL(r,e){return e>=1&&e<=(tk(r)?366:365)}function dL(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function hL(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function fL(r,e){return e>=0&&e<=59}function Ro(r,e,t){const n=Ft(r,t?.in),i=n.getFullYear(),s=n.getDate(),a=pr(r,0);a.setFullYear(i,e,15),a.setHours(0,0,0,0);const c=GD(a);return n.setMonth(e,Math.min(s,c)),n}function um(r,e,t){const n=Ft(r,t?.in);return n.setHours(e),n}function dm(r,e,t){const n=Ft(r,t?.in);return n.setMinutes(e),n}function Dd(r,e,t){const n=Ft(r,t?.in),i=Math.trunc(n.getMonth()/3)+1,s=e-i;return Ro(n,n.getMonth()+s*3)}function hm(r,e,t){const n=Ft(r,t?.in);return n.setSeconds(e),n}function Za(r,e,t){const n=Ft(r,t?.in);return isNaN(+n)?pr(r,NaN):(n.setFullYear(e),n)}function ju(r,e,t){return Pa(r,-e,t)}function nk(r,e,t){return py(r,-1,t)}function _5(r,e,t){return zm(r,-1,t)}function eu(r,e,t){return Ta(r,-e,t)}function Tg(){return typeof window<"u"}function bh(r){return rk(r)?(r.nodeName||"").toLowerCase():"#document"}function Bo(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function vl(r){var e;return(e=(rk(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function rk(r){return Tg()?r instanceof Node||r instanceof Bo(r).Node:!1}function eo(r){return Tg()?r instanceof Element||r instanceof Bo(r).Element:!1}function gl(r){return Tg()?r instanceof HTMLElement||r instanceof Bo(r).HTMLElement:!1}function b5(r){return!Tg()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Bo(r).ShadowRoot}const pL=new Set(["inline","contents"]);function Wf(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=la(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!pL.has(i)}const mL=new Set(["table","td","th"]);function gL(r){return mL.has(bh(r))}const vL=[":popover-open",":modal"];function Ng(r){return vL.some(e=>{try{return r.matches(e)}catch{return!1}})}const yL=["transform","translate","scale","rotate","perspective"],wL=["transform","translate","scale","rotate","perspective","filter"],_L=["paint","layout","strict","content"];function wy(r){const e=_y(),t=eo(r)?la(r):r;return yL.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||wL.some(n=>(t.willChange||"").includes(n))||_L.some(n=>(t.contain||"").includes(n))}function bL(r){let e=tu(r);for(;gl(e)&&!dh(e);){if(wy(e))return e;if(Ng(e))return null;e=tu(e)}return null}function _y(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xL=new Set(["html","body","#document"]);function dh(r){return xL.has(bh(r))}function la(r){return Bo(r).getComputedStyle(r)}function Pg(r){return eo(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function tu(r){if(bh(r)==="html")return r;const e=r.assignedSlot||r.parentNode||b5(r)&&r.host||vl(r);return b5(e)?e.host:e}function ik(r){const e=tu(r);return dh(e)?r.ownerDocument?r.ownerDocument.body:r.body:gl(e)&&Wf(e)?e:ik(e)}function Pf(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=ik(r),s=i===((n=r.ownerDocument)==null?void 0:n.body),a=Bo(i);if(s){const c=ev(a);return e.concat(a,a.visualViewport||[],Wf(i)?i:[],c&&t?Pf(c):[])}return e.concat(i,Pf(i,[],t))}function ev(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const hh=Math.min,Bu=Math.max,Ym=Math.round,jp=Math.floor,fl=r=>({x:r,y:r}),SL={left:"right",right:"left",bottom:"top",top:"bottom"},kL={start:"end",end:"start"};function EL(r,e,t){return Bu(r,hh(e,t))}function Dg(r,e){return typeof r=="function"?r(e):r}function fh(r){return r.split("-")[0]}function $f(r){return r.split("-")[1]}function AL(r){return r==="x"?"y":"x"}function by(r){return r==="y"?"height":"width"}const CL=new Set(["top","bottom"]);function Lu(r){return CL.has(fh(r))?"y":"x"}function xy(r){return AL(Lu(r))}function IL(r,e,t){t===void 0&&(t=!1);const n=$f(r),i=xy(r),s=by(i);let a=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Gm(a)),[a,Gm(a)]}function TL(r){const e=Gm(r);return[tv(r),e,tv(e)]}function tv(r){return r.replace(/start|end/g,e=>kL[e])}const x5=["left","right"],S5=["right","left"],NL=["top","bottom"],PL=["bottom","top"];function DL(r,e,t){switch(r){case"top":case"bottom":return t?e?S5:x5:e?x5:S5;case"left":case"right":return e?NL:PL;default:return[]}}function LL(r,e,t,n){const i=$f(r);let s=DL(fh(r),t==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(tv)))),s}function Gm(r){return r.replace(/left|right|bottom|top/g,e=>SL[e])}function RL(r){return{top:0,right:0,bottom:0,left:0,...r}}function sk(r){return typeof r!="number"?RL(r):{top:r,right:r,bottom:r,left:r}}function Km(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}var ML=typeof document<"u",OL=function(){},Qm=ML?Ce.useLayoutEffect:OL;const FL={...xb},jL=FL.useInsertionEffect,BL=jL||(r=>r());function VL(r){const e=Ce.useRef(()=>{});return BL(()=>{e.current=r}),Ce.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var ok=Sb();const UL=vv(ok);function k5(r,e,t){let{reference:n,floating:i}=r;const s=Lu(e),a=xy(e),c=by(a),u=fh(e),d=s==="y",f=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,_=n[c]/2-i[c]/2;let g;switch(u){case"top":g={x:f,y:n.y-i.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y};break;case"left":g={x:n.x-i.width,y};break;default:g={x:n.x,y:n.y}}switch($f(e)){case"start":g[a]-=_*(t&&d?-1:1);break;case"end":g[a]+=_*(t&&d?-1:1);break}return g}const zL=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,c=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:r,floating:e,strategy:i}),{x:f,y}=k5(d,n,u),_=n,g={},A=0;for(let P=0;P<c.length;P++){const{name:I,fn:M}=c[P],{x:W,y:z,data:q,reset:ne}=await M({x:f,y,initialPlacement:n,placement:_,strategy:i,middlewareData:g,rects:d,platform:a,elements:{reference:r,floating:e}});f=W??f,y=z??y,g={...g,[I]:{...g[I],...q}},ne&&A<=50&&(A++,typeof ne=="object"&&(ne.placement&&(_=ne.placement),ne.rects&&(d=ne.rects===!0?await a.getElementRects({reference:r,floating:e,strategy:i}):ne.rects),{x:f,y}=k5(d,_,u)),P=-1)}return{x:f,y,placement:_,strategy:i,middlewareData:g}};async function qL(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:c,strategy:u}=r,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:y="floating",altBoundary:_=!1,padding:g=0}=Dg(e,r),A=sk(g),I=c[_?y==="floating"?"reference":"floating":y],M=Km(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(I)))==null||t?I:I.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),W=y==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,z=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),q=await(s.isElement==null?void 0:s.isElement(z))?await(s.getScale==null?void 0:s.getScale(z))||{x:1,y:1}:{x:1,y:1},ne=Km(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:W,offsetParent:z,strategy:u}):W);return{top:(M.top-ne.top+A.top)/q.y,bottom:(ne.bottom-M.bottom+A.bottom)/q.y,left:(M.left-ne.left+A.left)/q.x,right:(ne.right-M.right+A.right)/q.x}}const HL=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:s,platform:a,elements:c,middlewareData:u}=e,{element:d,padding:f=0}=Dg(r,e)||{};if(d==null)return{};const y=sk(f),_={x:t,y:n},g=xy(i),A=by(g),P=await a.getDimensions(d),I=g==="y",M=I?"top":"left",W=I?"bottom":"right",z=I?"clientHeight":"clientWidth",q=s.reference[A]+s.reference[g]-_[g]-s.floating[A],ne=_[g]-s.reference[g],de=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let H=de?de[z]:0;(!H||!await(a.isElement==null?void 0:a.isElement(de)))&&(H=c.floating[z]||s.floating[A]);const O=q/2-ne/2,R=H/2-P[A]/2-1,B=hh(y[M],R),N=hh(y[W],R),T=B,D=H-P[A]-N,Z=H/2-P[A]/2+O,ve=EL(T,Z,D),be=!u.arrow&&$f(i)!=null&&Z!==ve&&s.reference[A]/2-(Z<T?B:N)-P[A]/2<0,oe=be?Z<T?Z-T:Z-D:0;return{[g]:_[g]+oe,data:{[g]:ve,centerOffset:Z-ve-oe,...be&&{alignmentOffset:oe}},reset:be}}}),WL=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:c,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:P=!0,...I}=Dg(r,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const M=fh(i),W=Lu(c),z=fh(c)===c,q=await(u.isRTL==null?void 0:u.isRTL(d.floating)),ne=_||(z||!P?[Gm(c)]:TL(c)),de=A!=="none";!_&&de&&ne.push(...LL(c,P,A,q));const H=[c,...ne],O=await qL(e,I),R=[];let B=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&R.push(O[M]),y){const Z=IL(i,a,q);R.push(O[Z[0]],O[Z[1]])}if(B=[...B,{placement:i,overflows:R}],!R.every(Z=>Z<=0)){var N,T;const Z=(((N=s.flip)==null?void 0:N.index)||0)+1,ve=H[Z];if(ve&&(!(y==="alignment"?W!==Lu(ve):!1)||B.every(Q=>Lu(Q.placement)===W?Q.overflows[0]>0:!0)))return{data:{index:Z,overflows:B},reset:{placement:ve}};let be=(T=B.filter(oe=>oe.overflows[0]<=0).sort((oe,Q)=>oe.overflows[1]-Q.overflows[1])[0])==null?void 0:T.placement;if(!be)switch(g){case"bestFit":{var D;const oe=(D=B.filter(Q=>{if(de){const fe=Lu(Q.placement);return fe===W||fe==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(fe=>fe>0).reduce((fe,he)=>fe+he,0)]).sort((Q,fe)=>Q[1]-fe[1])[0])==null?void 0:D[0];oe&&(be=oe);break}case"initialPlacement":be=c;break}if(i!==be)return{reset:{placement:be}}}return{}}}},$L=new Set(["left","top"]);async function YL(r,e){const{placement:t,platform:n,elements:i}=r,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=fh(t),c=$f(t),u=Lu(t)==="y",d=$L.has(a)?-1:1,f=s&&u?-1:1,y=Dg(e,r);let{mainAxis:_,crossAxis:g,alignmentAxis:A}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof A=="number"&&(g=c==="end"?A*-1:A),u?{x:g*f,y:_*d}:{x:_*d,y:g*f}}const GL=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:s,placement:a,middlewareData:c}=e,u=await YL(e,r);return a===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}};function ak(r){const e=la(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=gl(r),s=i?r.offsetWidth:t,a=i?r.offsetHeight:n,c=Ym(t)!==s||Ym(n)!==a;return c&&(t=s,n=a),{width:t,height:n,$:c}}function Sy(r){return eo(r)?r:r.contextElement}function zd(r){const e=Sy(r);if(!gl(e))return fl(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:s}=ak(e);let a=(s?Ym(t.width):t.width)/n,c=(s?Ym(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const KL=fl(0);function lk(r){const e=Bo(r);return!_y()||!e.visualViewport?KL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function QL(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Bo(r)?!1:e}function Yu(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),s=Sy(r);let a=fl(1);e&&(n?eo(n)&&(a=zd(n)):a=zd(r));const c=QL(s,t,n)?lk(s):fl(0);let u=(i.left+c.x)/a.x,d=(i.top+c.y)/a.y,f=i.width/a.x,y=i.height/a.y;if(s){const _=Bo(s),g=n&&eo(n)?Bo(n):n;let A=_,P=ev(A);for(;P&&n&&g!==A;){const I=zd(P),M=P.getBoundingClientRect(),W=la(P),z=M.left+(P.clientLeft+parseFloat(W.paddingLeft))*I.x,q=M.top+(P.clientTop+parseFloat(W.paddingTop))*I.y;u*=I.x,d*=I.y,f*=I.x,y*=I.y,u+=z,d+=q,A=Bo(P),P=ev(A)}}return Km({width:f,height:y,x:u,y:d})}function Lg(r,e){const t=Pg(r).scrollLeft;return e?e.left+t:Yu(vl(r)).left+t}function ck(r,e){const t=r.getBoundingClientRect(),n=t.left+e.scrollLeft-Lg(r,t),i=t.top+e.scrollTop;return{x:n,y:i}}function XL(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const s=i==="fixed",a=vl(n),c=e?Ng(e.floating):!1;if(n===a||c&&s)return t;let u={scrollLeft:0,scrollTop:0},d=fl(1);const f=fl(0),y=gl(n);if((y||!y&&!s)&&((bh(n)!=="body"||Wf(a))&&(u=Pg(n)),gl(n))){const g=Yu(n);d=zd(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const _=a&&!y&&!s?ck(a,u):fl(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-u.scrollLeft*d.x+f.x+_.x,y:t.y*d.y-u.scrollTop*d.y+f.y+_.y}}function JL(r){return Array.from(r.getClientRects())}function ZL(r){const e=vl(r),t=Pg(r),n=r.ownerDocument.body,i=Bu(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Bu(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-t.scrollLeft+Lg(r);const c=-t.scrollTop;return la(n).direction==="rtl"&&(a+=Bu(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:c}}const E5=25;function eR(r,e){const t=Bo(r),n=vl(r),i=t.visualViewport;let s=n.clientWidth,a=n.clientHeight,c=0,u=0;if(i){s=i.width,a=i.height;const f=_y();(!f||f&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}const d=Lg(n);if(d<=0){const f=n.ownerDocument,y=f.body,_=getComputedStyle(y),g=f.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,A=Math.abs(n.clientWidth-y.clientWidth-g);A<=E5&&(s-=A)}else d<=E5&&(s+=d);return{width:s,height:a,x:c,y:u}}const tR=new Set(["absolute","fixed"]);function nR(r,e){const t=Yu(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,s=gl(r)?zd(r):fl(1),a=r.clientWidth*s.x,c=r.clientHeight*s.y,u=i*s.x,d=n*s.y;return{width:a,height:c,x:u,y:d}}function A5(r,e,t){let n;if(e==="viewport")n=eR(r,t);else if(e==="document")n=ZL(vl(r));else if(eo(e))n=nR(e,t);else{const i=lk(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Km(n)}function uk(r,e){const t=tu(r);return t===e||!eo(t)||dh(t)?!1:la(t).position==="fixed"||uk(t,e)}function rR(r,e){const t=e.get(r);if(t)return t;let n=Pf(r,[],!1).filter(c=>eo(c)&&bh(c)!=="body"),i=null;const s=la(r).position==="fixed";let a=s?tu(r):r;for(;eo(a)&&!dh(a);){const c=la(a),u=wy(a);!u&&c.position==="fixed"&&(i=null),(s?!u&&!i:!u&&c.position==="static"&&!!i&&tR.has(i.position)||Wf(a)&&!u&&uk(r,a))?n=n.filter(f=>f!==a):i=c,a=tu(a)}return e.set(r,n),n}function iR(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const a=[...t==="clippingAncestors"?Ng(e)?[]:rR(e,this._c):[].concat(t),n],c=a[0],u=a.reduce((d,f)=>{const y=A5(e,f,i);return d.top=Bu(y.top,d.top),d.right=hh(y.right,d.right),d.bottom=hh(y.bottom,d.bottom),d.left=Bu(y.left,d.left),d},A5(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function sR(r){const{width:e,height:t}=ak(r);return{width:e,height:t}}function oR(r,e,t){const n=gl(e),i=vl(e),s=t==="fixed",a=Yu(r,!0,s,e);let c={scrollLeft:0,scrollTop:0};const u=fl(0);function d(){u.x=Lg(i)}if(n||!n&&!s)if((bh(e)!=="body"||Wf(i))&&(c=Pg(e)),n){const g=Yu(e,!0,s,e);u.x=g.x+e.clientLeft,u.y=g.y+e.clientTop}else i&&d();s&&!n&&i&&d();const f=i&&!n&&!s?ck(i,c):fl(0),y=a.left+c.scrollLeft-u.x-f.x,_=a.top+c.scrollTop-u.y-f.y;return{x:y,y:_,width:a.width,height:a.height}}function $0(r){return la(r).position==="static"}function C5(r,e){if(!gl(r)||la(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return vl(r)===t&&(t=t.ownerDocument.body),t}function dk(r,e){const t=Bo(r);if(Ng(r))return t;if(!gl(r)){let i=tu(r);for(;i&&!dh(i);){if(eo(i)&&!$0(i))return i;i=tu(i)}return t}let n=C5(r,e);for(;n&&gL(n)&&$0(n);)n=C5(n,e);return n&&dh(n)&&$0(n)&&!wy(n)?t:n||bL(r)||t}const aR=async function(r){const e=this.getOffsetParent||dk,t=this.getDimensions,n=await t(r.floating);return{reference:oR(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function lR(r){return la(r).direction==="rtl"}const cR={convertOffsetParentRelativeRectToViewportRelativeRect:XL,getDocumentElement:vl,getClippingRect:iR,getOffsetParent:dk,getElementRects:aR,getClientRects:JL,getDimensions:sR,getScale:zd,isElement:eo,isRTL:lR};function hk(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function uR(r,e){let t=null,n;const i=vl(r);function s(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const d=r.getBoundingClientRect(),{left:f,top:y,width:_,height:g}=d;if(c||e(),!_||!g)return;const A=jp(y),P=jp(i.clientWidth-(f+_)),I=jp(i.clientHeight-(y+g)),M=jp(f),z={rootMargin:-A+"px "+-P+"px "+-I+"px "+-M+"px",threshold:Bu(0,hh(1,u))||1};let q=!0;function ne(de){const H=de[0].intersectionRatio;if(H!==u){if(!q)return a();H?a(!1,H):n=setTimeout(()=>{a(!1,1e-7)},1e3)}H===1&&!hk(d,r.getBoundingClientRect())&&a(),q=!1}try{t=new IntersectionObserver(ne,{...z,root:i.ownerDocument})}catch{t=new IntersectionObserver(ne,z)}t.observe(r)}return a(!0),s}function dR(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=Sy(r),f=i||s?[...d?Pf(d):[],...Pf(e)]:[];f.forEach(M=>{i&&M.addEventListener("scroll",t,{passive:!0}),s&&M.addEventListener("resize",t)});const y=d&&c?uR(d,t):null;let _=-1,g=null;a&&(g=new ResizeObserver(M=>{let[W]=M;W&&W.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var z;(z=g)==null||z.observe(e)})),t()}),d&&!u&&g.observe(d),g.observe(e));let A,P=u?Yu(r):null;u&&I();function I(){const M=Yu(r);P&&!hk(P,M)&&t(),P=M,A=requestAnimationFrame(I)}return t(),()=>{var M;f.forEach(W=>{i&&W.removeEventListener("scroll",t),s&&W.removeEventListener("resize",t)}),y?.(),(M=g)==null||M.disconnect(),g=null,u&&cancelAnimationFrame(A)}}const hR=GL,fR=WL,I5=HL,pR=(r,e,t)=>{const n=new Map,i={platform:cR,...t},s={...i.platform,_c:n};return zL(r,e,{...i,platform:s})};var mR=typeof document<"u",gR=function(){},fm=mR?Ce.useLayoutEffect:gR;function Xm(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Xm(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const s=i[n];if(!(s==="_owner"&&r.$$typeof)&&!Xm(r[s],e[s]))return!1}return!0}return r!==r&&e!==e}function fk(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function T5(r,e){const t=fk(r);return Math.round(e*t)/t}function Y0(r){const e=Ce.useRef(r);return fm(()=>{e.current=r}),e}function vR(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:c=!0,whileElementsMounted:u,open:d}=r,[f,y]=Ce.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,g]=Ce.useState(n);Xm(_,n)||g(n);const[A,P]=Ce.useState(null),[I,M]=Ce.useState(null),W=Ce.useCallback(Q=>{Q!==de.current&&(de.current=Q,P(Q))},[]),z=Ce.useCallback(Q=>{Q!==H.current&&(H.current=Q,M(Q))},[]),q=s||A,ne=a||I,de=Ce.useRef(null),H=Ce.useRef(null),O=Ce.useRef(f),R=u!=null,B=Y0(u),N=Y0(i),T=Y0(d),D=Ce.useCallback(()=>{if(!de.current||!H.current)return;const Q={placement:e,strategy:t,middleware:_};N.current&&(Q.platform=N.current),pR(de.current,H.current,Q).then(fe=>{const he={...fe,isPositioned:T.current!==!1};Z.current&&!Xm(O.current,he)&&(O.current=he,ok.flushSync(()=>{y(he)}))})},[_,e,t,N,T]);fm(()=>{d===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,y(Q=>({...Q,isPositioned:!1})))},[d]);const Z=Ce.useRef(!1);fm(()=>(Z.current=!0,()=>{Z.current=!1}),[]),fm(()=>{if(q&&(de.current=q),ne&&(H.current=ne),q&&ne){if(B.current)return B.current(q,ne,D);D()}},[q,ne,D,B,R]);const ve=Ce.useMemo(()=>({reference:de,floating:H,setReference:W,setFloating:z}),[W,z]),be=Ce.useMemo(()=>({reference:q,floating:ne}),[q,ne]),oe=Ce.useMemo(()=>{const Q={position:t,left:0,top:0};if(!be.floating)return Q;const fe=T5(be.floating,f.x),he=T5(be.floating,f.y);return c?{...Q,transform:"translate("+fe+"px, "+he+"px)",...fk(be.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:fe,top:he}},[t,c,be.floating,f.x,f.y]);return Ce.useMemo(()=>({...f,update:D,refs:ve,elements:be,floatingStyles:oe}),[f,D,ve,be,oe])}const yR=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?I5({element:n.current,padding:i}).fn(t):{}:n?I5({element:n,padding:i}).fn(t):{}}}},wR=(r,e)=>({...hR(r),options:[r,e]}),_R=(r,e)=>({...fR(r),options:[r,e]}),bR=(r,e)=>({...yR(r),options:[r,e]}),xR={...xb};let N5=!1,SR=0;const P5=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+SR++;function kR(){const[r,e]=Ce.useState(()=>N5?P5():void 0);return Qm(()=>{r==null&&e(P5())},[]),Ce.useEffect(()=>{N5=!0},[]),r}const ER=xR.useId,pk=ER||kR,AR=Ce.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:s,shift:a}},width:c=14,height:u=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:y,stroke:_,d:g,style:{transform:A,...P}={},...I}=e,M=pk(),[W,z]=Ce.useState(!1);if(Qm(()=>{if(!i)return;la(i).direction==="rtl"&&z(!0)},[i]),!i)return null;const[q,ne]=n.split("-"),de=q==="top"||q==="bottom";let H=y;(de&&a!=null&&a.x||!de&&a!=null&&a.y)&&(H=null);const O=f*2,R=O/2,B=c/2*(d/-8+1),N=u/2*d/4,T=!!g,D=H&&ne==="end"?"bottom":"top";let Z=H&&ne==="end"?"right":"left";H&&W&&(Z=ne==="end"?"left":"right");const ve=s?.x!=null?H||s.x:"",be=s?.y!=null?H||s.y:"",oe=g||"M0,0"+(" H"+c)+(" L"+(c-B)+","+(u-N))+(" Q"+c/2+","+u+" "+B+","+(u-N))+" Z",Q={top:T?"rotate(180deg)":"",left:T?"rotate(90deg)":"rotate(-90deg)",bottom:T?"":"rotate(180deg)",right:T?"rotate(-90deg)":"rotate(90deg)"}[q];return k.jsxs("svg",{...I,"aria-hidden":!0,ref:t,width:T?c:c+O,height:c,viewBox:"0 0 "+c+" "+(u>c?u:c),style:{position:"absolute",pointerEvents:"none",[Z]:ve,[D]:be,[q]:de||T?"100%":"calc(100% - "+O/2+"px)",transform:[Q,A].filter(fe=>!!fe).join(" "),...P},children:[O>0&&k.jsx("path",{clipPath:"url(#"+M+")",fill:"none",stroke:_,strokeWidth:O+(g?0:1),d:oe}),k.jsx("path",{stroke:O&&!g?I.fill:"none",d:oe}),k.jsx("clipPath",{id:M,children:k.jsx("rect",{x:-R,y:R*(T?-1:1),width:c+O,height:c})})]})});function CR(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const IR=Ce.createContext(null),TR=Ce.createContext(null),NR=()=>{var r;return((r=Ce.useContext(IR))==null?void 0:r.id)||null},PR=()=>Ce.useContext(TR);function DR(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=pk(),s=Ce.useRef({}),[a]=Ce.useState(()=>CR()),c=NR()!=null,[u,d]=Ce.useState(n.reference),f=VL((g,A,P)=>{s.current.openEvent=g?A:void 0,a.emit("openchange",{open:g,event:A,reason:P,nested:c}),t?.(g,A,P)}),y=Ce.useMemo(()=>({setPositionReference:d}),[]),_=Ce.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return Ce.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:_,events:a,floatingId:i,refs:y}),[e,f,_,a,i,y])}function LR(r){r===void 0&&(r={});const{nodeId:e}=r,t=DR({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[s,a]=Ce.useState(null),[c,u]=Ce.useState(null),f=i?.domReference||s,y=Ce.useRef(null),_=PR();Qm(()=>{f&&(y.current=f)},[f]);const g=vR({...r,elements:{...i,...c&&{reference:c}}}),A=Ce.useCallback(z=>{const q=eo(z)?{getBoundingClientRect:()=>z.getBoundingClientRect(),getClientRects:()=>z.getClientRects(),contextElement:z}:z;u(q),g.refs.setReference(q)},[g.refs]),P=Ce.useCallback(z=>{(eo(z)||z===null)&&(y.current=z,a(z)),(eo(g.refs.reference.current)||g.refs.reference.current===null||z!==null&&!eo(z))&&g.refs.setReference(z)},[g.refs]),I=Ce.useMemo(()=>({...g.refs,setReference:P,setPositionReference:A,domReference:y}),[g.refs,P,A]),M=Ce.useMemo(()=>({...g.elements,domReference:f}),[g.elements,f]),W=Ce.useMemo(()=>({...g,...n,refs:I,elements:M,nodeId:e}),[g,I,M,e,n]);return Qm(()=>{n.dataRef.current.floatingContext=W;const z=_?.nodesRef.current.find(q=>q.id===e);z&&(z.context=W)}),Ce.useMemo(()=>({...g,context:W,refs:I,elements:M}),[g,I,M,W])}var nv=function(e,t){return nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},nv(e,t)};function vs(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nv(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var bn=function(){return bn=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},bn.apply(this,arguments)};function ol(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))}var RR=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,s=r.className,a=r.children,c=r.inline,u=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return je.createElement("div",{className:s,"aria-label":u,role:c?void 0:"dialog","aria-modal":c?void 0:"true",translate:"no"},a)},MR=function(r,e){var t=Ce.useRef(null),n=Ce.useRef(r);Ce.useEffect(function(){n.current=r},[r]);var i=Ce.useCallback(function(s){var a,c=s.composed&&s.composedPath&&s.composedPath().find(function(u){return u instanceof Node})||s.target;t.current&&!t.current.contains(c)&&(e&&c instanceof HTMLElement&&c.classList.contains(e)||(a=n.current)===null||a===void 0||a.call(n,s))},[e]);return Ce.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Rg=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,s=r.style,a=r.ignoreClass,c=MR(t,a);return je.createElement("div",{className:n,style:s,ref:function(u){c.current=u,i&&(i.current=u)}},e)},Bp=null,D5=!1;function mk(){if(D5)return Bp;D5=!0;try{var r="date-fns-tz";Bp=require(r)}catch{Bp=null}return Bp}function L5(r,e){if(!e)return r;var t=mk();return t?t.toZonedTime(r,e):r}function Fl(r,e){if(!e)return r;var t=mk();return t?t.fromZonedTime(r,e):r}var dt;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(dt||(dt={}));function gk(){var r=typeof window<"u"?window:globalThis;return r}var Yf=12;function $n(r){if(r==null)return new Date;var e=typeof r=="string"?J6(r):Ft(r);return yo(e)?e:new Date}function Eu(r,e,t,n,i){i===void 0&&(i=$n());for(var s=ph(t)||ph(ky()),a=Array.isArray(e)?e:[e],c=0,u=a;c<u.length;c++){var d=u[c],f=$6(r,d,i,{locale:s});if(yo(f)&&(!n||r===Lr(f,d,t)))return f}if(!n&&r&&r.length>=8){var y=new Date(r);if(uh(y))return y}return null}function OR(r,e){if(e===void 0&&(e=$n()),!r)return null;var t=r.match(/\b(1\d{3}|2\d{3})\b/);if(!t||!t[1])return null;var n=parseInt(t[1],10),i=r.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),s=i&&i[1]?parseInt(i[1],10)-1:e.getMonth();return new Date(n,s,1)}function yo(r){return uh(r)}function Ru(r){return r==null?null:hl(r)&&uh(r)?r:null}function Lr(r,e,t){if(t==="en")return y5(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?ph(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||ph(ky()),y5(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function vo(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Lr(r,i,n)||""}var vk=" - ";function FR(r,e,t){if(!r&&!e)return"";var n=r?vo(r,t):"",i=e?vo(e,t):"",s=t.rangeSeparator||vk;return"".concat(n).concat(s).concat(i)}function jR(r,e){if(!r?.length)return"";var t=r[0]?vo(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=vo(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function jl(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,s=i===void 0?0:i,a=e.second,c=a===void 0?0:a;return um(dm(hm(r,c),s),n)}function BR(r){return my(r)}function VR(r,e){return Lr(r,"ddd",e)}function lf(r){return $u(r)}function Qc(r,e,t){var n=ph(e||ky());return ec(r,{locale:n,weekStartsOn:t})}function Kl(r){return $S(r)}function cf(r){return Ig(r)}function R5(r){return X1(r)}function M5(){return $u($n())}function O5(r){return HS(r)}function UR(r){return JP(r)}function zR(r){return WS(r)}function el(r,e){return r&&e?Q6(r,e):!r&&!e}function Js(r,e){return r&&e?G6(r,e):!r&&!e}function Jm(r,e){return r&&e?K6(r,e):!r&&!e}function Pn(r,e){return r&&e?QP(r,e):!r&&!e}function Mu(r,e){return r&&e?XD(r,e):!r&&!e}function Iu(r,e,t){var n,i=$u(e),s=HS(t);try{n=Nf(r,{start:i,end:s})}catch{n=!1}return n}function ky(){var r=gk();return r.__localeId__}function ph(r){if(typeof r=="string"){var e=gk();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function qR(r,e,t){return e(Lr(r,"EEEE",t))}function HR(r,e){return Lr(r,"EEEEEE",e)}function WR(r,e){return Lr(r,"EEE",e)}function Ey(r,e){return Lr(Ro($n(),r),"LLLL",e)}function yk(r,e){return Lr(Ro($n(),r),"LLL",e)}function $R(r,e){return Lr(Dd($n(),r),"QQQ",e)}function oa(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.excludeDateIntervals,c=t.includeDates,u=t.includeDateIntervals,d=t.filterDate,f=t.disabled;return f?!0:Gf(r,{minDate:n,maxDate:i})||s&&s.some(function(y){return y instanceof Date?Pn(r,y):Pn(r,y.date)})||a&&a.some(function(y){var _=y.start,g=y.end;return Nf(r,{start:_,end:g})})||c&&!c.some(function(y){return Pn(r,y)})||u&&!u.some(function(y){var _=y.start,g=y.end;return Nf(r,{start:_,end:g})})||d&&!d($n(r))||!1}function Ay(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var a=s.start,c=s.end;return Nf(r,{start:a,end:c})}):n&&n.some(function(s){var a;return s instanceof Date?Pn(r,s):Pn(r,(a=s.date)!==null&&a!==void 0?a:new Date)})||!1}function wk(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,c=t.filterDate;return Gf(r,{minDate:n?$S(n):void 0,maxDate:i?WS(i):void 0})||s?.some(function(u){return Js(r,u instanceof Date?u:u.date)})||a&&!a.some(function(u){return Js(r,u)})||c&&!c($n(r))||!1}function Vp(r,e,t,n){var i=Tn(r),s=_o(r),a=Tn(e),c=_o(e),u=Tn(n);return i===a&&i===u?s<=t&&t<=c:i<a?u===i&&s<=t||u===a&&c>=t||u<a&&u>i:!1}function YR(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates;return Gf(r,{minDate:n,maxDate:i})||s&&s.some(function(c){return Js(c instanceof Date?c:c.date,r)})||a&&!a.some(function(c){return Js(c,r)})||!1}function Up(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,c=t.filterDate,u=t.disabled;return u?!0:Gf(r,{minDate:n,maxDate:i})||s?.some(function(d){return Jm(r,d instanceof Date?d:d.date)})||a&&!a.some(function(d){return Jm(r,d)})||c&&!c($n(r))||!1}function zp(r,e,t){if(!e||!t||!uh(e)||!uh(t))return!1;var n=Tn(e),i=Tn(t);return n<=r&&i>=r}function pm(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,c=t.filterDate,u=t.disabled;if(u)return!0;var d=new Date(r,0,1);return Gf(d,{minDate:n?Ig(n):void 0,maxDate:i?YS(i):void 0})||s?.some(function(f){return el(d,f instanceof Date?f:f.date)})||a&&!a.some(function(f){return el(d,f)})||c&&!c($n(d))||!1}function qp(r,e,t,n){var i=Tn(r),s=Uc(r),a=Tn(e),c=Uc(e),u=Tn(n);return i===a&&i===u?s<=t&&t<=c:i<a?u===i&&s<=t||u===a&&c>=t||u<a&&u>i:!1}function Gf(r,e){var t,n=e===void 0?{}:e,i=n.minDate,s=n.maxDate;return(t=i&&ch(r,i)<0||s&&ch(r,s)>0)!==null&&t!==void 0?t:!1}function F5(r,e){return e.some(function(t){return Ms(t)===Ms(r)&&Os(t)===Os(r)&&Kc(t)===Kc(r)})}function j5(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,s=t.filterTime;return n&&F5(r,n)||i&&!F5(r,i)||s&&!s(r)||!1}function B5(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=$n();i=um(i,Ms(r)),i=dm(i,Os(r)),i=hm(i,Kc(r));var s=$n();s=um(s,Ms(t)),s=dm(s,Os(t)),s=hm(s,Kc(t));var a=$n();a=um(a,Ms(n)),a=dm(a,Os(n)),a=hm(a,Kc(n));var c;try{c=!Nf(i,{start:s,end:a})}catch{c=!1}return c}function V5(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,s=ju(r,1);return n&&qm(n,s)>0||i&&i.every(function(a){return qm(a,s)>0})||!1}function U5(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,s=Pa(r,1);return n&&qm(s,n)>0||i&&i.every(function(a){return qm(s,a)>0})||!1}function GR(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,s=Ig(r),a=nk(s);return n&&Hm(n,a)>0||i&&i.every(function(c){return Hm(c,a)>0})||!1}function KR(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,s=YS(r),a=py(s,1);return n&&Hm(a,n)>0||i&&i.every(function(c){return Hm(a,c)>0})||!1}function z5(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,s=eu(r,1);return n&&Wm(n,s)>0||i&&i.every(function(a){return Wm(a,s)>0})||!1}function QR(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,s=i===void 0?Yf:i,a=cf(eu(r,s)),c=$l(a,s).endPeriod,u=n&&Tn(n);return u&&u>c||!1}function q5(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,s=Ta(r,1);return n&&Wm(s,n)>0||i&&i.every(function(a){return Wm(s,a)>0})||!1}function XR(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,s=i===void 0?Yf:i,a=Ta(r,s),c=$l(a,s).startPeriod,u=n&&Tn(n);return u&&u<c||!1}function _k(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return ch(i,e)>=0});return h5(n)}else return t?h5(t):e}function bk(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return ch(i,e)<=0});return d5(n)}else return t?d5(t):e}function H5(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,s=r.length;i<s;i++){var a=r[i];if(hl(a)){var c=Lr(a,"MM.dd.yyyy"),u=n.get(c)||[];u.includes(e)||(u.push(e),n.set(c,u))}else if(typeof a=="object"){var d=Object.keys(a),f=(t=d[0])!==null&&t!==void 0?t:"",y=a[f];if(typeof f=="string"&&Array.isArray(y))for(var _=0,g=y.length;_<g;_++){var A=y[_];if(A){var c=Lr(A,"MM.dd.yyyy"),u=n.get(c)||[];u.includes(f)||(u.push(f),n.set(c,u))}}}}return n}function JR(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function ZR(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,s=n.holidayName;if(hl(i)){var a=Lr(i,"MM.dd.yyyy"),c=t.get(a)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&JR(c.holidayNames,[s]))){c.className=e;var u=c.holidayNames;c.holidayNames=u?ol(ol([],u,!0),[s],!1):[s],t.set(a,c)}}}),t}function eM(r,e,t,n,i){for(var s=i.length,a=[],c=0;c<s;c++){var u=r,d=i[c];d&&(u=$P(u,Ms(d)),u=Tf(u,Os(d)),u=KP(u,Kc(d)));var f=Tf(r,(t+1)*n);Gl(u,e)&&sl(u,f)&&d!=null&&a.push(d)}return a}function Ed(r){return r<10?"0".concat(r):"".concat(r)}function $l(r,e){e===void 0&&(e=Yf);var t=Math.ceil(Tn(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function tM(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function W5(r){var e=r.getSeconds(),t=r.getMilliseconds();return Ft(r.getTime()-e*1e3-t)}function xk(r,e){return W5(r).getTime()===W5(e).getTime()}function $5(r){if(!hl(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function G0(r,e){if(!hl(r)||!hl(e))throw new Error("Invalid date received");var t=$5(r),n=$5(e);return sl(t,n)}function Sk(r){return r.key===dt.Space}var K0=(function(r){vs(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=je.createRef(),n.onTimeChange=function(i){var s,a;n.setState({time:i});var c=n.props.date,u=c instanceof Date&&!isNaN(+c),d=u?c:new Date;if(i?.includes(":")){var f=i.split(":"),y=f[0],_=f[1];d.setHours(Number(y)),d.setMinutes(Number(_))}(a=(s=n.props).onChange)===null||a===void 0||a.call(s,d)},n.renderTimeInput=function(){var i=n.state.time,s=n.props,a=s.date,c=s.timeString,u=s.customTimeInput;return u?Ce.cloneElement(u,{date:a,value:i,onChange:n.onTimeChange}):je.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){n.onTimeChange(d.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return je.createElement("div",{className:"react-datepicker__input-time-container"},je.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),je.createElement("div",{className:"react-datepicker-time__input-container"},je.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(Ce.Component),nM=(function(r){vs(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=Ce.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,s,a=n.key;a===dt.Space&&(n.preventDefault(),n.key=dt.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,n)},t.isSameDay=function(n){return Pn(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),oa(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Ay(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Pn(t.props.day,Qc(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Pn(n,Qc(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,s=n.highlightDates;if(!s)return!1;var a=Lr(i,"MM.dd.yyyy");return s.get(a)},t.getHolidaysClass=function(){var n,i=t.props,s=i.day,a=i.holidays;if(!a)return[void 0];var c=Lr(s,"MM.dd.yyyy");return a.has(c)?[(n=a.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,s=n.startDate,a=n.endDate;return!s||!a?!1:Iu(i,s,a)},t.isInSelectingRange=function(){var n,i=t.props,s=i.day,a=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,d=i.selectsDisabledDaysInRange,f=i.startDate,y=i.swapRange,_=i.endDate,g=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;if(t.isAfterMonth()||t.isBeforeMonth()||!(a||c||u)||!g||!d&&t.isDisabled())return!1;if(a&&_&&(sl(g,_)||Mu(g,_)))return Iu(s,g,_);if(c&&f&&(Gl(g,f)||Mu(g,f)))return Iu(s,f,g);if(u&&f&&!_){if(Mu(g,f)||Gl(g,f))return Iu(s,f,g);if(y&&sl(g,f))return Iu(s,g,f)}return!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.startDate,c=i.selectsStart,u=i.swapRange,d=i.selectsRange,f=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Pn(s,f):d&&u&&a&&f?Pn(s,sl(f,a)?f:a):Pn(s,a)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.endDate,c=i.selectsEnd,u=i.selectsRange,d=i.swapRange,f=i.startDate,y=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Pn(s,y):u&&d&&f&&y?Pn(s,sl(y,f)?f:y):u?Pn(s,y):Pn(s,a)},t.isRangeStart=function(){var n=t.props,i=n.day,s=n.startDate,a=n.endDate;return!s||!a?!1:Pn(s,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,s=n.startDate,a=n.endDate;return!s||!a?!1:Pn(a,i)},t.isWeekend=function(){var n=YD(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===_o(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(_o(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay($n())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return qi("react-datepicker__day",i,"react-datepicker__day--"+VR(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,s=n.ariaLabelPrefixWhenEnabled,a=s===void 0?"Choose":s,c=n.ariaLabelPrefixWhenDisabled,u=c===void 0?"Not available":c,d=t.isDisabled()||t.isExcluded()?u:a;return"".concat(d," ").concat(Lr(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,s=n.holidays,a=s===void 0?new Map:s,c=n.excludeDates,u=Lr(i,"MM.dd.yyyy"),d=[];return a.has(u)&&d.push.apply(d,a.get(u).holidayNames),t.isExcluded()&&d.push(c?.filter(function(f){return f instanceof Date?Pn(f,i):Pn(f?.date,i)}).map(function(f){if(!(f instanceof Date))return f?.message})),d.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Pn(i,n))?0:-1;return s},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(w5(t.props.day),t.props.day):w5(t.props.day)},t.render=function(){return je.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&je.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(Ce.Component),rM=(function(r){vs(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=Ce.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,s,a=n.key;a===dt.Space&&(n.preventDefault(),n.key=dt.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Pn(t.props.date,t.props.selected)&&Pn(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Pn(t.props.date,t.props.selected)&&Pn(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!n?.isInputFocused&&Pn(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,s=t.ariaLabelPrefix,a=s===void 0?e.defaultProps.ariaLabelPrefix:s,c=t.onClick,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&Pn(this.props.date,this.props.selected)};return je.createElement("div",{ref:this.weekNumberEl,className:qi(u),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(Ce.Component),iM=(function(r){vs(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return oa(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,s){for(var a,c,u,d=new Date(n),f=0;f<7;f++){var y=new Date(n);y.setDate(y.getDate()+f);var _=!t.isDisabled(y);if(_){d=y;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,s),t.props.showWeekPicker&&t.handleDayClick(d,s),((a=t.props.shouldCloseOnSelect)!==null&&a!==void 0?a:e.defaultProps.shouldCloseOnSelect)&&((u=(c=t.props).setOpen)===null||u===void 0||u.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):BR(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=Ia(n,6),s=new Date(n);s<=i;){if(!t.isDisabled(s))return!1;s=Ia(s,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],s=t.formatWeekNumber(n);if(t.props.showWeekNumber){var a=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,s):void 0;i.push(je.createElement(rM,bn({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:a})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var u=Ia(n,c);return je.createElement(nM,bn({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:t.handleDayClick.bind(t,u),onMouseEnter:t.handleDayMouseEnter.bind(t,u)}))}))},t.startOfWeek=function(){return Qc(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Pn(t.startOfWeek(),t.props.selected)&&Pn(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Pn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return je.createElement("div",{className:qi(t,n),role:"row"},this.renderDays())},e})(Ce.Component),Jh,sM=6,qd={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Q0=(Jh={},Jh[qd.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Jh[qd.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Jh[qd.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Jh),Hp=1;function Y5(r,e){return r?qd.FOUR_COLUMNS:e?qd.TWO_COLUMNS:qd.THREE_COLUMNS}var oM=(function(r){vs(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=ol([],Array(12),!0).map(function(){return Ce.createRef()}),t.QUARTER_REFS=ol([],Array(4),!0).map(function(){return Ce.createRef()}),t.isDisabled=function(n){return oa(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(n){return Ay(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var s,a;(a=(s=t.props).onDayClick)===null||a===void 0||a.call(s,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,s;(s=(i=t.props).onDayMouseEnter)===null||s===void 0||s.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate;return!a||!c?!1:Js(Ro(s,n),a)},t.isRangeStartQuarter=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate;return!a||!c?!1:Jm(Dd(s,n),a)},t.isRangeEndMonth=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate;return!a||!c?!1:Js(Ro(s,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate;return!a||!c?!1:Jm(Dd(s,n),c)},t.isInSelectingRangeMonth=function(n){var i,s=t.props,a=s.day,c=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,f=s.startDate,y=s.endDate,_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||u||d)||!_?!1:c&&y?Vp(_,y,n,a):u&&f||d&&f&&!y?Vp(f,_,n,a):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,a=s.day,c=s.startDate,u=s.selectsStart,d=Ro(a,n),f=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u?Js(d,f):Js(d,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,a=s.day,c=s.endDate,u=s.selectsEnd,d=s.selectsRange,f=Ro(a,n),y=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u||d?Js(f,y):Js(f,c)},t.isInSelectingRangeQuarter=function(n){var i,s=t.props,a=s.day,c=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,f=s.startDate,y=s.endDate,_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||u||d)||!_?!1:c&&y?qp(_,y,n,a):u&&f||d&&f&&!y?qp(f,_,n,a):!1},t.isWeekInMonth=function(n){var i=t.props.day,s=Ia(n,6);return Js(n,i)||Js(s,i)},t.isCurrentMonth=function(n,i){return Tn(n)===Tn($n())&&i===_o($n())},t.isCurrentQuarter=function(n,i){return Tn(n)===Tn($n())&&i===Uc($n())},t.isSelectedMonth=function(n,i,s){return _o(s)===i&&Tn(n)===Tn(s)},t.isSelectMonthInList=function(n,i,s){return s.some(function(a){return t.isSelectedMonth(n,i,a)})},t.isSelectedQuarter=function(n,i,s){return Uc(s)===i&&Tn(n)===Tn(s)},t.isSelectQuarterInList=function(n,i,s){return s.some(function(a){return t.isSelectedQuarter(n,i,a)})},t.isMonthSelected=function(){var n=t.props,i=n.day,s=n.selected,a=n.selectedDates,c=n.selectsMultiple,u=_o(i);return c?a?.some(function(d){return t.isSelectedMonth(i,u,d)}):!!s&&t.isSelectedMonth(i,u,s)},t.isQuarterSelected=function(){var n=t.props,i=n.day,s=n.selected,a=n.selectedDates,c=n.selectsMultiple,u=Uc(i);return c?a?.some(function(d){return t.isSelectedQuarter(i,u,d)}):!!s&&t.isSelectedQuarter(i,u,s)},t.renderWeeks=function(){if(!yo(t.props.day))return[];for(var n=[],i=t.props.fixedHeight,s=0,a=!1,c=Qc(Kl(t.props.day),t.props.locale,t.props.calendarStartDay),u=function(A){return t.props.showWeekPicker?Qc(A,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(A){return t.props.showWeekPicker?Qc(A,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,y=t.props.preSelection?u(t.props.preSelection):void 0;n.push(je.createElement(iM,bn({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:c,month:_o(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:y,showWeekNumber:t.props.showWeekNumbers}))),!a;){s++,c=zm(c,1);var _=i&&s>=sM,g=!i&&!t.isWeekInMonth(c);if(_||g)if(t.props.peekNextMonth)a=!0;else break}return n},t.onMonthClick=function(n,i){var s=t.isMonthDisabledForLabelDate(i),a=s.isDisabled,c=s.labelDate;a||t.handleDayClick(Kl(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),s=i.isDisabled,a=i.labelDate;s||t.handleDayMouseEnter(Kl(a))},t.handleMonthNavigation=function(n,i){var s,a,c,u;(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(u=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()},t.handleKeyboardNavigation=function(n,i,s){var a,c=t.props,u=c.selected,d=c.preSelection,f=c.setPreSelection,y=c.minDate,_=c.maxDate,g=c.showFourColumnMonthYearPicker,A=c.showTwoColumnMonthYearPicker;if(d){var P=Y5(g,A),I=t.getVerticalOffset(P),M=(a=Q0[P])===null||a===void 0?void 0:a.grid,W=function(H,O,R){var B,N,T=O,D=R;switch(H){case dt.ArrowRight:T=Pa(O,Hp),D=R===11?0:R+Hp;break;case dt.ArrowLeft:T=ju(O,Hp),D=R===0?11:R-Hp;break;case dt.ArrowUp:T=ju(O,I),D=!((B=M?.[0])===null||B===void 0)&&B.includes(R)?R+12-I:R-I;break;case dt.ArrowDown:T=Pa(O,I),D=!((N=M?.[M.length-1])===null||N===void 0)&&N.includes(R)?R-12+I:R+I;break}return{newCalculatedDate:T,newCalculatedMonth:D}},z=function(H,O,R){for(var B=40,N=H,T=!1,D=0,Z=W(N,O,R),ve=Z.newCalculatedDate,be=Z.newCalculatedMonth;!T;){if(D>=B){ve=O,be=R;break}if(y&&ve<y){N=dt.ArrowRight;var oe=W(N,ve,be);ve=oe.newCalculatedDate,be=oe.newCalculatedMonth}if(_&&ve>_){N=dt.ArrowLeft;var oe=W(N,ve,be);ve=oe.newCalculatedDate,be=oe.newCalculatedMonth}if(YR(ve,t.props)){var oe=W(N,ve,be);ve=oe.newCalculatedDate,be=oe.newCalculatedMonth}else T=!0;D++}return{newCalculatedDate:ve,newCalculatedMonth:be}};if(i===dt.Enter){t.isMonthDisabled(s)||(t.onMonthClick(n,s),f?.(u));return}var q=z(i,d,s),ne=q.newCalculatedDate,de=q.newCalculatedMonth;switch(i){case dt.ArrowRight:case dt.ArrowLeft:case dt.ArrowUp:case dt.ArrowDown:t.handleMonthNavigation(de,ne);break}}},t.getVerticalOffset=function(n){var i,s;return(s=(i=Q0[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(n,i){var s=t.props,a=s.disabledKeyboardNavigation,c=s.handleOnMonthKeyDown,u=n.key;u!==dt.Tab&&n.preventDefault(),a||t.handleKeyboardNavigation(n,u,i),c&&c(n)},t.onQuarterClick=function(n,i){var s=Dd(t.props.day,i);Up(s,t.props)||t.handleDayClick(R5(s),n)},t.onQuarterMouseEnter=function(n){var i=Dd(t.props.day,n);Up(i,t.props)||t.handleDayMouseEnter(R5(i))},t.handleQuarterNavigation=function(n,i){var s,a,c,u;t.isDisabled(i)||t.isExcluded(i)||((a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(u=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())},t.onQuarterKeyDown=function(n,i){var s,a,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case dt.Enter:t.onQuarterClick(n,i),(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,t.props.selected);break;case dt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,py(t.props.preSelection,1));break;case dt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,nk(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,s=t.props,a=s.day,c=s.disabled,u=s.minDate,d=s.maxDate,f=s.excludeDates,y=s.includeDates,_=Ro(a,n);return c?{isDisabled:!0,labelDate:Ro(a,n)}:{isDisabled:(i=(u||d||f||y)&&wk(_,t.props))!==null&&i!==void 0?i:!1,labelDate:_}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate,u=i.preSelection,d=i.monthClassName,f=d?d(Ro(s,n)):void 0,y=t.getSelection();return qi("react-datepicker__month-text","react-datepicker__month-".concat(n),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":y?t.isSelectMonthInList(s,n,y):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&u&&t.isSelectedMonth(s,n,u)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":a&&c?Vp(a,c,n,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(s,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=_o(t.props.preSelection),s=t.isMonthDisabledForLabelDate(i).isDisabled,a=n===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Uc(t.props.preSelection),s=Up(t.props.day,t.props),a=n===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getAriaLabel=function(n){var i=t.props,s=i.chooseDayAriaLabelPrefix,a=s===void 0?"Choose":s,c=i.disabledDayAriaLabelPrefix,u=c===void 0?"Not available":c,d=i.day,f=i.locale,y=Ro(d,n),_=t.isDisabled(y)||t.isExcluded(y)?u:a;return"".concat(_," ").concat(Lr(y,"MMMM yyyy",f))},t.getQuarterClassNames=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate,u=i.minDate,d=i.maxDate,f=i.excludeDates,y=i.includeDates,_=i.filterDate,g=i.preSelection,A=i.disabledKeyboardNavigation,P=i.disabled,I=(u||d||f||y||_||P)&&Up(Dd(s,n),t.props),M=t.getSelection();return qi("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":I,"react-datepicker__quarter-text--selected":M?t.isSelectQuarterInList(s,n,M):void 0,"react-datepicker__quarter-text--keyboard-selected":!A&&g&&t.isSelectedQuarter(s,n,g)&&!t.isQuarterSelected()&&!I,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":a&&c?qp(a,c,n,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,n)})},t.getMonthContent=function(n){var i=t.props,s=i.showFullMonthYearPicker,a=i.renderMonthContent,c=i.locale,u=i.day,d=yk(n,c),f=Ey(n,c);return a?a(n,d,f,u):s?f:d},t.getQuarterContent=function(n){var i,s=t.props,a=s.renderQuarterContent,c=s.locale,u=$R(n,c);return(i=a?.(n,u))!==null&&i!==void 0?i:u},t.renderMonths=function(){var n,i=t.props,s=i.showTwoColumnMonthYearPicker,a=i.showFourColumnMonthYearPicker,c=i.day,u=i.selected,d=(n=Q0[Y5(a,s)])===null||n===void 0?void 0:n.grid;return d?.map(function(f,y){return je.createElement("div",{className:"react-datepicker__month-wrapper",key:y},f.map(function(_,g){return je.createElement("div",{ref:t.MONTH_REFS[_],key:g,onClick:function(A){t.onMonthClick(A,_)},onKeyDown:function(A){Sk(A)&&(A.preventDefault(),A.key=dt.Enter),t.onMonthKeyDown(A,_)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(_)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(_)}:void 0,tabIndex:Number(t.getTabIndex(_)),className:t.getMonthClassNames(_),"aria-disabled":t.isMonthDisabled(_),role:"option","aria-label":t.getAriaLabel(_),"aria-current":t.isCurrentMonth(c,_)?"date":void 0,"aria-selected":u?t.isSelectedMonth(c,_,u):void 0},t.getMonthContent(_))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,s=n.selected,a=[1,2,3,4];return je.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(c,u){return je.createElement("div",{key:u,ref:t.QUARTER_REFS[u],role:"option",onClick:function(d){t.onQuarterClick(d,c)},onKeyDown:function(d){t.onQuarterKeyDown(d,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":s?t.isSelectedQuarter(i,c,s):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,s=n.selectsStart,a=n.selectsEnd,c=n.showMonthYearPicker,u=n.showQuarterYearPicker,d=n.showWeekPicker;return qi("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||a)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":d})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,s=t.selectsMultiple;if(s)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,s=t.day,a=t.ariaLabelPrefix,c=a===void 0?"Month ":a,u=c?c.trim()+" ":"",d=yo(s)?"".concat(u).concat(Lr(s,"MMMM, yyyy",this.props.locale)):"",f=n||i;return f?je.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":d,role:"listbox"},n?this.renderMonths():this.renderQuarters()):je.createElement("div",{role:"table"},this.props.dayNamesHeader&&je.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&je.createElement("div",{role:"rowgroup"},this.props.monthHeader),je.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":d,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&je.createElement("div",{role:"rowgroup"},this.props.monthFooter))},e})(Ce.Component),aM=(function(r){vs(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(n){return t.props.month===n},t.handleOptionKeyDown=function(n,i){var s;switch(i.key){case"Enter":i.preventDefault(),t.onChange(n);break;case"Escape":i.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var a=(n+(i.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(s=t.monthOptionButtonsRef[a])===null||s===void 0||s.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(n,i){return je.createElement("div",{ref:function(s){t.monthOptionButtonsRef[i]=s,t.isSelectedMonth(i)&&s?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),onKeyDown:t.handleOptionKeyDown.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?je.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return je.createElement(Rg,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(Ce.Component),lM=(function(r){vs(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,s){return je.createElement("option",{key:i,value:s},i)})},t.renderSelectMode=function(n){return je.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return je.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},je.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),je.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return je.createElement(aM,bn({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,s=[t.renderReadView(!i,n)];return i&&s.unshift(t.renderDropdown(n)),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return yk(s,t.props.locale)}:function(s){return Ey(s,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return je.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e})(Ce.Component),G5=5;function cM(r,e,t){for(var n=[],i=r??eu(t,G5),s=e??Ta(t,G5),a=Kl(i),c=Kl(s);!Gl(a,c);)n.push($n(a)),a=Pa(a,1);return n}var uM=(function(r){vs(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var s=Z1(i),a=el(n.props.date,i)&&Js(n.props.date,i);return je.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":a?"true":void 0},a?je.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Lr(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:cM(n.props.minDate,n.props.maxDate,n.props.date)},n}return e.prototype.render=function(){var t=qi({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return je.createElement(Rg,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(Ce.Component),K5=5,dM=(function(r){vs(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n,i,s=(n=t.props.minDate)!==null&&n!==void 0?n:eu(t.props.date,K5),a=(i=t.props.maxDate)!==null&&i!==void 0?i:Ta(t.props.date,K5),c=Kl(s),u=Kl(a),d=[];!Gl(c,u);){var f=Z1(c);d.push(je.createElement("option",{key:f,value:f},Lr(c,t.props.dateFormat,t.props.locale))),c=Pa(c,1)}return d},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return je.createElement("select",{value:Z1(Kl(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=Lr(t.props.date,t.props.dateFormat,t.props.locale);return je.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},je.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),je.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return je.createElement(uM,bn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=$n(n);el(t.props.date,i)&&Js(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return je.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(Ce.Component),hM=(function(r){vs(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(n){var i,s;(t.props.minTime||t.props.maxTime)&&B5(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&j5(n,t.props)||(s=(i=t.props).onChange)===null||s===void 0||s.call(i,n)},t.isSelectedTime=function(n){var i=Ru(t.props.selected);return i&&xk(i,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&B5(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&j5(n,t.props)},t.liClasses=function(n){var i,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Ms(n)*3600+Os(n)*60+Kc(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(n,i){var s,a;n.key===dt.Space&&(n.preventDefault(),n.key=dt.Enter),(n.key===dt.ArrowUp||n.key===dt.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===dt.ArrowDown||n.key===dt.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===dt.Enter&&t.handleClick(i),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,n)},t.renderTimes=function(){for(var n,i=[],s=typeof t.props.format=="string"?t.props.format:"p",a=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=Ru(t.props.selected)||Ru(t.props.openToDate)||$n(),u=lf(c),d=t.props.injectTimes&&t.props.injectTimes.sort(function(I,M){return I.getTime()-M.getTime()}),f=60*tM(c),y=f/a,_=0;_<y;_++){var g=Tf(u,_*a);if(i.push(g),d){var A=eM(u,g,_,a,d);i=i.concat(A)}}var P=i.reduce(function(I,M){return M.getTime()<=c.getTime()?M:I},i[0]);return i.map(function(I){return je.createElement("li",{key:I.valueOf(),onClick:t.handleClick.bind(t,I),className:t.liClasses(I),ref:function(M){I===P&&(t.centerLi=M)},onKeyDown:function(M){t.handleOnKeyDown(M,I)},tabIndex:I===P?0:-1,role:"option","aria-selected":t.isSelectedTime(I)?"true":void 0,"aria-disabled":t.isDisabledTime(I)?"true":void 0},Lr(I,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?je.createElement(je.Fragment,null):je.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},je.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var t=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==t&&this.setState({height:t})}},e.prototype.render=function(){var t=this,n,i=this.state.height;return je.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),je.createElement("div",{className:"react-datepicker__time"},je.createElement("div",{className:"react-datepicker__time-box"},je.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e})(Ce.Component),Q5=3,fM=(function(r){vs(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=ol([],Array(n.props.yearItemNumber),!0).map(function(){return Ce.createRef()}),n.isDisabled=function(i){return oa(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return Ay(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var s=function(){var a,c;(c=(a=n.YEAR_REFS[i])===null||a===void 0?void 0:a.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(i,s){n.props.onDayClick&&n.props.onDayClick(i,s)},n.handleYearNavigation=function(i,s){var a,c,u,d,f=n.props,y=f.date,_=f.yearItemNumber;if(!(y===void 0||_===void 0)){var g=$l(y,_).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((c=(a=n.props).setPreSelection)===null||c===void 0||c.call(a,s),i-g<0?n.updateFocusOnPaginate(_-(g-i)):i-g>=_?n.updateFocusOnPaginate(Math.abs(_-(i-g))):(d=(u=n.YEAR_REFS[i-g])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())}},n.isSameDay=function(i,s){return Pn(i,s)},n.isCurrentYear=function(i){return i===Tn($n())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&el(Za($n(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&el(Za($n(),i),n.props.endDate)},n.isInRange=function(i){return zp(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var s=n.props,a=s.selectsStart,c=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate;return!(a||c||u)||!n.selectingDate()?!1:a&&f?zp(i,n.selectingDate(),f):c&&d||u&&d&&!f?zp(i,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var s;if(!n.isInSelectingRange(i))return!1;var a=n.props,c=a.startDate,u=a.selectsStart,d=Za($n(),i);return u?el(d,(s=n.selectingDate())!==null&&s!==void 0?s:null):el(d,c??null)},n.isSelectingRangeEnd=function(i){var s;if(!n.isInSelectingRange(i))return!1;var a=n.props,c=a.endDate,u=a.selectsEnd,d=a.selectsRange,f=Za($n(),i);return u||d?el(f,(s=n.selectingDate())!==null&&s!==void 0?s:null):el(f,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var s=n.props,a=s.minDate,c=s.maxDate,u=s.excludeDates,d=s.includeDates,f=s.filterDate,y=s.selected,_=cf(Za(n.props.date,i)),g=(a||c||u||d||f)&&pm(i,n.props),A=!!y&&Pn(_,cf(y)),P=Pn(_,cf(n.props.preSelection));return!n.props.inline&&!A&&P&&!g}},n.isSelectedYear=function(i){var s=n.props,a=s.selectsMultiple,c=s.selected,u=s.selectedDates;return a?u?.some(function(d){return i===Tn(d)}):!!c&&i===Tn(c)},n.onYearClick=function(i,s){var a=n.props.date;a!==void 0&&n.handleYearClick(cf(Za(a,s)),i)},n.onYearKeyDown=function(i,s){var a,c,u=i.key,d=n.props,f=d.date,y=d.yearItemNumber,_=d.handleOnKeyDown;if(u!==dt.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(u){case dt.Enter:if(n.props.selected==null)break;n.onYearClick(i,s),(c=(a=n.props).setPreSelection)===null||c===void 0||c.call(a,n.props.selected);break;case dt.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,Ta(n.props.preSelection,1));break;case dt.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,eu(n.props.preSelection,1));break;case dt.ArrowUp:{if(f===void 0||y===void 0||n.props.preSelection==null)break;var g=$l(f,y).startPeriod,A=Q5,P=s-A;if(P<g){var I=y%A;s>=g&&s<g+I?A=I:A+=I,P=s-A}n.handleYearNavigation(P,eu(n.props.preSelection,A));break}case dt.ArrowDown:{if(f===void 0||y===void 0||n.props.preSelection==null)break;var M=$l(f,y).endPeriod,A=Q5,P=s+A;if(P>M){var I=y%A;s<=M&&s>M-I?A=I:A+=I,P=s+A}n.handleYearNavigation(P,Ta(n.props.preSelection,A));break}}_&&_(i)},n.getYearClassNames=function(i){var s=n.props,a=s.date,c=s.disabled,u=s.minDate,d=s.maxDate,f=s.excludeDates,y=s.includeDates,_=s.filterDate,g=s.yearClassName;return qi("react-datepicker__year-text","react-datepicker__year-".concat(i),a?g?.(Za(a,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(u||d||f||y||_||c)&&pm(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=Tn(n.props.preSelection),a=pm(i,n.props);return i===s&&!a?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,s=i.date,a=i.yearItemNumber,c=i.onYearMouseEnter,u=i.onYearMouseLeave;if(s===void 0)return null;for(var d=$l(s,a),f=d.startPeriod,y=d.endPeriod,_=function(P){n.push(je.createElement("div",{ref:g.YEAR_REFS[P-f],onClick:function(I){t.onYearClick(I,P)},onKeyDown:function(I){Sk(I)&&(I.preventDefault(),I.key=dt.Enter),t.onYearKeyDown(I,P)},tabIndex:Number(g.getYearTabIndex(P)),className:g.getYearClassNames(P),onMouseEnter:g.props.usePointerEvent?void 0:function(I){return c(I,P)},onPointerEnter:g.props.usePointerEvent?function(I){return c(I,P)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(I){return u(I,P)},onPointerLeave:g.props.usePointerEvent?function(I){return u(I,P)}:void 0,key:P,"aria-current":g.isCurrentYear(P)?"date":void 0},g.getYearContent(P)))},g=this,A=f;A<=y;A++)_(A);return je.createElement("div",{className:"react-datepicker__year"},je.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(Ce.Component);function pM(r,e,t,n){for(var i=[],s=0;s<2*e+1;s++){var a=r+e-s,c=!0;t&&(c=Tn(t)<=a),n&&c&&(c=Tn(n)>=a),c&&i.push(a)}return i}var mM=(function(r){vs(e,r);function e(t){var n=r.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(c,u){var d;switch(u.key){case"Enter":u.preventDefault(),n.onChange(c);break;case"Escape":u.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{u.preventDefault();var f=c+(u.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[f]&&((d=n.yearOptionButtonsRef[f])===null||d===void 0||d.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var c=n.props.year,u=n.state.yearsList.map(function(y){return je.createElement("div",{ref:function(_){n.yearOptionButtonsRef[y]=_,y===c&&_?.focus()},role:"button",tabIndex:0,className:c===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:n.onChange.bind(n,y),onKeyDown:n.handleOptionKeyDown.bind(n,y),"aria-selected":c===y?"true":void 0},c===y?je.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",y)}),d=n.props.minDate?Tn(n.props.minDate):null,f=n.props.maxDate?Tn(n.props.maxDate):null;return(!f||!n.state.yearsList.find(function(y){return y===f}))&&u.unshift(je.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},je.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(y){return y===d}))&&u.push(je.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},je.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var u=n.state.yearsList.map(function(d){return d+c});n.setState({yearsList:u})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,a=i||(s?10:5);return n.state={yearsList:pM(n.props.year,a,n.props.minDate,n.props.maxDate)},n.dropdownRef=Ce.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(s){return s.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=qi({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return je.createElement(Rg,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(Ce.Component),gM=(function(r){vs(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Tn(t.props.minDate):1900,i=t.props.maxDate?Tn(t.props.maxDate):2100,s=[],a=n;a<=i;a++)s.push(je.createElement("option",{key:a,value:a},a));return s},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return je.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return je.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},je.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),je.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return je.createElement(mM,bn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var s;(s=t.onSelect)===null||s===void 0||s.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var s,a;(a=(s=t.props).onSelect)===null||a===void 0||a.call(s,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return je.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(Ce.Component),vM=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],kk="react-datepicker-ignore-onclickoutside",yM=function(r){var e=(r.className||"").split(/\s+/);return vM.some(function(t){return e.indexOf(t)>=0})},wM=(function(r){vs(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var s,a;yM(i.target)&&((a=(s=n.props).onDropdownFocus)===null||a===void 0||a.call(s,i))},n.getDateInView=function(){var i=n.props,s=i.preSelection,a=i.selected,c=i.openToDate,u=_k(n.props),d=bk(n.props),f=$n(),y=c||a||s;return y||(u&&sl(f,u)?u:d&&Gl(f,d)?d:f)},n.increaseMonth=function(){n.setState(function(i){var s=i.date;return{date:Pa(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var s=i.date;return{date:ju(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,s,a){n.props.onSelect(i,s,a),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,s){n.setState({selectingDate:Za($n(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,s)},n.handleYearMouseLeave=function(i,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,s)},n.handleYearChange=function(i){var s,a,c,u;(a=(s=n.props).onYearChange)===null||a===void 0||a.call(s,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!oa(i,n.props))return i;for(var s=Kl(i),a=zR(i),c=XP(a,s),u=null,d=0;d<=c;d++){var f=Ia(s,d);if(!oa(f,n.props)){u=f;break}}return u},n.handleMonthChange=function(i){var s,a,c,u=(s=n.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;n.handleCustomMonthChange(u),n.props.adjustDateOnChange&&(n.props.onSelect(u),(c=(a=n.props).setOpen)===null||c===void 0||c.call(a,!0)),n.props.setPreSelection&&n.props.setPreSelection(u)},n.handleCustomMonthChange=function(i){var s,a;(a=(s=n.props).onMonthChange)===null||a===void 0||a.call(s,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(s){var a=s.date;return{date:Za(a,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(s){var a=s.date;return{date:Ro(a,Number(i))}},function(){var s,a;n.handleMonthChange(n.state.date),(a=(s=n.props).onMonthSelectedInChange)===null||a===void 0||a.call(s,0)})},n.changeMonthYear=function(i){n.setState(function(s){var a=s.date;return{date:Za(Ro(a,_o(i)),Tn(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i,s){if(i===void 0&&(i=n.state.date),s===void 0&&(s=0),!yo(i))return[];var a=n.props.disabled,c=Qc(i,n.props.locale,n.props.calendarStartDay),u=[];return n.props.showWeekNumbers&&u.push(je.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(a?"react-datepicker__day-name--disabled":""),role:"columnheader"},je.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),je.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),u.concat([0,1,2,3,4,5,6].map(function(d){var f=Ia(c,d),y=n.formatWeekday(f,n.props.locale),_=Lr(f,"EEEE",n.props.locale),g=n.props.weekDayClassName?n.props.weekDayClassName(f):void 0;if(n.props.renderCustomDayName){var A=n.props.renderCustomDayName({day:f,shortName:y,fullName:_,locale:n.props.locale,customDayNameCount:s});return je.createElement("div",{key:d,role:"columnheader",className:qi("react-datepicker__day-name",g,a?"react-datepicker__day-name--disabled":"")},A)}return je.createElement("div",{key:d,role:"columnheader",className:qi("react-datepicker__day-name",g,a?"react-datepicker__day-name--disabled":"")},je.createElement("span",{className:"react-datepicker__sr-only"},_),je.createElement("span",{"aria-hidden":"true"},y))}))},n.formatWeekday=function(i,s){return n.props.formatWeekDay?qR(i,n.props.formatWeekDay,s):n.props.useWeekdaysShort?WR(i,s):HR(i,s)},n.decreaseYear=function(){n.setState(function(i){var s,a=i.date;return{date:eu(a,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,s,a;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,u=n.props.showPreviousMonths?c-1:0,d=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:u,f=ju(n.state.date,d),y;switch(!0){case n.props.disabled:y=!0;break;case n.props.showMonthYearPicker:y=z5(n.state.date,n.props);break;case n.props.showYearPicker:y=QR(n.state.date,n.props);break;case n.props.showQuarterYearPicker:y=GR(n.state.date,n.props);break;default:y=V5(f,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&y||n.props.showTimeSelectOnly)){var _=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],A=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(A=n.decreaseYear),y&&n.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),A=void 0);var P=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,I=n.props,M=I.previousMonthButtonLabel,W=M===void 0?e.defaultProps.previousMonthButtonLabel:M,z=I.previousYearButtonLabel,q=z===void 0?e.defaultProps.previousYearButtonLabel:z,ne=n.props,de=ne.previousMonthAriaLabel,H=de===void 0?typeof W=="string"?W:"Previous Month":de,O=ne.previousYearAriaLabel,R=O===void 0?typeof q=="string"?q:"Previous Year":O;return je.createElement("button",{type:"button",className:g.join(" "),onClick:A,onKeyDown:n.props.handleOnKeyDown,"aria-label":P?R:H},je.createElement("span",{className:_.join(" ")},P?q:W))}}},n.increaseYear=function(){n.setState(function(i){var s,a=i.date;return{date:Ta(a,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.disabled:s=!0;break;case n.props.showMonthYearPicker:s=q5(n.state.date,n.props);break;case n.props.showYearPicker:s=XR(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=KR(n.state.date,n.props);break;default:s=U5(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var u=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(u=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),u=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,f=n.props,y=f.nextMonthButtonLabel,_=y===void 0?e.defaultProps.nextMonthButtonLabel:y,g=f.nextYearButtonLabel,A=g===void 0?e.defaultProps.nextYearButtonLabel:g,P=n.props,I=P.nextMonthAriaLabel,M=I===void 0?typeof _=="string"?_:"Next Month":I,W=P.nextYearAriaLabel,z=W===void 0?typeof A=="string"?A:"Next Year":W;return je.createElement("button",{type:"button",className:a.join(" "),onClick:u,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?z:M},je.createElement("span",{className:c.join(" ")},d?A:_))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),je.createElement("h2",{className:s.join(" ")},yo(i)?Lr(i,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return je.createElement(gM,bn({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Tn(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return je.createElement(lM,bn({},e.defaultProps,n.props,{month:_o(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return je.createElement(dM,bn({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(M5(),i),n.props.setPreSelection&&n.props.setPreSelection(M5())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return je.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(i,s){return s===void 0&&(s=0),je.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(i,s))},n.renderDefaultHeader=function(i){var s=i.monthDate,a=i.i,c=je.createElement("div",{className:qi("react-datepicker__header",{"react-datepicker__header--has-time-select":n.props.showTimeSelect,"react-datepicker__header--middle":n.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":n.props.monthHeaderPosition==="bottom"})},n.renderCurrentMonth(s),je.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(a!==0),n.renderMonthYearDropdown(a!==0),n.renderYearDropdown(a!==0)));return n.props.monthHeaderPosition==="top"?c:je.createElement("div",{className:"react-datepicker__header-wrapper"},n.renderPreviousButton()||null,n.renderNextButton()||null,c)},n.renderCustomHeader=function(i){var s,a,c=i.monthDate,u=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=n.props,f=d.showYearPicker,y=d.yearItemNumber,_;if(f){var g=$l(c,y),A=g.startPeriod,P=g.endPeriod;_={startYear:A,endYear:P}}var I=V5(n.state.date,n.props),M=U5(n.state.date,n.props),W=z5(n.state.date,n.props),z=q5(n.state.date,n.props);return je.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(a=(s=n.props).renderCustomHeader)===null||a===void 0?void 0:a.call(s,bn(bn(bn({},n.state),f&&{visibleYearsRange:_}),{customHeaderCount:u,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:I,nextMonthButtonDisabled:M,prevYearButtonDisabled:W,nextYearButtonDisabled:z})))},n.renderYearHeader=function(i){var s=i.monthDate,a=n.props,c=a.showYearPicker,u=a.yearItemNumber,d=u===void 0?e.defaultProps.yearItemNumber:u,f=$l(s,d),y=f.startPeriod,_=f.endPeriod;return je.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(y," - ").concat(_):Tn(s))},n.renderHeader=function(i){var s=i.monthDate,a=i.i,c=a===void 0?0:a,u={monthDate:s,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(u);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(u);default:return n.renderDefaultHeader(u)}},n.renderMonths=function(){var i,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var a=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,u=n.props.showPreviousMonths?c-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ta(n.state.date,u):ju(n.state.date,u),f=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:u,y=0;y<c;++y){var _=y-f+u,g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ta(d,_):Pa(d,_),A="month-".concat(y),P=y<c-1,I=y>0;a.push(je.createElement("div",{key:A,ref:function(M){n.monthContainer=M??void 0},className:"react-datepicker__month-container"},n.props.monthHeaderPosition==="top"&&n.renderHeader({monthDate:g,i:y}),je.createElement(oM,bn({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:g,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:y,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:P,monthShowsDuplicateDaysStart:I,dayNamesHeader:n.renderDayNamesHeader(g,y),monthHeader:n.props.monthHeaderPosition==="middle"?n.renderHeader({monthDate:g,i:y}):void 0,monthFooter:n.props.monthHeaderPosition==="bottom"?n.renderHeader({monthDate:g,i:y}):void 0}))))}return a}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return je.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),je.createElement(fM,bn({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return je.createElement(hM,bn({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i,s;if(n.props.showTimeInput){if(n.props.selectsRange){var a=n.props,c=a.startDate,u=a.endDate,d=c?new Date(c):void 0,f=d&&yo(d)&&!!c,y=f?"".concat(Ed(d.getHours()),":").concat(Ed(d.getMinutes())):"",_=u?new Date(u):void 0,g=_&&yo(_)&&!!u,A=g?"".concat(Ed(_.getHours()),":").concat(Ed(_.getMinutes())):"";return je.createElement(je.Fragment,null,je.createElement(K0,bn({},e.defaultProps,n.props,{date:d,timeString:y,onChange:function(W){var z,q;(q=(z=n.props).onTimeChange)===null||q===void 0||q.call(z,W,"start")},timeInputLabel:((i=n.props.timeInputLabel)!==null&&i!==void 0?i:"Time")+" (Start)"})),je.createElement(K0,bn({},e.defaultProps,n.props,{date:_,timeString:A,onChange:function(W){var z,q;(q=(z=n.props).onTimeChange)===null||q===void 0||q.call(z,W,"end")},timeInputLabel:((s=n.props.timeInputLabel)!==null&&s!==void 0?s:"Time")+" (End)"})))}var P=n.props.selected?new Date(n.props.selected):void 0,I=P&&yo(P)&&!!n.props.selected,M=I?"".concat(Ed(P.getHours()),":").concat(Ed(P.getMinutes())):"";return je.createElement(K0,bn({},e.defaultProps,n.props,{date:P,timeString:M,onChange:function(W){var z,q;(q=(z=n.props).onTimeChange)===null||q===void 0||q.call(z,W)}}))}},n.renderAriaLiveRegion=function(){var i;if(!yo(n.state.date))return je.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=$l(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),a=s.startPeriod,c=s.endPeriod,u;return n.props.showYearPicker?u="".concat(a," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?u=Tn(n.state.date):u="".concat(Ey(_o(n.state.date),n.props.locale)," ").concat(Tn(n.state.date)),je.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&u)},n.renderChildren=function(){if(n.props.children)return je.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=Ce.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:kk,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Yf,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&yo(this.props.preSelection)&&(!Pn(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Js(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Pn(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||RR;return je.createElement(Rg,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},je.createElement("div",{style:{display:"contents"},ref:this.containerRef},je.createElement(t,{className:qi("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(Ce.Component),_M=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return je.createElement("i",{className:"".concat(s," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(je.isValidElement(e)){var a=e;return je.cloneElement(a,{className:"".concat(a.props.className||""," ").concat(s," ").concat(n),onClick:function(c){typeof a.props.onClick=="function"&&a.props.onClick(c),typeof i=="function"&&i(c)}})}return je.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},je.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Ek=(function(r){vs(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return UL.createPortal(this.props.children,this.el)},e})(Ce.Component),bM="[tabindex], a, button, input, select, textarea",xM=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},Ak=(function(r){vs(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(bM),1,-1).filter(xM)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=Ce.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?je.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},je.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,je.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(Ce.Component);function SM(r){function e(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=Ce.useRef(null),a=LR(bn({open:!i,whileElementsMounted:dR,placement:t.popperPlacement,middleware:ol([_R({padding:15}),wR(10),bR({element:s})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=bn(bn({},t),{hidePopper:i,popperProps:bn(bn({},a),{arrowRef:s})});return je.createElement(r,bn({},c))}return e.displayName="withFloating(".concat(r.displayName||r.name||"Component",")"),e}var kM=function(r){var e=r.className,t=r.wrapperClassName,n=r.hidePopper,i=n===void 0?!0:n,s=r.popperComponent,a=r.targetComponent,c=r.enableTabLoop,u=r.popperOnKeyDown,d=r.portalId,f=r.portalHost,y=r.popperProps,_=r.showArrow,g=r.popperTargetRef,A=r.monthHeaderPosition;Ce.useEffect(function(){g?.current&&y.refs.setPositionReference(g.current)},[g,y.refs]);var P=void 0;if(!i){var I=qi("react-datepicker-popper",!_&&"react-datepicker-popper-offset",A==="middle"&&"react-datepicker-popper--header-middle",A==="bottom"&&"react-datepicker-popper--header-bottom",e);P=je.createElement(Ak,{enableTabLoop:c},je.createElement("div",{ref:y.refs.setFloating,style:y.floatingStyles,className:I,"data-placement":y.placement,onKeyDown:u},s,_&&je.createElement(AR,{ref:y.arrowRef,context:y.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}r.popperContainer&&(P=Ce.createElement(r.popperContainer,{},P)),d&&!i&&(P=je.createElement(Ek,{portalId:d,portalHost:f},P));var M=qi("react-datepicker-wrapper",t);return je.createElement(je.Fragment,null,je.createElement("div",{ref:y.refs.setReference,className:M},a),P)},EM=SM(kM);function X5(r,e){return r&&e?_o(r)!==_o(e)||Tn(r)!==Tn(e):r!==e}var X0="Date input not valid.",AM=(function(r){vs(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){var i=n.props.timeZone,s=n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:$n();return i?L5(s,i):s},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,a){var c=Eu(a.date,"yyyy-MM-dd",void 0,!1);return c?ol(ol([],s,!0),[bn(bn({},a),{date:c})],!1):s},[])},n.calcInitialState=function(){var i=n.props.timeZone,s=n.getPreSelection(),a=_k(n.props),c=bk(n.props),u=a&&sl(s,lf(a))?a:c&&Gl(s,O5(c))?c:s,d=n.props.selectsRange?n.props.startDate:n.props.selected;return d&&i&&(d=L5(d,i)),{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:d??u,highlightDates:H5(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var i,s=n.props,a=s.locale,c=s.startDate,u=s.endDate,d=s.rangeSeparator,f=s.selected,y=s.selectedDates,_=s.selectsMultiple,g=s.selectsRange,A=s.formatMultipleDates,P=s.value,I=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,M=n.state.inputValue;if(typeof P=="string")return P;if(typeof M=="string")return M;if(g)return FR(c,u,{dateFormat:I,locale:a,rangeSeparator:d});if(_){if(A){var W=function(z){return vo(z,{dateFormat:I,locale:a})};return A(y??[],W)}return jR(y??[],{dateFormat:I,locale:a})}return vo(f,{dateFormat:I,locale:a})},n.resetHiddenStatus=function(){n.setState(bn(bn({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(bn(bn({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,s;(s=(i=n.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},n.setBlur=function(){var i,s;(s=(i=n.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,s){s===void 0&&(s=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:J0},function(){i||n.setState(function(a){return{focused:s?a.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return hl(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var s,a,c=n.state.wasHidden,u=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((a=(s=n.props).onFocus)===null||a===void 0||a.call(s,i),u&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(bn(bn({},n.state),{inputValue:null}))},n.handleBlur=function(i){var s,a;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((a=(s=n.props).onBlur)===null||a===void 0||a.call(s,i));var c=n.state.inputValue;if(typeof c=="string"&&c.length>0){var u=/[a-zA-Z0-9]/.test(c);!u&&n.props.selected&&n.setSelected(null,void 0,!0)}n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var s,a;(a=(s=n.props).onClickOutside)===null||a===void 0||a.call(s,i),!n.props.inline&&!i.defaultPrevented&&n.setOpen(!1),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,s,a,c,u,d,f,y,_=[],g=0;g<arguments.length;g++)_[g]=arguments[g];var A=_[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,_),!A||typeof A.isDefaultPrevented!="function"||A.isDefaultPrevented()))){n.setState({inputValue:A?.target instanceof HTMLInputElement?A.target.value:null,lastPreSelectChange:CM});var P=n.props,I=P.selectsRange,M=P.startDate,W=P.endDate,z=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,q=(s=n.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,ne=A?.target instanceof HTMLInputElement?A.target.value:"";if(I){var de=n.props.rangeSeparator,H=de.trim(),O=ne.split(z.includes(H)?de:H,2).map(function(oe){return oe.trim()}),R=O[0],B=O[1],N=Eu(R??"",z,n.props.locale,q),T=N?Eu(B??"",z,n.props.locale,q):null,D=((a=Ru(M))===null||a===void 0?void 0:a.getTime())!==N?.getTime(),Z=((c=Ru(W))===null||c===void 0?void 0:c.getTime())!==T?.getTime();if(!D&&!Z||N&&oa(N,n.props)||T&&oa(T,n.props))return;N&&n.setState({preSelection:N}),(d=(u=n.props).onChange)===null||d===void 0||d.call(u,[N,T],A)}else{var ve=Eu(ne,z,n.props.locale,q,(f=n.props.selected)!==null&&f!==void 0?f:void 0);if(ve||!ne)n.setSelected(ve,A,!0);else if(!n.props.inline){var be=OR(ne,(y=n.state.preSelection)!==null&&y!==void 0?y:void 0);be&&(!n.props.minDate||!sl(be,n.props.minDate))&&(!n.props.maxDate||!Gl(be,n.props.maxDate))&&n.setState({preSelection:be})}}}},n.handleSelect=function(i,s,a){var c;if(!n.props.readOnly){var u=n.props,d=u.selectsRange,f=u.startDate,y=u.endDate,_=u.locale,g=u.swapRange,A=(c=n.props.dateFormat)!==null&&c!==void 0?c:e.defaultProps.dateFormat,P=!d||f&&!y&&(g||!G0(i,f));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&P&&n.sendFocusBackToInput(),n.props.onChangeRaw){var I=vo(i,{dateFormat:A,locale:_});n.props.onChangeRaw(s,{date:i,formattedDate:I})}n.setSelected(i,s,!1,a),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(i):P&&n.setOpen(!1)}},n.setSelected=function(i,s,a,c){var u,d,f=n.props.timeZone,y=i;if(y&&f&&(y=Fl(y,f)),n.props.showYearPicker){if(y!==null&&pm(Tn(y),n.props))return}else if(n.props.showMonthYearPicker){if(y!==null&&wk(y,n.props))return}else if(y!==null&&oa(y,n.props))return;var _=n.props,g=_.onChange,A=_.selectsRange,P=_.startDate,I=_.endDate,M=_.selectsMultiple,W=_.selectedDates,z=_.minTime,q=_.swapRange;if(!Mu(n.props.selected,y)||n.props.allowSameDay||A||M)if(y!==null&&(n.props.selected&&(!a||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(y=jl(y,{hour:Ms(n.props.selected),minute:Os(n.props.selected),second:Kc(n.props.selected)})),!a&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&z&&(y=jl(y,{hour:z.getHours(),minute:z.getMinutes(),second:z.getSeconds()})),n.props.inline||n.setState({preSelection:y}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),A){var ne=g,de=!P&&!I,H=P&&!I,O=!P&&!!I,R=P&&I;de?ne?.([y,null],s):H?y===null?ne?.([null,null],s):G0(y,P)?ne?.(q?[y,P]:[y,null],s):ne?.([P,y],s):O&&(y&&G0(y,I)?ne?.([y,I],s):ne?.([y,null],s)),R&&ne?.([y,null],s)}else if(M){var B=g;if(y!==null)if(!W?.length)B?.([y],s);else{var N=W.some(function(D){return Pn(D,y)});if(N){var T=W.filter(function(D){return!Pn(D,y)});B?.(T,s)}else B?.(ol(ol([],W,!0),[y],!1),s)}}else g?.(y,s);a||((d=(u=n.props).onSelect)===null||d===void 0||d.call(u,y,s),n.setState({inputValue:null}))},n.setPreSelection=function(i){if(!n.props.readOnly){var s=hl(n.props.minDate),a=hl(n.props.maxDate),c=!0;if(i){var u=lf(i);if(s&&a)c=Iu(i,n.props.minDate,n.props.maxDate);else if(s){var d=lf(n.props.minDate);c=Gl(i,d)||Mu(u,d)}else if(a){var f=O5(n.props.maxDate);c=sl(i,f)||Mu(u,f)}}c&&n.setState({preSelection:i})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i,s){var a,c;if(!n.props.selectsMultiple){var u=n.props,d=u.selectsRange,f=u.startDate,y=u.endDate,_=u.onChange,g=u.timeZone;if(d){var A=_;if(s==="start"){if(f){var P=jl(f,{hour:Ms(i),minute:Os(i)});n.setState({preSelection:P}),g&&(P=Fl(P,g)),A?.([P,y?g?Fl(y,g):y:null],void 0)}}else if(s==="end"){if(y){var I=jl(y,{hour:Ms(i),minute:Os(i)});n.setState({preSelection:I}),g&&(I=Fl(I,g)),A?.([f?g?Fl(f,g):f:null,I],void 0)}}else{var M=f&&!y;if(M){var P=jl(f,{hour:Ms(i),minute:Os(i)});n.setState({preSelection:P}),g&&(P=Fl(P,g)),A?.([P,null],void 0)}else if(f&&y){var I=jl(y,{hour:Ms(i),minute:Os(i)});n.setState({preSelection:I}),g&&(I=Fl(I,g)),A?.([g?Fl(f,g):f,I],void 0)}else{var W=jl(n.getPreSelection(),{hour:Ms(i),minute:Os(i)});n.setState({preSelection:W})}}}else{var z=n.props.selected?n.props.selected:n.getPreSelection(),W=n.props.selected?i:jl(z,{hour:Ms(i),minute:Os(i)});n.setState({preSelection:W}),W&&g&&(W=Fl(W,g)),(c=(a=n.props).onChange)===null||c===void 0||c.call(a,W)}n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(i=n.props).onInputClick)===null||s===void 0||s.call(i)},n.handleTimeOnlyArrowKey=function(i){var s,a,c,u,d=Ru(n.props.selected)||n.state.preSelection||$n(),f=(s=n.props.timeIntervals)!==null&&s!==void 0?s:30,y=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,_=Array.isArray(y)?y[0]:y,g=lf(d),A=Ms(d)*60+Os(d),P=1440-f,I;if(i===dt.ArrowUp){var M=Math.max(0,A-f);I=Tf(g,M)}else{var M=Math.min(P,A+f);I=Tf(g,M)}var W=Lr(I,_||e.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:I,inputValue:W}),!(n.props.selectsRange||n.props.selectsMultiple)){var z=n.props.selected?n.props.selected:n.getPreSelection(),q=n.props.selected?I:jl(z,{hour:Ms(I),minute:Os(I)});(u=(c=n.props).onChange)===null||u===void 0||u.call(c,q),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(I)})}},n.handleTimeOnlyEnterKey=function(i){var s,a,c,u,d=i.target,f=d.value,y=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,_=n.props.timeFormat||"p",g=n.state.preSelection||Ru(n.props.selected)||$n(),A=Eu(f,y,n.props.locale,(a=n.props.strictParsing)!==null&&a!==void 0?a:!1,g),P=g;if(A&&yo(A))P=A;else{var I=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(I instanceof HTMLElement){var M=(u=I.textContent)===null||u===void 0?void 0:u.trim();if(M){var W=Eu(M,_,n.props.locale,!1,g);W&&yo(W)&&(P=W)}}}n.handleTimeChange(P),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(i){var s,a;if(!((s=n.calendar)===null||s===void 0)&&s.containerRef.current){for(var c=n.calendar.containerRef.current,u=Array.from(c.querySelectorAll(".react-datepicker__time-list-item")),d=null,f=1/0,y=n.props.timeFormat||"p",_=0,g=u;_<g.length;_++){var A=g[_],P=(a=A.textContent)===null||a===void 0?void 0:a.trim();if(P){var I=Eu(P,y,n.props.locale,!1,i);if(I&&yo(I)){if(xk(I,i)){d=A;break}var M=Math.abs(I.getTime()-i.getTime());M<f&&(f=M,d=A)}}}d&&(u.forEach(function(W){W.setAttribute("tabindex","-1")}),d.setAttribute("tabindex","0"),d.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(i){var s,a,c,u,d,f;(a=(s=n.props).onKeyDown)===null||a===void 0||a.call(s,i);var y=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(y===dt.ArrowDown||y===dt.ArrowUp||y===dt.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(y===dt.ArrowDown||y===dt.ArrowUp){i.preventDefault(),n.handleTimeOnlyArrowKey(y);return}if(y===dt.Enter){i.preventDefault(),n.handleTimeOnlyEnterKey(i);return}}if(n.state.open){if(y===dt.ArrowDown||y===dt.ArrowUp){i.preventDefault();var _=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(_);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var A=$n(n.state.preSelection);y===dt.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===J0?(n.handleSelect(A,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(A)):n.setOpen(!1)):y===dt.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):y===dt.Tab&&n.setOpen(!1),n.inputOk()||(f=(d=n.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:X0})}},n.onPortalKeyDown=function(i){var s=i.key;s===dt.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var s,a,c,u,d,f,y=n.props,_=y.minDate,g=y.maxDate,A=y.disabledKeyboardNavigation,P=y.showWeekPicker,I=y.shouldCloseOnSelect,M=y.locale,W=y.calendarStartDay,z=y.adjustDateOnChange,q=y.inline;if((a=(s=n.props).onKeyDown)===null||a===void 0||a.call(s,i),!A){var ne=i.key,de=i.shiftKey,H=$n(n.state.preSelection),O=function(N,T){var D=T;switch(N){case dt.ArrowRight:D=P?zm(T,1):Ia(T,1);break;case dt.ArrowLeft:D=P?_5(T):X6(T);break;case dt.ArrowUp:D=_5(T);break;case dt.ArrowDown:D=zm(T,1);break;case dt.PageUp:D=de?eu(T,1):ju(T,1);break;case dt.PageDown:D=de?Ta(T,1):Pa(T,1);break;case dt.Home:D=Qc(T,M,W);break;case dt.End:D=UR(T);break}return D},R=function(N,T){for(var D=40,Z=N,ve=!1,be=0,oe=O(N,T);!ve;){if(be>=D){oe=T;break}_&&oe<_&&(Z=dt.ArrowRight,oe=oa(_,n.props)?O(Z,oe):_),g&&oe>g&&(Z=dt.ArrowLeft,oe=oa(g,n.props)?O(Z,oe):g),oa(oe,n.props)?((Z===dt.PageUp||Z===dt.Home)&&(Z=dt.ArrowRight),(Z===dt.PageDown||Z===dt.End)&&(Z=dt.ArrowLeft),oe=O(Z,oe)):ve=!0,be++}return oe};if(ne===dt.Enter){i.preventDefault(),n.handleSelect(H,i),!I&&n.setPreSelection(H);return}else if(ne===dt.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(u=(c=n.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:X0});return}var B=null;switch(ne){case dt.ArrowLeft:case dt.ArrowRight:case dt.ArrowUp:case dt.ArrowDown:case dt.PageUp:case dt.PageDown:case dt.Home:case dt.End:B=R(ne,H);break}if(!B){(f=(d=n.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:X0});return}i.preventDefault(),n.setState({lastPreSelectChange:J0}),z&&n.setSelected(B),n.setPreSelection(B),q&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(i){var s=i.key;s===dt.Escape&&(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var s=n.props,a=s.selectsRange,c=s.onChange;c?.(a?[null,null]:null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.handleMonthSelectedInChange=function(i){n.setState({monthSelectedIn:i})},n.renderCalendar=function(){var i,s;return!n.props.inline&&!n.isCalendarOpen()?null:je.createElement(wM,bn({showMonthYearDropdown:void 0,ref:function(a){n.calendar=a}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:ZR(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode,onMonthSelectedInChange:n.handleMonthSelectedInChange}),n.props.children)},n.renderAriaLiveRegion=function(){var i,s=n.props.locale,a=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,c=n.props.showTimeInput||n.props.showTimeSelect,u=c?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(vo(n.props.startDate,{dateFormat:u,locale:s}),". ").concat(n.props.endDate?"End date: "+vo(n.props.endDate,{dateFormat:u,locale:s}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(vo(n.props.selected,{dateFormat:a,locale:s})):n.props.showYearPicker?d="Selected year: ".concat(vo(n.props.selected,{dateFormat:"yyyy",locale:s})):n.props.showMonthYearPicker?d="Selected month: ".concat(vo(n.props.selected,{dateFormat:"MMMM yyyy",locale:s})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(vo(n.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):d="Selected date: ".concat(vo(n.props.selected,{dateFormat:u,locale:s})),je.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var i,s,a,c,u,d,f,y=qi(n.props.className,(i={},i[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,i)),_=n.props.customInput||je.createElement("input",{type:"text"}),g=n.props.customInputRef||"ref",A={},P=(a=n.props["aria-describedby"])!==null&&a!==void 0?a:n.props.ariaDescribedBy,I=(c=n.props["aria-invalid"])!==null&&c!==void 0?c:n.props.ariaInvalid,M=(u=n.props["aria-label"])!==null&&u!==void 0?u:n.props.ariaLabel,W=(d=n.props["aria-labelledby"])!==null&&d!==void 0?d:n.props.ariaLabelledBy,z=(f=n.props["aria-required"])!==null&&f!==void 0?f:n.props.ariaRequired;return P!=null&&(A["aria-describedby"]=P),I!=null&&(A["aria-invalid"]=I),M!=null&&(A["aria-label"]=M),W!=null&&(A["aria-labelledby"]=W),z!=null&&(A["aria-required"]=z),Ce.cloneElement(_,bn((s={},s[g]=function(q){n.input=q},s.value=n.getInputValue(),s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=qi(_.props.className,y),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s),A))},n.renderClearButton=function(){var i=n.props,s=i.isClearable,a=i.disabled,c=i.selected,u=i.startDate,d=i.endDate,f=i.clearButtonTitle,y=i.clearButtonClassName,_=y===void 0?"":y,g=i.ariaLabelClose,A=g===void 0?"Close":g,P=i.selectedDates,I=i.readOnly;return s&&!I&&(c!=null||u!=null||d!=null||P?.length)?je.createElement("button",{type:"button",className:qi("react-datepicker__close-icon",_,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":A,onClick:n.onClearClick,title:f,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:kk,readOnly:!1,rangeSeparator:vk,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Yf,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,s,a,c;this.props.selectsRange&&X5(t.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):X5(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&n.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:H5(this.props.highlightDates)}),!n.focused&&!Mu(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),n.open===!0&&this.state.open===!1&&((c=(a=this.props).onCalendarClose)===null||c===void 0||c.call(a)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,s=t.calendarIconClassname,a=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,u=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),je.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&je.createElement(_M,bn({icon:i,className:qi(a,!a&&s,u&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?je.createElement(Ak,{enableTabLoop:this.props.enableTabLoop},je.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=je.createElement(Ek,bn({portalId:this.props.portalId},this.props),n)),je.createElement(je.Fragment,null,this.renderInputContainer(),n)}return je.createElement(EM,bn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},e})(Ce.Component),CM="input",J0="navigate";const IM="modulepreload",TM=function(r,e){return new URL(r,e).href},J5={},Z0=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let d=function(f){return Promise.all(f.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=d(t.map(f=>{if(f=TM(f,n),f in J5)return;J5[f]=!0;const y=f.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(n)for(let A=a.length-1;A>=0;A--){const P=a[A];if(P.href===f&&(!y||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${_}`))return;const g=document.createElement("link");if(g.rel=y?"stylesheet":IM,y||(g.as="script"),g.crossOrigin="",g.href=f,u&&g.setAttribute("nonce",u),document.head.appendChild(g),y)return new Promise((A,P)=>{g.addEventListener("load",A),g.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return i.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};function hr(r){"@babel/helpers - typeof";return hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(r)}var Da=Uint8Array,Oo=Uint16Array,Cy=Int32Array,Iy=new Da([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ty=new Da([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Z5=new Da([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ck=function(r,e){for(var t=new Oo(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new Cy(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},Ik=Ck(Iy,2),NM=Ik.b,rv=Ik.r;NM[28]=258,rv[258]=28;var PM=Ck(Ty,0),e_=PM.r,iv=new Oo(32768);for(var Dr=0;Dr<32768;++Dr){var Rc=(Dr&43690)>>1|(Dr&21845)<<1;Rc=(Rc&52428)>>2|(Rc&13107)<<2,Rc=(Rc&61680)>>4|(Rc&3855)<<4,iv[Dr]=((Rc&65280)>>8|(Rc&255)<<8)>>1}var gf=(function(r,e,t){for(var n=r.length,i=0,s=new Oo(e);i<n;++i)r[i]&&++s[r[i]-1];var a=new Oo(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var c;if(t){c=new Oo(1<<e);var u=15-e;for(i=0;i<n;++i)if(r[i])for(var d=i<<4|r[i],f=e-r[i],y=a[r[i]-1]++<<f,_=y|(1<<f)-1;y<=_;++y)c[iv[y]>>u]=d}else for(c=new Oo(n),i=0;i<n;++i)r[i]&&(c[i]=iv[a[r[i]-1]++]>>15-r[i]);return c}),Gu=new Da(288);for(var Dr=0;Dr<144;++Dr)Gu[Dr]=8;for(var Dr=144;Dr<256;++Dr)Gu[Dr]=9;for(var Dr=256;Dr<280;++Dr)Gu[Dr]=7;for(var Dr=280;Dr<288;++Dr)Gu[Dr]=8;var Zm=new Da(32);for(var Dr=0;Dr<32;++Dr)Zm[Dr]=5;var DM=gf(Gu,9,0),LM=gf(Zm,5,0),Tk=function(r){return(r+7)/8|0},RM=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Da(r.subarray(e,t))},Bl=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},Zh=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},e1=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return{t:Pk,l:0};if(i==1){var a=new Da(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(ne,de){return ne.f-de.f}),t.push({s:-1,f:25001});var c=t[0],u=t[1],d=0,f=1,y=2;for(t[0]={s:-1,f:c.f+u.f,l:c,r:u};f!=i-1;)c=t[t[d].f<t[y].f?d++:y++],u=t[d!=f&&t[d].f<t[y].f?d++:y++],t[f++]={s:-1,f:c.f+u.f,l:c,r:u};for(var _=s[0].s,n=1;n<i;++n)s[n].s>_&&(_=s[n].s);var g=new Oo(_+1),A=sv(t[f-1],g,0);if(A>e){var n=0,P=0,I=A-e,M=1<<I;for(s.sort(function(de,H){return g[H.s]-g[de.s]||de.f-H.f});n<i;++n){var W=s[n].s;if(g[W]>e)P+=M-(1<<A-g[W]),g[W]=e;else break}for(P>>=I;P>0;){var z=s[n].s;g[z]<e?P-=1<<e-g[z]++-1:++n}for(;n>=0&&P;--n){var q=s[n].s;g[q]==e&&(--g[q],++P)}A=e}return{t:new Da(g),l:A}},sv=function(r,e,t){return r.s==-1?Math.max(sv(r.l,e,t+1),sv(r.r,e,t+1)):e[r.s]=t},t_=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Oo(++e),n=0,i=r[0],s=1,a=function(u){t[n++]=u},c=1;c<=e;++c)if(r[c]==i&&c!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=r[c]}return{c:t.subarray(0,n),n:e}},ef=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},Nk=function(r,e,t){var n=t.length,i=Tk(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},n_=function(r,e,t,n,i,s,a,c,u,d,f){Bl(e,f++,t),++i[256];for(var y=e1(i,15),_=y.t,g=y.l,A=e1(s,15),P=A.t,I=A.l,M=t_(_),W=M.c,z=M.n,q=t_(P),ne=q.c,de=q.n,H=new Oo(19),O=0;O<W.length;++O)++H[W[O]&31];for(var O=0;O<ne.length;++O)++H[ne[O]&31];for(var R=e1(H,7),B=R.t,N=R.l,T=19;T>4&&!B[Z5[T-1]];--T);var D=d+5<<3,Z=ef(i,Gu)+ef(s,Zm)+a,ve=ef(i,_)+ef(s,P)+a+14+3*T+ef(H,B)+2*H[16]+3*H[17]+7*H[18];if(u>=0&&D<=Z&&D<=ve)return Nk(e,f,r.subarray(u,u+d));var be,oe,Q,fe;if(Bl(e,f,1+(ve<Z)),f+=2,ve<Z){be=gf(_,g,0),oe=_,Q=gf(P,I,0),fe=P;var he=gf(B,N,0);Bl(e,f,z-257),Bl(e,f+5,de-1),Bl(e,f+10,T-4),f+=14;for(var O=0;O<T;++O)Bl(e,f+3*O,B[Z5[O]]);f+=3*T;for(var J=[W,ne],F=0;F<2;++F)for(var G=J[F],O=0;O<G.length;++O){var re=G[O]&31;Bl(e,f,he[re]),f+=B[re],re>15&&(Bl(e,f,G[O]>>5&127),f+=G[O]>>12)}}else be=DM,oe=Gu,Q=LM,fe=Zm;for(var O=0;O<c;++O){var ue=n[O];if(ue>255){var re=ue>>18&31;Zh(e,f,be[re+257]),f+=oe[re+257],re>7&&(Bl(e,f,ue>>23&31),f+=Iy[re]);var ge=ue&31;Zh(e,f,Q[ge]),f+=fe[ge],ge>3&&(Zh(e,f,ue>>5&8191),f+=Ty[ge])}else Zh(e,f,be[ue]),f+=oe[ue]}return Zh(e,f,be[256]),f+oe[256]},MM=new Cy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Pk=new Da(0),OM=function(r,e,t,n,i,s){var a=s.z||r.length,c=new Da(n+a+5*(1+Math.ceil(a/7e3))+i),u=c.subarray(n,c.length-i),d=s.l,f=(s.r||0)&7;if(e){f&&(u[0]=s.r>>3);for(var y=MM[e-1],_=y>>13,g=y&8191,A=(1<<t)-1,P=s.p||new Oo(32768),I=s.h||new Oo(A+1),M=Math.ceil(t/3),W=2*M,z=function(vt){return(r[vt]^r[vt+1]<<M^r[vt+2]<<W)&A},q=new Cy(25e3),ne=new Oo(288),de=new Oo(32),H=0,O=0,R=s.i||0,B=0,N=s.w||0,T=0;R+2<a;++R){var D=z(R),Z=R&32767,ve=I[D];if(P[Z]=ve,I[D]=Z,N<=R){var be=a-R;if((H>7e3||B>24576)&&(be>423||!d)){f=n_(r,u,0,q,ne,de,O,B,T,R-T,f),B=H=O=0,T=R;for(var oe=0;oe<286;++oe)ne[oe]=0;for(var oe=0;oe<30;++oe)de[oe]=0}var Q=2,fe=0,he=g,J=Z-ve&32767;if(be>2&&D==z(R-J))for(var F=Math.min(_,be)-1,G=Math.min(32767,R),re=Math.min(258,be);J<=G&&--he&&Z!=ve;){if(r[R+Q]==r[R+Q-J]){for(var ue=0;ue<re&&r[R+ue]==r[R+ue-J];++ue);if(ue>Q){if(Q=ue,fe=J,ue>F)break;for(var ge=Math.min(J,ue-2),xe=0,oe=0;oe<ge;++oe){var Te=R-J+oe&32767,De=P[Te],Ve=Te-De&32767;Ve>xe&&(xe=Ve,ve=Te)}}}Z=ve,ve=P[Z],J+=Z-ve&32767}if(fe){q[B++]=268435456|rv[Q]<<18|e_[fe];var Qe=rv[Q]&31,ct=e_[fe]&31;O+=Iy[Qe]+Ty[ct],++ne[257+Qe],++de[ct],N=R+Q,++H}else q[B++]=r[R],++ne[r[R]]}}for(R=Math.max(R,N);R<a;++R)q[B++]=r[R],++ne[r[R]];f=n_(r,u,d,q,ne,de,O,B,T,R-T,f),d||(s.r=f&7|u[f/8|0]<<3,f-=7,s.h=I,s.p=P,s.i=R,s.w=N)}else{for(var R=s.w||0;R<a+d;R+=65535){var ot=R+65535;ot>=a&&(u[f/8|0]=d,ot=a),f=Nk(u,f+1,r.subarray(R,ot))}s.i=a}return RM(c,0,n+Tk(f)+i)},Dk=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length|0,a=0;a!=s;){for(var c=Math.min(a+2655,s);a<c;++a)i+=n+=t[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},FM=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Da(s.length+r.length);a.set(s),a.set(r,s.length),r=a,i.w=s.length}return OM(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},Lk=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},jM=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=Dk();i.p(e.dictionary),Lk(r,2,i.d())}};function ov(r,e){e||(e={});var t=Dk();t.p(r);var n=FM(r,e,e.dictionary?6:2,4);return jM(n,e),Lk(n,n.length-4,t.d()),n}var BM=typeof TextDecoder<"u"&&new TextDecoder,VM=0;try{BM.decode(Pk,{stream:!0}),VM=1}catch{}function UM(r){if(Array.isArray(r))return r}function zM(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,c=[],u=!0,d=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(u=(n=s.call(t)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function r_(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function qM(r,e){if(r){if(typeof r=="string")return r_(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r_(r,e):void 0}}function HM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i_(r,e){return UM(r)||zM(r,e)||qM(r,e)||HM()}function s_(r,e="utf8"){return new TextDecoder(e).decode(r)}const WM=new TextEncoder;function $M(r){return WM.encode(r)}const YM=1024*8,GM=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),t1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ny{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=YM,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof Ny)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=t1[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===GM&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+n));c.reverse();const u=new t1[t](c.buffer);return this.offset+=n,u.reverse(),u}const a=new t1[t](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return s_(this.readBytes(e))}decodeText(e=1,t="utf8"){return s_(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes($M(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function xh(r){let e=r.length;for(;--e>=0;)r[e]=0}const KM=3,QM=258,Rk=29,XM=256,JM=XM+1+Rk,Mk=30,ZM=512,e8=new Array((JM+2)*2);xh(e8);const t8=new Array(Mk*2);xh(t8);const n8=new Array(ZM);xh(n8);const r8=new Array(QM-KM+1);xh(r8);const i8=new Array(Rk);xh(i8);const s8=new Array(Mk);xh(s8);const o8=(r,e,t,n)=>{let i=r&65535|0,s=r>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var av=o8;const a8=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},l8=new Uint32Array(a8()),c8=(r,e,t,n)=>{const i=l8,s=n+t;r^=-1;for(let a=n;a<s;a++)r=r>>>8^i[(r^e[a])&255];return r^-1};var Xa=c8,lv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ok={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const u8=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var d8=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)u8(t,n)&&(r[n]=t[n])}}return r},h8=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,s=r.length;n<s;n++){let a=r[n];t.set(a,i),i+=a.length}return t},Fk={assign:d8,flattenChunks:h8};let jk=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jk=!1}const Df=new Uint8Array(256);for(let r=0;r<256;r++)Df[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Df[254]=Df[254]=1;var f8=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,s,a=r.length,c=0;for(i=0;i<a;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),s=0,i=0;s<c;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const p8=(r,e)=>{if(e<65534&&r.subarray&&jk)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var m8=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const s=new Array(t*2);for(i=0,n=0;n<t;){let a=r[n++];if(a<128){s[i++]=a;continue}let c=Df[a];if(c>4){s[i++]=65533,n+=c-1;continue}for(a&=c===2?31:c===3?15:7;c>1&&n<t;)a=a<<6|r[n++]&63,c--;if(c>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return p8(s,i)},g8=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Df[r[t]]>e?t:e},cv={string2buf:f8,buf2string:m8,utf8border:g8};function v8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var y8=v8;const Wp=16209,w8=16191;var _8=function(e,t){let n,i,s,a,c,u,d,f,y,_,g,A,P,I,M,W,z,q,ne,de,H,O,R,B;const N=e.state;n=e.next_in,R=e.input,i=n+(e.avail_in-5),s=e.next_out,B=e.output,a=s-(t-e.avail_out),c=s+(e.avail_out-257),u=N.dmax,d=N.wsize,f=N.whave,y=N.wnext,_=N.window,g=N.hold,A=N.bits,P=N.lencode,I=N.distcode,M=(1<<N.lenbits)-1,W=(1<<N.distbits)-1;e:do{A<15&&(g+=R[n++]<<A,A+=8,g+=R[n++]<<A,A+=8),z=P[g&M];t:for(;;){if(q=z>>>24,g>>>=q,A-=q,q=z>>>16&255,q===0)B[s++]=z&65535;else if(q&16){ne=z&65535,q&=15,q&&(A<q&&(g+=R[n++]<<A,A+=8),ne+=g&(1<<q)-1,g>>>=q,A-=q),A<15&&(g+=R[n++]<<A,A+=8,g+=R[n++]<<A,A+=8),z=I[g&W];n:for(;;){if(q=z>>>24,g>>>=q,A-=q,q=z>>>16&255,q&16){if(de=z&65535,q&=15,A<q&&(g+=R[n++]<<A,A+=8,A<q&&(g+=R[n++]<<A,A+=8)),de+=g&(1<<q)-1,de>u){e.msg="invalid distance too far back",N.mode=Wp;break e}if(g>>>=q,A-=q,q=s-a,de>q){if(q=de-q,q>f&&N.sane){e.msg="invalid distance too far back",N.mode=Wp;break e}if(H=0,O=_,y===0){if(H+=d-q,q<ne){ne-=q;do B[s++]=_[H++];while(--q);H=s-de,O=B}}else if(y<q){if(H+=d+y-q,q-=y,q<ne){ne-=q;do B[s++]=_[H++];while(--q);if(H=0,y<ne){q=y,ne-=q;do B[s++]=_[H++];while(--q);H=s-de,O=B}}}else if(H+=y-q,q<ne){ne-=q;do B[s++]=_[H++];while(--q);H=s-de,O=B}for(;ne>2;)B[s++]=O[H++],B[s++]=O[H++],B[s++]=O[H++],ne-=3;ne&&(B[s++]=O[H++],ne>1&&(B[s++]=O[H++]))}else{H=s-de;do B[s++]=B[H++],B[s++]=B[H++],B[s++]=B[H++],ne-=3;while(ne>2);ne&&(B[s++]=B[H++],ne>1&&(B[s++]=B[H++]))}}else if((q&64)===0){z=I[(z&65535)+(g&(1<<q)-1)];continue n}else{e.msg="invalid distance code",N.mode=Wp;break e}break}}else if((q&64)===0){z=P[(z&65535)+(g&(1<<q)-1)];continue t}else if(q&32){N.mode=w8;break e}else{e.msg="invalid literal/length code",N.mode=Wp;break e}break}}while(n<i&&s<c);ne=A>>3,n-=ne,A-=ne<<3,g&=(1<<A)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<c?257+(c-s):257-(s-c),N.hold=g,N.bits=A};const Ad=15,o_=852,a_=592,l_=0,n1=1,c_=2,b8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),x8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),S8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),k8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),E8=(r,e,t,n,i,s,a,c)=>{const u=c.bits;let d=0,f=0,y=0,_=0,g=0,A=0,P=0,I=0,M=0,W=0,z,q,ne,de,H,O=null,R;const B=new Uint16Array(Ad+1),N=new Uint16Array(Ad+1);let T=null,D,Z,ve;for(d=0;d<=Ad;d++)B[d]=0;for(f=0;f<n;f++)B[e[t+f]]++;for(g=u,_=Ad;_>=1&&B[_]===0;_--);if(g>_&&(g=_),_===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<_&&B[y]===0;y++);for(g<y&&(g=y),I=1,d=1;d<=Ad;d++)if(I<<=1,I-=B[d],I<0)return-1;if(I>0&&(r===l_||_!==1))return-1;for(N[1]=0,d=1;d<Ad;d++)N[d+1]=N[d]+B[d];for(f=0;f<n;f++)e[t+f]!==0&&(a[N[e[t+f]]++]=f);if(r===l_?(O=T=a,R=20):r===n1?(O=b8,T=x8,R=257):(O=S8,T=k8,R=0),W=0,f=0,d=y,H=s,A=g,P=0,ne=-1,M=1<<g,de=M-1,r===n1&&M>o_||r===c_&&M>a_)return 1;for(;;){D=d-P,a[f]+1<R?(Z=0,ve=a[f]):a[f]>=R?(Z=T[a[f]-R],ve=O[a[f]-R]):(Z=96,ve=0),z=1<<d-P,q=1<<A,y=q;do q-=z,i[H+(W>>P)+q]=D<<24|Z<<16|ve|0;while(q!==0);for(z=1<<d-1;W&z;)z>>=1;if(z!==0?(W&=z-1,W+=z):W=0,f++,--B[d]===0){if(d===_)break;d=e[t+a[f]]}if(d>g&&(W&de)!==ne){for(P===0&&(P=g),H+=y,A=d-P,I=1<<A;A+P<_&&(I-=B[A+P],!(I<=0));)A++,I<<=1;if(M+=1<<A,r===n1&&M>o_||r===c_&&M>a_)return 1;ne=W&de,i[ne]=g<<24|A<<16|H-s|0}}return W!==0&&(i[H+W]=d-P<<24|64<<16|0),c.bits=g,0};var vf=E8;const A8=0,Bk=1,Vk=2,{Z_FINISH:u_,Z_BLOCK:C8,Z_TREES:$p,Z_OK:Ku,Z_STREAM_END:I8,Z_NEED_DICT:T8,Z_STREAM_ERROR:ca,Z_DATA_ERROR:Uk,Z_MEM_ERROR:zk,Z_BUF_ERROR:N8,Z_DEFLATED:d_}=Ok,Mg=16180,h_=16181,f_=16182,p_=16183,m_=16184,g_=16185,v_=16186,y_=16187,w_=16188,__=16189,eg=16190,Vl=16191,r1=16192,b_=16193,i1=16194,x_=16195,S_=16196,k_=16197,E_=16198,Yp=16199,Gp=16200,A_=16201,C_=16202,I_=16203,T_=16204,N_=16205,s1=16206,P_=16207,D_=16208,Hr=16209,qk=16210,Hk=16211,P8=852,D8=592,L8=15,R8=L8,L_=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function M8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ed=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Mg||e.mode>Hk?1:0},Wk=r=>{if(ed(r))return ca;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Mg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(P8),e.distcode=e.distdyn=new Int32Array(D8),e.sane=1,e.back=-1,Ku},$k=r=>{if(ed(r))return ca;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,Wk(r)},Yk=(r,e)=>{let t;if(ed(r))return ca;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ca:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,$k(r))},Gk=(r,e)=>{if(!r)return ca;const t=new M8;r.state=t,t.strm=r,t.window=null,t.mode=Mg;const n=Yk(r,e);return n!==Ku&&(r.state=null),n},O8=r=>Gk(r,R8);let R_=!0,o1,a1;const F8=r=>{if(R_){o1=new Int32Array(512),a1=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(vf(Bk,r.lens,0,288,o1,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;vf(Vk,r.lens,0,32,a1,0,r.work,{bits:5}),R_=!1}r.lencode=o1,r.lenbits=9,r.distcode=a1,r.distbits=5},Kk=(r,e,t,n)=>{let i;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(t-n,t-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},j8=(r,e)=>{let t,n,i,s,a,c,u,d,f,y,_,g,A,P,I=0,M,W,z,q,ne,de,H,O;const R=new Uint8Array(4);let B,N;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ed(r)||!r.output||!r.input&&r.avail_in!==0)return ca;t=r.state,t.mode===Vl&&(t.mode=r1),a=r.next_out,i=r.output,u=r.avail_out,s=r.next_in,n=r.input,c=r.avail_in,d=t.hold,f=t.bits,y=c,_=u,O=Ku;e:for(;;)switch(t.mode){case Mg:if(t.wrap===0){t.mode=r1;break}for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=d&255,R[1]=d>>>8&255,t.check=Xa(t.check,R,2,0),d=0,f=0,t.mode=h_;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",t.mode=Hr;break}if((d&15)!==d_){r.msg="unknown compression method",t.mode=Hr;break}if(d>>>=4,f-=4,H=(d&15)+8,t.wbits===0&&(t.wbits=H),H>15||H>t.wbits){r.msg="invalid window size",t.mode=Hr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=d&512?__:Vl,d=0,f=0;break;case h_:for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.flags=d,(t.flags&255)!==d_){r.msg="unknown compression method",t.mode=Hr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Hr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=Xa(t.check,R,2,0)),d=0,f=0,t.mode=f_;case f_:for(;f<32;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,R[2]=d>>>16&255,R[3]=d>>>24&255,t.check=Xa(t.check,R,4,0)),d=0,f=0,t.mode=p_;case p_:for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=Xa(t.check,R,2,0)),d=0,f=0,t.mode=m_;case m_:if(t.flags&1024){for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=Xa(t.check,R,2,0)),d=0,f=0}else t.head&&(t.head.extra=null);t.mode=g_;case g_:if(t.flags&1024&&(g=t.length,g>c&&(g=c),g&&(t.head&&(H=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+g),H)),t.flags&512&&t.wrap&4&&(t.check=Xa(t.check,n,g,s)),c-=g,s+=g,t.length-=g),t.length))break e;t.length=0,t.mode=v_;case v_:if(t.flags&2048){if(c===0)break e;g=0;do H=n[s+g++],t.head&&H&&t.length<65536&&(t.head.name+=String.fromCharCode(H));while(H&&g<c);if(t.flags&512&&t.wrap&4&&(t.check=Xa(t.check,n,g,s)),c-=g,s+=g,H)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=y_;case y_:if(t.flags&4096){if(c===0)break e;g=0;do H=n[s+g++],t.head&&H&&t.length<65536&&(t.head.comment+=String.fromCharCode(H));while(H&&g<c);if(t.flags&512&&t.wrap&4&&(t.check=Xa(t.check,n,g,s)),c-=g,s+=g,H)break e}else t.head&&(t.head.comment=null);t.mode=w_;case w_:if(t.flags&512){for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.wrap&4&&d!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Hr;break}d=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Vl;break;case __:for(;f<32;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}r.adler=t.check=L_(d),d=0,f=0,t.mode=eg;case eg:if(t.havedict===0)return r.next_out=a,r.avail_out=u,r.next_in=s,r.avail_in=c,t.hold=d,t.bits=f,T8;r.adler=t.check=1,t.mode=Vl;case Vl:if(e===C8||e===$p)break e;case r1:if(t.last){d>>>=f&7,f-=f&7,t.mode=s1;break}for(;f<3;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}switch(t.last=d&1,d>>>=1,f-=1,d&3){case 0:t.mode=b_;break;case 1:if(F8(t),t.mode=Yp,e===$p){d>>>=2,f-=2;break e}break;case 2:t.mode=S_;break;case 3:r.msg="invalid block type",t.mode=Hr}d>>>=2,f-=2;break;case b_:for(d>>>=f&7,f-=f&7;f<32;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Hr;break}if(t.length=d&65535,d=0,f=0,t.mode=i1,e===$p)break e;case i1:t.mode=x_;case x_:if(g=t.length,g){if(g>c&&(g=c),g>u&&(g=u),g===0)break e;i.set(n.subarray(s,s+g),a),c-=g,s+=g,u-=g,a+=g,t.length-=g;break}t.mode=Vl;break;case S_:for(;f<14;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.nlen=(d&31)+257,d>>>=5,f-=5,t.ndist=(d&31)+1,d>>>=5,f-=5,t.ncode=(d&15)+4,d>>>=4,f-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Hr;break}t.have=0,t.mode=k_;case k_:for(;t.have<t.ncode;){for(;f<3;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.lens[T[t.have++]]=d&7,d>>>=3,f-=3}for(;t.have<19;)t.lens[T[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,B={bits:t.lenbits},O=vf(A8,t.lens,0,19,t.lencode,0,t.work,B),t.lenbits=B.bits,O){r.msg="invalid code lengths set",t.mode=Hr;break}t.have=0,t.mode=E_;case E_:for(;t.have<t.nlen+t.ndist;){for(;I=t.lencode[d&(1<<t.lenbits)-1],M=I>>>24,W=I>>>16&255,z=I&65535,!(M<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(z<16)d>>>=M,f-=M,t.lens[t.have++]=z;else{if(z===16){for(N=M+2;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(d>>>=M,f-=M,t.have===0){r.msg="invalid bit length repeat",t.mode=Hr;break}H=t.lens[t.have-1],g=3+(d&3),d>>>=2,f-=2}else if(z===17){for(N=M+3;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}d>>>=M,f-=M,H=0,g=3+(d&7),d>>>=3,f-=3}else{for(N=M+7;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}d>>>=M,f-=M,H=0,g=11+(d&127),d>>>=7,f-=7}if(t.have+g>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Hr;break}for(;g--;)t.lens[t.have++]=H}}if(t.mode===Hr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Hr;break}if(t.lenbits=9,B={bits:t.lenbits},O=vf(Bk,t.lens,0,t.nlen,t.lencode,0,t.work,B),t.lenbits=B.bits,O){r.msg="invalid literal/lengths set",t.mode=Hr;break}if(t.distbits=6,t.distcode=t.distdyn,B={bits:t.distbits},O=vf(Vk,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,B),t.distbits=B.bits,O){r.msg="invalid distances set",t.mode=Hr;break}if(t.mode=Yp,e===$p)break e;case Yp:t.mode=Gp;case Gp:if(c>=6&&u>=258){r.next_out=a,r.avail_out=u,r.next_in=s,r.avail_in=c,t.hold=d,t.bits=f,_8(r,_),a=r.next_out,i=r.output,u=r.avail_out,s=r.next_in,n=r.input,c=r.avail_in,d=t.hold,f=t.bits,t.mode===Vl&&(t.back=-1);break}for(t.back=0;I=t.lencode[d&(1<<t.lenbits)-1],M=I>>>24,W=I>>>16&255,z=I&65535,!(M<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(W&&(W&240)===0){for(q=M,ne=W,de=z;I=t.lencode[de+((d&(1<<q+ne)-1)>>q)],M=I>>>24,W=I>>>16&255,z=I&65535,!(q+M<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}d>>>=q,f-=q,t.back+=q}if(d>>>=M,f-=M,t.back+=M,t.length=z,W===0){t.mode=N_;break}if(W&32){t.back=-1,t.mode=Vl;break}if(W&64){r.msg="invalid literal/length code",t.mode=Hr;break}t.extra=W&15,t.mode=A_;case A_:if(t.extra){for(N=t.extra;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=C_;case C_:for(;I=t.distcode[d&(1<<t.distbits)-1],M=I>>>24,W=I>>>16&255,z=I&65535,!(M<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if((W&240)===0){for(q=M,ne=W,de=z;I=t.distcode[de+((d&(1<<q+ne)-1)>>q)],M=I>>>24,W=I>>>16&255,z=I&65535,!(q+M<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}d>>>=q,f-=q,t.back+=q}if(d>>>=M,f-=M,t.back+=M,W&64){r.msg="invalid distance code",t.mode=Hr;break}t.offset=z,t.extra=W&15,t.mode=I_;case I_:if(t.extra){for(N=t.extra;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Hr;break}t.mode=T_;case T_:if(u===0)break e;if(g=_-u,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Hr;break}g>t.wnext?(g-=t.wnext,A=t.wsize-g):A=t.wnext-g,g>t.length&&(g=t.length),P=t.window}else P=i,A=a-t.offset,g=t.length;g>u&&(g=u),u-=g,t.length-=g;do i[a++]=P[A++];while(--g);t.length===0&&(t.mode=Gp);break;case N_:if(u===0)break e;i[a++]=t.length,u--,t.mode=Gp;break;case s1:if(t.wrap){for(;f<32;){if(c===0)break e;c--,d|=n[s++]<<f,f+=8}if(_-=u,r.total_out+=_,t.total+=_,t.wrap&4&&_&&(r.adler=t.check=t.flags?Xa(t.check,i,_,a-_):av(t.check,i,_,a-_)),_=u,t.wrap&4&&(t.flags?d:L_(d))!==t.check){r.msg="incorrect data check",t.mode=Hr;break}d=0,f=0}t.mode=P_;case P_:if(t.wrap&&t.flags){for(;f<32;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.wrap&4&&d!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Hr;break}d=0,f=0}t.mode=D_;case D_:O=I8;break e;case Hr:O=Uk;break e;case qk:return zk;case Hk:default:return ca}return r.next_out=a,r.avail_out=u,r.next_in=s,r.avail_in=c,t.hold=d,t.bits=f,(t.wsize||_!==r.avail_out&&t.mode<Hr&&(t.mode<s1||e!==u_))&&Kk(r,r.output,r.next_out,_-r.avail_out),y-=r.avail_in,_-=r.avail_out,r.total_in+=y,r.total_out+=_,t.total+=_,t.wrap&4&&_&&(r.adler=t.check=t.flags?Xa(t.check,i,_,r.next_out-_):av(t.check,i,_,r.next_out-_)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Vl?128:0)+(t.mode===Yp||t.mode===i1?256:0),(y===0&&_===0||e===u_)&&O===Ku&&(O=N8),O},B8=r=>{if(ed(r))return ca;let e=r.state;return e.window&&(e.window=null),r.state=null,Ku},V8=(r,e)=>{if(ed(r))return ca;const t=r.state;return(t.wrap&2)===0?ca:(t.head=e,e.done=!1,Ku)},U8=(r,e)=>{const t=e.length;let n,i,s;return ed(r)||(n=r.state,n.wrap!==0&&n.mode!==eg)?ca:n.mode===eg&&(i=1,i=av(i,e,t,0),i!==n.check)?Uk:(s=Kk(r,e,t,t),s?(n.mode=qk,zk):(n.havedict=1,Ku))};var z8=$k,q8=Yk,H8=Wk,W8=O8,$8=Gk,Y8=j8,G8=B8,K8=V8,Q8=U8,X8="pako inflate (from Nodeca project)",Ul={inflateReset:z8,inflateReset2:q8,inflateResetKeep:H8,inflateInit:W8,inflateInit2:$8,inflate:Y8,inflateEnd:G8,inflateGetHeader:K8,inflateSetDictionary:Q8,inflateInfo:X8};function J8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Z8=J8;const Qk=Object.prototype.toString,{Z_NO_FLUSH:eO,Z_FINISH:tO,Z_OK:Lf,Z_STREAM_END:l1,Z_NEED_DICT:c1,Z_STREAM_ERROR:nO,Z_DATA_ERROR:M_,Z_MEM_ERROR:rO}=Ok;function Kf(r){this.options=Fk.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y8,this.strm.avail_out=0;let t=Ul.inflateInit2(this.strm,e.windowBits);if(t!==Lf)throw new Error(lv[t]);if(this.header=new Z8,Ul.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=cv.string2buf(e.dictionary):Qk.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ul.inflateSetDictionary(this.strm,e.dictionary),t!==Lf)))throw new Error(lv[t])}Kf.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,c;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?tO:eO,Qk.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=Ul.inflate(t,a),s===c1&&i&&(s=Ul.inflateSetDictionary(t,i),s===Lf?s=Ul.inflate(t,a):s===M_&&(s=c1));t.avail_in>0&&s===l1&&t.state.wrap>0&&r[t.next_in]!==0;)Ul.inflateReset(t),s=Ul.inflate(t,a);switch(s){case nO:case M_:case c1:case rO:return this.onEnd(s),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||s===l1))if(this.options.to==="string"){let u=cv.utf8border(t.output,t.next_out),d=t.next_out-u,f=cv.buf2string(t.output,u);t.next_out=d,t.avail_out=n-d,d&&t.output.set(t.output.subarray(u,u+d),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Lf&&c===0)){if(s===l1)return s=Ul.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Kf.prototype.onData=function(r){this.chunks.push(r)};Kf.prototype.onEnd=function(r){r===Lf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Fk.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function iO(r,e){const t=new Kf(e);if(t.push(r),t.err)throw t.msg||lv[t.err];return t.result}var sO=Kf,oO=iO,aO={Inflate:sO,inflate:oO};const{Inflate:lO,inflate:cO}=aO;var O_=lO,uO=cO;const Xk=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Xk[r]=e}const F_=4294967295;function dO(r,e,t){let n=r;for(let i=0;i<t;i++)n=Xk[(n^e[i])&255]^n>>>8;return n}function hO(r,e){return(dO(F_,r,e)^F_)>>>0}function j_(r,e,t){const n=r.readUint32(),i=hO(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function Jk(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function Zk(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function eE(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function tE(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-i]+t[s]>>1)&255}}function nE(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+fO(e[s-i],t[s],t[s-i])&255}}function fO(r,e,t){const n=r+e-t,i=Math.abs(n-r),s=Math.abs(n-e),a=Math.abs(n-t);return i<=s&&i<=a?r:s<=a?e:t}function pO(r,e,t,n,i,s){switch(r){case 0:Jk(e,t,i);break;case 1:Zk(e,t,i,s);break;case 2:eE(e,t,n,i);break;case 3:tE(e,t,n,i,s);break;case 4:nE(e,t,n,i,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const mO=new Uint16Array([255]),gO=new Uint8Array(mO.buffer),vO=gO[0]===255;function yO(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(s/8)*i,u=new Uint8Array(n*t*c);let d=0;for(let f=0;f<7;f++){const y=a[f],_=Math.ceil((t-y.x)/y.xStep),g=Math.ceil((n-y.y)/y.yStep);if(_<=0||g<=0)continue;const A=_*c,P=new Uint8Array(A);for(let I=0;I<g;I++){const M=e[d++],W=e.subarray(d,d+A);d+=A;const z=new Uint8Array(A);pO(M,W,z,P,A,c),P.set(z);for(let q=0;q<_;q++){const ne=y.x+q*y.xStep,de=y.y+I*y.yStep;if(!(ne>=t||de>=n))for(let H=0;H<c;H++)u[(de*t+ne)*c+H]=z[q*c+H]}}}if(s===16){const f=new Uint16Array(u.buffer);if(vO)for(let y=0;y<f.length;y++)f[y]=wO(f[y]);return f}else return u}function wO(r){return(r&255)<<8|r>>8&255}const _O=new Uint16Array([255]),bO=new Uint8Array(_O.buffer),xO=bO[0]===255,SO=new Uint8Array(0);function B_(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=Math.ceil(s/8)*i,c=Math.ceil(s/8*i*t),u=new Uint8Array(n*c);let d=SO,f=0,y,_;for(let g=0;g<n;g++){switch(y=e.subarray(f+1,f+1+c),_=u.subarray(g*c,(g+1)*c),e[f]){case 0:Jk(y,_,c);break;case 1:Zk(y,_,c,a);break;case 2:eE(y,_,d,c);break;case 3:tE(y,_,d,c,a);break;case 4:nE(y,_,d,c,a);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}d=_,f+=c+1}if(s===16){const g=new Uint16Array(u.buffer);if(xO)for(let A=0;A<g.length;A++)g[A]=kO(g[A]);return g}else return u}function kO(r){return(r&255)<<8|r>>8&255}const mm=Uint8Array.of(137,80,78,71,13,10,26,10);function V_(r){if(!EO(r.readBytes(mm.length)))throw new Error("wrong PNG signature")}function EO(r){if(r.length<mm.length)return!1;for(let e=0;e<mm.length;e++)if(r[e]!==mm[e])return!1;return!0}const AO="tEXt",CO=0,rE=new TextDecoder("latin1");function IO(r){if(NO(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const TO=/^[\u0000-\u00FF]*$/;function NO(r){if(!TO.test(r))throw new Error("invalid latin1 text")}function PO(r,e,t){const n=iE(e);r[n]=DO(e,t-n.length-1)}function iE(r){for(r.mark();r.readByte()!==CO;);const e=r.offset;r.reset();const t=rE.decode(r.readBytes(e-r.offset-1));return r.skip(1),IO(t),t}function DO(r,e){return rE.decode(r.readBytes(e))}const Lo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},u1={UNKNOWN:-1,DEFLATE:0},U_={UNKNOWN:-1,ADAPTIVE:0},d1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Kp={NONE:0,BACKGROUND:1,PREVIOUS:2},h1={SOURCE:0,OVER:1};class LO extends Ny{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new O_,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=u1.UNKNOWN,this._filterMethod=U_.UNKNOWN,this._interlaceMethod=d1.UNKNOWN,this._colorType=Lo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(V_(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(V_(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case AO:PO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?j_(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?j_(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=RO(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case Lo.GREYSCALE:n=1;break;case Lo.TRUECOLOUR:n=3;break;case Lo.INDEXED_COLOUR:n=1;break;case Lo.GREYSCALE_ALPHA:n=2;break;case Lo.TRUECOLOUR_ALPHA:n=4;break;case Lo.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==u1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<t;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Lo.GREYSCALE:case Lo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Lo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Lo.UNKNOWN:case Lo.GREYSCALE_ALPHA:case Lo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=iE(this),n=this.readUint8();if(n!==u1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:uO(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=B_({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case Kp.NONE:break;case Kp.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)n.data[a+c]=0}break;case Kp.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,i=(s,a)=>{const c=((s+t.yOffset)*this._png.width+t.xOffset+a)*this._png.channels,u=(s*t.width+a)*this._png.channels;return{index:c,frameIndex:u}};switch(t.blendOp){case h1.SOURCE:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:c,frameIndex:u}=i(s,a);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[u+d]}break;case h1.OVER:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:c,frameIndex:u}=i(s,a);for(let d=0;d<this._png.channels;d++){const f=t.data[u+this._png.channels-1]/n,y=d%(this._png.channels-1)===0?1:t.data[u+d],_=Math.floor(f*y+(1-f)*e.data[c+d]);e.data[c+d]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==U_.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===d1.NO_INTERLACE)this._png.data=B_({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===d1.ADAM7)this._png.data=yO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Kp.NONE,blendOp:h1.SOURCE,data:e}),this._inflator=new O_,this._writingDataChunks=!1}}function RO(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var z_;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(z_||(z_={}));function MO(r,e){return new LO(r,e).decode()}var sn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function f1(){sn.console&&typeof sn.console.log=="function"&&sn.console.log.apply(sn.console,arguments)}var _r={log:f1,warn:function(r){sn.console&&(typeof sn.console.warn=="function"?sn.console.warn.apply(sn.console,arguments):f1.call(null,arguments))},error:function(r){sn.console&&(typeof sn.console.error=="function"?sn.console.error.apply(sn.console,arguments):f1(r))}};function p1(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Tu(n.response,e,t)},n.onerror=function(){_r.error("could not download file")},n.send()}function q_(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Qp(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Tu=sn.saveAs||((typeof window>"u"?"undefined":hr(window))!=="object"||window!==sn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=sn.URL||sn.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?q_(i.href)?p1(r,e,t):Qp(i,i.target="_blank"):Qp(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Qp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(q_(r))p1(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Qp(n)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:hr(s)!=="object"&&(_r.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return p1(r,e,t);var i=r.type==="application/octet-stream",s=/constructor/i.test(sn.HTMLElement)||sn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":hr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var f=c.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},c.readAsDataURL(r)}else{var u=sn.URL||sn.webkitURL,d=u.createObjectURL(r);n?n.location=d:location.href=d,n=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});function sE(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,a=i.exec(r);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+c+u+d}}var gm=sn.atob.bind(sn),H_=sn.btoa.bind(sn);function m1(r,e){var t=r[0],n=r[1],i=r[2],s=r[3];t=Ps(t,n,i,s,e[0],7,-680876936),s=Ps(s,t,n,i,e[1],12,-389564586),i=Ps(i,s,t,n,e[2],17,606105819),n=Ps(n,i,s,t,e[3],22,-1044525330),t=Ps(t,n,i,s,e[4],7,-176418897),s=Ps(s,t,n,i,e[5],12,1200080426),i=Ps(i,s,t,n,e[6],17,-1473231341),n=Ps(n,i,s,t,e[7],22,-45705983),t=Ps(t,n,i,s,e[8],7,1770035416),s=Ps(s,t,n,i,e[9],12,-1958414417),i=Ps(i,s,t,n,e[10],17,-42063),n=Ps(n,i,s,t,e[11],22,-1990404162),t=Ps(t,n,i,s,e[12],7,1804603682),s=Ps(s,t,n,i,e[13],12,-40341101),i=Ps(i,s,t,n,e[14],17,-1502002290),t=Ds(t,n=Ps(n,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ds(s,t,n,i,e[6],9,-1069501632),i=Ds(i,s,t,n,e[11],14,643717713),n=Ds(n,i,s,t,e[0],20,-373897302),t=Ds(t,n,i,s,e[5],5,-701558691),s=Ds(s,t,n,i,e[10],9,38016083),i=Ds(i,s,t,n,e[15],14,-660478335),n=Ds(n,i,s,t,e[4],20,-405537848),t=Ds(t,n,i,s,e[9],5,568446438),s=Ds(s,t,n,i,e[14],9,-1019803690),i=Ds(i,s,t,n,e[3],14,-187363961),n=Ds(n,i,s,t,e[8],20,1163531501),t=Ds(t,n,i,s,e[13],5,-1444681467),s=Ds(s,t,n,i,e[2],9,-51403784),i=Ds(i,s,t,n,e[7],14,1735328473),t=Ls(t,n=Ds(n,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ls(s,t,n,i,e[8],11,-2022574463),i=Ls(i,s,t,n,e[11],16,1839030562),n=Ls(n,i,s,t,e[14],23,-35309556),t=Ls(t,n,i,s,e[1],4,-1530992060),s=Ls(s,t,n,i,e[4],11,1272893353),i=Ls(i,s,t,n,e[7],16,-155497632),n=Ls(n,i,s,t,e[10],23,-1094730640),t=Ls(t,n,i,s,e[13],4,681279174),s=Ls(s,t,n,i,e[0],11,-358537222),i=Ls(i,s,t,n,e[3],16,-722521979),n=Ls(n,i,s,t,e[6],23,76029189),t=Ls(t,n,i,s,e[9],4,-640364487),s=Ls(s,t,n,i,e[12],11,-421815835),i=Ls(i,s,t,n,e[15],16,530742520),t=Rs(t,n=Ls(n,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Rs(s,t,n,i,e[7],10,1126891415),i=Rs(i,s,t,n,e[14],15,-1416354905),n=Rs(n,i,s,t,e[5],21,-57434055),t=Rs(t,n,i,s,e[12],6,1700485571),s=Rs(s,t,n,i,e[3],10,-1894986606),i=Rs(i,s,t,n,e[10],15,-1051523),n=Rs(n,i,s,t,e[1],21,-2054922799),t=Rs(t,n,i,s,e[8],6,1873313359),s=Rs(s,t,n,i,e[15],10,-30611744),i=Rs(i,s,t,n,e[6],15,-1560198380),n=Rs(n,i,s,t,e[13],21,1309151649),t=Rs(t,n,i,s,e[4],6,-145523070),s=Rs(s,t,n,i,e[11],10,-1120210379),i=Rs(i,s,t,n,e[2],15,718787259),n=Rs(n,i,s,t,e[9],21,-343485551),r[0]=zc(t,r[0]),r[1]=zc(n,r[1]),r[2]=zc(i,r[2]),r[3]=zc(s,r[3])}function Og(r,e,t,n,i,s){return e=zc(zc(e,r),zc(n,s)),zc(e<<i|e>>>32-i,t)}function Ps(r,e,t,n,i,s,a){return Og(e&t|~e&n,r,e,i,s,a)}function Ds(r,e,t,n,i,s,a){return Og(e&n|t&~n,r,e,i,s,a)}function Ls(r,e,t,n,i,s,a){return Og(e^t^n,r,e,i,s,a)}function Rs(r,e,t,n,i,s,a){return Og(t^(e|~n),r,e,i,s,a)}function oE(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)m1(n,OO(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(m1(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,m1(n,i),n}function OO(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var W_="0123456789abcdef".split("");function FO(r){for(var e="",t=0;t<4;t++)e+=W_[r>>8*t+4&15]+W_[r>>8*t&15];return e}function jO(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function uv(r){return oE(r).map(jO).join("")}var BO=(function(r){for(var e=0;e<r.length;e++)r[e]=FO(r[e]);return r.join("")})(oE("hello"))!="5d41402abc4b2a76b9719d911017c592";function zc(r,e){if(BO){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function dv(r,e){var t,n,i,s;if(r!==t){for(var a=(i=r,s=1+(256/r.length|0),new Array(s+1).join(i)),c=[],u=0;u<256;u++)c[u]=u;var d=0;for(u=0;u<256;u++){var f=c[u];d=(d+f+a.charCodeAt(u))%256,c[u]=c[d],c[d]=f}t=r,n=c}else c=n;var y=e.length,_=0,g=0,A="";for(u=0;u<y;u++)g=(g+(f=c[_=(_+1)%256]))%256,c[_]=c[g],c[g]=f,a=c[(c[_]+c[g])%256],A+=String.fromCharCode(e.charCodeAt(u)^a);return A}var $_={print:4,modify:8,copy:16,"annot-forms":32};function Ld(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(c){if($_.perm!==void 0)throw new Error("Invalid permission: "+c);i+=$_[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=uv(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=dv(this.encryptionKey,this.padding)}function Rd(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function Y_(r){if(hr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!i],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(r,n)}catch(c){sn.console&&_r.error("jsPDF PubSub Error",c.message,c)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function tg(r){if(!(this instanceof tg))return new tg(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function aE(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Nu(r,e,t,n,i){if(!(this instanceof Nu))return new Nu(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,aE.call(this,n,i)}function Od(r,e,t,n,i){if(!(this instanceof Od))return new Od(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,aE.call(this,n,i)}function jt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],c=1,u=16,d="S",f=null;hr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(f=r.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(u=r.floatPrecision),d=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var y=r.putOnlyUsedFonts||!1,_={},g={internal:{},__private__:{}};g.__private__.PubSub=Y_;var A="1.3",P=g.__private__.getPdfVersion=function(){return A};g.__private__.setPdfVersion=function(b){A=b};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return I};var M=g.__private__.getPageFormat=function(b){return I[b]};i=i||"a4";var W="compat",z="advanced",q=W;function ne(){this.saveGraphicsState(),ie(new Vt(qt,0,0,-qt,0,Fi()*qt).toString()+" cm"),this.setFontSize(this.getFontSize()/qt),d="n",q=z}function de(){this.restoreGraphicsState(),d="S",q=W}var H=g.__private__.combineFontStyleAndFontWeight=function(b,V){if(b=="bold"&&V=="normal"||b=="bold"&&V==400||b=="normal"&&V=="italic"||b=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(b=V==400||V==="normal"?b==="italic"?"italic":"normal":V!=700&&V!=="bold"||b!=="normal"?(V==700?"bold":V)+""+b:"bold"),b};g.advancedAPI=function(b){var V=q===W;return V&&ne.call(this),typeof b!="function"||(b(this),V&&de.call(this)),this},g.compatAPI=function(b){var V=q===z;return V&&de.call(this),typeof b!="function"||(b(this),V&&ne.call(this)),this},g.isAdvancedAPI=function(){return q===z};var O,R=function(b){if(q!==z)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=g.roundToPrecision=g.__private__.roundToPrecision=function(b,V){var ce=e||V;if(isNaN(b)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(ce).replace(/0+$/,"")};O=g.hpf=g.__private__.hpf=typeof u=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return B(b,u)}:u==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return B(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return B(b,16)};var N=g.f2=g.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return B(b,2)},T=g.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return B(b,3)},D=g.scale=g.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return q===W?b*qt:q===z?b:void 0},Z=function(b){return D((function(V){return q===W?Fi()-V:q===z?V:void 0})(b))};g.__private__.setPrecision=g.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var ve,be="00000000000000000000000000000000",oe=g.__private__.getFileId=function(){return be},Q=g.__private__.setFileId=function(b){return be=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():be.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(or=new Ld(f.userPermissions,f.userPassword,f.ownerPassword,be)),be};g.setFileId=function(b){return Q(b),this},g.getFileId=function(){return oe()};var fe=g.__private__.convertDateToPDFDate=function(b){var V=b.getTimezoneOffset(),ce=V<0?"+":"-",ye=Math.floor(Math.abs(V/60)),Ae=Math.abs(V%60),He=[ce,re(ye),"'",re(Ae),"'"].join("");return["D:",b.getFullYear(),re(b.getMonth()+1),re(b.getDate()),re(b.getHours()),re(b.getMinutes()),re(b.getSeconds()),He].join("")},he=g.__private__.convertPDFDateToDate=function(b){var V=parseInt(b.substr(2,4),10),ce=parseInt(b.substr(6,2),10)-1,ye=parseInt(b.substr(8,2),10),Ae=parseInt(b.substr(10,2),10),He=parseInt(b.substr(12,2),10),Ge=parseInt(b.substr(14,2),10);return new Date(V,ce,ye,Ae,He,Ge,0)},J=g.__private__.setCreationDate=function(b){var V;if(b===void 0&&(b=new Date),b instanceof Date)V=fe(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=b}return ve=V},F=g.__private__.getCreationDate=function(b){var V=ve;return b==="jsDate"&&(V=he(ve)),V};g.setCreationDate=function(b){return J(b),this},g.getCreationDate=function(b){return F(b)};var G,re=g.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},ue=g.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},ge=0,xe=[],Te=[],De=0,Ve=[],Qe=[],ct=!1,ot=Te;g.__private__.setCustomOutputDestination=function(b){ct=!0,ot=b};var vt=function(b){ct||(ot=b)};g.__private__.resetCustomOutputDestination=function(){ct=!1,ot=Te};var ie=g.__private__.out=function(b){return b=b.toString(),De+=b.length+1,ot.push(b),ot},at=g.__private__.write=function(b){return ie(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},Ze=g.__private__.getArrayBuffer=function(b){for(var V=b.length,ce=new ArrayBuffer(V),ye=new Uint8Array(ce);V--;)ye[V]=b.charCodeAt(V);return ce},Pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Pt};var qe=r.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(b){return qe=q===z?b/qt:b,this};var bt,Xe=g.__private__.getFontSize=g.getFontSize=function(){return q===W?qe:qe*qt},It=r.R2L||!1;g.__private__.setR2L=g.setR2L=function(b){return It=b,this},g.__private__.getR2L=g.getR2L=function(){return It};var wt,wn=g.__private__.setZoomMode=function(b){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))bt=b;else if(isNaN(b)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');bt=b}else bt=parseInt(b,10)};g.__private__.getZoomMode=function(){return bt};var ln,xt=g.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');wt=b};g.__private__.getPageMode=function(){return wt};var kt=g.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');ln=b};g.__private__.getLayoutMode=function(){return ln},g.__private__.setDisplayMode=g.setDisplayMode=function(b,V,ce){return wn(b),kt(V),xt(ce),this};var Qt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(b){if(Object.keys(Qt).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qt[b]},g.__private__.getDocumentProperties=function(){return Qt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(b){for(var V in Qt)Qt.hasOwnProperty(V)&&b[V]&&(Qt[V]=b[V]);return this},g.__private__.setDocumentProperty=function(b,V){if(Object.keys(Qt).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qt[b]=V};var ht,qt,yt,Xn,mn,en={},tn={},On=[],Dt={},Nn={},Bt={},Wt={},gn=null,Ht=0,Rt=[],fn=new Y_(g),Vs=r.hotfixes||[],vr={},Di={},ti=[],Vt=function b(V,ce,ye,Ae,He,Ge){if(!(this instanceof b))return new b(V,ce,ye,Ae,He,Ge);isNaN(V)&&(V=1),isNaN(ce)&&(ce=0),isNaN(ye)&&(ye=0),isNaN(Ae)&&(Ae=1),isNaN(He)&&(He=0),isNaN(Ge)&&(Ge=0),this._matrix=[V,ce,ye,Ae,He,Ge]};Object.defineProperty(Vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Vt.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(b)},Vt.prototype.multiply=function(b){var V=b.sx*this.sx+b.shy*this.shx,ce=b.sx*this.shy+b.shy*this.sy,ye=b.shx*this.sx+b.sy*this.shx,Ae=b.shx*this.shy+b.sy*this.sy,He=b.tx*this.sx+b.ty*this.shx+this.tx,Ge=b.tx*this.shy+b.ty*this.sy+this.ty;return new Vt(V,ce,ye,Ae,He,Ge)},Vt.prototype.decompose=function(){var b=this.sx,V=this.shy,ce=this.shx,ye=this.sy,Ae=this.tx,He=this.ty,Ge=Math.sqrt(b*b+V*V),pt=(b/=Ge)*ce+(V/=Ge)*ye;ce-=b*pt,ye-=V*pt;var Et=Math.sqrt(ce*ce+ye*ye);return pt/=Et,b*(ye/=Et)<V*(ce/=Et)&&(b=-b,V=-V,pt=-pt,Ge=-Ge),{scale:new Vt(Ge,0,0,Et,0,0),translate:new Vt(1,0,0,1,Ae,He),rotate:new Vt(b,V,-V,b,0,0),skew:new Vt(1,0,pt,1,0,0)}},Vt.prototype.toString=function(b){return this.join(" ")},Vt.prototype.inversed=function(){var b=this.sx,V=this.shy,ce=this.shx,ye=this.sy,Ae=this.tx,He=this.ty,Ge=1/(b*ye-V*ce),pt=ye*Ge,Et=-V*Ge,$t=-ce*Ge,Xt=b*Ge;return new Vt(pt,Et,$t,Xt,-pt*Ae-$t*He,-Et*Ae-Xt*He)},Vt.prototype.applyToPoint=function(b){var V=b.x*this.sx+b.y*this.shx+this.tx,ce=b.x*this.shy+b.y*this.sy+this.ty;return new ls(V,ce)},Vt.prototype.applyToRectangle=function(b){var V=this.applyToPoint(b),ce=this.applyToPoint(new ls(b.x+b.w,b.y+b.h));return new Go(V.x,V.y,ce.x-V.x,ce.y-V.y)},Vt.prototype.clone=function(){var b=this.sx,V=this.shy,ce=this.shx,ye=this.sy,Ae=this.tx,He=this.ty;return new Vt(b,V,ce,ye,Ae,He)},g.Matrix=Vt;var Fn=g.matrixMult=function(b,V){return V.multiply(b)},$i=new Vt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=$i;var br=function(b,V){if(!Nn[b]){var ce=(V instanceof Nu?"Sh":"P")+(Object.keys(Dt).length+1).toString(10);V.id=ce,Nn[b]=ce,Dt[ce]=V,fn.publish("addPattern",V)}};g.ShadingPattern=Nu,g.TilingPattern=Od,g.addShadingPattern=function(b,V){return R("addShadingPattern()"),br(b,V),this},g.beginTilingPattern=function(b){R("beginTilingPattern()"),Oi(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},g.endTilingPattern=function(b,V){R("endTilingPattern()"),V.stream=Qe[G].join(`
`),br(b,V),fn.publish("endTilingPattern",V),ti.pop().restore()};var ni,Yn=g.__private__.newObject=function(){var b=yr();return jn(b,!0),b},yr=g.__private__.newObjectDeferred=function(){return ge++,xe[ge]=function(){return De},ge},jn=function(b,V){return V=typeof V=="boolean"&&V,xe[b]=De,V&&ie(b+" 0 obj"),b},Us=g.__private__.newAdditionalObject=function(){var b={objId:yr(),content:""};return Ve.push(b),b},to=yr(),Si=yr(),se=g.__private__.decodeColorString=function(b){var V=b.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ce=parseFloat(V[0]);V=[ce,ce,ce,"r"]}for(var ye="#",Ae=0;Ae<3;Ae++)ye+=("0"+Math.floor(255*parseFloat(V[Ae])).toString(16)).slice(-2);return ye},Ee=g.__private__.encodeColorString=function(b){var V;typeof b=="string"&&(b={ch1:b});var ce=b.ch1,ye=b.ch2,Ae=b.ch3,He=b.ch4,Ge=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var pt=new sE(ce);if(pt.ok)ce=pt.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var Et=parseInt(ce.substr(1),16);ce=Et>>16&255,ye=Et>>8&255,Ae=255&Et}if(ye===void 0||He===void 0&&ce===ye&&ye===Ae)V=typeof ce=="string"?ce+" "+Ge[0]:b.precision===2?N(ce/255)+" "+Ge[0]:T(ce/255)+" "+Ge[0];else if(He===void 0||hr(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return["1.","1.","1.",Ge[1]].join(" ");V=typeof ce=="string"?[ce,ye,Ae,Ge[1]].join(" "):b.precision===2?[N(ce/255),N(ye/255),N(Ae/255),Ge[1]].join(" "):[T(ce/255),T(ye/255),T(Ae/255),Ge[1]].join(" ")}else V=typeof ce=="string"?[ce,ye,Ae,He,Ge[2]].join(" "):b.precision===2?[N(ce),N(ye),N(Ae),N(He),Ge[2]].join(" "):[T(ce),T(ye),T(Ae),T(He),Ge[2]].join(" ");return V},We=g.__private__.getFilters=function(){return a},Ke=g.__private__.putStream=function(b){var V=(b=b||{}).data||"",ce=b.filters||We(),ye=b.alreadyAppliedFilters||[],Ae=b.addLength1||!1,He=V.length,Ge=b.objectId,pt=function(Fr){return Fr};if(f!==null&&Ge===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(pt=or.encryptor(Ge,0));var Et={};ce===!0&&(ce=["FlateEncode"]);var $t=b.additionalKeyValues||[],Xt=(Et=jt.API.processDataByFilters!==void 0?jt.API.processDataByFilters(V,ce):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(Et.data.length!==0&&($t.push({key:"Length",value:Et.data.length}),Ae===!0&&$t.push({key:"Length1",value:He})),Xt.length!=0)if(Xt.split("/").length-1==1)$t.push({key:"Filter",value:Xt});else{$t.push({key:"Filter",value:"["+Xt+"]"});for(var Sn=0;Sn<$t.length;Sn+=1)if($t[Sn].key==="DecodeParms"){for(var Un=[],Ir=0;Ir<Et.reverseChain.split("/").length-1;Ir+=1)Un.push("null");Un.push($t[Sn].value),$t[Sn].value="["+Un.join(" ")+"]"}}ie("<<");for(var Jn=0;Jn<$t.length;Jn++)ie("/"+$t[Jn].key+" "+$t[Jn].value);ie(">>"),Et.data.length!==0&&(ie("stream"),ie(pt(Et.data)),ie("endstream"))},Mt=g.__private__.putPage=function(b){var V=b.number,ce=b.data,ye=b.objId,Ae=b.contentsObjId;jn(ye,!0),ie("<</Type /Page"),ie("/Parent "+b.rootDictionaryObjId+" 0 R"),ie("/Resources "+b.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(O(b.mediaBox.bottomLeftX))+" "+parseFloat(O(b.mediaBox.bottomLeftY))+" "+O(b.mediaBox.topRightX)+" "+O(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&ie("/CropBox ["+O(b.cropBox.bottomLeftX)+" "+O(b.cropBox.bottomLeftY)+" "+O(b.cropBox.topRightX)+" "+O(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&ie("/BleedBox ["+O(b.bleedBox.bottomLeftX)+" "+O(b.bleedBox.bottomLeftY)+" "+O(b.bleedBox.topRightX)+" "+O(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&ie("/TrimBox ["+O(b.trimBox.bottomLeftX)+" "+O(b.trimBox.bottomLeftY)+" "+O(b.trimBox.topRightX)+" "+O(b.trimBox.topRightY)+"]"),b.artBox!==null&&ie("/ArtBox ["+O(b.artBox.bottomLeftX)+" "+O(b.artBox.bottomLeftY)+" "+O(b.artBox.topRightX)+" "+O(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&ie("/UserUnit "+b.userUnit),fn.publish("putPage",{objId:ye,pageContext:Rt[V],pageNumber:V,page:ce}),ie("/Contents "+Ae+" 0 R"),ie(">>"),ie("endobj");var He=ce.join(`
`);return q===z&&(He+=`
Q`),jn(Ae,!0),Ke({data:He,filters:We(),objectId:Ae}),ie("endobj"),ye},ut=g.__private__.putPages=function(){var b,V,ce=[];for(b=1;b<=Ht;b++)Rt[b].objId=yr(),Rt[b].contentsObjId=yr();for(b=1;b<=Ht;b++)ce.push(Mt({number:b,data:Qe[b],objId:Rt[b].objId,contentsObjId:Rt[b].contentsObjId,mediaBox:Rt[b].mediaBox,cropBox:Rt[b].cropBox,bleedBox:Rt[b].bleedBox,trimBox:Rt[b].trimBox,artBox:Rt[b].artBox,userUnit:Rt[b].userUnit,rootDictionaryObjId:to,resourceDictionaryObjId:Si}));jn(to,!0),ie("<</Type /Pages");var ye="/Kids [";for(V=0;V<Ht;V++)ye+=ce[V]+" 0 R ";ie(ye+"]"),ie("/Count "+Ht),ie(">>"),ie("endobj"),fn.publish("postPutPages")},Bn=function(b){fn.publish("putFont",{font:b,out:ie,newObject:Yn,putStream:Ke}),b.isAlreadyPutted!==!0&&(b.objectNumber=Yn(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+Rd(b.postScriptName)),ie("/Subtype /Type1"),typeof b.encoding=="string"&&ie("/Encoding /"+b.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},An=function(b){b.objectNumber=Yn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[O(b.x),O(b.y),O(b.x+b.width),O(b.y+b.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var ce=b.pages[1].join(`
`);Ke({data:ce,additionalKeyValues:V,objectId:b.objectNumber}),ie("endobj")},Gn=function(b,V){V||(V=21);var ce=Yn(),ye=(function(Ge,pt){var Et,$t=[],Xt=1/(pt-1);for(Et=0;Et<1;Et+=Xt)$t.push(Et);if($t.push(1),Ge[0].offset!=0){var Sn={offset:0,color:Ge[0].color};Ge.unshift(Sn)}if(Ge[Ge.length-1].offset!=1){var Un={offset:1,color:Ge[Ge.length-1].color};Ge.push(Un)}for(var Ir="",Jn=0,Fr=0;Fr<$t.length;Fr++){for(Et=$t[Fr];Et>Ge[Jn+1].offset;)Jn++;var Sr=Ge[Jn].offset,jr=(Et-Sr)/(Ge[Jn+1].offset-Sr),Tr=Ge[Jn].color,_s=Ge[Jn+1].color;Ir+=ue(Math.round((1-jr)*Tr[0]+jr*_s[0]).toString(16))+ue(Math.round((1-jr)*Tr[1]+jr*_s[1]).toString(16))+ue(Math.round((1-jr)*Tr[2]+jr*_s[2]).toString(16))}return Ir.trim()})(b.colors,V),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+V+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ke({data:ye,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),ie("endobj"),b.objectNumber=Yn(),ie("<< /ShadingType "+b.type),ie("/ColorSpace /DeviceRGB");var He="/Coords ["+O(parseFloat(b.coords[0]))+" "+O(parseFloat(b.coords[1]))+" ";b.type===2?He+=O(parseFloat(b.coords[2]))+" "+O(parseFloat(b.coords[3])):He+=O(parseFloat(b.coords[2]))+" "+O(parseFloat(b.coords[3]))+" "+O(parseFloat(b.coords[4]))+" "+O(parseFloat(b.coords[5])),ie(He+="]"),b.matrix&&ie("/Matrix ["+b.matrix.toString()+"]"),ie("/Function "+ce+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},ri=function(b,V){var ce=yr(),ye=Yn();V.push({resourcesOid:ce,objectOid:ye}),b.objectNumber=ye;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+b.boundingBox.map(O).join(" ")+"]"}),Ae.push({key:"XStep",value:O(b.xStep)}),Ae.push({key:"YStep",value:O(b.yStep)}),Ae.push({key:"Resources",value:ce+" 0 R"}),b.matrix&&Ae.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),Ke({data:b.stream,additionalKeyValues:Ae,objectId:b.objectNumber}),ie("endobj")},Yi=function(b){for(var V in b.objectNumber=Yn(),ie("<<"),b)switch(V){case"opacity":ie("/ca "+N(b[V]));break;case"stroke-opacity":ie("/CA "+N(b[V]))}ie(">>"),ie("endobj")},nn=function(b){jn(b.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var V in ie("/Font <<"),en)en.hasOwnProperty(V)&&(y===!1||y===!0&&_.hasOwnProperty(V))&&ie("/"+V+" "+en[V].objectNumber+" 0 R");ie(">>")})(),(function(){if(Object.keys(Dt).length>0){for(var V in ie("/Shading <<"),Dt)Dt.hasOwnProperty(V)&&Dt[V]instanceof Nu&&Dt[V].objectNumber>=0&&ie("/"+V+" "+Dt[V].objectNumber+" 0 R");fn.publish("putShadingPatternDict"),ie(">>")}})(),(function(V){if(Object.keys(Dt).length>0){for(var ce in ie("/Pattern <<"),Dt)Dt.hasOwnProperty(ce)&&Dt[ce]instanceof g.TilingPattern&&Dt[ce].objectNumber>=0&&Dt[ce].objectNumber<V&&ie("/"+ce+" "+Dt[ce].objectNumber+" 0 R");fn.publish("putTilingPatternDict"),ie(">>")}})(b.objectOid),(function(){if(Object.keys(Bt).length>0){var V;for(V in ie("/ExtGState <<"),Bt)Bt.hasOwnProperty(V)&&Bt[V].objectNumber>=0&&ie("/"+V+" "+Bt[V].objectNumber+" 0 R");fn.publish("putGStateDict"),ie(">>")}})(),(function(){for(var V in ie("/XObject <<"),vr)vr.hasOwnProperty(V)&&vr[V].objectNumber>=0&&ie("/"+V+" "+vr[V].objectNumber+" 0 R");fn.publish("putXobjectDict"),ie(">>")})(),ie(">>"),ie("endobj")},Rr=function(b){tn[b.fontName]=tn[b.fontName]||{},tn[b.fontName][b.fontStyle]=b.id},mr=function(b,V,ce,ye,Ae){var He={id:"F"+(Object.keys(en).length+1).toString(10),postScriptName:b,fontName:V,fontStyle:ce,encoding:ye,isStandardFont:Ae||!1,metadata:{}};return fn.publish("addFont",{font:He,instance:this}),en[He.id]=He,Rr(He),He.id},Vn=g.__private__.pdfEscape=g.pdfEscape=function(b,V){return(function(ce,ye){var Ae,He,Ge,pt,Et,$t,Xt,Sn,Un;if(Ge=(ye=ye||{}).sourceEncoding||"Unicode",Et=ye.outputEncoding,(ye.autoencode||Et)&&en[ht].metadata&&en[ht].metadata[Ge]&&en[ht].metadata[Ge].encoding&&(pt=en[ht].metadata[Ge].encoding,!Et&&en[ht].encoding&&(Et=en[ht].encoding),!Et&&pt.codePages&&(Et=pt.codePages[0]),typeof Et=="string"&&(Et=pt[Et]),Et)){for(Xt=!1,$t=[],Ae=0,He=ce.length;Ae<He;Ae++)(Sn=Et[ce.charCodeAt(Ae)])?$t.push(String.fromCharCode(Sn)):$t.push(ce[Ae]),$t[Ae].charCodeAt(0)>>8&&(Xt=!0);ce=$t.join("")}for(Ae=ce.length;Xt===void 0&&Ae!==0;)ce.charCodeAt(Ae-1)>>8&&(Xt=!0),Ae--;if(!Xt)return ce;for($t=ye.noBOM?[]:[254,255],Ae=0,He=ce.length;Ae<He;Ae++){if((Un=(Sn=ce.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$t.push(Un),$t.push(Sn-(Un<<8))}return String.fromCharCode.apply(void 0,$t)})(b,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mr=g.__private__.beginPage=function(b){Qe[++Ht]=[],Rt[Ht]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},ys(Ht),vt(Qe[G])},no=function(b,V){var ce,ye,Ae;switch(t=V||t,typeof b=="string"&&(ce=M(b.toLowerCase()),Array.isArray(ce)&&(ye=ce[0],Ae=ce[1])),Array.isArray(b)&&(ye=b[0]*qt,Ae=b[1]*qt),isNaN(ye)&&(ye=i[0],Ae=i[1]),(ye>14400||Ae>14400)&&(_r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Ae=Math.min(14400,Ae)),i=[ye,Ae],t.substr(0,1)){case"l":Ae>ye&&(i=[Ae,ye]);break;case"p":ye>Ae&&(i=[Ae,ye])}Mr(i),Ut(as),ie(io),tr!==0&&ie(tr+" J"),_l!==0&&ie(_l+" j"),fn.publish("addPage",{pageNumber:Ht})},Gi=function(b){b>0&&b<=Ht&&(Qe.splice(b,1),Rt.splice(b,1),Ht--,G>Ht&&(G=Ht),this.setPage(G))},ys=function(b){b>0&&b<=Ht&&(G=b)},Ki=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Qe.length-1},wl=function(b,V,ce){var ye,Ae=void 0;return ce=ce||{},b=b!==void 0?b:en[ht].fontName,V=V!==void 0?V:en[ht].fontStyle,ye=b.toLowerCase(),tn[ye]!==void 0&&tn[ye][V]!==void 0?Ae=tn[ye][V]:tn[b]!==void 0&&tn[b][V]!==void 0?Ae=tn[b][V]:ce.disableWarning===!1&&_r.warn("Unable to look up font label for font '"+b+"', '"+V+"'. Refer to getFontList() for available fonts."),Ae||ce.noFallback||(Ae=tn.times[V])==null&&(Ae=tn.times.normal),Ae},xr=g.__private__.putInfo=function(){var b=Yn(),V=function(ye){return ye};for(var ce in f!==null&&(V=or.encryptor(b,0)),ie("<<"),ie("/Producer ("+Vn(V("jsPDF "+jt.version))+")"),Qt)Qt.hasOwnProperty(ce)&&Qt[ce]&&ie("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+Vn(V(Qt[ce]))+")");ie("/CreationDate ("+Vn(V(ve))+")"),ie(">>"),ie("endobj")},Vo=g.__private__.putCatalog=function(b){var V=(b=b||{}).rootDictionaryObjId||to;switch(Yn(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+V+" 0 R"),bt||(bt="fullwidth"),bt){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+bt;ce.substr(ce.length-1)==="%"&&(bt=parseInt(bt)/100),typeof bt=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+N(bt)+"]")}switch(ln||(ln="continuous"),ln){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}wt&&ie("/PageMode /"+wt),fn.publish("putCatalog"),ie(">>"),ie("endobj")},ic=g.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(ge+1)),ie("/Root "+ge+" 0 R"),ie("/Info "+(ge-1)+" 0 R"),f!==null&&ie("/Encrypt "+or.oid+" 0 R"),ie("/ID [ <"+be+"> <"+be+"> ]"),ie(">>")},Cr=g.__private__.putHeader=function(){ie("%PDF-"+A),ie("%")},ua=g.__private__.putXRef=function(){var b="0000000000";ie("xref"),ie("0 "+(ge+1)),ie("0000000000 65535 f ");for(var V=1;V<=ge;V++)typeof xe[V]=="function"?ie((b+xe[V]()).slice(-10)+" 00000 n "):xe[V]!==void 0?ie((b+xe[V]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},os=g.__private__.buildDocument=function(){var b;ge=0,De=0,Te=[],xe=[],Ve=[],to=yr(),Si=yr(),vt(Te),fn.publish("buildDocument"),Cr(),ut(),(function(){fn.publish("putAdditionalObjects");for(var ce=0;ce<Ve.length;ce++){var ye=Ve[ce];jn(ye.objId,!0),ie(ye.content),ie("endobj")}fn.publish("postPutAdditionalObjects")})(),b=[],(function(){for(var ce in en)en.hasOwnProperty(ce)&&(y===!1||y===!0&&_.hasOwnProperty(ce))&&Bn(en[ce])})(),(function(){var ce;for(ce in Bt)Bt.hasOwnProperty(ce)&&Yi(Bt[ce])})(),(function(){for(var ce in vr)vr.hasOwnProperty(ce)&&An(vr[ce])})(),(function(ce){var ye;for(ye in Dt)Dt.hasOwnProperty(ye)&&(Dt[ye]instanceof Nu?Gn(Dt[ye]):Dt[ye]instanceof Od&&ri(Dt[ye],ce))})(b),fn.publish("putResources"),b.forEach(nn),nn({resourcesOid:Si,objectOid:Number.MAX_SAFE_INTEGER}),fn.publish("postPutResources"),f!==null&&(or.oid=Yn(),ie("<<"),ie("/Filter /Standard"),ie("/V "+or.v),ie("/R "+or.r),ie("/U <"+or.toHexString(or.U)+">"),ie("/O <"+or.toHexString(or.O)+">"),ie("/P "+or.P),ie(">>"),ie("endobj")),xr(),Vo();var V=De;return ua(),ic(),ie("startxref"),ie(""+V),ie("%%EOF"),vt(Qe[G]),Te.join(`
`)},zs=g.__private__.getBlob=function(b){return new Blob([Ze(b)],{type:"application/pdf"})},Uo=g.output=g.__private__.output=(ni=function(b,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",b){case void 0:return os();case"save":g.save(V.filename);break;case"arraybuffer":return Ze(os());case"blob":return zs(os());case"bloburi":case"bloburl":if(sn.URL!==void 0&&typeof sn.URL.createObjectURL=="function")return sn.URL&&sn.URL.createObjectURL(zs(os()))||void 0;_r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",ye=os();try{ce=H_(ye)}catch{ce=H_(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+V.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",He=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Ae=V.pdfObjectUrl,He="");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+He+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",pt=sn.open();return pt!==null&&pt.document.write(Ge),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var Et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',$t=sn.open();if($t!==null){$t.document.write(Et);var Xt=this;$t.document.documentElement.querySelector("#pdfViewer").onload=function(){$t.document.title=V.filename,$t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Xt.output("bloburl"))}}return $t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Un=sn.open();if(Un!==null&&(Un.document.write(Sn),Un.document.title=V.filename),Un||typeof safari>"u")return Un;break;case"datauri":case"dataurl":return sn.document.location.href=this.output("datauristring",V);default:return null}},ni.foo=function(){try{return ni.apply(this,arguments)}catch(ce){var b=ce.stack||"";~b.indexOf(" at ")&&(b=b.split(" at ")[1]);var V="Error in function "+b.split(`
`)[0].split("<")[0]+": "+ce.message;if(!sn.console)throw new Error(V);sn.console.error(V,ce),sn.alert&&alert(V)}},ni.foo.bar=ni,ni.foo),ws=function(b){return Array.isArray(Vs)===!0&&Vs.indexOf(b)>-1};switch(n){case"pt":qt=1;break;case"mm":qt=72/25.4;break;case"cm":qt=72/2.54;break;case"in":qt=72;break;case"px":qt=ws("px_scaling")==1?.75:96/72;break;case"pc":case"em":qt=12;break;case"ex":qt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);qt=n}var or=null;J(),Q();var $r=g.__private__.getPageInfo=g.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Rt[b].objId,pageNumber:b,pageContext:Rt[b]}},zo=g.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Rt)if(Rt[V].objId===b)break;return $r(V)},qo=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Rt[G].objId,pageNumber:G,pageContext:Rt[G]}};g.addPage=function(){return no.apply(this,arguments),this},g.setPage=function(){return ys.apply(this,arguments),vt.call(this,Qe[G]),this},g.insertPage=function(b){return this.addPage(),this.movePage(G,b),this},g.movePage=function(b,V){var ce,ye;if(b>V){ce=Qe[b],ye=Rt[b];for(var Ae=b;Ae>V;Ae--)Qe[Ae]=Qe[Ae-1],Rt[Ae]=Rt[Ae-1];Qe[V]=ce,Rt[V]=ye,this.setPage(V)}else if(b<V){ce=Qe[b],ye=Rt[b];for(var He=b;He<V;He++)Qe[He]=Qe[He+1],Rt[He]=Rt[He+1];Qe[V]=ce,Rt[V]=ye,this.setPage(V)}return this},g.deletePage=function(){return Gi.apply(this,arguments),this},g.__private__.text=g.text=function(b,V,ce,ye,Ae){var He,Ge,pt,Et,$t,Xt,Sn,Un,Ir,Jn=(ye=ye||{}).scope||this;if(typeof b=="number"&&typeof V=="number"&&(typeof ce=="string"||Array.isArray(ce))){var Fr=ce;ce=V,V=b,b=Fr}if(arguments[3]instanceof Vt==0?(pt=arguments[4],Et=arguments[5],hr(Sn=arguments[3])==="object"&&Sn!==null||(typeof pt=="string"&&(Et=pt,pt=null),typeof Sn=="string"&&(Et=Sn,Sn=null),typeof Sn=="number"&&(pt=Sn,Sn=null),ye={flags:Sn,angle:pt,align:Et})):(R("The transform parameter of text() with a Matrix value"),Ir=Ae),isNaN(V)||isNaN(ce)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return Jn;var Sr,jr="",Tr=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:Li,_s=Jn.internal.scaleFactor;function oo(zn){return zn=zn.split("	").join(Array(ye.TabLen||9).join(" ")),Vn(zn,Sn)}function bs(zn){for(var rr,Vr=zn.concat(),oi=[],Ao=Vr.length;Ao--;)typeof(rr=Vr.shift())=="string"?oi.push(rr):Array.isArray(zn)&&(rr.length===1||rr[1]===void 0&&rr[2]===void 0)?oi.push(rr[0]):oi.push([rr[0],rr[1],rr[2]]);return oi}function m(zn,rr){var Vr;if(typeof zn=="string")Vr=rr(zn)[0];else if(Array.isArray(zn)){for(var oi,Ao,ou=zn.concat(),fc=[],va=ou.length;va--;)typeof(oi=ou.shift())=="string"?fc.push(rr(oi)[0]):Array.isArray(oi)&&typeof oi[0]=="string"&&(Ao=rr(oi[0],oi[1],oi[2]),fc.push([Ao[0],Ao[1],Ao[2]]));Vr=fc}return Vr}var E=!1,j=!0;if(typeof b=="string")E=!0;else if(Array.isArray(b)){var ee=b.concat();Ge=[];for(var Ie,Oe=ee.length;Oe--;)(typeof(Ie=ee.shift())!="string"||Array.isArray(Ie)&&typeof Ie[0]!="string")&&(j=!1);E=j}if(E===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var it=qe/Jn.internal.scaleFactor,Cn=it*(Tr-1);switch(ye.baseline){case"bottom":ce-=Cn;break;case"top":ce+=it-Cn;break;case"hanging":ce+=it-2*Cn;break;case"middle":ce+=it/2-Cn}if((Xt=ye.maxWidth||0)>0&&(typeof b=="string"?b=Jn.splitTextToSize(b,Xt):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(zn,rr){return zn.concat(Jn.splitTextToSize(rr,Xt))},[]))),He={text:b,x:V,y:ce,options:ye,mutex:{pdfEscape:Vn,activeFontKey:ht,fonts:en,activeFontSize:qe}},fn.publish("preProcessText",He),b=He.text,pt=(ye=He.options).angle,Ir instanceof Vt==0&&pt&&typeof pt=="number"){pt*=Math.PI/180,ye.rotationDirection===0&&(pt=-pt),q===z&&(pt=-pt);var Nr=Math.cos(pt),yn=Math.sin(pt);Ir=new Vt(Nr,yn,-yn,Nr,0,0)}else pt&&pt instanceof Vt&&(Ir=pt);q!==z||Ir||(Ir=$i),($t=ye.charSpace||Mi)!==void 0&&(jr+=O(D($t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Un=ye.horizontalScale)!==void 0&&(jr+=O(100*Un)+` Tz
`),ye.lang;var Rn=-1,nr=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,ji=Jn.internal.getCurrentPageInfo().pageContext;switch(nr){case 0:case!1:case"fill":Rn=0;break;case 1:case!0:case"stroke":Rn=1;break;case 2:case"fillThenStroke":Rn=2;break;case 3:case"invisible":Rn=3;break;case 4:case"fillAndAddForClipping":Rn=4;break;case 5:case"strokeAndAddPathForClipping":Rn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rn=6;break;case 7:case"addToPathForClipping":Rn=7}var Qi=ji.usedRenderingMode!==void 0?ji.usedRenderingMode:-1;Rn!==-1?jr+=Rn+` Tr
`:Qi!==-1&&(jr+=`0 Tr
`),Rn!==-1&&(ji.usedRenderingMode=Rn),Et=ye.align||"left";var Ai,ao=qe*Tr,cc=Jn.internal.pageSize.getWidth(),uc=en[ht];$t=ye.charSpace||Mi,Xt=ye.maxWidth||0,Sn=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var fa=[],lo=function(zn){return Jn.getStringUnitWidth(zn,{font:uc,charSpace:$t,fontSize:qe,doKerning:!1})*qe/_s};if(Object.prototype.toString.call(b)==="[object Array]"){var $s;Ge=bs(b),Et!=="left"&&(Ai=Ge.map(lo));var Ys,Ua=0;if(Et==="right"){V-=Ai[0],b=[],Oe=Ge.length;for(var Qo=0;Qo<Oe;Qo++)Qo===0?(Ys=Or(V),$s=So(ce)):(Ys=D(Ua-Ai[Qo]),$s=-ao),b.push([Ge[Qo],Ys,$s]),Ua=Ai[Qo]}else if(Et==="center"){V-=Ai[0]/2,b=[],Oe=Ge.length;for(var pa=0;pa<Oe;pa++)pa===0?(Ys=Or(V),$s=So(ce)):(Ys=D((Ua-Ai[pa])/2),$s=-ao),b.push([Ge[pa],Ys,$s]),Ua=Ai[pa]}else if(Et==="left"){b=[],Oe=Ge.length;for(var ma=0;ma<Oe;ma++)b.push(Ge[ma])}else if(Et==="justify"&&uc.encoding==="Identity-H"){b=[],Oe=Ge.length,Xt=Xt!==0?Xt:cc;for(var Xo=0,Yr=0;Yr<Oe;Yr++)if($s=Yr===0?So(ce):-ao,Ys=Yr===0?Or(V):Xo,Yr<Oe-1){var bl=D((Xt-Ai[Yr])/(Ge[Yr].split(" ").length-1)),Jo=Ge[Yr].split(" ");b.push([Jo[0]+" ",Ys,$s]),Xo=0;for(var Eo=1;Eo<Jo.length;Eo++){var xl=(lo(Jo[Eo-1]+" "+Jo[Eo])-lo(Jo[Eo]))*_s+bl;Eo==Jo.length-1?b.push([Jo[Eo],xl,0]):b.push([Jo[Eo]+" ",xl,0]),Xo-=xl}}else b.push([Ge[Yr],Ys,$s]);b.push(["",Xo,0])}else{if(Et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],Oe=Ge.length,Xt=Xt!==0?Xt:cc,Yr=0;Yr<Oe;Yr++){$s=Yr===0?So(ce):-ao,Ys=Yr===0?Or(V):0;var Sl=Ge[Yr].split(" ").length-1,dc=Sl>0?(Xt-Ai[Yr])/Sl:0;Yr<Oe-1?fa.push(O(D(dc))):fa.push(0),b.push([Ge[Yr],Ys,$s])}}}(typeof ye.R2L=="boolean"?ye.R2L:It)===!0&&(b=m(b,function(zn,rr,Vr){return[zn.split("").reverse().join(""),rr,Vr]})),He={text:b,x:V,y:ce,options:ye,mutex:{pdfEscape:Vn,activeFontKey:ht,fonts:en,activeFontSize:qe}},fn.publish("postProcessText",He),b=He.text,Sr=He.mutex.isHex||!1;var hc=en[ht].encoding;hc!=="WinAnsiEncoding"&&hc!=="StandardEncoding"||(b=m(b,function(zn,rr,Vr){return[oo(zn),rr,Vr]})),Ge=bs(b),b=[];for(var ga,za,qa,kl=Array.isArray(Ge[0])?1:0,Ha="",El=function(zn,rr,Vr){var oi="";return Vr instanceof Vt?(Vr=typeof ye.angle=="number"?Fn(Vr,new Vt(1,0,0,1,zn,rr)):Fn(new Vt(1,0,0,1,zn,rr),Vr),q===z&&(Vr=Fn(new Vt(1,0,0,-1,0,0),Vr)),oi=Vr.join(" ")+` Tm
`):oi=O(zn)+" "+O(rr)+` Td
`,oi},Br=0;Br<Ge.length;Br++){switch(Ha="",kl){case 1:qa=(Sr?"<":"(")+Ge[Br][0]+(Sr?">":")"),ga=parseFloat(Ge[Br][1]),za=parseFloat(Ge[Br][2]);break;case 0:qa=(Sr?"<":"(")+Ge[Br]+(Sr?">":")"),ga=Or(V),za=So(ce)}fa!==void 0&&fa[Br]!==void 0&&(Ha=fa[Br]+` Tw
`),Br===0?b.push(Ha+El(ga,za,Ir)+qa):kl===0?b.push(Ha+qa):kl===1&&b.push(Ha+El(ga,za,Ir)+qa)}b=kl===0?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var xs=`BT
/`;return xs+=ht+" "+qe+` Tf
`,xs+=O(qe*Tr)+` TL
`,xs+=Ri+`
`,xs+=jr,xs+=b,ie(xs+="ET"),_[ht]=!0,Jn};var Ho=g.__private__.clip=g.clip=function(b){return ie(b==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Ho("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ie("n"),this};var xn=g.__private__.isValidStyle=function(b){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(V=!0),V};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(b){return xn(b)&&(d=b),this};var xo=g.__private__.getStyle=g.getStyle=function(b){var V=d;switch(b){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=b}return V},vn=g.close=function(){return ie("h"),this};g.stroke=function(){return ie("S"),this},g.fill=function(b){return qs("f",b),this},g.fillEvenOdd=function(b){return qs("f*",b),this},g.fillStroke=function(b){return qs("B",b),this},g.fillStrokeEvenOdd=function(b){return qs("B*",b),this};var qs=function(b,V){hr(V)==="object"?sc(V,b):ie(b)},Wo=function(b){b===null||q===z&&b===void 0||(b=xo(b),ie(b))};function Ma(b,V,ce,ye,Ae){var He=new Od(V||this.boundingBox,ce||this.xStep,ye||this.yStep,this.gState,Ae||this.matrix);He.stream=this.stream;var Ge=b+"$$"+this.cloneIndex+++"$$";return br(Ge,He),He}var sc=function(b,V){var ce=Nn[b.key],ye=Dt[ce];if(ye instanceof Nu)ie("q"),ie(oc(V)),ye.gState&&g.setGState(ye.gState),ie(b.matrix.toString()+" cm"),ie("/"+ce+" sh"),ie("Q");else if(ye instanceof Od){var Ae=new Vt(1,0,0,-1,0,Fi());b.matrix&&(Ae=Ae.multiply(b.matrix||$i),ce=Ma.call(ye,b.key,b.boundingBox,b.xStep,b.yStep,Ae).id),ie("q"),ie("/Pattern cs"),ie("/"+ce+" scn"),ye.gState&&g.setGState(ye.gState),ie(V),ie("Q")}},oc=function(b){switch(b){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Oa=g.moveTo=function(b,V){return ie(O(D(b))+" "+O(Z(V))+" m"),this},Fa=g.lineTo=function(b,V){return ie(O(D(b))+" "+O(Z(V))+" l"),this},ii=g.curveTo=function(b,V,ce,ye,Ae,He){return ie([O(D(b)),O(Z(V)),O(D(ce)),O(Z(ye)),O(D(Ae)),O(Z(He)),"c"].join(" ")),this};g.__private__.line=g.line=function(b,V,ce,ye,Ae){if(isNaN(b)||isNaN(V)||isNaN(ce)||isNaN(ye)||!xn(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return q===W?this.lines([[ce-b,ye-V]],b,V,[1,1],Ae||"S"):this.lines([[ce-b,ye-V]],b,V,[1,1]).stroke()},g.__private__.lines=g.lines=function(b,V,ce,ye,Ae,He){var Ge,pt,Et,$t,Xt,Sn,Un,Ir,Jn,Fr,Sr,jr;if(typeof b=="number"&&(jr=ce,ce=V,V=b,b=jr),ye=ye||[1,1],He=He||!1,isNaN(V)||isNaN(ce)||!Array.isArray(b)||!Array.isArray(ye)||!xn(Ae)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Oa(V,ce),Ge=ye[0],pt=ye[1],$t=b.length,Fr=V,Sr=ce,Et=0;Et<$t;Et++)(Xt=b[Et]).length===2?(Fr=Xt[0]*Ge+Fr,Sr=Xt[1]*pt+Sr,Fa(Fr,Sr)):(Sn=Xt[0]*Ge+Fr,Un=Xt[1]*pt+Sr,Ir=Xt[2]*Ge+Fr,Jn=Xt[3]*pt+Sr,Fr=Xt[4]*Ge+Fr,Sr=Xt[5]*pt+Sr,ii(Sn,Un,Ir,Jn,Fr,Sr));return He&&vn(),Wo(Ae),this},g.path=function(b){for(var V=0;V<b.length;V++){var ce=b[V],ye=ce.c;switch(ce.op){case"m":Oa(ye[0],ye[1]);break;case"l":Fa(ye[0],ye[1]);break;case"c":ii.apply(this,ye);break;case"h":vn()}}return this},g.__private__.rect=g.rect=function(b,V,ce,ye,Ae){if(isNaN(b)||isNaN(V)||isNaN(ce)||isNaN(ye)||!xn(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return q===W&&(ye=-ye),ie([O(D(b)),O(Z(V)),O(D(ce)),O(D(ye)),"re"].join(" ")),Wo(Ae),this},g.__private__.triangle=g.triangle=function(b,V,ce,ye,Ae,He,Ge){if(isNaN(b)||isNaN(V)||isNaN(ce)||isNaN(ye)||isNaN(Ae)||isNaN(He)||!xn(Ge))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-b,ye-V],[Ae-ce,He-ye],[b-Ae,V-He]],b,V,[1,1],Ge,!0),this},g.__private__.roundedRect=g.roundedRect=function(b,V,ce,ye,Ae,He,Ge){if(isNaN(b)||isNaN(V)||isNaN(ce)||isNaN(ye)||isNaN(Ae)||isNaN(He)||!xn(Ge))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ce),He=Math.min(He,.5*ye),this.lines([[ce-2*Ae,0],[Ae*pt,0,Ae,He-He*pt,Ae,He],[0,ye-2*He],[0,He*pt,-Ae*pt,He,-Ae,He],[2*Ae-ce,0],[-Ae*pt,0,-Ae,-He*pt,-Ae,-He],[0,2*He-ye],[0,-He*pt,Ae*pt,-He,Ae,-He]],b+Ae,V,[1,1],Ge,!0),this},g.__private__.ellipse=g.ellipse=function(b,V,ce,ye,Ae){if(isNaN(b)||isNaN(V)||isNaN(ce)||isNaN(ye)||!xn(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*ce,Ge=4/3*(Math.SQRT2-1)*ye;return Oa(b+ce,V),ii(b+ce,V-Ge,b+He,V-ye,b,V-ye),ii(b-He,V-ye,b-ce,V-Ge,b-ce,V),ii(b-ce,V+Ge,b-He,V+ye,b,V+ye),ii(b+He,V+ye,b+ce,V+Ge,b+ce,V),Wo(Ae),this},g.__private__.circle=g.circle=function(b,V,ce,ye){if(isNaN(b)||isNaN(V)||isNaN(ce)||!xn(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,V,ce,ce,ye)},g.setFont=function(b,V,ce){return ce&&(V=H(V,ce)),ht=wl(b,V,{disableWarning:!1}),this};var fi=g.__private__.getFont=g.getFont=function(){return en[wl.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var b,V,ce={};for(b in tn)if(tn.hasOwnProperty(b))for(V in ce[b]=[],tn[b])tn[b].hasOwnProperty(V)&&ce[b].push(V);return ce},g.addFont=function(b,V,ce,ye,Ae){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(ce=H(ce,ye)),mr.call(this,b,V,ce,Ae=Ae||"Identity-H")};var Li,as=r.lineWidth||.200025,$o=g.__private__.getLineWidth=g.getLineWidth=function(){return as},Ut=g.__private__.setLineWidth=g.setLineWidth=function(b){return as=b,ie(O(D(b))+" w"),this};g.__private__.setLineDash=jt.API.setLineDash=jt.API.setLineDashPattern=function(b,V){if(b=b||[],V=V||0,isNaN(V)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(ce){return O(D(ce))}).join(" "),V=O(D(V)),ie("["+b+"] "+V+" d"),this};var ro=g.__private__.getLineHeight=g.getLineHeight=function(){return qe*Li};g.__private__.getLineHeight=g.getLineHeight=function(){return qe*Li};var su=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(Li=b),this},ac=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Li};su(r.lineHeight);var Or=g.__private__.getHorizontalCoordinate=function(b){return D(b)},So=g.__private__.getVerticalCoordinate=function(b){return q===z?b:Rt[G].mediaBox.topRightY-Rt[G].mediaBox.bottomLeftY-D(b)},lc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(b){return O(Or(b))},ko=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(b){return O(So(b))},io=r.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return se(io)},g.__private__.setStrokeColor=g.setDrawColor=function(b,V,ce,ye){return io=Ee({ch1:b,ch2:V,ch3:ce,ch4:ye,pdfColorType:"draw",precision:2}),ie(io),this};var ja=r.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return se(ja)},g.__private__.setFillColor=g.setFillColor=function(b,V,ce,ye){return ja=Ee({ch1:b,ch2:V,ch3:ce,ch4:ye,pdfColorType:"fill",precision:2}),ie(ja),this};var Ri=r.textColor||"0 g",Hs=g.__private__.getTextColor=g.getTextColor=function(){return se(Ri)};g.__private__.setTextColor=g.setTextColor=function(b,V,ce,ye){return Ri=Ee({ch1:b,ch2:V,ch3:ce,ch4:ye,pdfColorType:"text",precision:3}),this};var Mi=r.charSpace,Yo=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Mi||0)};g.__private__.setCharSpace=g.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Mi=b,this};var tr=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(b){var V=g.CapJoinStyles[b];if(V===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tr=V,ie(V+" J"),this};var _l=0;g.__private__.setLineJoin=g.setLineJoin=function(b){var V=g.CapJoinStyles[b];if(V===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _l=V,ie(V+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(O(D(b))+" M"),this},g.GState=tg,g.setGState=function(b){(b=typeof b=="string"?Bt[Wt[b]]:Ba(null,b)).equals(gn)||(ie("/"+b.id+" gs"),gn=b)};var Ba=function(b,V){if(!b||!Wt[b]){var ce=!1;for(var ye in Bt)if(Bt.hasOwnProperty(ye)&&Bt[ye].equals(V)){ce=!0;break}if(ce)V=Bt[ye];else{var Ae="GS"+(Object.keys(Bt).length+1).toString(10);Bt[Ae]=V,V.id=Ae}return b&&(Wt[b]=V.id),fn.publish("addGState",V),V}};g.addGState=function(b,V){return Ba(b,V),this},g.saveGraphicsState=function(){return ie("q"),On.push({key:ht,size:qe,color:Ri}),this},g.restoreGraphicsState=function(){ie("Q");var b=On.pop();return ht=b.key,qe=b.size,Ri=b.color,gn=null,this},g.setCurrentTransformationMatrix=function(b){return ie(b.toString()+" cm"),this},g.comment=function(b){return ie("#"+b),this};var ls=function(b,V){var ce=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(He){isNaN(He)||(ce=parseFloat(He))}});var ye=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(He){isNaN(He)||(ye=parseFloat(He))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(He){Ae=He.toString()}}),this},Go=function(b,V,ce,ye){ls.call(this,b,V),this.type="rect";var Ae=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Ge){isNaN(Ge)||(Ae=parseFloat(Ge))}});var He=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(Ge){isNaN(Ge)||(He=parseFloat(Ge))}}),this},Ko=function(){this.page=Ht,this.currentPage=G,this.pages=Qe.slice(0),this.pagesContext=Rt.slice(0),this.x=yt,this.y=Xn,this.matrix=mn,this.width=ki(G),this.height=da(G),this.outputDestination=ot,this.id="",this.objectNumber=-1};Ko.prototype.restore=function(){Ht=this.page,G=this.currentPage,Rt=this.pagesContext,Qe=this.pages,yt=this.x,Xn=this.y,mn=this.matrix,Va(G,this.width),Ei(G,this.height),ot=this.outputDestination};var Oi=function(b,V,ce,ye,Ae){ti.push(new Ko),Ht=G=0,Qe=[],yt=b,Xn=V,mn=Ae,Mr([ce,ye])};for(var so in g.beginFormObject=function(b,V,ce,ye,Ae){return Oi(b,V,ce,ye,Ae),this},g.endFormObject=function(b){return(function(V){if(Di[V])ti.pop().restore();else{var ce=new Ko,ye="Xo"+(Object.keys(vr).length+1).toString(10);ce.id=ye,Di[V]=ye,vr[ye]=ce,fn.publish("addFormObject",ce),ti.pop().restore()}})(b),this},g.doFormObject=function(b,V){var ce=vr[Di[b]];return ie("q"),ie(V.toString()+" cm"),ie("/"+ce.id+" Do"),ie("Q"),this},g.getFormObject=function(b){var V=vr[Di[b]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},g.save=function(b,V){return b=b||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Tu(zs(os()),b),typeof Tu.unload=="function"&&sn.setTimeout&&setTimeout(Tu.unload,911),this):new Promise(function(ce,ye){try{var Ae=Tu(zs(os()),b);typeof Tu.unload=="function"&&sn.setTimeout&&setTimeout(Tu.unload,911),ce(Ae)}catch(He){ye(He.message)}})},jt.API)jt.API.hasOwnProperty(so)&&(so==="events"&&jt.API.events.length?(function(b,V){var ce,ye,Ae;for(Ae=V.length-1;Ae!==-1;Ae--)ce=V[Ae][0],ye=V[Ae][1],b.subscribe.apply(b,[ce].concat(typeof ye=="function"?[ye]:ye))})(fn,jt.API.events):g[so]=jt.API[so]);function ki(b){return Rt[b].mediaBox.topRightX-Rt[b].mediaBox.bottomLeftX}function Va(b,V){Rt[b].mediaBox.topRightX=V+Rt[b].mediaBox.bottomLeftX}function da(b){return Rt[b].mediaBox.topRightY-Rt[b].mediaBox.bottomLeftY}function Ei(b,V){Rt[b].mediaBox.topRightY=V+Rt[b].mediaBox.bottomLeftY}var Ws=g.getPageWidth=function(b){return ki(b=b||G)/qt},si=g.setPageWidth=function(b,V){Va(b,V*qt)},Fi=g.getPageHeight=function(b){return da(b=b||G)/qt},ha=g.setPageHeight=function(b,V){Ei(b,V*qt)};return g.internal={pdfEscape:Vn,getStyle:xo,getFont:fi,getFontSize:Xe,getCharSpace:Yo,getTextColor:Hs,getLineHeight:ro,getLineHeightFactor:ac,getLineWidth:$o,write:at,getHorizontalCoordinate:Or,getVerticalCoordinate:So,getCoordinateString:lc,getVerticalCoordinateString:ko,collections:{},newObject:Yn,newAdditionalObject:Us,newObjectDeferred:yr,newObjectDeferredBegin:jn,getFilters:We,putStream:Ke,events:fn,scaleFactor:qt,pageSize:{getWidth:function(){return Ws(G)},setWidth:function(b){si(G,b)},getHeight:function(){return Fi(G)},setHeight:function(b){ha(G,b)}},encryptionOptions:f,encryption:or,getEncryptor:function(b){return f!==null?or.encryptor(b,0):function(V){return V}},output:Uo,getNumberOfPages:Ki,get pages(){return Qe},out:ie,f2:N,f3:T,getPageInfo:$r,getPageInfoByObjId:zo,getCurrentPageInfo:qo,getPDFVersion:P,Point:ls,Rectangle:Go,Matrix:Vt,hasHotfix:ws},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Ws(G)},set:function(b){si(G,b)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Fi(G)},set:function(b){ha(G,b)},enumerable:!0,configurable:!0}),(function(b){for(var V=0,ce=Pt.length;V<ce;V++){var ye=mr.call(this,b[V][0],b[V][1],b[V][2],Pt[V][3],!0);y===!1&&(_[ye]=!0);var Ae=b[V][0].split("-");Rr({id:ye,fontName:Ae[0],fontStyle:Ae[1]||""})}fn.publish("addFonts",{fonts:en,dictionary:tn})}).call(g,Pt),ht="F1",no(i,t),fn.publish("initialized"),g}Ld.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Ld.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ld.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Ld.prototype.processOwnerPassword=function(r,e){return dv(uv(e).substr(0,5),r)},Ld.prototype.encryptor=function(r,e){var t=uv(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return dv(t,n)}},tg.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||hr(r)!==hr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},jt.API={events:[]},jt.version="3.0.4";var di=jt.API,Py=1,td=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cd=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},un=function(r){return r.toFixed(2)},Mc=function(r){return r.toFixed(5)};di.__acroform__={};var bo=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},G_=function(r){return r*Py},Ja=function(r){var e=new cE,t=Ct.internal.getHeight(r)||0,n=Ct.internal.getWidth(r)||0;return e.BBox=[0,0,Number(un(n)),Number(un(t))],e},VO=di.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},UO=di.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},zO=di.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},yi=di.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return zO(r,e-1)},wi=di.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return VO(r,e-1)},_i=di.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return UO(r,e-1)},qO=di.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],s=r[1],a=r[2],c=r[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=n(s+c)||0,u.upperRight_X=t(i+a)||0,u.upperRight_Y=n(s)||0,[Number(un(u.lowerLeft_X)),Number(un(u.lowerLeft_Y)),Number(un(u.upperRight_X)),Number(un(u.upperRight_Y))]},HO=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=hv(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+un(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ja(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},hv=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var s=t,a=Ct.internal.getHeight(r)||0;a=a<0?-a:a;var c=Ct.internal.getWidth(r)||0;c=c<0?-c:c;var u=function(N,T,D){if(N+1<i.length){var Z=T+" "+i[N+1][0];return Xp(Z,r,D).width<=c-4}return!1};s++;e:for(;s>0;){e="",s--;var d,f,y=Xp("3",r,s).height,_=r.multiline?a-s:(a-y)/2,g=_+=2,A=0,P=0,I=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xp(e,r,s=12).width+", FieldWidth:"+c+`
`;break}for(var M="",W=0,z=0;z<i.length;z++)if(i.hasOwnProperty(z)){var q=!1;if(i[z].length!==1&&I!==i[z].length-1){if((y+2)*(W+2)+2>a)continue e;M+=i[z][I],q=!0,P=z,z--}else{M=(M+=i[z][I]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var ne=parseInt(z),de=u(ne,M,s),H=z>=i.length-1;if(de&&!H){M+=" ",I=0;continue}if(de||H){if(H)P=ne;else if(r.multiline&&(y+2)*(W+2)+2>a)continue e}else{if(!r.multiline||(y+2)*(W+2)+2>a)continue e;P=ne}}for(var O="",R=A;R<=P;R++){var B=i[R];if(r.multiline){if(R===P){O+=B[I]+" ",I=(I+1)%B.length;continue}if(R===A){O+=B[B.length-1]+" ";continue}}O+=B[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,f=Xp(O,r,s).width,r.textAlign){case"right":d=c-f-2;break;case"center":d=(c-f)/2;break;default:d=2}e+=un(d)+" "+un(g)+` Td
`,e+="("+td(O)+`) Tj
`,e+=-un(d)+` 0 Td
`,g=-(s+2),f=0,A=q?P:P+1,W++,M=""}break}return n.text=e,n.fontSize=s,n},Xp=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},WO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$O=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},YO=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(La.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(WO)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Py=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new uE,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&$O(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var c=n[a],u=[],d=c.Rect;if(c.Rect&&(c.Rect=qO(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Ct.createDefaultAppearanceStream(c),hr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var f=HO(c);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(c.appearanceStreamContent){var y="";for(var _ in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(_)){var g=c.appearanceStreamContent[_];if(y+="/"+_+" ",y+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var A=g[a];typeof A=="function"&&(A=A.call(i,c)),y+="/"+a+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else typeof(A=g)=="function"&&(A=A.call(i,c)),y+="/"+a+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);y+=">>"}u.push({key:"AP",value:`<<
`+y+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:c.objId}),i.internal.out("endobj")}s&&(function(P,I){for(var M in P)if(P.hasOwnProperty(M)){var W=M,z=P[M];I.internal.newObjectDeferredBegin(z.objId,!0),hr(z)==="object"&&typeof z.putStream=="function"&&z.putStream(),delete P[W]}})(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},lE=di.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),hr(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+td(n(r[s].toString()))+")"):i+=r[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},g1=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+td(n(r))+")"},al=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};al.prototype.toString=function(){return this.objId+" 0 R"},al.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},al.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:lE(i,this.objId,this.scope)}):i instanceof al?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var cE=function(){al.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};bo(cE,al);var uE=function(){al.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+td(t(r))+")"}},set:function(t){r=t}})};bo(uE,al);var La=function r(){al.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');e=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yi(e,3)},set:function(M){M?this.F=wi(e,3):this.F=_i(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');t=M}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(M){n=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(M){n[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(M){n[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(M){n[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(M){n[3]=M}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof ng)return;s="FieldObject"+r.FieldNum++}var M=function(W){return W};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+td(M(s))+")"},set:function(M){s=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(M){s=M}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(M){a=M}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(M){c=M}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(M){u=M}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Py:d},set:function(M){d=M}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(M){f=M}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof ng||this instanceof Vu))return g1(y,this.objId,this.scope)},set:function(M){M=M.toString(),y=M}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof ss==0?g1(_,this.objId,this.scope):_},set:function(M){M=M.toString(),_=this instanceof ss==0?M.substr(0,1)==="("?Cd(M.substr(1,M.length-2)):Cd(M):M}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ss==1?Cd(_.substr(1,_.length-1)):_},set:function(M){M=M.toString(),_=this instanceof ss==1?"/"+M:M}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ss==0?g1(g,this.objId,this.scope):g},set:function(M){M=M.toString(),g=this instanceof ss==0?M.substr(0,1)==="("?Cd(M.substr(1,M.length-2)):Cd(M):M}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ss==1?Cd(g.substr(1,g.length-1)):g},set:function(M){M=M.toString(),g=this instanceof ss==1?"/"+M:M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,P=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return P},set:function(M){M=!!M,P=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(M){A=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,1)},set:function(M){M?this.Ff=wi(this.Ff,1):this.Ff=_i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,2)},set:function(M){M?this.Ff=wi(this.Ff,2):this.Ff=_i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,3)},set:function(M){M?this.Ff=wi(this.Ff,3):this.Ff=_i(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');I=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch(I){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};bo(La,al);var Hd=function(){La.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lE(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=(function(s,a,c){c||(c=1);for(var u,d=[];u=a.exec(s);)d.push(u[c]);return d})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,18)},set:function(t){t?this.Ff=wi(this.Ff,18):this.Ff=_i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=wi(this.Ff,19):this.Ff=_i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,20)},set:function(t){t?(this.Ff=wi(this.Ff,20),e.sort()):this.Ff=_i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,22)},set:function(t){t?this.Ff=wi(this.Ff,22):this.Ff=_i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,23)},set:function(t){t?this.Ff=wi(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,27)},set:function(t){t?this.Ff=wi(this.Ff,27):this.Ff=_i(this.Ff,27)}}),this.hasAppearanceStream=!1};bo(Hd,La);var Wd=function(){Hd.call(this),this.fontName="helvetica",this.combo=!1};bo(Wd,Hd);var $d=function(){Wd.call(this),this.combo=!0};bo($d,Wd);var vm=function(){$d.call(this),this.edit=!0};bo(vm,$d);var ss=function(){La.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,15)},set:function(t){t?this.Ff=wi(this.Ff,15):this.Ff=_i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,16)},set:function(t){t?this.Ff=wi(this.Ff,16):this.Ff=_i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,17)},set:function(t){t?this.Ff=wi(this.Ff,17):this.Ff=_i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,26)},set:function(t){t?this.Ff=wi(this.Ff,26):this.Ff=_i(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+td(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){hr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};bo(ss,La);var ym=function(){ss.call(this),this.pushButton=!0};bo(ym,ss);var Yd=function(){ss.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};bo(Yd,ss);var ng=function(){var r,e;La.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+td(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){hr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};bo(ng,La),Yd.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Yd.prototype.createOption=function(r){var e=new ng;return e.Parent=this,e.optionName=r,this.Kids.push(e),GO.call(this.scope,e),e};var wm=function(){ss.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ct.CheckBox.createAppearanceStream()};bo(wm,ss);var Vu=function(){La.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,13)},set:function(e){e?this.Ff=wi(this.Ff,13):this.Ff=_i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,21)},set:function(e){e?this.Ff=wi(this.Ff,21):this.Ff=_i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,23)},set:function(e){e?this.Ff=wi(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,24)},set:function(e){e?this.Ff=wi(this.Ff,24):this.Ff=_i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,25)},set:function(e){e?this.Ff=wi(this.Ff,25):this.Ff=_i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,26)},set:function(e){e?this.Ff=wi(this.Ff,26):this.Ff=_i(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};bo(Vu,La);var _m=function(){Vu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,14)},set:function(r){r?this.Ff=wi(this.Ff,14):this.Ff=_i(this.Ff,14)}}),this.password=!0};bo(_m,Vu);var Ct={CheckBox:{createAppearanceStream:function(){return{N:{On:Ct.CheckBox.YesNormal},D:{On:Ct.CheckBox.YesPushDown,Off:Ct.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Ja(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=hv(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+un(Ct.internal.getWidth(r))+" "+un(Ct.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+un(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Ja(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=Ct.internal.getHeight(r),a=Ct.internal.getWidth(r),c=hv(r,r.caption);return i.push("1 g"),i.push("0 0 "+un(a)+" "+un(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+un(a-1)+" "+un(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+un(c.fontSize)+" Tf "+n),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=Ja(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+un(Ct.internal.getWidth(r))+" "+un(Ct.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Ct.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Ct.RadioButton.Circle.YesNormal,e.D[r]=Ct.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Ja(r);e.scope=r.scope;var t=[],n=Ct.internal.getWidth(r)<=Ct.internal.getHeight(r)?Ct.internal.getWidth(r)/4:Ct.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Ct.internal.Bezier_C,s=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Mc(Ct.internal.getWidth(r)/2)+" "+Mc(Ct.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Ja(r);e.scope=r.scope;var t=[],n=Ct.internal.getWidth(r)<=Ct.internal.getHeight(r)?Ct.internal.getWidth(r)/4:Ct.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ct.internal.Bezier_C).toFixed(5)),a=Number((n*Ct.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Mc(Ct.internal.getWidth(r)/2)+" "+Mc(Ct.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Mc(Ct.internal.getWidth(r)/2)+" "+Mc(Ct.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Ja(r);e.scope=r.scope;var t=[],n=Ct.internal.getWidth(r)<=Ct.internal.getHeight(r)?Ct.internal.getWidth(r)/4:Ct.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ct.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Mc(Ct.internal.getWidth(r)/2)+" "+Mc(Ct.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Ct.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Ct.RadioButton.Cross.YesNormal,e.D[r]=Ct.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Ja(r);e.scope=r.scope;var t=[],n=Ct.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+un(Ct.internal.getWidth(r)-2)+" "+un(Ct.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(un(n.x1.x)+" "+un(n.x1.y)+" m"),t.push(un(n.x2.x)+" "+un(n.x2.y)+" l"),t.push(un(n.x4.x)+" "+un(n.x4.y)+" m"),t.push(un(n.x3.x)+" "+un(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Ja(r);e.scope=r.scope;var t=Ct.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+un(Ct.internal.getWidth(r))+" "+un(Ct.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+un(Ct.internal.getWidth(r)-2)+" "+un(Ct.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(un(t.x1.x)+" "+un(t.x1.y)+" m"),n.push(un(t.x2.x)+" "+un(t.x2.y)+" l"),n.push(un(t.x4.x)+" "+un(t.x4.y)+" m"),n.push(un(t.x3.x)+" "+un(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Ja(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+un(Ct.internal.getWidth(r))+" "+un(Ct.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Ct.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Ct.internal.getWidth(r),t=Ct.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Ct.internal.getWidth=function(r){var e=0;return hr(r)==="object"&&(e=G_(r.Rect[2])),e},Ct.internal.getHeight=function(r){var e=0;return hr(r)==="object"&&(e=G_(r.Rect[3])),e};var GO=di.addField=function(r){if(YO(this,r),!(r instanceof La))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};di.AcroFormChoiceField=Hd,di.AcroFormListBox=Wd,di.AcroFormComboBox=$d,di.AcroFormEditBox=vm,di.AcroFormButton=ss,di.AcroFormPushButton=ym,di.AcroFormRadioButton=Yd,di.AcroFormCheckBox=wm,di.AcroFormTextField=Vu,di.AcroFormPasswordField=_m,di.AcroFormAppearance=Ct,di.AcroForm={ChoiceField:Hd,ListBox:Wd,ComboBox:$d,EditBox:vm,Button:ss,PushButton:ym,RadioButton:Yd,CheckBox:wm,TextField:Vu,PasswordField:_m,Appearance:Ct},jt.AcroForm={ChoiceField:Hd,ListBox:Wd,ComboBox:$d,EditBox:vm,Button:ss,PushButton:ym,RadioButton:Yd,CheckBox:wm,TextField:Vu,PasswordField:_m,Appearance:Ct};jt.AcroForm;function dE(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(N,T){var D,Z,ve,be,oe,Q=t;if((T=T||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(de(N))for(oe in n)for(ve=n[oe],D=0;D<ve.length;D+=1){for(be=!0,Z=0;Z<ve[D].length;Z+=1)if(ve[D][Z]!==void 0&&ve[D][Z]!==N[Z]){be=!1;break}if(be===!0){Q=oe;break}}else for(oe in n)for(ve=n[oe],D=0;D<ve.length;D+=1){for(be=!0,Z=0;Z<ve[D].length;Z+=1)if(ve[D][Z]!==void 0&&ve[D][Z]!==N.charCodeAt(Z)){be=!1;break}if(be===!0){Q=oe;break}}return Q===t&&T!==t&&(Q=T),Q},s=function N(T){for(var D=this.internal.write,Z=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var be=[];if(be.push({key:"Type",value:"/XObject"}),be.push({key:"Subtype",value:"/Image"}),be.push({key:"Width",value:T.width}),be.push({key:"Height",value:T.height}),T.colorSpace===M.INDEXED?be.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(be.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===M.DEVICE_CMYK&&be.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),be.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&be.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var oe="",Q=0,fe=T.transparency.length;Q<fe;Q++)oe+=T.transparency[Q]+" "+T.transparency[Q]+" ";be.push({key:"Mask",value:"["+oe+"]"})}T.sMask!==void 0&&be.push({key:"SMask",value:T.objectId+1+" 0 R"});var he=T.filter!==void 0?["/"+T.filter]:void 0;if(Z({data:T.data,additionalKeyValues:be,alreadyAppliedFilters:he,objectId:T.objectId}),D("endobj"),"sMask"in T&&T.sMask!==void 0){var J,F=(J=T.sMaskBitsPerComponent)!==null&&J!==void 0?J:T.bitsPerComponent,G={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:T.sMask};"filter"in T&&(G.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(T.width),G.filter=T.filter),N.call(this,G)}if(T.colorSpace===M.INDEXED){var re=this.internal.newObject();Z({data:O(new Uint8Array(T.palette)),objectId:re}),D("endobj")}},a=function(){var N=this.internal.collections[e+"images"];for(var T in N)s.call(this,N[T])},c=function(){var N,T=this.internal.collections[e+"images"],D=this.internal.write;for(var Z in T)D("/I"+(N=T[Z]).index,N.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var N=this.internal.collections[e+"images"];return u.call(this),N},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(N){return typeof r["process"+N.toUpperCase()]=="function"},_=function(N){return hr(N)==="object"&&N.nodeType===1},g=function(N,T){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var D=""+N.getAttribute("src");if(D.indexOf("data:image/")===0)return gm(unescape(D).split("base64,").pop());var Z=r.loadFile(D,!0);if(Z!==void 0)return Z}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var ve;switch(T){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;default:ve="image/jpeg"}return gm(N.toDataURL(ve,1).split("base64,").pop())}},A=function(N){var T=this.internal.collections[e+"images"];if(T){for(var D in T)if(N===T[D].alias)return T[D]}},P=function(N,T,D){return N||T||(N=-96,T=-96),N<0&&(N=-1*D.width*72/N/this.internal.scaleFactor),T<0&&(T=-1*D.height*72/T/this.internal.scaleFactor),N===0&&(N=T*D.width/D.height),T===0&&(T=N*D.height/D.width),[N,T]},I=function(N,T,D,Z,ve,be){var oe=P.call(this,D,Z,ve),Q=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,he=d.call(this);if(D=oe[0],Z=oe[1],he[ve.index]=ve,be){be*=Math.PI/180;var J=Math.cos(be),F=Math.sin(be),G=function(ue){return ue.toFixed(4)},re=[G(J),G(F),G(-1*F),G(J),0,0,"cm"]}this.internal.write("q"),be?(this.internal.write([1,"0","0",1,Q(N),fe(T+Z),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([Q(D),"0","0",Q(Z),"0","0","cm"].join(" "))):this.internal.write([Q(D),"0","0",Q(Z),Q(N),fe(T+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},M=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var W=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},z=r.__addimage__.sHashCode=function(N){var T,D,Z=0;if(typeof N=="string")for(D=N.length,T=0;T<D;T++)Z=(Z<<5)-Z+N.charCodeAt(T),Z|=0;else if(de(N))for(D=N.byteLength/2,T=0;T<D;T++)Z=(Z<<5)-Z+N[T],Z|=0;return Z},q=r.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var T=!0;return N.length===0&&(T=!1),N.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(T=!1),T},ne=r.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var T=N.indexOf(",");return T<0?null:N.substring(0,T).trim().endsWith("base64")?N.substring(T+1):null};r.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var de=r.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},H=r.__addimage__.binaryStringToUint8Array=function(N){for(var T=N.length,D=new Uint8Array(T),Z=0;Z<T;Z++)D[Z]=N.charCodeAt(Z);return D},O=r.__addimage__.arrayBufferToBinaryString=function(N){for(var T="",D=de(N)?N:new Uint8Array(N),Z=0;Z<D.length;Z+=8192)T+=String.fromCharCode.apply(null,D.subarray(Z,Z+8192));return T};r.addImage=function(){var N,T,D,Z,ve,be,oe,Q,fe;if(typeof arguments[1]=="number"?(T=t,D=arguments[1],Z=arguments[2],ve=arguments[3],be=arguments[4],oe=arguments[5],Q=arguments[6],fe=arguments[7]):(T=arguments[1],D=arguments[2],Z=arguments[3],ve=arguments[4],be=arguments[5],oe=arguments[6],Q=arguments[7],fe=arguments[8]),hr(N=arguments[0])==="object"&&!_(N)&&"imageData"in N){var he=N;N=he.imageData,T=he.format||T||t,D=he.x||D||0,Z=he.y||Z||0,ve=he.w||he.width||ve,be=he.h||he.height||be,oe=he.alias||oe,Q=he.compression||Q,fe=he.rotation||he.angle||fe}var J=this.internal.getFilters();if(Q===void 0&&J.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(D)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var F=R.call(this,N,T,oe,Q);return I.call(this,D,Z,ve,be,F,fe),this};var R=function(N,T,D,Z){var ve,be,oe;if(typeof N=="string"&&i(N)===t){N=unescape(N);var Q=B(N,!1);(Q!==""||(Q=r.loadFile(N,!0))!==void 0)&&(N=Q)}if(_(N)&&(N=g(N,T)),T=i(N,T),!y(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((oe=D)==null||oe.length===0)&&(D=(function(fe){return typeof fe=="string"||de(fe)?z(fe):de(fe.data)?z(fe.data):null})(N)),(ve=A.call(this,D))||(N instanceof Uint8Array||T==="RGBA"||(be=N,N=H(N)),ve=this["process"+T.toUpperCase()](N,f.call(this),D,(function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in r.image_compression?fe:W.NONE})(Z),be)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},B=r.__addimage__.convertBase64ToBinaryString=function(N,T){T=typeof T!="boolean"||T;var D,Z="";if(typeof N=="string"){var ve;D=(ve=ne(N))!==null&&ve!==void 0?ve:N;try{Z=gm(D)}catch(be){if(T)throw q(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+be.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};r.getImageProperties=function(N){var T,D,Z="";if(_(N)&&(N=g(N)),typeof N=="string"&&i(N)===t&&((Z=B(N,!1))===""&&(Z=r.loadFile(N)||""),N=Z),D=i(N),!y(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(N instanceof Uint8Array||(N=H(N)),!(T=this["process"+D.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=D,T}})(jt.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};jt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,s,a=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,y=0;y<d.length&&!f;y++)switch((n=d[y]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var _=0;_<d.length;_++){n=d[_];var g=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var P=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(P.objId),W=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+g(M(n.contents))+")",s+=" /Popup "+I.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+g(M(W))+") >>",P.content=s;var z=P.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+z,n.open&&(s+=" /Open true"),s+=" >>",I.content=s,this.internal.write(P.objId,"0 R",I.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+c(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var q=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(A(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var ne=this.annotations._nameMap[n.options.name];n.options.pageNumber=ne.page,n.options.top=ne.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var de=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+de+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,s,a){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(t),y:d(n),w:u(t+i),h:d(n+s)},options:a,type:"link"})},r.textWithLink=function(t,n,i,s){var a,c,u=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var f=this.splitTextToSize(t,c).length;a=Math.ceil(d*f)}else c=u,a=d;return this.text(t,n,i,s),i+=.2*d,s.align==="center"&&(n-=u/2),s.align==="right"&&(n-=u),this.link(n,i-d,c,a,s),u},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(jt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(P){return e[P.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(P){return typeof P=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(P)},c=r.__arabicParser__.isArabicEndLetter=function(P){return a(P)&&s(P)&&e[P.charCodeAt(0)].length<=2},u=r.__arabicParser__.isArabicAlfLetter=function(P){return a(P)&&i.indexOf(P.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(P){return a(P)&&s(P)&&e[P.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(P){return a(P)&&s(P)&&e[P.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(P){return a(P)&&s(P)&&e[P.charCodeAt(0)].length>=3};var f=r.__arabicParser__.arabicLetterHasMedialForm=function(P){return a(P)&&s(P)&&e[P.charCodeAt(0)].length==4},y=r.__arabicParser__.resolveLigatures=function(P){var I=0,M=t,W="",z=0;for(I=0;I<P.length;I+=1)M[P.charCodeAt(I)]!==void 0?(z++,typeof(M=M[P.charCodeAt(I)])=="number"&&(W+=String.fromCharCode(M),M=t,z=0),I===P.length-1&&(M=t,W+=P.charAt(I-(z-1)),I-=z-1,z=0)):(M=t,W+=P.charAt(I-z),I-=z,z=0);return W};r.__arabicParser__.isArabicDiacritic=function(P){return P!==void 0&&n[P.charCodeAt(0)]!==void 0};var _=r.__arabicParser__.getCorrectForm=function(P,I,M){return a(P)?s(P)===!1?-1:!d(P)||!a(I)&&!a(M)||!a(M)&&c(I)||c(P)&&!a(I)||c(P)&&u(I)||c(P)&&c(I)?0:f(P)&&a(I)&&!c(I)&&a(M)&&d(M)?3:c(P)||!a(M)?1:2:-1},g=function(P){var I=0,M=0,W=0,z="",q="",ne="",de=(P=P||"").split("\\s+"),H=[];for(I=0;I<de.length;I+=1){for(H.push(""),M=0;M<de[I].length;M+=1)z=de[I][M],q=de[I][M-1],ne=de[I][M+1],a(z)?(W=_(z,q,ne),H[I]+=W!==-1?String.fromCharCode(e[z.charCodeAt(0)][W]):z):H[I]+=z;H[I]=y(H[I])}return H.join(" ")},A=r.__arabicParser__.processArabic=r.processArabic=function(){var P,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray(I)){var W=0;for(M=[],W=0;W<I.length;W+=1)Array.isArray(I[W])?M.push([g(I[W][0]),I[W][1],I[W][2]]):M.push([g(I[W])]);P=M}else P=g(I);return typeof arguments[0]=="string"?P:(arguments[0].text=P,arguments[0])};r.events.push(["preProcessText",A])})(jt.API),jt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(c){a=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(jt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(P){u=P}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(P){d=P}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(P){f=P}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(P){y=P}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(P){_=P}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(P){g=P}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(P){A=P}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},r.getTextDimensions=function(u,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),_=d.scaleFactor||this.internal.scaleFactor,g=0,A=0,P=0,I=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var M=d.maxWidth;M>0?typeof u=="string"?u=this.splitTextToSize(u,M):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(z,q){return z.concat(I.splitTextToSize(q,M))},[])):u=Array.isArray(u)?u:[u];for(var W=0;W<u.length;W++)g<(P=this.getStringUnitWidth(u[W],{font:y})*f)&&(g=P);return g!==0&&(A=u.length),{w:g/=_,h:Math.max((A*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/_,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=y.top,g&&_&&(this.printHeaderRow(u.lineNumber,!0),u.y+=_[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};r.table=function(u,d,f,y,_){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,A,P,I,M=[],W=[],z=[],q={},ne={},de=[],H=[],O=(_=_||{}).autoSize||!1,R=_.printHeaders!==!1,B=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,N=_.margins||Object.assign({width:this.getPageWidth()},e),T=typeof _.padding=="number"?_.padding:3,D=_.headerBackgroundColor||"#c8c8c8",Z=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=Z,this.setFontSize(B),y==null)W=M=Object.keys(f[0]),z=M.map(function(){return"left"});else if(Array.isArray(y)&&hr(y[0])==="object")for(M=y.map(function(he){return he.name}),W=y.map(function(he){return he.prompt||he.name||""}),z=y.map(function(he){return he.align||"left"}),g=0;g<y.length;g+=1)ne[y[g].name]=.7499990551181103*y[g].width;else Array.isArray(y)&&typeof y[0]=="string"&&(W=M=y,z=M.map(function(){return"left"}));if(O||Array.isArray(y)&&typeof y[0]=="string")for(g=0;g<M.length;g+=1){for(q[I=M[g]]=f.map(function(he){return he[I]}),this.setFont(void 0,"bold"),de.push(this.getTextDimensions(W[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=q[I],this.setFont(void 0,"normal"),P=0;P<A.length;P+=1)de.push(this.getTextDimensions(A[P],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ne[I]=Math.max.apply(null,de)+T+T,de=[]}if(R){var ve={};for(g=0;g<M.length;g+=1)ve[M[g]]={},ve[M[g]].text=W[g],ve[M[g]].align=z[g];var be=c.call(this,ve,ne);H=M.map(function(he){return new s(u,d,ne[he],be,ve[he].text,void 0,ve[he].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var oe=y.reduce(function(he,J){return he[J.name]=J.align,he},{});for(g=0;g<f.length;g+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:g,data:f[g]},this);var Q=c.call(this,f[g],ne);for(P=0;P<M.length;P+=1){var fe=f[g][M[P]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:g,col:P,data:fe},this),a.call(this,new s(u,d,ne[M[P]],Q,fe,g+2,oe[M[P]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var c=function(u,d){var f=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(u).map(function(g){var A=u[g];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,d[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*y/_+f+f},this).reduce(function(g,A){return Math.max(g,A)},0)};r.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},r.printHeaderRow=function(u,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,_.push(f)),f.lineNumber=u;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(A)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(jt.API);var hE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},fE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],fv=dE(fE),pE=[100,200,300,400,500,600,700,800,900],KO=dE(pE);function v1(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return hE[s=s||"normal"]?s:"normal"})(r.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),i=(function(s){return typeof fv[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function K_(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var QO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Q_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function X_(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function J_(r){return r.trimLeft()}function XO(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function JO(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Jp,Z_,eb,Id,Zp,tb,nb,rb,y1=["times"];function ib(r,e,t,n,i){var s=4,a=ob;switch(i){case jt.API.image_compression.FAST:s=1,a=sb;break;case jt.API.image_compression.MEDIUM:s=6,a=ab;break;case jt.API.image_compression.SLOW:s=9,a=lb}r=(function(u,d,f,y){for(var _,g=u.length/d,A=new Uint8Array(u.length+g),P=[ZO,sb,ob,ab,lb],I=0;I<g;I+=1){var M=I*d,W=u.subarray(M,M+d);if(y)A.set(y(W,f,_),M+I);else{for(var z=P.length,q=[],ne=0;ne<z;ne+=1)q[ne]=P[ne](W,f,_);var de=t7(q.concat());A.set(q[de],M+I)}_=W}return A})(r,e,Math.ceil(t*n/8),a);var c=ov(r,{level:s});return jt.API.__addimage__.arrayBufferToBinaryString(c)}function ZO(r){var e=Array.apply([],r);return e.unshift(0),e}function sb(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var s=r[i-e]||0;n[i+1]=r[i]-s+256&255}return n}function ob(r,e,t){var n=r.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=t&&t[s]||0;i[s+1]=r[s]-a+256&255}return i}function ab(r,e,t){var n=r.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=r[s-e]||0,c=t&&t[s]||0;i[s+1]=r[s]+256-(a+c>>>1)&255}return i}function lb(r,e,t){var n=r.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=e7(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=r[s]-a+256&255}return i}function e7(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=i&&n<=s?r:i<=s?e:t}function t7(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function w1(r,e,t){var n=e*t,i=Math.floor(n/8),s=16-(n-8*i+t),a=(1<<t)-1;return mE(r,i)>>s&a}function cb(r,e,t,n){var i=t*n,s=Math.floor(i/8),a=16-(i-8*s+n),c=(1<<n)-1,u=(e&c)<<a;(function(d,f,y){if(f+1<d.byteLength)d.setUint16(f,y,!1);else{var _=y>>8&255;d.setUint8(f,_)}})(r,s,mE(r,s)&~(c<<a)&65535|u)}function mE(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function n7(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],s=i>>7,a=1<<1+(7&i);r[e++],r[e++];var c=null,u=null;s&&(c=e,u=a,e+=3*a);var d=!0,f=[],y=0,_=null,g=0,A=null;for(this.width=t,this.height=n;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,A=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var P=r[e++];y=r[e++]|r[e++]<<8,_=r[e++],1&P||(_=null),g=P>>2&7,e++;break;case 254:for(;;){if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var I=r[e++]|r[e++]<<8,M=r[e++]|r[e++]<<8,W=r[e++]|r[e++]<<8,z=r[e++]|r[e++]<<8,q=r[e++],ne=q>>6&1,de=1<<1+(7&q),H=c,O=u,R=!1;q>>7&&(R=!0,H=e,O=de,e+=3*de);var B=e;for(e++;;){var N;if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}f.push({x:I,y:M,width:W,height:z,has_local_palette:R,palette_offset:H,palette_size:O,data_offset:B,data_length:e-B,transparent_index:_,interlaced:!!ne,delay:y,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return A},this.frameInfo=function(T){if(T<0||T>=f.length)throw new Error("Frame index out of range.");return f[T]},this.decodeAndBlitFrameBGRA=function(T,D){var Z=this.frameInfo(T),ve=Z.width*Z.height,be=new Uint8Array(ve);ub(r,Z.data_offset,be,ve);var oe=Z.palette_offset,Q=Z.transparent_index;Q===null&&(Q=256);var fe=Z.width,he=t-fe,J=fe,F=4*(Z.y*t+Z.x),G=4*((Z.y+Z.height)*t+Z.x),re=F,ue=4*he;Z.interlaced===!0&&(ue+=4*t*7);for(var ge=8,xe=0,Te=be.length;xe<Te;++xe){var De=be[xe];if(J===0&&(J=fe,(re+=ue)>=G&&(ue=4*he+4*t*(ge-1),re=F+(fe+he)*(ge<<1),ge>>=1)),De===Q)re+=4;else{var Ve=r[oe+3*De],Qe=r[oe+3*De+1],ct=r[oe+3*De+2];D[re++]=ct,D[re++]=Qe,D[re++]=Ve,D[re++]=255}--J}},this.decodeAndBlitFrameRGBA=function(T,D){var Z=this.frameInfo(T),ve=Z.width*Z.height,be=new Uint8Array(ve);ub(r,Z.data_offset,be,ve);var oe=Z.palette_offset,Q=Z.transparent_index;Q===null&&(Q=256);var fe=Z.width,he=t-fe,J=fe,F=4*(Z.y*t+Z.x),G=4*((Z.y+Z.height)*t+Z.x),re=F,ue=4*he;Z.interlaced===!0&&(ue+=4*t*7);for(var ge=8,xe=0,Te=be.length;xe<Te;++xe){var De=be[xe];if(J===0&&(J=fe,(re+=ue)>=G&&(ue=4*he+4*t*(ge-1),re=F+(fe+he)*(ge<<1),ge>>=1)),De===Q)re+=4;else{var Ve=r[oe+3*De],Qe=r[oe+3*De+1],ct=r[oe+3*De+2];D[re++]=Ve,D[re++]=Qe,D[re++]=ct,D[re++]=255}--J}}}function ub(r,e,t,n){for(var i=r[e++],s=1<<i,a=s+1,c=a+1,u=i+1,d=(1<<u)-1,f=0,y=0,_=0,g=r[e++],A=new Int32Array(4096),P=null;;){for(;f<16&&g!==0;)y|=r[e++]<<f,f+=8,g===1?g=r[e++]:--g;if(f<u)break;var I=y&d;if(y>>=u,f-=u,I!==s){if(I===a)break;for(var M=I<c?I:P,W=0,z=M;z>s;)z=A[z]>>8,++W;var q=z;if(_+W+(M!==I?1:0)>n)return void _r.log("Warning, gif stream longer than expected.");t[_++]=q;var ne=_+=W;for(M!==I&&(t[_++]=q),z=M;W--;)z=A[z],t[--ne]=255&z,z>>=8;P!==null&&c<4096&&(A[c++]=P<<8|q,c>=d+1&&u<12&&(++u,d=d<<1|1)),P=I}else c=a+1,d=(1<<(u=i+1))-1,P=null}return _!==n&&_r.log("Warning, gif stream shorter than expected."),t}function _1(r){var e,t,n,i,s,a=Math.floor,c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),y=new Array(65535),_=new Array(65535),g=new Array(64),A=new Array(64),P=[],I=0,M=7,W=new Array(64),z=new Array(64),q=new Array(64),ne=new Array(256),de=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function be(F,G){for(var re=0,ue=0,ge=new Array,xe=1;xe<=16;xe++){for(var Te=1;Te<=F[xe];Te++)ge[G[ue]]=[],ge[G[ue]][0]=re,ge[G[ue]][1]=xe,ue++,re++;re*=2}return ge}function oe(F){for(var G=F[0],re=F[1]-1;re>=0;)G&1<<re&&(I|=1<<M),re--,--M<0&&(I==255?(Q(255),Q(0)):Q(I),M=7,I=0)}function Q(F){P.push(F)}function fe(F){Q(F>>8&255),Q(255&F)}function he(F,G,re,ue,ge){for(var xe,Te=ge[0],De=ge[240],Ve=(function(qe,bt){var Xe,It,wt,wn,ln,xt,kt,Qt,ht,qt,yt=0;for(ht=0;ht<8;++ht){Xe=qe[yt],It=qe[yt+1],wt=qe[yt+2],wn=qe[yt+3],ln=qe[yt+4],xt=qe[yt+5],kt=qe[yt+6];var Xn=Xe+(Qt=qe[yt+7]),mn=Xe-Qt,en=It+kt,tn=It-kt,On=wt+xt,Dt=wt-xt,Nn=wn+ln,Bt=wn-ln,Wt=Xn+Nn,gn=Xn-Nn,Ht=en+On,Rt=en-On;qe[yt]=Wt+Ht,qe[yt+4]=Wt-Ht;var fn=.707106781*(Rt+gn);qe[yt+2]=gn+fn,qe[yt+6]=gn-fn;var Vs=.382683433*((Wt=Bt+Dt)-(Rt=tn+mn)),vr=.5411961*Wt+Vs,Di=1.306562965*Rt+Vs,ti=.707106781*(Ht=Dt+tn),Vt=mn+ti,Fn=mn-ti;qe[yt+5]=Fn+vr,qe[yt+3]=Fn-vr,qe[yt+1]=Vt+Di,qe[yt+7]=Vt-Di,yt+=8}for(yt=0,ht=0;ht<8;++ht){Xe=qe[yt],It=qe[yt+8],wt=qe[yt+16],wn=qe[yt+24],ln=qe[yt+32],xt=qe[yt+40],kt=qe[yt+48];var $i=Xe+(Qt=qe[yt+56]),br=Xe-Qt,ni=It+kt,Yn=It-kt,yr=wt+xt,jn=wt-xt,Us=wn+ln,to=wn-ln,Si=$i+Us,se=$i-Us,Ee=ni+yr,We=ni-yr;qe[yt]=Si+Ee,qe[yt+32]=Si-Ee;var Ke=.707106781*(We+se);qe[yt+16]=se+Ke,qe[yt+48]=se-Ke;var Mt=.382683433*((Si=to+jn)-(We=Yn+br)),ut=.5411961*Si+Mt,Bn=1.306562965*We+Mt,An=.707106781*(Ee=jn+Yn),Gn=br+An,ri=br-An;qe[yt+40]=ri+ut,qe[yt+24]=ri-ut,qe[yt+8]=Gn+Bn,qe[yt+56]=Gn-Bn,yt++}for(ht=0;ht<64;++ht)qt=qe[ht]*bt[ht],g[ht]=qt>0?qt+.5|0:qt-.5|0;return g})(F,G),Qe=0;Qe<64;++Qe)A[H[Qe]]=Ve[Qe];var ct=A[0]-re;re=A[0],ct==0?oe(ue[0]):(oe(ue[_[xe=32767+ct]]),oe(y[xe]));for(var ot=63;ot>0&&A[ot]==0;)ot--;if(ot==0)return oe(Te),re;for(var vt,ie=1;ie<=ot;){for(var at=ie;A[ie]==0&&ie<=ot;)++ie;var Ze=ie-at;if(Ze>=16){vt=Ze>>4;for(var Pt=1;Pt<=vt;++Pt)oe(De);Ze&=15}xe=32767+A[ie],oe(ge[(Ze<<4)+_[xe]]),oe(y[xe]),ie++}return ot!=63&&oe(Te),re}function J(F){F=Math.min(Math.max(F,1),100),s!=F&&((function(G){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var ge=a((re[ue]*G+50)/100);ge=Math.min(Math.max(ge,1),255),c[H[ue]]=ge}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var De=a((xe[Te]*G+50)/100);De=Math.min(Math.max(De,1),255),u[H[Te]]=De}for(var Ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,ct=0;ct<8;ct++)for(var ot=0;ot<8;ot++)d[Qe]=1/(c[H[Qe]]*Ve[ct]*Ve[ot]*8),f[Qe]=1/(u[H[Qe]]*Ve[ct]*Ve[ot]*8),Qe++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,G){G&&J(G),P=new Array,I=0,M=7,fe(65496),fe(65504),fe(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),fe(1),fe(1),Q(0),Q(0),(function(){fe(65499),fe(132),Q(0);for(var It=0;It<64;It++)Q(c[It]);Q(1);for(var wt=0;wt<64;wt++)Q(u[wt])})(),(function(It,wt){fe(65472),fe(17),Q(8),fe(wt),fe(It),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)})(F.width,F.height),(function(){fe(65476),fe(418),Q(0);for(var It=0;It<16;It++)Q(O[It+1]);for(var wt=0;wt<=11;wt++)Q(R[wt]);Q(16);for(var wn=0;wn<16;wn++)Q(B[wn+1]);for(var ln=0;ln<=161;ln++)Q(N[ln]);Q(1);for(var xt=0;xt<16;xt++)Q(T[xt+1]);for(var kt=0;kt<=11;kt++)Q(D[kt]);Q(17);for(var Qt=0;Qt<16;Qt++)Q(Z[Qt+1]);for(var ht=0;ht<=161;ht++)Q(ve[ht])})(),fe(65498),fe(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var re=0,ue=0,ge=0;I=0,M=7,this.encode.displayName="_encode_";for(var xe,Te,De,Ve,Qe,ct,ot,vt,ie,at=F.data,Ze=F.width,Pt=F.height,qe=4*Ze,bt=0;bt<Pt;){for(xe=0;xe<qe;){for(Qe=qe*bt+xe,ot=-1,vt=0,ie=0;ie<64;ie++)ct=Qe+(vt=ie>>3)*qe+(ot=4*(7&ie)),bt+vt>=Pt&&(ct-=qe*(bt+1+vt-Pt)),xe+ot>=qe&&(ct-=xe+ot-qe+4),Te=at[ct++],De=at[ct++],Ve=at[ct++],W[ie]=(de[Te]+de[De+256|0]+de[Ve+512|0]>>16)-128,z[ie]=(de[Te+768|0]+de[De+1024|0]+de[Ve+1280|0]>>16)-128,q[ie]=(de[Te+1280|0]+de[De+1536|0]+de[Ve+1792|0]>>16)-128;re=he(W,d,re,e,n),ue=he(z,f,ue,t,i),ge=he(q,f,ge,t,i),xe+=32}bt+=8}if(M>=0){var Xe=[];Xe[1]=M+1,Xe[0]=(1<<M+1)-1,oe(Xe)}return fe(65497),new Uint8Array(P)},r=r||50,(function(){for(var F=String.fromCharCode,G=0;G<256;G++)ne[G]=F(G)})(),e=be(O,R),t=be(T,D),n=be(B,N),i=be(Z,ve),(function(){for(var F=1,G=2,re=1;re<=15;re++){for(var ue=F;ue<G;ue++)_[32767+ue]=re,y[32767+ue]=[],y[32767+ue][1]=re,y[32767+ue][0]=ue;for(var ge=-(G-1);ge<=-F;ge++)_[32767+ge]=re,y[32767+ge]=[],y[32767+ge][1]=re,y[32767+ge][0]=G-1+ge;F<<=1,G<<=1}})(),(function(){for(var F=0;F<256;F++)de[F]=19595*F,de[F+256|0]=38470*F,de[F+512|0]=7471*F+32768,de[F+768|0]=-11059*F,de[F+1024|0]=-21709*F,de[F+1280|0]=32768*F+8421375,de[F+1536|0]=-27439*F,de[F+1792|0]=-5329*F})(),J(r)}function Ca(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function db(r){function e(R){if(!R)throw Error("assert :P")}function t(R,B,N){for(var T=0;4>T;T++)if(R[B+T]!=N.charCodeAt(T))return!0;return!1}function n(R,B,N,T,D){for(var Z=0;Z<D;Z++)R[B+Z]=N[T+Z]}function i(R,B,N,T){for(var D=0;D<T;D++)R[B+D]=N}function s(R){return new Int32Array(R)}function a(R,B){for(var N=[],T=0;T<R;T++)N.push(new B);return N}function c(R,B){var N=[];return(function T(D,Z,ve){for(var be=ve[Z],oe=0;oe<be&&(D.push(ve.length>Z+1?[]:new B),!(ve.length<Z+1));oe++)T(D[oe],Z+1,ve)})(N,0,R),N}var u=function(){var R=this;function B(p,w){for(var S=1<<w-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function N(p,w,S,L,U){e(!(L%S));do p[w+(L-=S)]=U;while(0<L)}function T(p,w,S,L,U){if(e(2328>=U),512>=U)var Y=s(512);else if((Y=s(U))==null)return 0;return(function(K,X,te,ae,we,Pe){var le,Se,Ne=X,ze=1<<te,Re=s(16),Be=s(16);for(e(we!=0),e(ae!=null),e(K!=null),e(0<te),Se=0;Se<we;++Se){if(15<ae[Se])return 0;++Re[ae[Se]]}if(Re[0]==we)return 0;for(Be[1]=0,le=1;15>le;++le){if(Re[le]>1<<le)return 0;Be[le+1]=Be[le]+Re[le]}for(Se=0;Se<we;++Se)le=ae[Se],0<ae[Se]&&(Pe[Be[le]++]=Se);if(Be[15]==1)return(ae=new D).g=0,ae.value=Pe[0],N(K,Ne,1,ze,ae),ze;var Ue,$e=-1,Ye=ze-1,Lt=0,mt=1,an=1,St=1<<te;for(Se=0,le=1,we=2;le<=te;++le,we<<=1){if(mt+=an<<=1,0>(an-=Re[le]))return 0;for(;0<Re[le];--Re[le])(ae=new D).g=le,ae.value=Pe[Se++],N(K,Ne+Lt,we,St,ae),Lt=B(Lt,le)}for(le=te+1,we=2;15>=le;++le,we<<=1){if(mt+=an<<=1,0>(an-=Re[le]))return 0;for(;0<Re[le];--Re[le]){if(ae=new D,(Lt&Ye)!=$e){for(Ne+=St,Ue=1<<($e=le)-te;15>$e&&!(0>=(Ue-=Re[$e]));)++$e,Ue<<=1;ze+=St=1<<(Ue=$e-te),K[X+($e=Lt&Ye)].g=Ue+te,K[X+$e].value=Ne-X-$e}ae.g=le-te,ae.value=Pe[Se++],N(K,Ne+(Lt>>te),we,St,ae),Lt=B(Lt,le)}}return mt!=2*Be[15]-1?0:ze})(p,w,S,L,U,Y)}function D(){this.value=this.g=0}function Z(){this.value=this.g=0}function ve(){this.G=a(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(lo,Z)}function be(p,w,S,L){e(p!=null),e(w!=null),e(2147483648>L),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=w,p.pa=S,p.Jd=w,p.Yc=S+L,p.Zc=4<=L?S+L-4+1:S,Te(p)}function oe(p,w){for(var S=0;0<w--;)S|=Ve(p,128)<<w;return S}function Q(p,w){var S=oe(p,w);return De(p)?-S:S}function fe(p,w,S,L){var U,Y=0;for(e(p!=null),e(w!=null),e(4294967288>L),p.Sb=L,p.Ra=0,p.u=0,p.h=0,4<L&&(L=4),U=0;U<L;++U)Y+=w[S+U]<<8*U;p.Ra=Y,p.bb=L,p.oa=w,p.pa=S}function he(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ua-8>>>0,++p.bb,p.u-=8;ue(p)&&(p.h=1,p.u=0)}function J(p,w){if(e(0<=w),!p.h&&w<=Ys){var S=re(p)&$s[w];return p.u+=w,he(p),S}return p.h=1,p.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(p){return p.Ra>>>(p.u&Ua-1)>>>0}function ue(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ua}function ge(p,w){p.u=w,p.h=ue(p)}function xe(p){p.u>=Qo&&(e(p.u>=Qo),he(p))}function Te(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function De(p){return oe(p,1)}function Ve(p,w){var S=p.Ca;0>p.b&&Te(p);var L=p.b,U=S*w>>>8,Y=(p.I>>>L>U)+0;for(Y?(S-=U,p.I-=U+1<<L>>>0):S=U+1,L=S,U=0;256<=L;)U+=8,L>>=8;return L=7^U+pa[L],p.b-=L,p.Ca=(S<<L)-1,Y}function Qe(p,w,S){p[w+0]=S>>24&255,p[w+1]=S>>16&255,p[w+2]=S>>8&255,p[w+3]=255&S}function ct(p,w){return p[w+0]|p[w+1]<<8}function ot(p,w){return ct(p,w)|p[w+2]<<16}function vt(p,w){return ct(p,w)|ct(p,w+2)<<16}function ie(p,w){var S=1<<w;return e(p!=null),e(0<w),p.X=s(S),p.X==null?0:(p.Mb=32-w,p.Xa=w,1)}function at(p,w){e(p!=null),e(w!=null),e(p.Xa==w.Xa),n(w.X,0,p.X,0,1<<w.Xa)}function Ze(){this.X=[],this.Xa=this.Mb=0}function Pt(p,w,S,L){e(S!=null),e(L!=null);var U=S[0],Y=L[0];return U==0&&(U=(p*Y+w/2)/w),Y==0&&(Y=(w*U+p/2)/p),0>=U||0>=Y?0:(S[0]=U,L[0]=Y,1)}function qe(p,w){return p+(1<<w)-1>>>w}function bt(p,w){return((4278255360&p)+(4278255360&w)>>>0&4278255360)+((16711935&p)+(16711935&w)>>>0&16711935)>>>0}function Xe(p,w){R[w]=function(S,L,U,Y,K,X,te){var ae;for(ae=0;ae<K;++ae){var we=R[p](X[te+ae-1],U,Y+ae);X[te+ae]=bt(S[L+ae],we)}}}function It(){this.ud=this.hd=this.jd=0}function wt(p,w){return((4278124286&(p^w))>>>1)+(p&w)>>>0}function wn(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function ln(p,w){return wn(p+(p-w+.5>>1))}function xt(p,w,S){return Math.abs(w-S)-Math.abs(p-S)}function kt(p,w,S,L,U,Y,K){for(L=Y[K-1],S=0;S<U;++S)Y[K+S]=L=bt(p[w+S],L)}function Qt(p,w,S,L,U){var Y;for(Y=0;Y<S;++Y){var K=p[w+Y],X=K>>8&255,te=16711935&(te=(te=16711935&K)+((X<<16)+X));L[U+Y]=(4278255360&K)+te>>>0}}function ht(p,w){w.jd=255&p,w.hd=p>>8&255,w.ud=p>>16&255}function qt(p,w,S,L,U,Y){var K;for(K=0;K<L;++K){var X=w[S+K],te=X>>>8,ae=X,we=255&(we=(we=X>>>16)+((p.jd<<24>>24)*(te<<24>>24)>>>5));ae=255&(ae=(ae+=(p.hd<<24>>24)*(te<<24>>24)>>>5)+((p.ud<<24>>24)*(we<<24>>24)>>>5)),U[Y+K]=(4278255360&X)+(we<<16)+ae}}function yt(p,w,S,L,U){R[w]=function(Y,K,X,te,ae,we,Pe,le,Se){for(te=Pe;te<le;++te)for(Pe=0;Pe<Se;++Pe)ae[we++]=U(X[L(Y[K++])])},R[p]=function(Y,K,X,te,ae,we,Pe){var le=8>>Y.b,Se=Y.Ea,Ne=Y.K[0],ze=Y.w;if(8>le)for(Y=(1<<Y.b)-1,ze=(1<<le)-1;K<X;++K){var Re,Be=0;for(Re=0;Re<Se;++Re)Re&Y||(Be=L(te[ae++])),we[Pe++]=U(Ne[Be&ze]),Be>>=le}else R["VP8LMapColor"+S](te,ae,Ne,ze,we,Pe,K,X,Se)}}function Xn(p,w,S,L,U){for(S=w+S;w<S;){var Y=p[w++];L[U++]=Y>>16&255,L[U++]=Y>>8&255,L[U++]=255&Y}}function mn(p,w,S,L,U){for(S=w+S;w<S;){var Y=p[w++];L[U++]=Y>>16&255,L[U++]=Y>>8&255,L[U++]=255&Y,L[U++]=Y>>24&255}}function en(p,w,S,L,U){for(S=w+S;w<S;){var Y=(K=p[w++])>>16&240|K>>12&15,K=240&K|K>>28&15;L[U++]=Y,L[U++]=K}}function tn(p,w,S,L,U){for(S=w+S;w<S;){var Y=(K=p[w++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;L[U++]=Y,L[U++]=K}}function On(p,w,S,L,U){for(S=w+S;w<S;){var Y=p[w++];L[U++]=255&Y,L[U++]=Y>>8&255,L[U++]=Y>>16&255}}function Dt(p,w,S,L,U,Y){if(Y==0)for(S=w+S;w<S;)Qe(L,((Y=p[w++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),U+=32;else n(L,U,p,w,S)}function Nn(p,w){R[w][0]=R[p+"0"],R[w][1]=R[p+"1"],R[w][2]=R[p+"2"],R[w][3]=R[p+"3"],R[w][4]=R[p+"4"],R[w][5]=R[p+"5"],R[w][6]=R[p+"6"],R[w][7]=R[p+"7"],R[w][8]=R[p+"8"],R[w][9]=R[p+"9"],R[w][10]=R[p+"10"],R[w][11]=R[p+"11"],R[w][12]=R[p+"12"],R[w][13]=R[p+"13"],R[w][14]=R[p+"0"],R[w][15]=R[p+"0"]}function Bt(p){return p==gc||p==Il||p==du||p==hu}function Wt(){this.eb=[],this.size=this.A=this.fb=0}function gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ht(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Wt,this.f.kb=new gn,this.sd=null}function Rt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vs(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function vr(p,w){var S=p.T,L=w.ba.f.RGBA,U=L.eb,Y=L.fb+p.ka*L.A,K=ks[w.ba.S],X=p.y,te=p.O,ae=p.f,we=p.N,Pe=p.ea,le=p.W,Se=w.cc,Ne=w.dc,ze=w.Mc,Re=w.Nc,Be=p.ka,Ue=p.ka+p.T,$e=p.U,Ye=$e+1>>1;for(Be==0?K(X,te,null,null,ae,we,Pe,le,ae,we,Pe,le,U,Y,null,null,$e):(K(w.ec,w.fc,X,te,Se,Ne,ze,Re,ae,we,Pe,le,U,Y-L.A,U,Y,$e),++S);Be+2<Ue;Be+=2)Se=ae,Ne=we,ze=Pe,Re=le,we+=p.Rc,le+=p.Rc,Y+=2*L.A,K(X,(te+=2*p.fa)-p.fa,X,te,Se,Ne,ze,Re,ae,we,Pe,le,U,Y-L.A,U,Y,$e);return te+=p.fa,p.j+Ue<p.o?(n(w.ec,w.fc,X,te,$e),n(w.cc,w.dc,ae,we,Ye),n(w.Mc,w.Nc,Pe,le,Ye),S--):1&Ue||K(X,te,null,null,ae,we,Pe,le,ae,we,Pe,le,U,Y+L.A,null,null,$e),S}function Di(p,w,S){var L=p.F,U=[p.J];if(L!=null){var Y=p.U,K=w.ba.S,X=K==uu||K==du;w=w.ba.f.RGBA;var te=[0],ae=p.ka;te[0]=p.T,p.Kb&&(ae==0?--te[0]:(--ae,U[0]-=p.width),p.j+p.ka+p.T==p.o&&(te[0]=p.o-p.j-ae));var we=w.eb;ae=w.fb+ae*w.A,p=lu(L,U[0],p.width,Y,te,we,ae+(X?0:3),w.A),e(S==te),p&&Bt(K)&&Cl(we,ae,X,Y,te,w.A)}return 0}function ti(p){var w=p.ma,S=w.ba.S,L=11>S,U=S==Wa||S==cu||S==uu||S==ar||S==12||Bt(S);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!cc(w.Oa,p,U?11:12))return 0;if(U&&Bt(S)&&bs(),p.da)alert("todo:use_scaling");else{if(L){if(w.Ib=Vs,p.Kb){if(S=p.U+1>>1,w.memory=s(p.U+2*S),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+p.U,w.Mc=w.cc,w.Nc=w.dc+S,w.Ib=vr,bs()}}else alert("todo:EmitYUV");U&&(w.Jb=Di,L&&_s())}if(L&&!Bi){for(p=0;256>p;++p)Es[p]=89858*(p-128)+Co>>ya,As[p]=-22014*(p-128)+Co,_c[p]=-45773*(p-128),Dl[p]=113618*(p-128)+Co>>ya;for(p=Zn;p<ir;++p)w=76283*(p-16)+Co>>ya,ld[p-Zn]=xr(w,255),tp[p-Zn]=xr(w+8>>4,15);Bi=1}return 1}function Vt(p){var w=p.ma,S=p.U,L=p.T;return e(!(1&p.ka)),0>=S||0>=L?0:(S=w.Ib(p,w),w.Jb!=null&&w.Jb(p,w,S),w.Dc+=S,1)}function Fn(p){p.ma.memory=null}function $i(p,w,S,L){return J(p,8)!=47?0:(w[0]=J(p,14)+1,S[0]=J(p,14)+1,L[0]=J(p,1),J(p,3)!=0?0:!p.h)}function br(p,w){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+J(w,S)+1}function ni(p,w){return 120<w?w-120:1<=(S=((S=Bg[w-1])>>4)*p+(8-(15&S)))?S:1;var S}function Yn(p,w,S){var L=re(S),U=p[w+=255&L].g-8;return 0<U&&(ge(S,S.u+8),L=re(S),w+=p[w].value,w+=L&(1<<U)-1),ge(S,S.u+p[w].g),p[w].value}function yr(p,w,S){return S.g+=p.g,S.value+=p.value<<w>>>0,e(8>=S.g),p.g}function jn(p,w,S){var L=p.xc;return e((w=L==0?0:p.vc[p.md*(S>>L)+(w>>L)])<p.Wb),p.Ya[w]}function Us(p,w,S,L){var U=p.ab,Y=p.c*w,K=p.C;w=K+w;var X=S,te=L;for(L=p.Ta,S=p.Ua;0<U--;){var ae=p.gc[U],we=K,Pe=w,le=X,Se=te,Ne=(te=L,X=S,ae.Ea);switch(e(we<Pe),e(Pe<=ae.nc),ae.hc){case 2:Yr(le,Se,(Pe-we)*Ne,te,X);break;case 0:var ze=we,Re=Pe,Be=te,Ue=X,$e=(St=ae).Ea;ze==0&&(ma(le,Se,null,null,1,Be,Ue),kt(le,Se+1,0,0,$e-1,Be,Ue+1),Se+=$e,Ue+=$e,++ze);for(var Ye=1<<St.b,Lt=Ye-1,mt=qe($e,St.b),an=St.K,St=St.w+(ze>>St.b)*mt;ze<Re;){var kn=an,Ur=St,cn=1;for(Xo(le,Se,Be,Ue-$e,1,Be,Ue);cn<$e;){var gt=(cn&~Lt)+Ye;gt>$e&&(gt=$e),(0,Sl[kn[Ur++]>>8&15])(le,Se+ +cn,Be,Ue+cn-$e,gt-cn,Be,Ue+cn),cn=gt}Se+=$e,Ue+=$e,++ze&Lt||(St+=mt)}Pe!=ae.nc&&n(te,X-Ne,te,X+(Pe-we-1)*Ne,Ne);break;case 1:for(Ne=le,Re=Se,$e=(le=ae.Ea)-(Ue=le&~(Be=(Se=1<<ae.b)-1)),ze=qe(le,ae.b),Ye=ae.K,ae=ae.w+(we>>ae.b)*ze;we<Pe;){for(Lt=Ye,mt=ae,an=new It,St=Re+Ue,kn=Re+le;Re<St;)ht(Lt[mt++],an),dc(an,Ne,Re,Se,te,X),Re+=Se,X+=Se;Re<kn&&(ht(Lt[mt++],an),dc(an,Ne,Re,$e,te,X),Re+=$e,X+=$e),++we&Be||(ae+=ze)}break;case 3:if(le==te&&Se==X&&0<ae.b){for(Re=te,le=Ne=X+(Pe-we)*Ne-(Ue=(Pe-we)*qe(ae.Ea,ae.b)),Se=te,Be=X,ze=[],Ue=($e=Ue)-1;0<=Ue;--Ue)ze[Ue]=Se[Be+Ue];for(Ue=$e-1;0<=Ue;--Ue)Re[le+Ue]=ze[Ue];bl(ae,we,Pe,te,Ne,te,X)}else bl(ae,we,Pe,le,Se,te,X)}X=L,te=S}te!=S&&n(L,S,X,te,Y)}function to(p,w){var S=p.V,L=p.Ba+p.c*p.C,U=w-p.C;if(e(w<=p.l.o),e(16>=U),0<U){var Y=p.l,K=p.Ta,X=p.Ua,te=Y.width;if(Us(p,U,S,L),U=X=[X],e((S=p.C)<(L=w)),e(Y.v<Y.va),L>Y.o&&(L=Y.o),S<Y.j){var ae=Y.j-S;S=Y.j,U[0]+=ae*te}if(S>=L?S=0:(U[0]+=4*Y.v,Y.ka=S-Y.j,Y.U=Y.va-Y.v,Y.T=L-S,S=1),S){if(X=X[0],11>(S=p.ca).S){var we=S.f.RGBA,Pe=(L=S.S,U=Y.U,Y=Y.T,ae=we.eb,we.A),le=Y;for(we=we.fb+p.Ma*we.A;0<le--;){var Se=K,Ne=X,ze=U,Re=ae,Be=we;switch(L){case id:hc(Se,Ne,ze,Re,Be);break;case Wa:ga(Se,Ne,ze,Re,Be);break;case gc:ga(Se,Ne,ze,Re,Be),Cl(Re,Be,0,ze,1,0);break;case Qf:kl(Se,Ne,ze,Re,Be);break;case cu:Dt(Se,Ne,ze,Re,Be,1);break;case Il:Dt(Se,Ne,ze,Re,Be,1),Cl(Re,Be,0,ze,1,0);break;case uu:Dt(Se,Ne,ze,Re,Be,0);break;case du:Dt(Se,Ne,ze,Re,Be,0),Cl(Re,Be,1,ze,1,0);break;case ar:za(Se,Ne,ze,Re,Be);break;case hu:za(Se,Ne,ze,Re,Be),kh(Re,Be,ze,1,0);break;case sd:qa(Se,Ne,ze,Re,Be);break;default:e(0)}X+=te,we+=Pe}p.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=w,e(p.C<=p.i)}function Si(p){var w;if(0<p.ua)return 0;for(w=0;w<p.Wb;++w){var S=p.Ya[w].G,L=p.Ya[w].H;if(0<S[1][L[1]+0].g||0<S[2][L[2]+0].g||0<S[3][L[3]+0].g)return 0}return 1}function se(p,w,S,L,U,Y){if(p.Z!=0){var K=p.qd,X=p.rd;for(e(Xi[p.Z]!=null);w<S;++w)Xi[p.Z](K,X,L,U,L,U,Y),K=L,X=U,U+=Y;p.qd=K,p.rd=X}}function Ee(p,w){var S=p.l.ma,L=S.Z==0||S.Z==1?p.l.j:p.C;if(L=p.C<L?L:p.C,e(w<=p.l.o),w>L){var U=p.l.width,Y=S.ca,K=S.tb+U*L,X=p.V,te=p.Ba+p.c*L,ae=p.gc;e(p.ab==1),e(ae[0].hc==3),Eo(ae[0],L,w,X,te,Y,K),se(S,L,w,Y,K,U)}p.C=p.Ma=w}function We(p,w,S,L,U,Y,K){var X=p.$/L,te=p.$%L,ae=p.m,we=p.s,Pe=S+p.$,le=Pe;U=S+L*U;var Se=S+L*Y,Ne=280+we.ua,ze=p.Pb?X:16777216,Re=0<we.ua?we.Wa:null,Be=we.wc,Ue=Pe<Se?jn(we,te,X):null;e(p.C<Y),e(Se<=U);var $e=!1;e:for(;;){for(;$e||Pe<Se;){var Ye=0;if(X>=ze){var Lt=Pe-S;e((ze=p).Pb),ze.wd=ze.m,ze.xd=Lt,0<ze.s.ua&&at(ze.s.Wa,ze.s.vb),ze=X+ad}if(te&Be||(Ue=jn(we,te,X)),e(Ue!=null),Ue.Qb&&(w[Pe]=Ue.qb,$e=!0),!$e)if(xe(ae),Ue.jc){Ye=ae,Lt=w;var mt=Pe,an=Ue.pd[re(Ye)&lo-1];e(Ue.jc),256>an.g?(ge(Ye,Ye.u+an.g),Lt[mt]=an.value,Ye=0):(ge(Ye,Ye.u+an.g-256),e(256<=an.value),Ye=an.value),Ye==0&&($e=!0)}else Ye=Yn(Ue.G[0],Ue.H[0],ae);if(ae.h)break;if($e||256>Ye){if(!$e)if(Ue.nd)w[Pe]=(Ue.qb|Ye<<8)>>>0;else{if(xe(ae),$e=Yn(Ue.G[1],Ue.H[1],ae),xe(ae),Lt=Yn(Ue.G[2],Ue.H[2],ae),mt=Yn(Ue.G[3],Ue.H[3],ae),ae.h)break;w[Pe]=(mt<<24|$e<<16|Ye<<8|Lt)>>>0}if($e=!1,++Pe,++te>=L&&(te=0,++X,K!=null&&X<=Y&&!(X%16)&&K(p,X),Re!=null))for(;le<Pe;)Ye=w[le++],Re.X[(506832829*Ye&4294967295)>>>Re.Mb]=Ye}else if(280>Ye){if(Ye=br(Ye-256,ae),Lt=Yn(Ue.G[4],Ue.H[4],ae),xe(ae),Lt=ni(L,Lt=br(Lt,ae)),ae.h)break;if(Pe-S<Lt||U-Pe<Ye)break e;for(mt=0;mt<Ye;++mt)w[Pe+mt]=w[Pe+mt-Lt];for(Pe+=Ye,te+=Ye;te>=L;)te-=L,++X,K!=null&&X<=Y&&!(X%16)&&K(p,X);if(e(Pe<=U),te&Be&&(Ue=jn(we,te,X)),Re!=null)for(;le<Pe;)Ye=w[le++],Re.X[(506832829*Ye&4294967295)>>>Re.Mb]=Ye}else{if(!(Ye<Ne))break e;for($e=Ye-280,e(Re!=null);le<Pe;)Ye=w[le++],Re.X[(506832829*Ye&4294967295)>>>Re.Mb]=Ye;Ye=Pe,e(!($e>>>(Lt=Re).Xa)),w[Ye]=Lt.X[$e],$e=!0}$e||e(ae.h==ue(ae))}if(p.Pb&&ae.h&&Pe<U)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&at(p.s.vb,p.s.Wa);else{if(ae.h)break e;K?.(p,X>Y?Y:X),p.a=0,p.$=Pe-S}return 1}return p.a=3,0}function Ke(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var w=p.Wa;w!=null&&(w.X=null),p.vb=null,e(p!=null)}function Mt(){var p=new $t;return p==null?null:(p.a=0,p.xb=yc,Nn("Predictor","VP8LPredictors"),Nn("Predictor","VP8LPredictors_C"),Nn("PredictorAdd","VP8LPredictorsAdd"),Nn("PredictorAdd","VP8LPredictorsAdd_C"),Yr=Qt,dc=qt,hc=Xn,ga=mn,za=en,qa=tn,kl=On,R.VP8LMapColor32b=Jo,R.VP8LMapColor8b=xl,p)}function ut(p,w,S,L,U){var Y=1,K=[p],X=[w],te=L.m,ae=L.s,we=null,Pe=0;e:for(;;){if(S)for(;Y&&J(te,1);){var le=K,Se=X,Ne=L,ze=1,Re=Ne.m,Be=Ne.gc[Ne.ab],Ue=J(Re,2);if(Ne.Oc&1<<Ue)Y=0;else{switch(Ne.Oc|=1<<Ue,Be.hc=Ue,Be.Ea=le[0],Be.nc=Se[0],Be.K=[null],++Ne.ab,e(4>=Ne.ab),Ue){case 0:case 1:Be.b=J(Re,3)+2,ze=ut(qe(Be.Ea,Be.b),qe(Be.nc,Be.b),0,Ne,Be.K),Be.K=Be.K[0];break;case 3:var $e,Ye=J(Re,8)+1,Lt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(le[0]=qe(Be.Ea,Lt),Be.b=Lt,$e=ze=ut(Ye,1,0,Ne,Be.K)){var mt,an=Ye,St=Be,kn=1<<(8>>St.b),Ur=s(kn);if(Ur==null)$e=0;else{var cn=St.K[0],gt=St.w;for(Ur[0]=St.K[0][0],mt=1;mt<1*an;++mt)Ur[mt]=bt(cn[gt+mt],Ur[mt-1]);for(;mt<4*kn;++mt)Ur[mt]=0;St.K[0]=null,St.K[0]=Ur,$e=1}}ze=$e;break;case 2:break;default:e(0)}Y=ze}}if(K=K[0],X=X[0],Y&&J(te,1)&&!(Y=1<=(Pe=J(te,4))&&11>=Pe)){L.a=3;break e}var lt;if(lt=Y)t:{var Gr,Jt,_n,gr=L,Ci=K,ai=X,Pr=Pe,pi=S,Ii=gr.m,kr=gr.s,In=[null],qn=1,Er=0,Hn=Jf[Pr];n:for(;;){if(pi&&J(Ii,1)){var zr=J(Ii,3)+2,qr=qe(Ci,zr),lr=qe(ai,zr),Ji=qr*lr;if(!ut(qr,lr,0,gr,In))break n;for(In=In[0],kr.xc=zr,Gr=0;Gr<Ji;++Gr){var sr=In[Gr]>>8&65535;In[Gr]=sr,sr>=qn&&(qn=sr+1)}}if(Ii.h)break n;for(Jt=0;5>Jt;++Jt){var cr=Tl[Jt];!Jt&&0<Pr&&(cr+=1<<Pr),Er<cr&&(Er=cr)}var li=a(qn*Hn,D),Vi=qn,Cs=a(Vi,ve);if(Cs==null)var Kr=null;else e(65536>=Vi),Kr=Cs;var Qr=s(Er);if(Kr==null||Qr==null||li==null){gr.a=1;break n}var Zi=li;for(Gr=_n=0;Gr<qn;++Gr){var ur=Kr[Gr],es=ur.G,ho=ur.H,Io=0,Ti=1,Xr=0;for(Jt=0;5>Jt;++Jt){cr=Tl[Jt],es[Jt]=Zi,ho[Jt]=_n,!Jt&&0<Pr&&(cr+=1<<Pr);i:{var Ga,_a=cr,bc=gr,ta=Qr,rp=Zi,Oh=_n,wr=0,To=bc.m,Fh=J(To,1);if(i(ta,0,0,_a),Fh){var jh=J(To,1)+1,cd=J(To,1),ud=J(To,cd==0?1:8);ta[ud]=1,jh==2&&(ta[ud=J(To,8)]=1);var na=1}else{var Ar=s(19),ci=J(To,4)+4;if(19<ci){bc.a=3;var Jr=0;break i}for(Ga=0;Ga<ci;++Ga)Ar[jg[Ga]]=J(To,3);var xc=void 0,ba=void 0,Sc=bc,Hg=Ar,mi=_a,dd=ta,vu=0,ra=Sc.m,No=8,Gs=a(128,D);r:for(;T(Gs,0,7,Hg,19);){if(J(ra,1)){var yu=2+2*J(ra,3);if((xc=2+J(ra,yu))>mi)break r}else xc=mi;for(ba=0;ba<mi&&xc--;){xe(ra);var hd=Gs[0+(127&re(ra))];ge(ra,ra.u+hd.g);var Ka=hd.value;if(16>Ka)dd[ba++]=Ka,Ka!=0&&(No=Ka);else{var ip=Ka==16,Bh=Ka-16,sp=od[Bh],Vh=J(ra,fu[Bh])+sp;if(ba+Vh>mi)break r;for(var op=ip?No:0;0<Vh--;)dd[ba++]=op}}vu=1;break r}vu||(Sc.a=3),na=vu}(na=na&&!To.h)&&(wr=T(rp,Oh,8,ta,_a)),na&&wr!=0?Jr=wr:(bc.a=3,Jr=0)}if(Jr==0)break n;if(Ti&&Xf[Jt]==1&&(Ti=Zi[_n].g==0),Io+=Zi[_n].g,_n+=Jr,3>=Jt){var kc,fd=Qr[0];for(kc=1;kc<cr;++kc)Qr[kc]>fd&&(fd=Qr[kc]);Xr+=fd}}if(ur.nd=Ti,ur.Qb=0,Ti&&(ur.qb=(es[3][ho[3]+0].value<<24|es[1][ho[1]+0].value<<16|es[2][ho[2]+0].value)>>>0,Io==0&&256>es[0][ho[0]+0].value&&(ur.Qb=1,ur.qb+=es[0][ho[0]+0].value<<8)),ur.jc=!ur.Qb&&6>Xr,ur.jc){var wu,Ks=ur;for(wu=0;wu<lo;++wu){var xa=wu,Po=Ks.pd[xa],Rl=Ks.G[0][Ks.H[0]+xa];256<=Rl.value?(Po.g=Rl.g+256,Po.value=Rl.value):(Po.g=0,Po.value=0,xa>>=yr(Rl,8,Po),xa>>=yr(Ks.G[1][Ks.H[1]+xa],16,Po),xa>>=yr(Ks.G[2][Ks.H[2]+xa],0,Po),yr(Ks.G[3][Ks.H[3]+xa],24,Po))}}}kr.vc=In,kr.Wb=qn,kr.Ya=Kr,kr.yc=li,lt=1;break t}lt=0}if(!(Y=lt)){L.a=3;break e}if(0<Pe){if(ae.ua=1<<Pe,!ie(ae.Wa,Pe)){L.a=1,Y=0;break e}}else ae.ua=0;var pd=L,md=K,ap=X,gd=pd.s,vd=gd.xc;if(pd.c=md,pd.i=ap,gd.md=qe(md,vd),gd.wc=vd==0?-1:(1<<vd)-1,S){L.xb=ea;break e}if((we=s(K*X))==null){L.a=1,Y=0;break e}Y=(Y=We(L,we,0,K,X,X,null))&&!te.h;break e}return Y?(U!=null?U[0]=we:(e(we==null),e(S)),L.$=0,S||Ke(ae)):Ke(ae),Y}function Bn(p,w){var S=p.c*p.i,L=S+w+16*w;return e(p.c<=w),p.V=s(L),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+w,1)}function An(p,w){var S=p.C,L=w-S,U=p.V,Y=p.Ba+p.c*S;for(e(w<=p.l.o);0<L;){var K=16<L?16:L,X=p.l.ma,te=p.l.width,ae=te*K,we=X.ca,Pe=X.tb+te*S,le=p.Ta,Se=p.Ua;Us(p,K,U,Y),Eh(le,Se,we,Pe,ae),se(X,S,S+K,we,Pe,te),L-=K,U+=K*p.c,S+=K}e(S==w),p.C=p.Ma=w}function Gn(){this.ub=this.yd=this.td=this.Rb=0}function ri(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Yi(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function nn(){this.Yb=(function(){var p=[];return(function w(S,L,U){for(var Y=U[L],K=0;K<Y&&(S.push(U.length>L+1?[]:0),!(U.length<L+1));K++)w(S[K],L+1,U)})(p,0,[3,11]),p})()}function Rr(){this.jb=s(3),this.Wc=c([4,8],nn),this.Xc=c([4,17],nn)}function mr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Vn(){this.ld=this.La=this.dd=this.tc=0}function Mr(){this.Na=this.la=0}function no(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gi(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ys(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vn),this.Y=0,this.ya=Array(new Gi),this.aa=0,this.l=new Vo}function Ki(){this.y=s(16),this.f=s(8),this.ea=s(8)}function wl(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new Gn,this.Kc=new ri,this.ed=new mr,this.Qa=new Yi,this.Ic=this.$c=this.Aa=0,this.D=new ys,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,F),this.ia=0,this.pb=a(4,no),this.Pa=new Rr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ki),this.Hd=0,this.rb=Array(new Mr),this.sb=0,this.wa=Array(new Vn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gi),this.L=this.aa=0,this.gd=c([4,2],Vn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xr(p,w){return 0>p?0:p>w?w:p}function Vo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ic(){var p=new wl;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Nl||(Nl=zs)),p}function Cr(p,w,S){return p.a==0&&(p.a=w,p.sc=S,p.cb=0),0}function ua(p,w,S){return 3<=S&&p[w+0]==157&&p[w+1]==1&&p[w+2]==42}function os(p,w){if(p==null)return 0;if(p.a=0,p.sc="OK",w==null)return Cr(p,2,"null VP8Io passed to VP8GetHeaders()");var S=w.data,L=w.w,U=w.ha;if(4>U)return Cr(p,7,"Truncated header.");var Y=S[L+0]|S[L+1]<<8|S[L+2]<<16,K=p.Od;if(K.Rb=!(1&Y),K.td=Y>>1&7,K.yd=Y>>4&1,K.ub=Y>>5,3<K.td)return Cr(p,3,"Incorrect keyframe parameters.");if(!K.yd)return Cr(p,4,"Frame not displayable.");L+=3,U-=3;var X=p.Kc;if(K.Rb){if(7>U)return Cr(p,7,"cannot parse picture header");if(!ua(S,L,U))return Cr(p,3,"Bad code word");X.c=16383&(S[L+4]<<8|S[L+3]),X.Td=S[L+4]>>6,X.i=16383&(S[L+6]<<8|S[L+5]),X.Ud=S[L+6]>>6,L+=7,U-=7,p.za=X.c+15>>4,p.Ub=X.i+15>>4,w.width=X.c,w.height=X.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((Y=p.Pa).jb,0,255,Y.jb.length),e((Y=p.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(K.ub>U)return Cr(p,7,"bad partition length");be(Y=p.m,S,L,K.ub),L+=K.ub,U-=K.ub,K.Rb&&(X.Ld=De(Y),X.Kd=De(Y)),X=p.Qa;var te,ae=p.Pa;if(e(Y!=null),e(X!=null),X.Cb=De(Y),X.Cb){if(X.Bb=De(Y),De(Y)){for(X.Fb=De(Y),te=0;4>te;++te)X.Zb[te]=De(Y)?Q(Y,7):0;for(te=0;4>te;++te)X.Lb[te]=De(Y)?Q(Y,6):0}if(X.Bb)for(te=0;3>te;++te)ae.jb[te]=De(Y)?oe(Y,8):255}else X.Bb=0;if(Y.Ka)return Cr(p,3,"cannot parse segment header");if((X=p.ed).zd=De(Y),X.Tb=oe(Y,6),X.wb=oe(Y,3),X.Pc=De(Y),X.Pc&&De(Y)){for(ae=0;4>ae;++ae)De(Y)&&(X.vd[ae]=Q(Y,6));for(ae=0;4>ae;++ae)De(Y)&&(X.od[ae]=Q(Y,6))}if(p.L=X.Tb==0?0:X.zd?1:2,Y.Ka)return Cr(p,3,"cannot parse filter header");var we=U;if(U=te=L,L=te+we,X=we,p.Xb=(1<<oe(p.m,2))-1,we<3*(ae=p.Xb))S=7;else{for(te+=3*ae,X-=3*ae,we=0;we<ae;++we){var Pe=S[U+0]|S[U+1]<<8|S[U+2]<<16;Pe>X&&(Pe=X),be(p.Jc[+we],S,te,Pe),te+=Pe,X-=Pe,U+=3}be(p.Jc[+ae],S,te,X),S=te<L?0:5}if(S!=0)return Cr(p,S,"cannot parse partitions");for(S=oe(te=p.m,7),U=De(te)?Q(te,4):0,L=De(te)?Q(te,4):0,X=De(te)?Q(te,4):0,ae=De(te)?Q(te,4):0,te=De(te)?Q(te,4):0,we=p.Qa,Pe=0;4>Pe;++Pe){if(we.Cb){var le=we.Zb[Pe];we.Fb||(le+=S)}else{if(0<Pe){p.pb[Pe]=p.pb[0];continue}le=S}var Se=p.pb[Pe];Se.Sc[0]=vc[xr(le+U,127)],Se.Sc[1]=pu[xr(le+0,127)],Se.Eb[0]=2*vc[xr(le+L,127)],Se.Eb[1]=101581*pu[xr(le+X,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=vc[xr(le+ae,117)],Se.Qc[1]=pu[xr(le+te,127)],Se.lc=le+te}if(!K.Rb)return Cr(p,4,"Not a key frame.");for(De(Y),K=p.Pa,S=0;4>S;++S){for(U=0;8>U;++U)for(L=0;3>L;++L)for(X=0;11>X;++X)ae=Ve(Y,Ug[S][U][L][X])?oe(Y,8):ep[S][U][L][X],K.Wc[S][U].Yb[L][X]=ae;for(U=0;17>U;++U)K.Xc[S][U]=K.Wc[S][Lh[U]]}return p.kc=De(Y),p.kc&&(p.Bd=oe(Y,8)),p.cb=1}function zs(p,w,S,L,U,Y,K){var X=w[U].Yb[S];for(S=0;16>U;++U){if(!Ve(p,X[S+0]))return U;for(;!Ve(p,X[S+1]);)if(X=w[++U].Yb[0],S=0,U==16)return 16;var te=w[U+1].Yb;if(Ve(p,X[S+2])){var ae=p,we=0;if(Ve(ae,(le=X)[(Pe=S)+3]))if(Ve(ae,le[Pe+6])){for(X=0,Pe=2*(we=Ve(ae,le[Pe+8]))+(le=Ve(ae,le[Pe+9+we])),we=0,le=Ph[Pe];le[X];++X)we+=we+Ve(ae,le[X]);we+=3+(8<<Pe)}else Ve(ae,le[Pe+7])?(we=7+2*Ve(ae,165),we+=Ve(ae,145)):we=5+Ve(ae,159);else we=Ve(ae,le[Pe+4])?3+Ve(ae,le[Pe+5]):2;X=te[2]}else we=1,X=te[1];te=K+Dh[U],0>(ae=p).b&&Te(ae);var Pe,le=ae.b,Se=(Pe=ae.Ca>>1)-(ae.I>>le)>>31;--ae.b,ae.Ca+=Se,ae.Ca|=1,ae.I-=(Pe+1&Se)<<le,Y[te]=((we^Se)-Se)*L[(0<U)+0]}return 16}function Uo(p){var w=p.rb[p.sb-1];w.la=0,w.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function ws(p,w,S,L,U){U=p[w+S+32*L]+(U>>3),p[w+S+32*L]=-256&U?0>U?0:255:U}function or(p,w,S,L,U,Y){ws(p,w,0,S,L+U),ws(p,w,1,S,L+Y),ws(p,w,2,S,L-Y),ws(p,w,3,S,L-U)}function $r(p){return(20091*p>>16)+p}function zo(p,w,S,L){var U,Y=0,K=s(16);for(U=0;4>U;++U){var X=p[w+0]+p[w+8],te=p[w+0]-p[w+8],ae=(35468*p[w+4]>>16)-$r(p[w+12]),we=$r(p[w+4])+(35468*p[w+12]>>16);K[Y+0]=X+we,K[Y+1]=te+ae,K[Y+2]=te-ae,K[Y+3]=X-we,Y+=4,w++}for(U=Y=0;4>U;++U)X=(p=K[Y+0]+4)+K[Y+8],te=p-K[Y+8],ae=(35468*K[Y+4]>>16)-$r(K[Y+12]),ws(S,L,0,0,X+(we=$r(K[Y+4])+(35468*K[Y+12]>>16))),ws(S,L,1,0,te+ae),ws(S,L,2,0,te-ae),ws(S,L,3,0,X-we),Y++,L+=32}function qo(p,w,S,L){var U=p[w+0]+4,Y=35468*p[w+4]>>16,K=$r(p[w+4]),X=35468*p[w+1]>>16;or(S,L,0,U+K,p=$r(p[w+1]),X),or(S,L,1,U+Y,p,X),or(S,L,2,U-Y,p,X),or(S,L,3,U-K,p,X)}function Ho(p,w,S,L,U){zo(p,w,S,L),U&&zo(p,w+16,S,L+4)}function xn(p,w,S,L){El(p,w+0,S,L,1),El(p,w+32,S,L+128,1)}function xo(p,w,S,L){var U;for(p=p[w+0]+4,U=0;4>U;++U)for(w=0;4>w;++w)ws(S,L,w,U,p)}function vn(p,w,S,L){p[w+0]&&zn(p,w+0,S,L),p[w+16]&&zn(p,w+16,S,L+4),p[w+32]&&zn(p,w+32,S,L+128),p[w+48]&&zn(p,w+48,S,L+128+4)}function qs(p,w,S,L){var U,Y=s(16);for(U=0;4>U;++U){var K=p[w+0+U]+p[w+12+U],X=p[w+4+U]+p[w+8+U],te=p[w+4+U]-p[w+8+U],ae=p[w+0+U]-p[w+12+U];Y[0+U]=K+X,Y[8+U]=K-X,Y[4+U]=ae+te,Y[12+U]=ae-te}for(U=0;4>U;++U)K=(p=Y[0+4*U]+3)+Y[3+4*U],X=Y[1+4*U]+Y[2+4*U],te=Y[1+4*U]-Y[2+4*U],ae=p-Y[3+4*U],S[L+0]=K+X>>3,S[L+16]=ae+te>>3,S[L+32]=K-X>>3,S[L+48]=ae-te>>3,L+=64}function Wo(p,w,S){var L,U=w-32,Y=cs,K=255-p[U-1];for(L=0;L<S;++L){var X,te=Y,ae=K+p[w-1];for(X=0;X<S;++X)p[w+X]=te[ae+p[U+X]];w+=32}}function Ma(p,w){Wo(p,w,4)}function sc(p,w){Wo(p,w,8)}function oc(p,w){Wo(p,w,16)}function Oa(p,w){var S;for(S=0;16>S;++S)n(p,w+32*S,p,w-32,16)}function Fa(p,w){var S;for(S=16;0<S;--S)i(p,w,p[w-1],16),w+=32}function ii(p,w,S){var L;for(L=0;16>L;++L)i(w,S+32*L,p,16)}function fi(p,w){var S,L=16;for(S=0;16>S;++S)L+=p[w-1+32*S]+p[w+S-32];ii(L>>5,p,w)}function Li(p,w){var S,L=8;for(S=0;16>S;++S)L+=p[w-1+32*S];ii(L>>4,p,w)}function as(p,w){var S,L=8;for(S=0;16>S;++S)L+=p[w+S-32];ii(L>>4,p,w)}function $o(p,w){ii(128,p,w)}function Ut(p,w,S){return p+2*w+S+2>>2}function ro(p,w){var S,L=w-32;for(L=new Uint8Array([Ut(p[L-1],p[L+0],p[L+1]),Ut(p[L+0],p[L+1],p[L+2]),Ut(p[L+1],p[L+2],p[L+3]),Ut(p[L+2],p[L+3],p[L+4])]),S=0;4>S;++S)n(p,w+32*S,L,0,L.length)}function su(p,w){var S=p[w-1],L=p[w-1+32],U=p[w-1+64],Y=p[w-1+96];Qe(p,w+0,16843009*Ut(p[w-1-32],S,L)),Qe(p,w+32,16843009*Ut(S,L,U)),Qe(p,w+64,16843009*Ut(L,U,Y)),Qe(p,w+96,16843009*Ut(U,Y,Y))}function ac(p,w){var S,L=4;for(S=0;4>S;++S)L+=p[w+S-32]+p[w-1+32*S];for(L>>=3,S=0;4>S;++S)i(p,w+32*S,L,4)}function Or(p,w){var S=p[w-1+0],L=p[w-1+32],U=p[w-1+64],Y=p[w-1-32],K=p[w+0-32],X=p[w+1-32],te=p[w+2-32],ae=p[w+3-32];p[w+0+96]=Ut(L,U,p[w-1+96]),p[w+1+96]=p[w+0+64]=Ut(S,L,U),p[w+2+96]=p[w+1+64]=p[w+0+32]=Ut(Y,S,L),p[w+3+96]=p[w+2+64]=p[w+1+32]=p[w+0+0]=Ut(K,Y,S),p[w+3+64]=p[w+2+32]=p[w+1+0]=Ut(X,K,Y),p[w+3+32]=p[w+2+0]=Ut(te,X,K),p[w+3+0]=Ut(ae,te,X)}function So(p,w){var S=p[w+1-32],L=p[w+2-32],U=p[w+3-32],Y=p[w+4-32],K=p[w+5-32],X=p[w+6-32],te=p[w+7-32];p[w+0+0]=Ut(p[w+0-32],S,L),p[w+1+0]=p[w+0+32]=Ut(S,L,U),p[w+2+0]=p[w+1+32]=p[w+0+64]=Ut(L,U,Y),p[w+3+0]=p[w+2+32]=p[w+1+64]=p[w+0+96]=Ut(U,Y,K),p[w+3+32]=p[w+2+64]=p[w+1+96]=Ut(Y,K,X),p[w+3+64]=p[w+2+96]=Ut(K,X,te),p[w+3+96]=Ut(X,te,te)}function lc(p,w){var S=p[w-1+0],L=p[w-1+32],U=p[w-1+64],Y=p[w-1-32],K=p[w+0-32],X=p[w+1-32],te=p[w+2-32],ae=p[w+3-32];p[w+0+0]=p[w+1+64]=Y+K+1>>1,p[w+1+0]=p[w+2+64]=K+X+1>>1,p[w+2+0]=p[w+3+64]=X+te+1>>1,p[w+3+0]=te+ae+1>>1,p[w+0+96]=Ut(U,L,S),p[w+0+64]=Ut(L,S,Y),p[w+0+32]=p[w+1+96]=Ut(S,Y,K),p[w+1+32]=p[w+2+96]=Ut(Y,K,X),p[w+2+32]=p[w+3+96]=Ut(K,X,te),p[w+3+32]=Ut(X,te,ae)}function ko(p,w){var S=p[w+0-32],L=p[w+1-32],U=p[w+2-32],Y=p[w+3-32],K=p[w+4-32],X=p[w+5-32],te=p[w+6-32],ae=p[w+7-32];p[w+0+0]=S+L+1>>1,p[w+1+0]=p[w+0+64]=L+U+1>>1,p[w+2+0]=p[w+1+64]=U+Y+1>>1,p[w+3+0]=p[w+2+64]=Y+K+1>>1,p[w+0+32]=Ut(S,L,U),p[w+1+32]=p[w+0+96]=Ut(L,U,Y),p[w+2+32]=p[w+1+96]=Ut(U,Y,K),p[w+3+32]=p[w+2+96]=Ut(Y,K,X),p[w+3+64]=Ut(K,X,te),p[w+3+96]=Ut(X,te,ae)}function io(p,w){var S=p[w-1+0],L=p[w-1+32],U=p[w-1+64],Y=p[w-1+96];p[w+0+0]=S+L+1>>1,p[w+2+0]=p[w+0+32]=L+U+1>>1,p[w+2+32]=p[w+0+64]=U+Y+1>>1,p[w+1+0]=Ut(S,L,U),p[w+3+0]=p[w+1+32]=Ut(L,U,Y),p[w+3+32]=p[w+1+64]=Ut(U,Y,Y),p[w+3+64]=p[w+2+64]=p[w+0+96]=p[w+1+96]=p[w+2+96]=p[w+3+96]=Y}function ja(p,w){var S=p[w-1+0],L=p[w-1+32],U=p[w-1+64],Y=p[w-1+96],K=p[w-1-32],X=p[w+0-32],te=p[w+1-32],ae=p[w+2-32];p[w+0+0]=p[w+2+32]=S+K+1>>1,p[w+0+32]=p[w+2+64]=L+S+1>>1,p[w+0+64]=p[w+2+96]=U+L+1>>1,p[w+0+96]=Y+U+1>>1,p[w+3+0]=Ut(X,te,ae),p[w+2+0]=Ut(K,X,te),p[w+1+0]=p[w+3+32]=Ut(S,K,X),p[w+1+32]=p[w+3+64]=Ut(L,S,K),p[w+1+64]=p[w+3+96]=Ut(U,L,S),p[w+1+96]=Ut(Y,U,L)}function Ri(p,w){var S;for(S=0;8>S;++S)n(p,w+32*S,p,w-32,8)}function Hs(p,w){var S;for(S=0;8>S;++S)i(p,w,p[w-1],8),w+=32}function Mi(p,w,S){var L;for(L=0;8>L;++L)i(w,S+32*L,p,8)}function Yo(p,w){var S,L=8;for(S=0;8>S;++S)L+=p[w+S-32]+p[w-1+32*S];Mi(L>>4,p,w)}function tr(p,w){var S,L=4;for(S=0;8>S;++S)L+=p[w+S-32];Mi(L>>3,p,w)}function _l(p,w){var S,L=4;for(S=0;8>S;++S)L+=p[w-1+32*S];Mi(L>>3,p,w)}function Ba(p,w){Mi(128,p,w)}function ls(p,w,S){var L=p[w-S],U=p[w+0],Y=3*(U-L)+Zo[1020+p[w-2*S]-p[w+S]],K=mc[112+(Y+4>>3)];p[w-S]=cs[255+L+mc[112+(Y+3>>3)]],p[w+0]=cs[255+U-K]}function Go(p,w,S,L){var U=p[w+0],Y=p[w+S];return co[255+p[w-2*S]-p[w-S]]>L||co[255+Y-U]>L}function Ko(p,w,S,L){return 4*co[255+p[w-S]-p[w+0]]+co[255+p[w-2*S]-p[w+S]]<=L}function Oi(p,w,S,L,U){var Y=p[w-3*S],K=p[w-2*S],X=p[w-S],te=p[w+0],ae=p[w+S],we=p[w+2*S],Pe=p[w+3*S];return 4*co[255+X-te]+co[255+K-ae]>L?0:co[255+p[w-4*S]-Y]<=U&&co[255+Y-K]<=U&&co[255+K-X]<=U&&co[255+Pe-we]<=U&&co[255+we-ae]<=U&&co[255+ae-te]<=U}function so(p,w,S,L){var U=2*L+1;for(L=0;16>L;++L)Ko(p,w+L,S,U)&&ls(p,w+L,S)}function ki(p,w,S,L){var U=2*L+1;for(L=0;16>L;++L)Ko(p,w+L*S,1,U)&&ls(p,w+L*S,1)}function Va(p,w,S,L){var U;for(U=3;0<U;--U)so(p,w+=4*S,S,L)}function da(p,w,S,L){var U;for(U=3;0<U;--U)ki(p,w+=4,S,L)}function Ei(p,w,S,L,U,Y,K,X){for(Y=2*Y+1;0<U--;){if(Oi(p,w,S,Y,K))if(Go(p,w,S,X))ls(p,w,S);else{var te=p,ae=w,we=S,Pe=te[ae-2*we],le=te[ae-we],Se=te[ae+0],Ne=te[ae+we],ze=te[ae+2*we],Re=27*(Ue=Zo[1020+3*(Se-le)+Zo[1020+Pe-Ne]])+63>>7,Be=18*Ue+63>>7,Ue=9*Ue+63>>7;te[ae-3*we]=cs[255+te[ae-3*we]+Ue],te[ae-2*we]=cs[255+Pe+Be],te[ae-we]=cs[255+le+Re],te[ae+0]=cs[255+Se-Re],te[ae+we]=cs[255+Ne-Be],te[ae+2*we]=cs[255+ze-Ue]}w+=L}}function Ws(p,w,S,L,U,Y,K,X){for(Y=2*Y+1;0<U--;){if(Oi(p,w,S,Y,K))if(Go(p,w,S,X))ls(p,w,S);else{var te=p,ae=w,we=S,Pe=te[ae-we],le=te[ae+0],Se=te[ae+we],Ne=mc[112+(4+(ze=3*(le-Pe))>>3)],ze=mc[112+(ze+3>>3)],Re=Ne+1>>1;te[ae-2*we]=cs[255+te[ae-2*we]+Re],te[ae-we]=cs[255+Pe+ze],te[ae+0]=cs[255+le-Ne],te[ae+we]=cs[255+Se-Re]}w+=L}}function si(p,w,S,L,U,Y){Ei(p,w,S,1,16,L,U,Y)}function Fi(p,w,S,L,U,Y){Ei(p,w,1,S,16,L,U,Y)}function ha(p,w,S,L,U,Y){var K;for(K=3;0<K;--K)Ws(p,w+=4*S,S,1,16,L,U,Y)}function b(p,w,S,L,U,Y){var K;for(K=3;0<K;--K)Ws(p,w+=4,1,S,16,L,U,Y)}function V(p,w,S,L,U,Y,K,X){Ei(p,w,U,1,8,Y,K,X),Ei(S,L,U,1,8,Y,K,X)}function ce(p,w,S,L,U,Y,K,X){Ei(p,w,1,U,8,Y,K,X),Ei(S,L,1,U,8,Y,K,X)}function ye(p,w,S,L,U,Y,K,X){Ws(p,w+4*U,U,1,8,Y,K,X),Ws(S,L+4*U,U,1,8,Y,K,X)}function Ae(p,w,S,L,U,Y,K,X){Ws(p,w+4,1,U,8,Y,K,X),Ws(S,L+4,1,U,8,Y,K,X)}function He(){this.ba=new Ht,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ge(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Et(){this.ua=0,this.Wa=new Ze,this.vb=new Ze,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ve,this.yc=new D}function $t(){this.xb=this.a=0,this.l=new Vo,this.ca=new Ht,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Et,this.ab=0,this.gc=a(4,pt),this.Oc=0}function Xt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sn(p,w,S,L,U,Y,K){for(p=p==null?0:p[w+0],w=0;w<K;++w)U[Y+w]=p+S[L+w]&255,p=U[Y+w]}function Un(p,w,S,L,U,Y,K){var X;if(p==null)Sn(null,null,S,L,U,Y,K);else for(X=0;X<K;++X)U[Y+X]=p[w+X]+S[L+X]&255}function Ir(p,w,S,L,U,Y,K){if(p==null)Sn(null,null,S,L,U,Y,K);else{var X,te=p[w+0],ae=te,we=te;for(X=0;X<K;++X)ae=we+(te=p[w+X])-ae,we=S[L+X]+(-256&ae?0>ae?0:255:ae)&255,ae=te,U[Y+X]=we}}function Jn(p,w,S,L){var U=w.width,Y=w.o;if(e(p!=null&&w!=null),0>S||0>=L||S+L>Y)return null;if(!p.Cc){if(p.ga==null){var K;if(p.ga=new Xt,(K=p.ga==null)||(K=w.width*w.o,e(p.Gb.length==0),p.Gb=s(K),p.Uc=0,p.Gb==null?K=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,K=1),K=!K),!K){K=p.ga;var X=p.Fa,te=p.P,ae=p.qc,we=p.mb,Pe=p.nb,le=te+1,Se=ae-1,Ne=K.l;if(e(X!=null&&we!=null&&w!=null),Xi[0]=null,Xi[1]=Sn,Xi[2]=Un,Xi[3]=Ir,K.ca=we,K.tb=Pe,K.c=w.width,K.i=w.height,e(0<K.c&&0<K.i),1>=ae)w=0;else if(K.$a=3&X[te+0],K.Z=X[te+0]>>2&3,K.Lc=X[te+0]>>4&3,te=X[te+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||te)w=0;else if(Ne.put=Vt,Ne.ac=ti,Ne.bc=Fn,Ne.ma=K,Ne.width=w.width,Ne.height=w.height,Ne.Da=w.Da,Ne.v=w.v,Ne.va=w.va,Ne.j=w.j,Ne.o=w.o,K.$a)e:{e(K.$a==1),w=Mt();t:for(;;){if(w==null){w=0;break e}if(e(K!=null),K.mc=w,w.c=K.c,w.i=K.i,w.l=K.l,w.l.ma=K,w.l.width=K.c,w.l.height=K.i,w.a=0,fe(w.m,X,le,Se),!ut(K.c,K.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Si(w.s)?(K.ic=1,X=w.c*w.i,w.Ta=null,w.Ua=0,w.V=s(X),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(K.ic=0,w=Bn(w,K.c)),!w))break t;w=1;break e}K.mc=null,w=0}else w=Se>=K.c*K.i;K=!w}if(K)return null;p.ga.Lc!=1?p.Ga=0:L=Y-S}e(p.ga!=null),e(S+L<=Y);e:{if(w=(X=p.ga).c,Y=X.l.o,X.$a==0){if(le=p.rc,Se=p.Vc,Ne=p.Fa,te=p.P+1+S*w,ae=p.mb,we=p.nb+S*w,e(te<=p.P+p.qc),X.Z!=0)for(e(Xi[X.Z]!=null),K=0;K<L;++K)Xi[X.Z](le,Se,Ne,te,ae,we,w),le=ae,Se=we,we+=w,te+=w;else for(K=0;K<L;++K)n(ae,we,Ne,te,w),le=ae,Se=we,we+=w,te+=w;p.rc=le,p.Vc=Se}else{if(e(X.mc!=null),w=S+L,e((K=X.mc)!=null),e(w<=K.i),K.C>=w)w=1;else if(X.ic||_s(),X.ic){X=K.V,le=K.Ba,Se=K.c;var ze=K.i,Re=(Ne=1,te=K.$/Se,ae=K.$%Se,we=K.m,Pe=K.s,K.$),Be=Se*ze,Ue=Se*w,$e=Pe.wc,Ye=Re<Ue?jn(Pe,ae,te):null;e(Re<=Be),e(w<=ze),e(Si(Pe));t:for(;;){for(;!we.h&&Re<Ue;){if(ae&$e||(Ye=jn(Pe,ae,te)),e(Ye!=null),xe(we),256>(ze=Yn(Ye.G[0],Ye.H[0],we)))X[le+Re]=ze,++Re,++ae>=Se&&(ae=0,++te<=w&&!(te%16)&&Ee(K,te));else{if(!(280>ze)){Ne=0;break t}ze=br(ze-256,we);var Lt,mt=Yn(Ye.G[4],Ye.H[4],we);if(xe(we),!(Re>=(mt=ni(Se,mt=br(mt,we)))&&Be-Re>=ze)){Ne=0;break t}for(Lt=0;Lt<ze;++Lt)X[le+Re+Lt]=X[le+Re+Lt-mt];for(Re+=ze,ae+=ze;ae>=Se;)ae-=Se,++te<=w&&!(te%16)&&Ee(K,te);Re<Ue&&ae&$e&&(Ye=jn(Pe,ae,te))}e(we.h==ue(we))}Ee(K,te>w?w:te);break t}!Ne||we.h&&Re<Be?(Ne=0,K.a=we.h?5:3):K.$=Re,w=Ne}else w=We(K,K.V,K.Ba,K.c,K.i,w,An);if(!w){L=0;break e}}S+L>=Y&&(p.Cc=1),L=1}if(!L)return null;if(p.Cc&&((L=p.ga)!=null&&(L.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*U}function Fr(p,w,S,L,U,Y){for(;0<U--;){var K,X=p,te=w+(S?1:0),ae=p,we=w+(S?0:3);for(K=0;K<L;++K){var Pe=ae[we+4*K];Pe!=255&&(Pe*=32897,X[te+4*K+0]=X[te+4*K+0]*Pe>>23,X[te+4*K+1]=X[te+4*K+1]*Pe>>23,X[te+4*K+2]=X[te+4*K+2]*Pe>>23)}w+=Y}}function Sr(p,w,S,L,U){for(;0<L--;){var Y;for(Y=0;Y<S;++Y){var K=p[w+2*Y+0],X=15&(ae=p[w+2*Y+1]),te=4369*X,ae=(240&ae|ae>>4)*te>>16;p[w+2*Y+0]=(240&K|K>>4)*te>>16&240|(15&K|K<<4)*te>>16>>4&15,p[w+2*Y+1]=240&ae|X}w+=U}}function jr(p,w,S,L,U,Y,K,X){var te,ae,we=255;for(ae=0;ae<U;++ae){for(te=0;te<L;++te){var Pe=p[w+te];Y[K+4*te]=Pe,we&=Pe}w+=S,K+=X}return we!=255}function Tr(p,w,S,L,U){var Y;for(Y=0;Y<U;++Y)S[L+Y]=p[w+Y]>>8}function _s(){Cl=Fr,kh=Sr,lu=jr,Eh=Tr}function oo(p,w,S){R[p]=function(L,U,Y,K,X,te,ae,we,Pe,le,Se,Ne,ze,Re,Be,Ue,$e){var Ye,Lt=$e-1>>1,mt=X[te+0]|ae[we+0]<<16,an=Pe[le+0]|Se[Ne+0]<<16;e(L!=null);var St=3*mt+an+131074>>2;for(w(L[U+0],255&St,St>>16,ze,Re),Y!=null&&(St=3*an+mt+131074>>2,w(Y[K+0],255&St,St>>16,Be,Ue)),Ye=1;Ye<=Lt;++Ye){var kn=X[te+Ye]|ae[we+Ye]<<16,Ur=Pe[le+Ye]|Se[Ne+Ye]<<16,cn=mt+kn+an+Ur+524296,gt=cn+2*(kn+an)>>3;St=gt+mt>>1,mt=(cn=cn+2*(mt+Ur)>>3)+kn>>1,w(L[U+2*Ye-1],255&St,St>>16,ze,Re+(2*Ye-1)*S),w(L[U+2*Ye-0],255&mt,mt>>16,ze,Re+(2*Ye-0)*S),Y!=null&&(St=cn+an>>1,mt=gt+Ur>>1,w(Y[K+2*Ye-1],255&St,St>>16,Be,Ue+(2*Ye-1)*S),w(Y[K+2*Ye+0],255&mt,mt>>16,Be,Ue+(2*Ye+0)*S)),mt=kn,an=Ur}1&$e||(St=3*mt+an+131074>>2,w(L[U+$e-1],255&St,St>>16,ze,Re+($e-1)*S),Y!=null&&(St=3*an+mt+131074>>2,w(Y[K+$e-1],255&St,St>>16,Be,Ue+($e-1)*S)))}}function bs(){ks[id]=zg,ks[Wa]=$a,ks[Qf]=qg,ks[cu]=wc,ks[uu]=Pl,ks[ar]=mu,ks[sd]=Rh,ks[gc]=$a,ks[Il]=wc,ks[du]=Pl,ks[hu]=mu}function m(p){return p&-16384?0>p?0:255:p>>Ya}function E(p,w){return m((19077*p>>8)+(26149*w>>8)-14234)}function j(p,w,S){return m((19077*p>>8)-(6419*w>>8)-(13320*S>>8)+8708)}function ee(p,w){return m((19077*p>>8)+(33050*w>>8)-17685)}function Ie(p,w,S,L,U){L[U+0]=E(p,S),L[U+1]=j(p,w,S),L[U+2]=ee(p,w)}function Oe(p,w,S,L,U){L[U+0]=ee(p,w),L[U+1]=j(p,w,S),L[U+2]=E(p,S)}function it(p,w,S,L,U){var Y=j(p,w,S);w=Y<<3&224|ee(p,w)>>3,L[U+0]=248&E(p,S)|Y>>5,L[U+1]=w}function Cn(p,w,S,L,U){var Y=240&ee(p,w)|15;L[U+0]=240&E(p,S)|j(p,w,S)>>4,L[U+1]=Y}function Nr(p,w,S,L,U){L[U+0]=255,Ie(p,w,S,L,U+1)}function yn(p,w,S,L,U){Oe(p,w,S,L,U),L[U+3]=255}function Rn(p,w,S,L,U){Ie(p,w,S,L,U),L[U+3]=255}function nr(p,w,S){R[p]=function(L,U,Y,K,X,te,ae,we,Pe){for(var le=we+(-2&Pe)*S;we!=le;)w(L[U+0],Y[K+0],X[te+0],ae,we),w(L[U+1],Y[K+0],X[te+0],ae,we+S),U+=2,++K,++te,we+=2*S;1&Pe&&w(L[U+0],Y[K+0],X[te+0],ae,we)}}function ji(p,w,S){return S==0?p==0?w==0?6:5:w==0?4:0:S}function Qi(p,w,S,L,U){switch(p>>>30){case 3:El(w,S,L,U,0);break;case 2:Br(w,S,L,U);break;case 1:zn(w,S,L,U)}}function Ai(p,w){var S,L,U=w.M,Y=w.Nb,K=p.oc,X=p.pc+40,te=p.oc,ae=p.pc+584,we=p.oc,Pe=p.pc+600;for(S=0;16>S;++S)K[X+32*S-1]=129;for(S=0;8>S;++S)te[ae+32*S-1]=129,we[Pe+32*S-1]=129;for(0<U?K[X-1-32]=te[ae-1-32]=we[Pe-1-32]=129:(i(K,X-32-1,127,21),i(te,ae-32-1,127,9),i(we,Pe-32-1,127,9)),L=0;L<p.za;++L){var le=w.ya[w.aa+L];if(0<L){for(S=-1;16>S;++S)n(K,X+32*S-4,K,X+32*S+12,4);for(S=-1;8>S;++S)n(te,ae+32*S-4,te,ae+32*S+4,4),n(we,Pe+32*S-4,we,Pe+32*S+4,4)}var Se=p.Gd,Ne=p.Hd+L,ze=le.ad,Re=le.Hc;if(0<U&&(n(K,X-32,Se[Ne].y,0,16),n(te,ae-32,Se[Ne].f,0,8),n(we,Pe-32,Se[Ne].ea,0,8)),le.Za){var Be=K,Ue=X-32+16;for(0<U&&(L>=p.za-1?i(Be,Ue,Se[Ne].y[15],4):n(Be,Ue,Se[Ne+1].y,0,4)),S=0;4>S;S++)Be[Ue+128+S]=Be[Ue+256+S]=Be[Ue+384+S]=Be[Ue+0+S];for(S=0;16>S;++S,Re<<=2)Be=K,Ue=X+Mh[S],uo[le.Ob[S]](Be,Ue),Qi(Re,ze,16*+S,Be,Ue)}else if(Be=ji(L,U,le.Ob[0]),us[Be](K,X),Re!=0)for(S=0;16>S;++S,Re<<=2)Qi(Re,ze,16*+S,K,X+Mh[S]);for(S=le.Gc,Be=ji(L,U,le.Dd),Ss[Be](te,ae),Ss[Be](we,Pe),Re=ze,Be=te,Ue=ae,255&(le=0|S)&&(170&le?xs(Re,256,Be,Ue):rr(Re,256,Be,Ue)),le=we,Re=Pe,255&(S>>=8)&&(170&S?xs(ze,320,le,Re):rr(ze,320,le,Re)),U<p.Ub-1&&(n(Se[Ne].y,0,K,X+480,16),n(Se[Ne].f,0,te,ae+224,8),n(Se[Ne].ea,0,we,Pe+224,8)),S=8*Y*p.B,Se=p.sa,Ne=p.ta+16*L+16*Y*p.R,ze=p.qa,le=p.ra+8*L+S,Re=p.Ha,Be=p.Ia+8*L+S,S=0;16>S;++S)n(Se,Ne+S*p.R,K,X+32*S,16);for(S=0;8>S;++S)n(ze,le+S*p.B,te,ae+32*S,8),n(Re,Be+S*p.B,we,Pe+32*S,8)}}function ao(p,w,S,L,U,Y,K,X,te){var ae=[0],we=[0],Pe=0,le=te!=null?te.kd:0,Se=te??new Ge;if(p==null||12>S)return 7;Se.data=p,Se.w=w,Se.ha=S,w=[w],S=[S],Se.gb=[Se.gb];e:{var Ne=w,ze=S,Re=Se.gb;if(e(p!=null),e(ze!=null),e(Re!=null),Re[0]=0,12<=ze[0]&&!t(p,Ne[0],"RIFF")){if(t(p,Ne[0]+8,"WEBP")){Re=3;break e}var Be=vt(p,Ne[0]+4);if(12>Be||4294967286<Be){Re=3;break e}if(le&&Be>ze[0]-8){Re=7;break e}Re[0]=Be,Ne[0]+=12,ze[0]-=12}Re=0}if(Re!=0)return Re;for(Be=0<Se.gb[0],S=S[0];;){e:{var Ue=p;ze=w,Re=S;var $e=ae,Ye=we,Lt=Ne=[0];if((St=Pe=[Pe])[0]=0,8>Re[0])Re=7;else{if(!t(Ue,ze[0],"VP8X")){if(vt(Ue,ze[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var mt=vt(Ue,ze[0]+8),an=1+ot(Ue,ze[0]+12);if(2147483648<=an*(Ue=1+ot(Ue,ze[0]+15))){Re=3;break e}Lt!=null&&(Lt[0]=mt),$e!=null&&($e[0]=an),Ye!=null&&(Ye[0]=Ue),ze[0]+=18,Re[0]-=18,St[0]=1}Re=0}}if(Pe=Pe[0],Ne=Ne[0],Re!=0)return Re;if(ze=!!(2&Ne),!Be&&Pe)return 3;if(Y!=null&&(Y[0]=!!(16&Ne)),K!=null&&(K[0]=ze),X!=null&&(X[0]=0),K=ae[0],Ne=we[0],Pe&&ze&&te==null){Re=0;break}if(4>S){Re=7;break}if(Be&&Pe||!Be&&!Pe&&!t(p,w[0],"ALPH")){S=[S],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{mt=p,Re=w,Be=S;var St=Se.gb;$e=Se.na,Ye=Se.P,Lt=Se.Sa,an=22,e(mt!=null),e(Be!=null),Ue=Re[0];var kn=Be[0];for(e($e!=null),e(Lt!=null),$e[0]=null,Ye[0]=null,Lt[0]=0;;){if(Re[0]=Ue,Be[0]=kn,8>kn){Re=7;break e}var Ur=vt(mt,Ue+4);if(4294967286<Ur){Re=3;break e}var cn=8+Ur+1&-2;if(an+=cn,0<St&&an>St){Re=3;break e}if(!t(mt,Ue,"VP8 ")||!t(mt,Ue,"VP8L")){Re=0;break e}if(kn[0]<cn){Re=7;break e}t(mt,Ue,"ALPH")||($e[0]=mt,Ye[0]=Ue+8,Lt[0]=Ur),Ue+=cn,kn-=cn}}if(S=S[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],Re!=0)break}S=[S],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(St=p,Re=w,Be=S,$e=Se.gb[0],Ye=Se.Ja,Lt=Se.xa,mt=Re[0],Ue=!t(St,mt,"VP8 "),an=!t(St,mt,"VP8L"),e(St!=null),e(Be!=null),e(Ye!=null),e(Lt!=null),8>Be[0])Re=7;else{if(Ue||an){if(St=vt(St,mt+4),12<=$e&&St>$e-12){Re=3;break e}if(le&&St>Be[0]-8){Re=7;break e}Ye[0]=St,Re[0]+=8,Be[0]-=8,Lt[0]=an}else Lt[0]=5<=Be[0]&&St[mt+0]==47&&!(St[mt+4]>>5),Ye[0]=Be[0];Re=0}if(S=S[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],w=w[0],Re!=0)break;if(4294967286<Se.Ja)return 3;if(X==null||ze||(X[0]=Se.xa?2:1),K=[K],Ne=[Ne],Se.xa){if(5>S){Re=7;break}X=K,le=Ne,ze=Y,p==null||5>S?p=0:5<=S&&p[w+0]==47&&!(p[w+4]>>5)?(Be=[0],St=[0],$e=[0],fe(Ye=new G,p,w,S),$i(Ye,Be,St,$e)?(X!=null&&(X[0]=Be[0]),le!=null&&(le[0]=St[0]),ze!=null&&(ze[0]=$e[0]),p=1):p=0):p=0}else{if(10>S){Re=7;break}X=Ne,p==null||10>S||!ua(p,w+3,S-3)?p=0:(le=p[w+0]|p[w+1]<<8|p[w+2]<<16,ze=16383&(p[w+7]<<8|p[w+6]),p=16383&(p[w+9]<<8|p[w+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=Se.Ja||!ze||!p?p=0:(K&&(K[0]=ze),X&&(X[0]=p),p=1))}if(!p||(K=K[0],Ne=Ne[0],Pe&&(ae[0]!=K||we[0]!=Ne)))return 3;te!=null&&(te[0]=Se,te.offset=w-te.w,e(4294967286>w-te.w),e(te.offset==te.ha-S));break}return Re==0||Re==7&&Pe&&te==null?(Y!=null&&(Y[0]|=Se.na!=null&&0<Se.na.length),L!=null&&(L[0]=K),U!=null&&(U[0]=Ne),0):Re}function cc(p,w,S){var L=w.width,U=w.height,Y=0,K=0,X=L,te=U;if(w.Da=p!=null&&0<p.Da,w.Da&&(X=p.cd,te=p.bd,Y=p.v,K=p.j,11>S||(Y&=-2,K&=-2),0>Y||0>K||0>=X||0>=te||Y+X>L||K+te>U))return 0;if(w.v=Y,w.j=K,w.va=Y+X,w.o=K+te,w.U=X,w.T=te,w.da=p!=null&&0<p.da,w.da){if(!Pt(X,te,S=[p.ib],Y=[p.hb]))return 0;w.ib=S[0],w.hb=Y[0]}return w.ob=p!=null&&p.ob,w.Kb=p==null||!p.Sd,w.da&&(w.ob=w.ib<3*L/4&&w.hb<3*U/4,w.Kb=0),1}function uc(p){if(p==null)return 2;if(11>p.S){var w=p.f.RGBA;w.fb+=(p.height-1)*w.A,w.A=-w.A}else w=p.f.kb,p=p.height,w.O+=(p-1)*w.fa,w.fa=-w.fa,w.N+=(p-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(p-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(p-1)*w.lb,w.lb=-w.lb);return 0}function fa(p,w,S,L){if(L==null||0>=p||0>=w)return 2;if(S!=null){if(S.Da){var U=S.cd,Y=S.bd,K=-2&S.v,X=-2&S.j;if(0>K||0>X||0>=U||0>=Y||K+U>p||X+Y>w)return 2;p=U,w=Y}if(S.da){if(!Pt(p,w,U=[S.ib],Y=[S.hb]))return 2;p=U[0],w=Y[0]}}L.width=p,L.height=w;e:{var te=L.width,ae=L.height;if(p=L.S,0>=te||0>=ae||!(p>=id&&13>p))p=2;else{if(0>=L.Rd&&L.sd==null){K=Y=U=w=0;var we=(X=te*gu[p])*ae;if(11>p||(Y=(ae+1)/2*(w=(te+1)/2),p==12&&(K=(U=te)*ae)),(ae=s(we+2*Y+K))==null){p=1;break e}L.sd=ae,11>p?((te=L.f.RGBA).eb=ae,te.fb=0,te.A=X,te.size=we):((te=L.f.kb).y=ae,te.O=0,te.fa=X,te.Fd=we,te.f=ae,te.N=0+we,te.Ab=w,te.Cd=Y,te.ea=ae,te.W=0+we+Y,te.Db=w,te.Ed=Y,p==12&&(te.F=ae,te.J=0+we+2*Y),te.Tc=K,te.lb=U)}if(w=1,U=L.S,Y=L.width,K=L.height,U>=id&&13>U)if(11>U)p=L.f.RGBA,w&=(X=Math.abs(p.A))*(K-1)+Y<=p.size,w&=X>=Y*gu[U],w&=p.eb!=null;else{p=L.f.kb,X=(Y+1)/2,we=(K+1)/2,te=Math.abs(p.fa),ae=Math.abs(p.Ab);var Pe=Math.abs(p.Db),le=Math.abs(p.lb),Se=le*(K-1)+Y;w&=te*(K-1)+Y<=p.Fd,w&=ae*(we-1)+X<=p.Cd,w=(w&=Pe*(we-1)+X<=p.Ed)&te>=Y&ae>=X&Pe>=X,w&=p.y!=null,w&=p.f!=null,w&=p.ea!=null,U==12&&(w&=le>=Y,w&=Se<=p.Tc,w&=p.F!=null)}else w=0;p=w?0:2}}return p!=0||S!=null&&S.fd&&(p=uc(L)),p}var lo=64,$s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ys=24,Ua=32,Qo=8,pa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Xe("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(p){return p},R.Predictor2=function(p,w,S){return w[S+0]},R.Predictor3=function(p,w,S){return w[S+1]},R.Predictor4=function(p,w,S){return w[S-1]},R.Predictor5=function(p,w,S){return wt(wt(p,w[S+1]),w[S+0])},R.Predictor6=function(p,w,S){return wt(p,w[S-1])},R.Predictor7=function(p,w,S){return wt(p,w[S+0])},R.Predictor8=function(p,w,S){return wt(w[S-1],w[S+0])},R.Predictor9=function(p,w,S){return wt(w[S+0],w[S+1])},R.Predictor10=function(p,w,S){return wt(wt(p,w[S-1]),wt(w[S+0],w[S+1]))},R.Predictor11=function(p,w,S){var L=w[S+0];return 0>=xt(L>>24&255,p>>24&255,(w=w[S-1])>>24&255)+xt(L>>16&255,p>>16&255,w>>16&255)+xt(L>>8&255,p>>8&255,w>>8&255)+xt(255&L,255&p,255&w)?L:p},R.Predictor12=function(p,w,S){var L=w[S+0];return(wn((p>>24&255)+(L>>24&255)-((w=w[S-1])>>24&255))<<24|wn((p>>16&255)+(L>>16&255)-(w>>16&255))<<16|wn((p>>8&255)+(L>>8&255)-(w>>8&255))<<8|wn((255&p)+(255&L)-(255&w)))>>>0},R.Predictor13=function(p,w,S){var L=w[S-1];return(ln((p=wt(p,w[S+0]))>>24&255,L>>24&255)<<24|ln(p>>16&255,L>>16&255)<<16|ln(p>>8&255,L>>8&255)<<8|ln(255&p,255&L))>>>0};var ma=R.PredictorAdd0;R.PredictorAdd1=kt,Xe("Predictor2","PredictorAdd2"),Xe("Predictor3","PredictorAdd3"),Xe("Predictor4","PredictorAdd4"),Xe("Predictor5","PredictorAdd5"),Xe("Predictor6","PredictorAdd6"),Xe("Predictor7","PredictorAdd7"),Xe("Predictor8","PredictorAdd8"),Xe("Predictor9","PredictorAdd9"),Xe("Predictor10","PredictorAdd10"),Xe("Predictor11","PredictorAdd11"),Xe("Predictor12","PredictorAdd12"),Xe("Predictor13","PredictorAdd13");var Xo=R.PredictorAdd2;yt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Yr,bl=R.ColorIndexInverseTransform,Jo=R.MapARGB,Eo=R.VP8LColorIndexInverseTransformAlpha,xl=R.MapAlpha,Sl=R.VP8LPredictorsAdd=[];Sl.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var dc,hc,ga,za,qa,kl,Ha,El,Br,xs,zn,rr,Vr,oi,Ao,ou,fc,va,nd,pc,rd,Sh,au,Al,Cl,kh,lu,Eh,Ah=s(511),Ch=s(2041),Ih=s(225),Th=s(767),Nh=0,Zo=Ch,mc=Ih,cs=Th,co=Ah,id=0,Wa=1,Qf=2,cu=3,uu=4,ar=5,sd=6,gc=7,Il=8,du=9,hu=10,fu=[2,3,7],od=[3,3,11],Tl=[280,256,256,256,40],Xf=[0,1,1,1,0],jg=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Bg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Jf=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ad=8,vc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nl=null,Ph=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Dh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ep=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Vg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ug=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Lh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],us=[],uo=[],Ss=[],ea=1,yc=2,Xi=[],ks=[];oo("UpsampleRgbLinePair",Ie,3),oo("UpsampleBgrLinePair",Oe,3),oo("UpsampleRgbaLinePair",Rn,4),oo("UpsampleBgraLinePair",yn,4),oo("UpsampleArgbLinePair",Nr,4),oo("UpsampleRgba4444LinePair",Cn,2),oo("UpsampleRgb565LinePair",it,2);var zg=R.UpsampleRgbLinePair,qg=R.UpsampleBgrLinePair,$a=R.UpsampleRgbaLinePair,wc=R.UpsampleBgraLinePair,Pl=R.UpsampleArgbLinePair,mu=R.UpsampleRgba4444LinePair,Rh=R.UpsampleRgb565LinePair,ya=16,Co=1<<ya-1,Zn=-227,ir=482,Ya=6,Bi=0,Es=s(256),Dl=s(256),_c=s(256),As=s(256),ld=s(ir-Zn),tp=s(ir-Zn);nr("YuvToRgbRow",Ie,3),nr("YuvToBgrRow",Oe,3),nr("YuvToRgbaRow",Rn,4),nr("YuvToBgraRow",yn,4),nr("YuvToArgbRow",Nr,4),nr("YuvToRgba4444Row",Cn,2),nr("YuvToRgb565Row",it,2);var Mh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ll=[0,2,8],np=[8,7,6,4,4,2,2,2,1,1,1,1],wa=1;this.WebPDecodeRGBA=function(p,w,S,L,U){var Y=Wa,K=new He,X=new Ht;K.ba=X,X.S=Y,X.width=[X.width],X.height=[X.height];var te=X.width,ae=X.height,we=new Rt;if(we==null||p==null)var Pe=2;else e(we!=null),Pe=ao(p,w,S,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Pe!=0?te=0:(te!=null&&(te[0]=we.width[0]),ae!=null&&(ae[0]=we.height[0]),te=1),te){X.width=X.width[0],X.height=X.height[0],L!=null&&(L[0]=X.width),U!=null&&(U[0]=X.height);e:{if(L=new Vo,(U=new Ge).data=p,U.w=w,U.ha=S,U.kd=1,w=[0],e(U!=null),((p=ao(U.data,U.w,U.ha,null,null,null,w,null,U))==0||p==7)&&w[0]&&(p=4),(w=p)==0){if(e(K!=null),L.data=U.data,L.w=U.w+U.offset,L.ha=U.ha-U.offset,L.put=Vt,L.ac=ti,L.bc=Fn,L.ma=K,U.xa){if((p=Mt())==null){K=1;break e}if((function(le,Se){var Ne=[0],ze=[0],Re=[0];t:for(;;){if(le==null)return 0;if(Se==null)return le.a=2,0;if(le.l=Se,le.a=0,fe(le.m,Se.data,Se.w,Se.ha),!$i(le.m,Ne,ze,Re)){le.a=3;break t}if(le.xb=yc,Se.width=Ne[0],Se.height=ze[0],!ut(Ne[0],ze[0],1,le,null))break t;return 1}return e(le.a!=0),0})(p,L)){if(L=(w=fa(L.width,L.height,K.Oa,K.ba))==0){t:{L=p;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((S=L.l)!=null),e((U=S.ma)!=null),L.xb!=0){if(L.ca=U.ba,L.tb=U.tb,e(L.ca!=null),!cc(U.Oa,S,cu)){L.a=2;break n}if(!Bn(L,S.width)||S.da)break n;if((S.da||Bt(L.ca.S))&&_s(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&_s()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!ie(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!We(L,L.V,L.Ba,L.c,L.i,S.o,to))break n;U.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(w=p.a)}else w=p.a}else{if((p=new ic)==null){K=1;break e}if(p.Fa=U.na,p.P=U.P,p.qc=U.Sa,os(p,L)){if((w=fa(L.width,L.height,K.Oa,K.ba))==0){if(p.Aa=0,S=K.Oa,e((U=p)!=null),S!=null){if(0<(te=0>(te=S.Md)?0:100<te?255:255*te/100)){for(ae=we=0;4>ae;++ae)12>(Pe=U.pb[ae]).lc&&(Pe.ia=te*np[0>Pe.lc?0:Pe.lc]>>3),we|=Pe.ia;we&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=S.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(le,Se){if(le==null)return 0;if(Se==null)return Cr(le,2,"NULL VP8Io parameter in VP8Decode().");if(!le.cb&&!os(le,Se))return 0;if(e(le.cb),Se.ac==null||Se.ac(Se)){Se.ob&&(le.L=0);var Ne=Ll[le.L];if(le.L==2?(le.yb=0,le.zb=0):(le.yb=Se.v-Ne>>4,le.zb=Se.j-Ne>>4,0>le.yb&&(le.yb=0),0>le.zb&&(le.zb=0)),le.Va=Se.o+15+Ne>>4,le.Hb=Se.va+15+Ne>>4,le.Hb>le.za&&(le.Hb=le.za),le.Va>le.Ub&&(le.Va=le.Ub),0<le.L){var ze=le.ed;for(Ne=0;4>Ne;++Ne){var Re;if(le.Qa.Cb){var Be=le.Qa.Lb[Ne];le.Qa.Fb||(Be+=ze.Tb)}else Be=ze.Tb;for(Re=0;1>=Re;++Re){var Ue=le.gd[Ne][Re],$e=Be;if(ze.Pc&&($e+=ze.vd[0],Re&&($e+=ze.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var Ye=$e;0<ze.wb&&(Ye=4<ze.wb?Ye>>2:Ye>>1)>9-ze.wb&&(Ye=9-ze.wb),1>Ye&&(Ye=1),Ue.dd=Ye,Ue.tc=2*$e+Ye,Ue.ld=40<=$e?2:15<=$e?1:0}else Ue.tc=0;Ue.La=Re}}}Ne=0}else Cr(le,6,"Frame setup failed"),Ne=le.a;if(Ne=Ne==0){if(Ne){le.$c=0,0<le.Aa||(le.Ic=wa);t:{Ne=le.Ic,ze=4*(Ye=le.za);var Lt=32*Ye,mt=Ye+1,an=0<le.L?Ye*(0<le.Aa?2:1):0,St=(le.Aa==2?2:1)*Ye;if((Ue=ze+832+(Re=3*(16*Ne+Ll[le.L])/2*Lt)+(Be=le.Fa!=null&&0<le.Fa.length?le.Kc.c*le.Kc.i:0))!=Ue)Ne=0;else{if(Ue>le.Vb){if(le.Vb=0,le.Ec=s(Ue),le.Fc=0,le.Ec==null){Ne=Cr(le,1,"no memory during frame initialization.");break t}le.Vb=Ue}Ue=le.Ec,$e=le.Fc,le.Ac=Ue,le.Bc=$e,$e+=ze,le.Gd=a(Lt,Ki),le.Hd=0,le.rb=a(mt+1,Mr),le.sb=1,le.wa=an?a(an,Vn):null,le.Y=0,le.D.Nb=0,le.D.wa=le.wa,le.D.Y=le.Y,0<le.Aa&&(le.D.Y+=Ye),e(!0),le.oc=Ue,le.pc=$e,$e+=832,le.ya=a(St,Gi),le.aa=0,le.D.ya=le.ya,le.D.aa=le.aa,le.Aa==2&&(le.D.aa+=Ye),le.R=16*Ye,le.B=8*Ye,Ye=(Lt=Ll[le.L])*le.R,Lt=Lt/2*le.B,le.sa=Ue,le.ta=$e+Ye,le.qa=le.sa,le.ra=le.ta+16*Ne*le.R+Lt,le.Ha=le.qa,le.Ia=le.ra+8*Ne*le.B+Lt,le.$c=0,$e+=Re,le.mb=Be?Ue:null,le.nb=Be?$e:null,e($e+Be<=le.Fc+le.Vb),Uo(le),i(le.Ac,le.Bc,0,ze),Ne=1}}if(Ne){if(Se.ka=0,Se.y=le.sa,Se.O=le.ta,Se.f=le.qa,Se.N=le.ra,Se.ea=le.Ha,Se.Vd=le.Ia,Se.fa=le.R,Se.Rc=le.B,Se.F=null,Se.J=0,!Nh){for(Ne=-255;255>=Ne;++Ne)Ah[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)Ch[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)Ih[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)Th[255+Ne]=0>Ne?0:255<Ne?255:Ne;Nh=1}Ha=qs,El=Ho,xs=xn,zn=xo,rr=vn,Br=qo,Vr=si,oi=Fi,Ao=V,ou=ce,fc=ha,va=b,nd=ye,pc=Ae,rd=so,Sh=ki,au=Va,Al=da,uo[0]=ac,uo[1]=Ma,uo[2]=ro,uo[3]=su,uo[4]=Or,uo[5]=lc,uo[6]=So,uo[7]=ko,uo[8]=ja,uo[9]=io,us[0]=fi,us[1]=oc,us[2]=Oa,us[3]=Fa,us[4]=Li,us[5]=as,us[6]=$o,Ss[0]=Yo,Ss[1]=sc,Ss[2]=Ri,Ss[3]=Hs,Ss[4]=_l,Ss[5]=tr,Ss[6]=Ba,Ne=1}else Ne=0}Ne&&(Ne=(function(kn,Ur){for(kn.M=0;kn.M<kn.Va;++kn.M){var cn,gt=kn.Jc[kn.M&kn.Xb],lt=kn.m,Gr=kn;for(cn=0;cn<Gr.za;++cn){var Jt=lt,_n=Gr,gr=_n.Ac,Ci=_n.Bc+4*cn,ai=_n.zc,Pr=_n.ya[_n.aa+cn];if(_n.Qa.Bb?Pr.$b=Ve(Jt,_n.Pa.jb[0])?2+Ve(Jt,_n.Pa.jb[2]):Ve(Jt,_n.Pa.jb[1]):Pr.$b=0,_n.kc&&(Pr.Ad=Ve(Jt,_n.Bd)),Pr.Za=!Ve(Jt,145)+0,Pr.Za){var pi=Pr.Ob,Ii=0;for(_n=0;4>_n;++_n){var kr,In=ai[0+_n];for(kr=0;4>kr;++kr){In=Vg[gr[Ci+kr]][In];for(var qn=Zf[Ve(Jt,In[0])];0<qn;)qn=Zf[2*qn+Ve(Jt,In[qn])];In=-qn,gr[Ci+kr]=In}n(pi,Ii,gr,Ci,4),Ii+=4,ai[0+_n]=In}}else In=Ve(Jt,156)?Ve(Jt,128)?1:3:Ve(Jt,163)?2:0,Pr.Ob[0]=In,i(gr,Ci,In,4),i(ai,0,In,4);Pr.Dd=Ve(Jt,142)?Ve(Jt,114)?Ve(Jt,183)?1:3:2:0}if(Gr.m.Ka)return Cr(kn,7,"Premature end-of-partition0 encountered.");for(;kn.ja<kn.za;++kn.ja){if(Gr=gt,Jt=(lt=kn).rb[lt.sb-1],gr=lt.rb[lt.sb+lt.ja],cn=lt.ya[lt.aa+lt.ja],Ci=lt.kc?cn.Ad:0)Jt.la=gr.la=0,cn.Za||(Jt.Na=gr.Na=0),cn.Hc=0,cn.Gc=0,cn.ia=0;else{var Er,Hn;if(Jt=gr,gr=Gr,Ci=lt.Pa.Xc,ai=lt.ya[lt.aa+lt.ja],Pr=lt.pb[ai.$b],_n=ai.ad,pi=0,Ii=lt.rb[lt.sb-1],In=kr=0,i(_n,pi,0,384),ai.Za)var zr=0,qr=Ci[3];else{qn=s(16);var lr=Jt.Na+Ii.Na;if(lr=Nl(gr,Ci[1],lr,Pr.Eb,0,qn,0),Jt.Na=Ii.Na=(0<lr)+0,1<lr)Ha(qn,0,_n,pi);else{var Ji=qn[0]+3>>3;for(qn=0;256>qn;qn+=16)_n[pi+qn]=Ji}zr=1,qr=Ci[0]}var sr=15&Jt.la,cr=15&Ii.la;for(qn=0;4>qn;++qn){var li=1&cr;for(Ji=Hn=0;4>Ji;++Ji)sr=sr>>1|(li=(lr=Nl(gr,qr,lr=li+(1&sr),Pr.Sc,zr,_n,pi))>zr)<<7,Hn=Hn<<2|(3<lr?3:1<lr?2:_n[pi+0]!=0),pi+=16;sr>>=4,cr=cr>>1|li<<7,kr=(kr<<8|Hn)>>>0}for(qr=sr,zr=cr>>4,Er=0;4>Er;Er+=2){for(Hn=0,sr=Jt.la>>4+Er,cr=Ii.la>>4+Er,qn=0;2>qn;++qn){for(li=1&cr,Ji=0;2>Ji;++Ji)lr=li+(1&sr),sr=sr>>1|(li=0<(lr=Nl(gr,Ci[2],lr,Pr.Qc,0,_n,pi)))<<3,Hn=Hn<<2|(3<lr?3:1<lr?2:_n[pi+0]!=0),pi+=16;sr>>=2,cr=cr>>1|li<<5}In|=Hn<<4*Er,qr|=sr<<4<<Er,zr|=(240&cr)<<Er}Jt.la=qr,Ii.la=zr,ai.Hc=kr,ai.Gc=In,ai.ia=43690&In?0:Pr.ia,Ci=!(kr|In)}if(0<lt.L&&(lt.wa[lt.Y+lt.ja]=lt.gd[cn.$b][cn.Za],lt.wa[lt.Y+lt.ja].La|=!Ci),Gr.Ka)return Cr(kn,7,"Premature end-of-file encountered.")}if(Uo(kn),lt=Ur,Gr=1,cn=(gt=kn).D,Jt=0<gt.L&&gt.M>=gt.zb&&gt.M<=gt.Va,gt.Aa==0)t:{if(cn.M=gt.M,cn.uc=Jt,Ai(gt,cn),Gr=1,cn=(Hn=gt.D).Nb,Jt=(In=Ll[gt.L])*gt.R,gr=In/2*gt.B,qn=16*cn*gt.R,Ji=8*cn*gt.B,Ci=gt.sa,ai=gt.ta-Jt+qn,Pr=gt.qa,_n=gt.ra-gr+Ji,pi=gt.Ha,Ii=gt.Ia-gr+Ji,cr=(sr=Hn.M)==0,kr=sr>=gt.Va-1,gt.Aa==2&&Ai(gt,Hn),Hn.uc)for(li=(lr=gt).D.M,e(lr.D.uc),Hn=lr.yb;Hn<lr.Hb;++Hn){zr=Hn,qr=li;var Vi=(Cs=(Xr=lr).D).Nb;Er=Xr.R;var Cs=Cs.wa[Cs.Y+zr],Kr=Xr.sa,Qr=Xr.ta+16*Vi*Er+16*zr,Zi=Cs.dd,ur=Cs.tc;if(ur!=0)if(e(3<=ur),Xr.L==1)0<zr&&Sh(Kr,Qr,Er,ur+4),Cs.La&&Al(Kr,Qr,Er,ur),0<qr&&rd(Kr,Qr,Er,ur+4),Cs.La&&au(Kr,Qr,Er,ur);else{var es=Xr.B,ho=Xr.qa,Io=Xr.ra+8*Vi*es+8*zr,Ti=Xr.Ha,Xr=Xr.Ia+8*Vi*es+8*zr;Vi=Cs.ld,0<zr&&(oi(Kr,Qr,Er,ur+4,Zi,Vi),ou(ho,Io,Ti,Xr,es,ur+4,Zi,Vi)),Cs.La&&(va(Kr,Qr,Er,ur,Zi,Vi),pc(ho,Io,Ti,Xr,es,ur,Zi,Vi)),0<qr&&(Vr(Kr,Qr,Er,ur+4,Zi,Vi),Ao(ho,Io,Ti,Xr,es,ur+4,Zi,Vi)),Cs.La&&(fc(Kr,Qr,Er,ur,Zi,Vi),nd(ho,Io,Ti,Xr,es,ur,Zi,Vi))}}if(gt.ia&&alert("todo:DitherRow"),lt.put!=null){if(Hn=16*sr,sr=16*(sr+1),cr?(lt.y=gt.sa,lt.O=gt.ta+qn,lt.f=gt.qa,lt.N=gt.ra+Ji,lt.ea=gt.Ha,lt.W=gt.Ia+Ji):(Hn-=In,lt.y=Ci,lt.O=ai,lt.f=Pr,lt.N=_n,lt.ea=pi,lt.W=Ii),kr||(sr-=In),sr>lt.o&&(sr=lt.o),lt.F=null,lt.J=null,gt.Fa!=null&&0<gt.Fa.length&&Hn<sr&&(lt.J=Jn(gt,lt,Hn,sr-Hn),lt.F=gt.mb,lt.F==null&&lt.F.length==0)){Gr=Cr(gt,3,"Could not decode alpha data.");break t}Hn<lt.j&&(In=lt.j-Hn,Hn=lt.j,e(!(1&In)),lt.O+=gt.R*In,lt.N+=gt.B*(In>>1),lt.W+=gt.B*(In>>1),lt.F!=null&&(lt.J+=lt.width*In)),Hn<sr&&(lt.O+=lt.v,lt.N+=lt.v>>1,lt.W+=lt.v>>1,lt.F!=null&&(lt.J+=lt.v),lt.ka=Hn-lt.j,lt.U=lt.va-lt.v,lt.T=sr-Hn,Gr=lt.put(lt))}cn+1!=gt.Ic||kr||(n(gt.sa,gt.ta-Jt,Ci,ai+16*gt.R,Jt),n(gt.qa,gt.ra-gr,Pr,_n+8*gt.B,gr),n(gt.Ha,gt.Ia-gr,pi,Ii+8*gt.B,gr))}if(!Gr)return Cr(kn,6,"Output aborted.")}return 1})(le,Se)),Se.bc!=null&&Se.bc(Se),Ne&=1}return Ne?(le.cb=0,Ne):0})(p,L)||(w=p.a)}}else w=p.a}w==0&&K.Oa!=null&&K.Oa.fd&&(w=uc(K.ba))}K=w}Y=K!=0?null:11>Y?X.f.RGBA.eb:X.f.kb.y}else Y=null;return Y};var gu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(R,B){for(var N="",T=0;T<4;T++)N+=String.fromCharCode(R[B++]);return N}function f(R,B){return R[B+0]|R[B+1]<<8}function y(R,B){return(R[B+0]|R[B+1]<<8|R[B+2]<<16)>>>0}function _(R,B){return(R[B+0]|R[B+1]<<8|R[B+2]<<16|R[B+3]<<24)>>>0}new u;var g=[0],A=[0],P=[],I=new u,M=r,W=(function(R,B){var N={},T=0,D=!1,Z=0,ve=0;if(N.frames=[],!(function(F,G){for(var re=0;re<4;re++)if(F[G+re]!="RIFF".charCodeAt(re))return!0;return!1})(R,B)){for(_(R,B+=4),B+=8;B<R.length;){var be=d(R,B),oe=_(R,B+=4);B+=4;var Q=oe+(1&oe);switch(be){case"VP8 ":case"VP8L":N.frames[T]===void 0&&(N.frames[T]={}),(J=N.frames[T]).src_off=D?ve:B-8,J.src_size=Z+oe+8,T++,D&&(D=!1,Z=0,ve=0);break;case"VP8X":(J=N.header={}).feature_flags=R[B];var fe=B+4;J.canvas_width=1+y(R,fe),fe+=3,J.canvas_height=1+y(R,fe),fe+=3;break;case"ALPH":D=!0,Z=Q+8,ve=B-8;break;case"ANIM":(J=N.header).bgcolor=_(R,B),fe=B+4,J.loop_count=f(R,fe),fe+=2;break;case"ANMF":var he,J;(J=N.frames[T]={}).offset_x=2*y(R,B),B+=3,J.offset_y=2*y(R,B),B+=3,J.width=1+y(R,B),B+=3,J.height=1+y(R,B),B+=3,J.duration=y(R,B),B+=3,he=R[B++],J.dispose=1&he,J.blend=he>>1&1}be!="ANMF"&&(B+=Q)}return N}})(M,0);W.response=M,W.rgbaoutput=!0,W.dataurl=!1;var z=W.header?W.header:null,q=W.frames?W.frames:null;if(z){z.loop_counter=z.loop_count,g=[z.canvas_height],A=[z.canvas_width];for(var ne=0;ne<q.length&&q[ne].blend!=0;ne++);}var de=q[0],H=I.WebPDecodeRGBA(M,de.src_off,de.src_size,A,g);de.rgba=H,de.imgwidth=A[0],de.imgheight=g[0];for(var O=0;O<A[0]*g[0]*4;O++)P[O]=H[O];return this.width=A,this.height=g,this.data=P,this}(function(r){var e,t,n,i,s,a,c,u,d,f=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new u,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new a,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new a,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var y=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=F;Object.defineProperty(this,"pdf",{get:function(){return G}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(ie){re=!!ie}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(ie){ue=!!ie}});var ge=0;Object.defineProperty(this,"posX",{get:function(){return ge},set:function(ie){isNaN(ie)||(ge=ie)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(ie){isNaN(ie)||(xe=ie)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ie){var at;typeof ie=="number"?at=[ie,ie,ie,ie]:((at=new Array(4))[0]=ie[0],at[1]=ie.length>=2?ie[1]:at[0],at[2]=ie.length>=3?ie[2]:at[0],at[3]=ie.length>=4?ie[3]:at[1]),d.margin=at}});var Te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Te},set:function(ie){Te=ie}});var De=0;Object.defineProperty(this,"lastBreak",{get:function(){return De},set:function(ie){De=ie}});var Ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ve},set:function(ie){Ve=ie}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ie){ie instanceof f&&(d=ie)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ie){d.path=ie}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(ie){Qe=ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ie){var at;at=_(ie),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ie){var at=_(ie);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ie){["butt","round","square"].indexOf(ie)!==-1&&(this.ctx.lineCap=ie,this.pdf.setLineCap(ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ie){isNaN(ie)||(this.ctx.lineWidth=ie,this.pdf.setLineWidth(ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ie){["bevel","round","miter"].indexOf(ie)!==-1&&(this.ctx.lineJoin=ie,this.pdf.setLineJoin(ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ie){isNaN(ie)||(this.ctx.miterLimit=ie,this.pdf.setMiterLimit(ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ie){this.ctx.textBaseline=ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ie){["right","end","center","left","start"].indexOf(ie)!==-1&&(this.ctx.textAlign=ie)}});var ct=null,ot=null,vt=null;Object.defineProperty(this,"fontFaces",{get:function(){return vt},set:function(ie){ct=null,ot=null,vt=ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ie){var at;if(this.ctx.font=ie,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ie))!==null){var Ze=at[1];at[2];var Pt=at[3],qe=at[4];at[5];var bt=at[6],Xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(Xe==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:Xe==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var It=(function(yt){var Xn,mn,en=[],tn=yt.trim();if(tn==="")return y1;if(tn in Q_)return[Q_[tn]];for(;tn!=="";){switch(mn=null,Xn=(tn=J_(tn)).charAt(0)){case'"':case"'":mn=XO(tn.substring(1),Xn);break;default:mn=JO(tn)}if(mn===null||(en.push(mn[0]),(tn=J_(mn[1]))!==""&&tn.charAt(0)!==","))return y1;tn=tn.replace(/^,/,"")}return en})(bt);if(this.fontFaces){var wt=(function(yt,Xn){var mn=yt.getFontList(),en=JSON.stringify(mn);if(ct===null||ot!==en){var tn=(function(On){var Dt=[];return Object.keys(On).forEach(function(Nn){On[Nn].forEach(function(Bt){var Wt=null;switch(Bt){case"bold":Wt={family:Nn,weight:"bold"};break;case"italic":Wt={family:Nn,style:"italic"};break;case"bolditalic":Wt={family:Nn,weight:"bold",style:"italic"};break;case"":case"normal":Wt={family:Nn}}Wt!==null&&(Wt.ref={name:Nn,style:Bt},Dt.push(Wt))})}),Dt})(mn);ct=(function(On){for(var Dt={},Nn=0;Nn<On.length;++Nn){var Bt=v1(On[Nn]),Wt=Bt.family,gn=Bt.stretch,Ht=Bt.style,Rt=Bt.weight;Dt[Wt]=Dt[Wt]||{},Dt[Wt][gn]=Dt[Wt][gn]||{},Dt[Wt][gn][Ht]=Dt[Wt][gn][Ht]||{},Dt[Wt][gn][Ht][Rt]=Bt}return Dt})(tn.concat(Xn)),ot=en}return ct})(this.pdf,this.fontFaces),wn=It.map(function(yt){return{family:yt,stretch:"normal",weight:Pt,style:Ze}}),ln=(function(yt,Xn,mn){for(var en=(mn=mn||{}).defaultFontFamily||"times",tn=Object.assign({},QO,mn.genericFontFamilies||{}),On=null,Dt=null,Nn=0;Nn<Xn.length;++Nn)if(tn[(On=v1(Xn[Nn])).family]&&(On.family=tn[On.family]),yt.hasOwnProperty(On.family)){Dt=yt[On.family];break}if(!(Dt=Dt||yt[en]))throw new Error("Could not find a font-family for the rule '"+X_(On)+"' and default family '"+en+"'.");if(Dt=(function(Bt,Wt){if(Wt[Bt])return Wt[Bt];var gn=fv[Bt],Ht=gn<=fv.normal?-1:1,Rt=K_(Wt,fE,gn,Ht);if(!Rt)throw new Error("Could not find a matching font-stretch value for "+Bt);return Rt})(On.stretch,Dt),Dt=(function(Bt,Wt){if(Wt[Bt])return Wt[Bt];for(var gn=hE[Bt],Ht=0;Ht<gn.length;++Ht)if(Wt[gn[Ht]])return Wt[gn[Ht]];throw new Error("Could not find a matching font-style for "+Bt)})(On.style,Dt),!(Dt=(function(Bt,Wt){if(Wt[Bt])return Wt[Bt];if(Bt===400&&Wt[500])return Wt[500];if(Bt===500&&Wt[400])return Wt[400];var gn=KO[Bt],Ht=K_(Wt,pE,gn,Bt<400?-1:1);if(!Ht)throw new Error("Could not find a matching font-weight for value "+Bt);return Ht})(On.weight,Dt)))throw new Error("Failed to resolve a font for the rule '"+X_(On)+"'.");return Dt})(wt,wn);this.pdf.setFont(ln.ref.name,ln.ref.style)}else{var xt="";(Pt==="bold"||parseInt(Pt,10)>=700||Ze==="bold")&&(xt="bold"),Ze==="italic"&&(xt+="italic"),xt.length===0&&(xt="normal");for(var kt="",Qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<It.length;ht++){if(this.pdf.internal.getFont(It[ht],xt,{noFallback:!0,disableWarning:!0})!==void 0){kt=It[ht];break}if(xt==="bolditalic"&&this.pdf.internal.getFont(It[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)kt=It[ht],xt="bold";else if(this.pdf.internal.getFont(It[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){kt=It[ht],xt="normal";break}}if(kt===""){for(var qt=0;qt<It.length;qt++)if(Qt[It[qt]]){kt=Qt[It[qt]];break}}kt=kt===""?"Times":kt,this.pdf.setFont(kt,xt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ie){this.ctx.globalCompositeOperation=ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ie){this.ctx.globalAlpha=ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ie){this.ctx.lineDashOffset=ie,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ie){this.ctx.lineDash=ie,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ie){this.ctx.ignoreClearRect=!!ie}})};y.prototype.setLineDash=function(F){this.lineDash=F},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){q.call(this,"fill",!1)},y.prototype.stroke=function(){q.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(F,G){if(isNaN(F)||isNaN(G))throw _r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new a(F,G));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(F,G)},y.prototype.closePath=function(){var F=new a(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&hr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){F=new a(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(F.x,F.y)},y.prototype.lineTo=function(F,G){if(isNaN(F)||isNaN(G))throw _r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new a(F,G));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},y.prototype.quadraticCurveTo=function(F,G,re,ue){if(isNaN(re)||isNaN(ue)||isNaN(F)||isNaN(G))throw _r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ge=this.ctx.transform.applyToPoint(new a(re,ue)),xe=this.ctx.transform.applyToPoint(new a(F,G));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new a(ge.x,ge.y)},y.prototype.bezierCurveTo=function(F,G,re,ue,ge,xe){if(isNaN(ge)||isNaN(xe)||isNaN(F)||isNaN(G)||isNaN(re)||isNaN(ue))throw _r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Te=this.ctx.transform.applyToPoint(new a(ge,xe)),De=this.ctx.transform.applyToPoint(new a(F,G)),Ve=this.ctx.transform.applyToPoint(new a(re,ue));this.path.push({type:"bct",x1:De.x,y1:De.y,x2:Ve.x,y2:Ve.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new a(Te.x,Te.y)},y.prototype.arc=function(F,G,re,ue,ge,xe){if(isNaN(F)||isNaN(G)||isNaN(re)||isNaN(ue)||isNaN(ge))throw _r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Te=this.ctx.transform.applyToPoint(new a(F,G));F=Te.x,G=Te.y;var De=this.ctx.transform.applyToPoint(new a(0,re)),Ve=this.ctx.transform.applyToPoint(new a(0,0));re=Math.sqrt(Math.pow(De.x-Ve.x,2)+Math.pow(De.y-Ve.y,2))}Math.abs(ge-ue)>=2*Math.PI&&(ue=0,ge=2*Math.PI),this.path.push({type:"arc",x:F,y:G,radius:re,startAngle:ue,endAngle:ge,counterclockwise:xe})},y.prototype.arcTo=function(F,G,re,ue,ge){throw new Error("arcTo not implemented.")},y.prototype.rect=function(F,G,re,ue){if(isNaN(F)||isNaN(G)||isNaN(re)||isNaN(ue))throw _r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,G),this.lineTo(F+re,G),this.lineTo(F+re,G+ue),this.lineTo(F,G+ue),this.lineTo(F,G),this.lineTo(F+re,G),this.lineTo(F,G)},y.prototype.fillRect=function(F,G,re,ue){if(isNaN(F)||isNaN(G)||isNaN(re)||isNaN(ue))throw _r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ge={};this.lineCap!=="butt"&&(ge.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ge.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,G,re,ue),this.fill(),ge.hasOwnProperty("lineCap")&&(this.lineCap=ge.lineCap),ge.hasOwnProperty("lineJoin")&&(this.lineJoin=ge.lineJoin)}},y.prototype.strokeRect=function(F,G,re,ue){if(isNaN(F)||isNaN(G)||isNaN(re)||isNaN(ue))throw _r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(F,G,re,ue),this.stroke())},y.prototype.clearRect=function(F,G,re,ue){if(isNaN(F)||isNaN(G)||isNaN(re)||isNaN(ue))throw _r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,G,re,ue))},y.prototype.save=function(F){F=typeof F!="boolean"||F;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},y.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(G),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(F){var G,re,ue,ge;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))G=0,re=0,ue=0,ge=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(xe!==null)G=parseInt(xe[1]),re=parseInt(xe[2]),ue=parseInt(xe[3]),ge=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)G=parseInt(xe[1]),re=parseInt(xe[2]),ue=parseInt(xe[3]),ge=parseFloat(xe[4]);else{if(ge=1,typeof F=="string"&&F.charAt(0)!=="#"){var Te=new sE(F);F=Te.ok?Te.toHex():"#000000"}F.length===4?(G=F.substring(1,2),G+=G,re=F.substring(2,3),re+=re,ue=F.substring(3,4),ue+=ue):(G=F.substring(1,3),re=F.substring(3,5),ue=F.substring(5,7)),G=parseInt(G,16),re=parseInt(re,16),ue=parseInt(ue,16)}}return{r:G,g:re,b:ue,a:ge,style:F}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(F,G,re,ue){if(isNaN(G)||isNaN(re)||typeof F!="string")throw _r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!g.call(this)){var ge=Q(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;T.call(this,{text:F,x:G,y:re,scale:xe,angle:ge,align:this.textAlign,maxWidth:ue})}},y.prototype.strokeText=function(F,G,re,ue){if(isNaN(G)||isNaN(re)||typeof F!="string")throw _r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){ue=isNaN(ue)?void 0:ue;var ge=Q(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;T.call(this,{text:F,x:G,y:re,scale:xe,renderingMode:"stroke",angle:ge,align:this.textAlign,maxWidth:ue})}},y.prototype.measureText=function(F){if(typeof F!="string")throw _r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,re=this.pdf.internal.scaleFactor,ue=G.internal.getFontSize(),ge=G.getStringUnitWidth(F)*ue/G.internal.scaleFactor;return new function(xe){var Te=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this}({width:ge*=Math.round(96*re/72*1e4)/1e4})},y.prototype.scale=function(F,G){if(isNaN(F)||isNaN(G))throw _r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new u(F,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},y.prototype.rotate=function(F){if(isNaN(F))throw _r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new u(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},y.prototype.translate=function(F,G){if(isNaN(F)||isNaN(G))throw _r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new u(1,0,0,1,F,G);this.ctx.transform=this.ctx.transform.multiply(re)},y.prototype.transform=function(F,G,re,ue,ge,xe){if(isNaN(F)||isNaN(G)||isNaN(re)||isNaN(ue)||isNaN(ge)||isNaN(xe))throw _r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Te=new u(F,G,re,ue,ge,xe);this.ctx.transform=this.ctx.transform.multiply(Te)},y.prototype.setTransform=function(F,G,re,ue,ge,xe){F=isNaN(F)?1:F,G=isNaN(G)?0:G,re=isNaN(re)?0:re,ue=isNaN(ue)?1:ue,ge=isNaN(ge)?0:ge,xe=isNaN(xe)?0:xe,this.ctx.transform=new u(F,G,re,ue,ge,xe)};var P=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(F,G,re,ue,ge,xe,Te,De,Ve){var Qe=this.pdf.getImageProperties(F),ct=1,ot=1,vt=1,ie=1;ue!==void 0&&De!==void 0&&(vt=De/ue,ie=Ve/ge,ct=Qe.width/ue*De/ue,ot=Qe.height/ge*Ve/ge),xe===void 0&&(xe=G,Te=re,G=0,re=0),ue!==void 0&&De===void 0&&(De=ue,Ve=ge),ue===void 0&&De===void 0&&(De=Qe.width,Ve=Qe.height);var at=this.ctx.transform.decompose(),Ze=Q(at.rotate.shx),Pt=new u,qe=(Pt=(Pt=(Pt=Pt.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new c(xe-G*vt,Te-re*ie,ue*ct,ge*ot));if(this.autoPaging){for(var bt,Xe=I.call(this,qe),It=[],wt=0;wt<Xe.length;wt+=1)It.indexOf(Xe[wt])===-1&&It.push(Xe[wt]);z(It);for(var wn=It[0],ln=It[It.length-1],xt=wn;xt<ln+1;xt++){this.pdf.setPage(xt);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=xt===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=xt===1?0:ht+(xt-2)*qt;if(this.ctx.clip_path.length!==0){var Xn=this.path;bt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(bt,this.posX+this.margin[3],-yt+Qt+this.ctx.prevPageLastElemOffset),ne.call(this,"fill",!0),this.path=Xn}var mn=JSON.parse(JSON.stringify(qe));mn=W([mn],this.posX+this.margin[3],-yt+Qt+this.ctx.prevPageLastElemOffset)[0];var en=(xt>wn||xt<ln)&&P.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,qt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",mn.x,mn.y,mn.w,mn.h,null,null,Ze),en&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(F,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Ze)};var I=function(F,G,re){var ue=[];G=G||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ge=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":ue.push(Math.floor((F.y+ge)/re)+1);break;case"arc":ue.push(Math.floor((F.y+ge-F.radius)/re)+1),ue.push(Math.floor((F.y+ge+F.radius)/re)+1);break;case"qct":var xe=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);ue.push(Math.floor((xe.y+ge)/re)+1),ue.push(Math.floor((xe.y+xe.h+ge)/re)+1);break;case"bct":var Te=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);ue.push(Math.floor((Te.y+ge)/re)+1),ue.push(Math.floor((Te.y+Te.h+ge)/re)+1);break;case"rect":ue.push(Math.floor((F.y+ge)/re)+1),ue.push(Math.floor((F.y+F.h+ge)/re)+1)}for(var De=0;De<ue.length;De+=1)for(;this.pdf.internal.getNumberOfPages()<ue[De];)M.call(this);return ue},M=function(){var F=this.fillStyle,G=this.strokeStyle,re=this.font,ue=this.lineCap,ge=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=G,this.font=re,this.lineCap=ue,this.lineWidth=ge,this.lineJoin=xe},W=function(F,G,re){for(var ue=0;ue<F.length;ue++)switch(F[ue].type){case"bct":F[ue].x2+=G,F[ue].y2+=re;case"qct":F[ue].x1+=G,F[ue].y1+=re;default:F[ue].x+=G,F[ue].y+=re}return F},z=function(F){return F.sort(function(G,re){return G-re})},q=function(F,G){var re=this.fillStyle,ue=this.strokeStyle,ge=this.lineCap,xe=this.lineWidth,Te=Math.abs(xe*this.ctx.transform.scaleX),De=this.lineJoin;if(this.autoPaging){for(var Ve,Qe,ct=JSON.parse(JSON.stringify(this.path)),ot=JSON.parse(JSON.stringify(this.path)),vt=[],ie=0;ie<ot.length;ie++)if(ot[ie].x!==void 0)for(var at=I.call(this,ot[ie]),Ze=0;Ze<at.length;Ze+=1)vt.indexOf(at[Ze])===-1&&vt.push(at[Ze]);for(var Pt=0;Pt<vt.length;Pt++)for(;this.pdf.internal.getNumberOfPages()<vt[Pt];)M.call(this);z(vt);for(var qe=vt[0],bt=vt[vt.length-1],Xe=qe;Xe<bt+1;Xe++){this.pdf.setPage(Xe),this.fillStyle=re,this.strokeStyle=ue,this.lineCap=ge,this.lineWidth=Te,this.lineJoin=De;var It=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=Xe===1?this.posY+this.margin[0]:this.margin[0],wn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ln=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=Xe===1?0:wn+(Xe-2)*ln;if(this.ctx.clip_path.length!==0){var kt=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(Ve,this.posX+this.margin[3],-xt+wt+this.ctx.prevPageLastElemOffset),ne.call(this,F,!0),this.path=kt}if(Qe=JSON.parse(JSON.stringify(ct)),this.path=W(Qe,this.posX+this.margin[3],-xt+wt+this.ctx.prevPageLastElemOffset),G===!1||Xe===0){var Qt=(Xe>qe||Xe<bt)&&P.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,ln,null).clip().discardPath()),ne.call(this,F,G),Qt&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}this.path=ct}else this.lineWidth=Te,ne.call(this,F,G),this.lineWidth=xe},ne=function(F,G){if((F!=="stroke"||G||!A.call(this))&&(F==="stroke"||G||!g.call(this))){for(var re,ue,ge=[],xe=this.path,Te=0;Te<xe.length;Te++){var De=xe[Te];switch(De.type){case"begin":ge.push({begin:!0});break;case"close":ge.push({close:!0});break;case"mt":ge.push({start:De,deltas:[],abs:[]});break;case"lt":var Ve=ge.length;if(xe[Te-1]&&!isNaN(xe[Te-1].x)&&(re=[De.x-xe[Te-1].x,De.y-xe[Te-1].y],Ve>0)){for(;Ve>=0;Ve--)if(ge[Ve-1].close!==!0&&ge[Ve-1].begin!==!0){ge[Ve-1].deltas.push(re),ge[Ve-1].abs.push(De);break}}break;case"bct":re=[De.x1-xe[Te-1].x,De.y1-xe[Te-1].y,De.x2-xe[Te-1].x,De.y2-xe[Te-1].y,De.x-xe[Te-1].x,De.y-xe[Te-1].y],ge[ge.length-1].deltas.push(re);break;case"qct":var Qe=xe[Te-1].x+2/3*(De.x1-xe[Te-1].x),ct=xe[Te-1].y+2/3*(De.y1-xe[Te-1].y),ot=De.x+2/3*(De.x1-De.x),vt=De.y+2/3*(De.y1-De.y),ie=De.x,at=De.y;re=[Qe-xe[Te-1].x,ct-xe[Te-1].y,ot-xe[Te-1].x,vt-xe[Te-1].y,ie-xe[Te-1].x,at-xe[Te-1].y],ge[ge.length-1].deltas.push(re);break;case"arc":ge.push({deltas:[],abs:[],arc:!0}),Array.isArray(ge[ge.length-1].abs)&&ge[ge.length-1].abs.push(De)}}ue=G?null:F==="stroke"?"stroke":"fill";for(var Ze=!1,Pt=0;Pt<ge.length;Pt++)if(ge[Pt].arc)for(var qe=ge[Pt].abs,bt=0;bt<qe.length;bt++){var Xe=qe[bt];Xe.type==="arc"?O.call(this,Xe.x,Xe.y,Xe.radius,Xe.startAngle,Xe.endAngle,Xe.counterclockwise,void 0,G,!Ze):D.call(this,Xe.x,Xe.y),Ze=!0}else if(ge[Pt].close===!0)this.pdf.internal.out("h"),Ze=!1;else if(ge[Pt].begin!==!0){var It=ge[Pt].start.x,wt=ge[Pt].start.y;Z.call(this,ge[Pt].deltas,It,wt),Ze=!0}ue&&R.call(this,ue),G&&B.call(this)}},de=function(F){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-re;case"top":return F+G-re;case"hanging":return F+G-2*re;case"middle":return F+G/2-re;default:return F}},H=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(G,re){this.colorStops.push([G,re])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(F,G,re,ue,ge,xe,Te,De,Ve){for(var Qe=be.call(this,re,ue,ge,xe),ct=0;ct<Qe.length;ct++){var ot=Qe[ct];ct===0&&(Ve?N.call(this,ot.x1+F,ot.y1+G):D.call(this,ot.x1+F,ot.y1+G)),ve.call(this,F,G,ot.x2,ot.y2,ot.x3,ot.y3,ot.x4,ot.y4)}De?B.call(this):R.call(this,Te)},R=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(F,G){this.pdf.internal.out(t(F)+" "+n(G)+" m")},T=function(F){var G;switch(F.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var re,ue,ge,xe=this.pdf.getTextDimensions(F.text),Te=de.call(this,F.y),De=H.call(this,Te)-xe.h,Ve=this.ctx.transform.applyToPoint(new a(F.x,Te));if(this.autoPaging){var Qe=this.ctx.transform.decompose(),ct=new u;ct=(ct=(ct=ct.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale);for(var ot=this.ctx.transform.applyToRectangle(new c(F.x,Te,xe.w,xe.h)),vt=ct.applyToRectangle(new c(F.x,De,xe.w,xe.h)),ie=I.call(this,vt),at=[],Ze=0;Ze<ie.length;Ze+=1)at.indexOf(ie[Ze])===-1&&at.push(ie[Ze]);z(at);for(var Pt=at[0],qe=at[at.length-1],bt=Pt;bt<qe+1;bt++){this.pdf.setPage(bt);var Xe=bt===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[2],wn=wt-this.margin[0],ln=this.pdf.internal.pageSize.width-this.margin[1],xt=ln-this.margin[3],kt=bt===1?0:It+(bt-2)*wn;if(this.ctx.clip_path.length!==0){var Qt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(re,this.posX+this.margin[3],-1*kt+Xe),ne.call(this,"fill",!0),this.path=Qt}var ht=W([JSON.parse(JSON.stringify(vt))],this.posX+this.margin[3],-kt+Xe+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*F.scale),ge=this.lineWidth,this.lineWidth=ge*F.scale);var qt=this.autoPaging!=="text";if(qt||ht.y+ht.h<=wt){if(qt||ht.y>=Xe&&ht.x<=ln){var yt=qt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||ln-ht.x)[0],Xn=W([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-kt+Xe+this.ctx.prevPageLastElemOffset)[0],mn=qt&&(bt>Pt||bt<qe)&&P.call(this);mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,wn,null).clip().discardPath()),this.pdf.text(yt,Xn.x,Xn.y,{angle:F.angle,align:G,renderingMode:F.renderingMode}),mn&&this.pdf.restoreGraphicsState()}}else ht.y<wt&&(this.ctx.prevPageLastElemOffset+=wt-ht.y);F.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=ge)}}else F.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*F.scale),ge=this.lineWidth,this.lineWidth=ge*F.scale),this.pdf.text(F.text,Ve.x+this.posX,Ve.y+this.posY,{angle:F.angle,align:G,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=ge)},D=function(F,G,re,ue){re=re||0,ue=ue||0,this.pdf.internal.out(t(F+re)+" "+n(G+ue)+" l")},Z=function(F,G,re){return this.pdf.lines(F,G,re,null,null)},ve=function(F,G,re,ue,ge,xe,Te,De){this.pdf.internal.out([e(i(re+F)),e(s(ue+G)),e(i(ge+F)),e(s(xe+G)),e(i(Te+F)),e(s(De+G)),"c"].join(" "))},be=function(F,G,re,ue){for(var ge=2*Math.PI,xe=Math.PI/2;G>re;)G-=ge;var Te=Math.abs(re-G);Te<ge&&ue&&(Te=ge-Te);for(var De=[],Ve=ue?-1:1,Qe=G;Te>1e-5;){var ct=Qe+Ve*Math.min(Te,xe);De.push(oe.call(this,F,Qe,ct)),Te-=Math.abs(ct-Qe),Qe=ct}return De},oe=function(F,G,re){var ue=(re-G)/2,ge=F*Math.cos(ue),xe=F*Math.sin(ue),Te=ge,De=-xe,Ve=Te*Te+De*De,Qe=Ve+Te*ge+De*xe,ct=4/3*(Math.sqrt(2*Ve*Qe)-Qe)/(Te*xe-De*ge),ot=Te-ct*De,vt=De+ct*Te,ie=ot,at=-vt,Ze=ue+G,Pt=Math.cos(Ze),qe=Math.sin(Ze);return{x1:F*Math.cos(G),y1:F*Math.sin(G),x2:ot*Pt-vt*qe,y2:ot*qe+vt*Pt,x3:ie*Pt-at*qe,y3:ie*qe+at*Pt,x4:F*Math.cos(re),y4:F*Math.sin(re)}},Q=function(F){return 180*F/Math.PI},fe=function(F,G,re,ue,ge,xe){var Te=F+.5*(re-F),De=G+.5*(ue-G),Ve=ge+.5*(re-ge),Qe=xe+.5*(ue-xe),ct=Math.min(F,ge,Te,Ve),ot=Math.max(F,ge,Te,Ve),vt=Math.min(G,xe,De,Qe),ie=Math.max(G,xe,De,Qe);return new c(ct,vt,ot-ct,ie-vt)},he=function(F,G,re,ue,ge,xe,Te,De){var Ve,Qe,ct,ot,vt,ie,at,Ze,Pt,qe,bt,Xe,It,wt,wn=re-F,ln=ue-G,xt=ge-re,kt=xe-ue,Qt=Te-ge,ht=De-xe;for(Qe=0;Qe<41;Qe++)Pt=(at=(ct=F+(Ve=Qe/40)*wn)+Ve*((vt=re+Ve*xt)-ct))+Ve*(vt+Ve*(ge+Ve*Qt-vt)-at),qe=(Ze=(ot=G+Ve*ln)+Ve*((ie=ue+Ve*kt)-ot))+Ve*(ie+Ve*(xe+Ve*ht-ie)-Ze),Qe==0?(bt=Pt,Xe=qe,It=Pt,wt=qe):(bt=Math.min(bt,Pt),Xe=Math.min(Xe,qe),It=Math.max(It,Pt),wt=Math.max(wt,qe));return new c(Math.round(bt),Math.round(Xe),Math.round(It-bt),Math.round(wt-Xe))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,G,re=(F=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:G}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(jt.API),(function(r){var e=function(a){var c,u,d,f,y,_,g,A,P,I;for(u=[],d=0,f=(a+=c="\0\0\0\0".slice(a.length%4||4)).length;f>d;d+=4)(y=(a.charCodeAt(d)<<24)+(a.charCodeAt(d+1)<<16)+(a.charCodeAt(d+2)<<8)+a.charCodeAt(d+3))!==0?(_=(y=((y=((y=((y=(y-(I=y%85))/85)-(P=y%85))/85)-(A=y%85))/85)-(g=y%85))/85)%85,u.push(_+33,g+33,A+33,P+33,I+33)):u.push(122);return(function(M,W){for(var z=W;z>0;z--)M.pop()})(u,c.length),String.fromCharCode.apply(String,u)+"~>"},t=function(a){var c,u,d,f,y,_=String,g="length",A=255,P="charCodeAt",I="slice",M="replace";for(a[I](-2),a=a[I](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),d=[],f=0,y=(a+=c="uuuuu"[I](a[g]%5||5))[g];y>f;f+=5)u=52200625*(a[P](f)-33)+614125*(a[P](f+1)-33)+7225*(a[P](f+2)-33)+85*(a[P](f+3)-33)+(a[P](f+4)-33),d.push(A&u>>24,A&u>>16,A&u>>8,A&u);return(function(W,z){for(var q=z;q>0;q--)W.pop()})(d,c[g]),_.fromCharCode.apply(_,d)},n=function(a){return a.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),c.test(a)===!1)return"";for(var u="",d=0;d<a.length;d+=2)u+=String.fromCharCode("0x"+(a[d]+a[d+1]));return u},s=function(a){for(var c=new Uint8Array(a.length),u=a.length;u--;)c[u]=a.charCodeAt(u);return(c=ov(c)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};r.processDataByFilters=function(a,c){var u=0,d=a||"",f=[];for(typeof(c=c||[])=="string"&&(c=[c]),u=0;u<c.length;u+=1)switch(c[u]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[u]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(jt.API),(function(r){r.loadFile=function(e,t,n){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var c=void 0;try{c=(function(u,d,f){var y=new XMLHttpRequest,_=0,g=function(A){var P=A.length,I=[],M=String.fromCharCode;for(_=0;_<P;_+=1)I.push(M(255&A.charCodeAt(_)));return I.join("")};if(y.open("GET",u,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?f(g(this.responseText)):f(void 0)}),y.send(null),d&&y.status===200)return g(y.responseText)})(i,s,a)}catch{}return c})(e,t,n)},r.loadImageFile=r.loadFile})(jt.API),(function(r){function e(){return(sn.html2canvas?Promise.resolve(sn.html2canvas):Z0(()=>import("./html2canvas.esm-DXEQVQnt.js"),[],import.meta.url)).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(sn.DOMPurify?Promise.resolve(sn.DOMPurify):Z0(()=>import("./purify.es-Bzr520pe.js"),[],import.meta.url)).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var u=hr(c);return u==="undefined"?"undefined":u==="string"||c instanceof String?"string":u==="number"||c instanceof Number?"number":u==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(c,u){var d=document.createElement(c);for(var f in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[f]=u.style[f];return d},s=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),y=u.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||f.appendChild(c(y,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},a=function c(u){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),f=c.convert(Promise.resolve(),d);return(f=f.setProgress(1,c,1,[c])).set(u)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(c,u){return c.__proto__=u||a.prototype,c},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(c,u){return this.then(function(){switch(u=u||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),u){case"string":return this.then(t).then(function(d){return this.set({src:i("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},a.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(u){var d=this.opt.jsPDF,f=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var A=f[g],P=A.src.find(function(I){return I.format==="truetype"});P&&d.addFont(P.url,A.ref.name,A.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,d.context2d.save(!0),u(this.prop.container,_)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(c,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,u):this.outputPdf(c,u)},a.prototype.outputPdf=function(c,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,u)})},a.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},a.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(c){if(n(c)!=="object")return this;var u=Object.keys(c||{}).map(function(d){if(d in a.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(u)})},a.prototype.get=function(c,u){return this.then(function(){var d=c in a.template.prop?this.prop[c]:this.opt[c];return u?u(d):d})},a.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},a.prototype.setPageSize=function(c){function u(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(c=c||jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:u(c.inner.width,c.k),height:u(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},a.prototype.setProgress=function(c,u,d,f){return c!=null&&(this.progress.val=c),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(c,u,d,f){return this.setProgress(c?this.progress.val+c:null,u||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(c,u){var d=this;return this.thenCore(c,u,function(f,y){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(_){return d.updateProgress(null,f),_}).then(f,y).then(function(_){return d.updateProgress(1),_})})},a.prototype.thenCore=function(c,u,d){d=d||Promise.prototype.then;var f=this;c&&(c=c.bind(f)),u&&(u=u.bind(f));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:a.convert(Object.assign({},f),Promise.prototype),_=d.call(y,c,u);return a.convert(_,f.__proto__)},a.prototype.thenExternal=function(c,u){return Promise.prototype.then.call(this,c,u)},a.prototype.thenList=function(c){var u=this;return c.forEach(function(d){u=u.thenCore(d)}),u},a.prototype.catch=function(c){c&&(c=c.bind(this));var u=Promise.prototype.catch.call(this,c);return a.convert(u,this)},a.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},a.prototype.error=function(c){return this.then(function(){throw new Error(c)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,jt.getPageSize=function(c,u,d){if(hr(c)==="object"){var f=c;c=f.orientation,u=f.unit||u,d=f.format||d}u=u||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var y,_=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+u}var A,P=0,I=0;if(g.hasOwnProperty(_))P=g[_][1]/y,I=g[_][0]/y;else try{P=d[1],I=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",I>P&&(A=I,I=P,P=A);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",P>I&&(A=I,I=P,P=A)}return{width:I,height:P,unit:u,k:y,orientation:c}},r.html=function(c,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(v1):null;var d=new a(u);return u.worker?d:d.from(c).doCallback()}})(jt.API),jt.API.addJS=function(r){return eb=r,this.internal.events.subscribe("postPutResources",function(){Jp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Jp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Z_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+eb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Jp!==void 0&&Z_!==void 0&&this.internal.out("/Names <</JavaScript "+Jp+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],c=n.exec(a);if(c!=null){var u=c[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var y=t.internal.newObject();f.push(y);var _=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<f.length;s++)t.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var c=this.count=this.count_r({count:0},a);if(c>0&&this.line("/Count "+c),a.options&&a.options.pageNumber){var u=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])})(jt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,s,a,c){var u,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(y){for(var _,g=256*y.charCodeAt(4)+y.charCodeAt(5),A=y.length,P={width:0,height:0,numcomponents:1},I=4;I<A;I+=2){if(I+=g,e.indexOf(y.charCodeAt(I+1))!==-1){_=256*y.charCodeAt(I+5)+y.charCodeAt(I+6),P={width:256*y.charCodeAt(I+7)+y.charCodeAt(I+8),height:_,numcomponents:y.charCodeAt(I+9)};break}g=256*y.charCodeAt(I+2)+y.charCodeAt(I+3)}return P})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}f={data:t,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:d,index:n,alias:i}}return f}})(jt.API),jt.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,s=MO(r,{checkCrc:!0}),a=s.width,c=s.height,u=s.channels,d=s.palette,f=s.depth;i=d&&u===1?(function(O){for(var R=O.width,B=O.height,N=O.data,T=O.palette,D=O.depth,Z=!1,ve=[],be=[],oe=void 0,Q=!1,fe=0,he=0;he<T.length;he++){var J=i_(T[he],4),F=J[0],G=J[1],re=J[2],ue=J[3];ve.push(F,G,re),ue!=null&&(ue===0?(fe++,be.length<1&&be.push(he)):ue<255&&(Q=!0))}if(Q||fe>1){Z=!0,be=void 0;var ge=R*B;oe=new Uint8Array(ge);for(var xe=new DataView(N.buffer),Te=0;Te<ge;Te++){var De=w1(xe,Te,D),Ve=i_(T[De],4)[3];oe[Te]=Ve}}else fe===0&&(be=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Z?8:void 0,colorBytes:N,alphaBytes:oe,needSMask:Z,palette:ve,mask:be}})(s):u===2||u===4?(function(O){for(var R=O.data,B=O.width,N=O.height,T=O.channels,D=O.depth,Z=T===2?"DeviceGray":"DeviceRGB",ve=T-1,be=B*N,oe=ve,Q=be*oe,fe=1*be,he=Math.ceil(Q*D/8),J=Math.ceil(fe*D/8),F=new Uint8Array(he),G=new Uint8Array(J),re=new DataView(R.buffer),ue=new DataView(F.buffer),ge=new DataView(G.buffer),xe=!1,Te=0;Te<be;Te++){for(var De=Te*T,Ve=0;Ve<oe;Ve++)cb(ue,w1(re,De+Ve,D),Te*oe+Ve,D);var Qe=w1(re,De+oe,D);Qe<(1<<D)-1&&(xe=!0),cb(ge,Qe,1*Te,D)}return{colorSpace:Z,colorsPerPixel:ve,sMaskBitsPerComponent:xe?D:void 0,colorBytes:F,alphaBytes:G,needSMask:xe}})(s):(function(O){var R=O.data,B=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:B,colorsPerPixel:B==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(N){for(var T=N.length,D=new Uint8Array(2*T),Z=new DataView(D.buffer,D.byteOffset,D.byteLength),ve=0;ve<T;ve++)Z.setUint16(2*ve,N[ve],!1);return D})(R):R,needSMask:!1}})(s);var y,_,g,A=i,P=A.colorSpace,I=A.colorsPerPixel,M=A.sMaskBitsPerComponent,W=A.colorBytes,z=A.alphaBytes,q=A.needSMask,ne=A.palette,de=A.mask,H=null;return n!==jt.API.image_compression.NONE&&typeof ov=="function"?(H=(function(O){var R;switch(O){case jt.API.image_compression.FAST:R=11;break;case jt.API.image_compression.MEDIUM:R=13;break;case jt.API.image_compression.SLOW:R=14;break;default:R=12}return R})(n),y=this.decode.FLATE_DECODE,_="/Predictor ".concat(H," /Colors ").concat(I," /BitsPerComponent ").concat(f," /Columns ").concat(a),r=ib(W,Math.ceil(a*I*f/8),I,f,n),q&&(g=ib(z,Math.ceil(a*M/8),1,M,n))):(y=void 0,_=void 0,r=W,q&&(g=z)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:r,index:e,filter:y,decodeParameters:_,transparency:de,palette:ne,sMask:g,predictor:H,width:a,height:c,bitsPerComponent:f,sMaskBitsPerComponent:M,colorSpace:P}}},(function(r){r.processGIF89A=function(e,t,n,i){var s=new n7(e),a=s.width,c=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:a,height:c},f=new _1(100).encode(d,100);return r.processJPEG.call(this,f,t,n,i)},r.processGIF87A=r.processGIF89A})(jt.API),Ca.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ca.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){_r.log("bit decode error:"+t)}},Ca.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var u=this.palette[s>>7-c&1];this.data[a+4*c]=u.blue,this.data[a+4*c+1]=u.green,this.data[a+4*c+2]=u.red,this.data[a+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Ca.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,c=s>>4,u=15&s,d=this.palette[c];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Ca.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Ca.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,c=(s>>5&e)/e*255|0,u=(s>>10&e)/e*255|0,d=s>>15?255:0,f=n*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=a,this.data[f+3]=d}this.pos+=r}},Ca.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(a&e)/e*255|0,u=(a>>5&t)/t*255|0,d=(a>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=c,this.data[f+3]=255}this.pos+=r}},Ca.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Ca.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=s,this.data[c+1]=i,this.data[c+2]=n,this.data[c+3]=a}},Ca.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,i){var s=new Ca(e,!1),a=s.width,c=s.height,u={data:s.getData(),width:a,height:c},d=new _1(100).encode(u,100);return r.processJPEG.call(this,d,t,n,i)}})(jt.API),db.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,i){var s=new db(e),a=s.width,c=s.height,u={data:s.getData(),width:a,height:c},d=new _1(100).encode(u,100);return r.processJPEG.call(this,d,t,n,i)}})(jt.API),jt.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),c=0,u=0,d=0;d<i;d+=4){var f=n[d],y=n[d+1],_=n[d+2],g=n[d+3];s[c++]=f,s[c++]=y,s[c++]=_,a[u++]=g}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},jt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Id=jt.API,Zp=Id.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,u=c.fof?c.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,y=e.doKerning!==!1,_=0,g=r.length,A=0,P=c[0]||u,I=[];for(t=0;t<g;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?I.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(_=y&&hr(d[n])==="object"&&!isNaN(parseInt(d[n][A],10))?d[n][A]/f:0,I.push((c[n]||P)/u+_)),A=n;return I},tb=Id.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Id.processArabic&&(r=Id.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:Zp.apply(this,arguments).reduce(function(s,a){return s+a},0)},nb=function(r,e,t,n){for(var i=[],s=0,a=r.length,c=0;s!==a&&c+e[s]<t;)c+=e[s],s++;i.push(r.slice(0,s));var u=s;for(c=0;s!==a;)c+e[s]>n&&(i.push(r.slice(u,s)),c=0,u=s),c+=e[s],s++;return u!==s&&i.push(r.slice(u,s)),i},rb=function(r,e,t){t||(t={});var n,i,s,a,c,u,d,f=[],y=[f],_=t.textIndent||0,g=0,A=0,P=r.split(" "),I=Zp.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?P[0].length+2:t.lineIndent||0){var M=Array(u).join(" "),W=[];P.map(function(q){(q=q.split(/\s*\n/)).length>1?W=W.concat(q.map(function(ne,de){return(de&&ne.length?`
`:"")+ne})):W.push(q[0])}),P=W,u=tb.apply(this,[M,t])}for(s=0,a=P.length;s<a;s++){var z=0;if(n=P[s],u&&n[0]==`
`&&(n=n.substr(1),z=1),_+g+(A=(i=Zp.apply(this,[n,t])).reduce(function(q,ne){return q+ne},0))>e||z){if(A>e){for(c=nb.apply(this,[n,i,e-(_+g),e]),f.push(c.shift()),f=[c.pop()];c.length;)y.push([c.shift()]);A=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(q,ne){return q+ne},0)}else f=[n];y.push(f),_=A+u,g=I}else f.push(n),_+=g+A,g=I}return d=u?function(q,ne){return(ne?M:"")+q.join(" ")}:function(q){return q.join(" ")},y.map(d)},Id.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var y=this.internal.getFont(f.fontName,f.fontStyle),_="Unicode";return y.metadata[_]?{widths:y.metadata[_].widths||{0:1},kerning:y.metadata[_].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var c,u,d=[];for(c=0,u=n.length;c<u;c++)d=d.concat(rb.apply(this,[n[c],a,s]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[t[s]]=e[s],i[e[s]]=t[s];var a=function(_){return"0x"+parseInt(_,10).toString(16)},c=r.__fontmetrics__.compress=function(_){var g,A,P,I,M=["{"];for(var W in _){if(g=_[W],isNaN(parseInt(W,10))?A="'"+W+"'":(W=parseInt(W,10),A=(A=a(W).slice(2)).slice(0,-1)+i[A.slice(-1)]),typeof g=="number")g<0?(P=a(g).slice(3),I="-"):(P=a(g).slice(2),I=""),P=I+P.slice(0,-1)+i[P.slice(-1)];else{if(hr(g)!=="object")throw new Error("Don't know what to do with value type "+hr(g)+".");P=c(g)}M.push(A+P)}return M.push("}"),M.join("")},u=r.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,A,P,I,M={},W=1,z=M,q=[],ne="",de="",H=_.length-1,O=1;O<H;O+=1)(I=_[O])=="'"?g?(P=g.join(""),g=void 0):g=[]:g?g.push(I):I=="{"?(q.push([z,P]),z={},P=void 0):I=="}"?((A=q.pop())[0][A[1]]=z,P=void 0,z=A[0]):I=="-"?W=-1:P===void 0?n.hasOwnProperty(I)?(ne+=n[I],P=parseInt(ne,16)*W,W=1,ne=""):ne+=I:n.hasOwnProperty(I)?(de+=n[I],z[P]=parseInt(de,16)*W,W=1,P=void 0,de=""):de+=I;return M},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(_){var g=_.font,A=y.Unicode[g.postScriptName];A&&(g.metadata.Unicode={},g.metadata.Unicode.widths=A.widths,g.metadata.Unicode.kerning=A.kerning);var P=f.Unicode[g.postScriptName];P&&(g.metadata.Unicode.encoding=P,g.encoding=P.codePages[0])}])})(jt.API),(function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=t.charCodeAt(s);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(gm(c)),a.metadata=r.API.TTFFont.open(c),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])})(jt),jt.API.addSvgAsImage=function(r,e,t,n,i,s,a,c){if(isNaN(e)||isNaN(t))throw _r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw _r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=i;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(sn.canvg?Promise.resolve(sn.canvg):Z0(()=>import("./index.es-BldcADon.js"),[],import.meta.url)).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(d,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(f)}).then(function(){y.addImage(u.toDataURL("image/jpeg",1),e,t,n,i,a,c)})},jt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},jt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(a),u=[],d=0,f=0,y=0;function _(A,P){var I,M=!1;for(I=0;I<A.length;I+=1)A[I]===P&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var g=c.length;for(y=0;y<g;y+=1)t[c[y]].value=t[c[y]].defaultValue,t[c[y]].explicitSet=!1}if(hr(r)==="object"){for(i in r)if(s=r[i],_(c,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&_(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")u.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(n=!1);n===!0&&u.push([s[d][0]-1,s[d][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,P=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?P.push("/"+A+" /"+t[A].value):P.push("/"+A+" "+t[A].value));P.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+P.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+a.length+c.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+c+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(jt.API),(function(r){var e=r.API,t=e.pdfEscape16=function(s,a){for(var c,u=a.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],y=0,_=s.length;y<_;++y){if(c=a.metadata.characterToGlyph(s.charCodeAt(y)),a.metadata.glyIdsUsed.push(c),a.metadata.toUnicode[c]=s.charCodeAt(y),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(a.metadata.widthOfGlyph(c),10)])),c=="0")return f.join("");c=c.toString(16),f.push(d[4-c.length],c)}return f.join("")},n=function(s){var a,c,u,d,f,y,_;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],y=0,_=(c=Object.keys(s).sort(function(g,A){return g-A})).length;y<_;y++)a=c[y],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(d=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var c=a.font,u=a.out,d=a.newObject,f=a.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,_=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",A=0;A<_.length;A++)g+=String.fromCharCode(_[A]);var P=d();f({data:g,addLength1:!0,objectId:P}),u("endobj");var I=d();f({data:n(c.metadata.toUnicode),addLength1:!0,objectId:I}),u("endobj");var M=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Rd(c.fontName)),u("/FontFile2 "+P+" 0 R"),u("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var W=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Rd(c.fontName)),u("/FontDescriptor "+M+" 0 R"),u("/W "+r.API.PDFObject.convert(y)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+I+" 0 R"),u("/BaseFont /"+Rd(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+W+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var c=a.font,u=a.out,d=a.newObject,f=a.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,_="",g=0;g<y.length;g++)_+=String.fromCharCode(y[g]);var A=d();f({data:_,addLength1:!0,objectId:A}),u("endobj");var P=d();f({data:n(c.metadata.toUnicode),addLength1:!0,objectId:P}),u("endobj");var I=d();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+A+" 0 R"),u("/Flags 96"),u("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Rd(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=d();for(var M=0;M<c.metadata.hmtx.widths.length;M++)c.metadata.hmtx.widths[M]=parseInt(c.metadata.hmtx.widths[M]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+P+" 0 R/BaseFont/"+Rd(c.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,c=s.text||"",u=s.x,d=s.y,f=s.options||{},y=s.mutex||{},_=y.pdfEscape,g=y.activeFontKey,A=y.fonts,P=g,I="",M=0,W="",z=A[P].encoding;if(A[P].encoding!=="Identity-H")return{text:c,x:u,y:d,options:f,mutex:y};for(W=c,P=g,Array.isArray(c)&&(W=c[0]),M=0;M<W.length;M+=1)A[P].metadata.hasOwnProperty("cmap")&&(a=A[P].metadata.cmap.unicode.codeMap[W[M].charCodeAt(0)]),a||W[M].charCodeAt(0)<256&&A[P].metadata.hasOwnProperty("Unicode")?I+=W[M]:I+="";var q="";return parseInt(P.slice(1))<14||z==="WinAnsiEncoding"?q=_(I,P).split("").map(function(ne){return ne.charCodeAt(0).toString(16)}).join(""):z==="Identity-H"&&(q=t(I,A[P])),y.isHex=!0,{text:q,x:u,y:d,options:f,mutex:y}};e.events.push(["postProcessText",function(s){var a=s.text||"",c=[],u={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?c.push([i(Object.assign({},u,{text:a[d][0]})).text,a[d][1],a[d][2]]):c.push(i(Object.assign({},u,{text:a[d]})).text);s.text=c}else s.text=i(Object.assign({},u,{text:a})).text}])})(jt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(jt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,a,c,u,d,f,y=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},P={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),W=!1,z=0;this.__bidiEngine__={};var q=function(N){var T=N.charCodeAt(),D=T>>8,Z=P[D];return Z!==void 0?y[256*Z+(255&T)]:D===252||D===253?"AL":M.test(D)?"L":D===8?"R":"N"},ne=function(N){for(var T,D=0;D<N.length;D++){if((T=q(N.charAt(D)))==="L")return!1;if(T==="R")return!0}return!1},de=function(N,T,D,Z){var ve,be,oe,Q,fe=T[Z];switch(fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":W=!1;break;case"N":case"AN":break;case"EN":W&&(fe="AN");break;case"AL":W=!0,fe="R";break;case"WS":case"BN":fe="N";break;case"CS":Z<1||Z+1>=T.length||(ve=D[Z-1])!=="EN"&&ve!=="AN"||(be=T[Z+1])!=="EN"&&be!=="AN"?fe="N":W&&(be="AN"),fe=be===ve?be:"N";break;case"ES":fe=(ve=Z>0?D[Z-1]:"B")==="EN"&&Z+1<T.length&&T[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&D[Z-1]==="EN"){fe="EN";break}if(W){fe="N";break}for(oe=Z+1,Q=T.length;oe<Q&&T[oe]==="ET";)oe++;fe=oe<Q&&T[oe]==="EN"?"EN":"N";break;case"NSM":if(a&&!c){for(Q=T.length,oe=Z+1;oe<Q&&T[oe]==="NSM";)oe++;if(oe<Q){var he=N[Z],J=he>=1425&&he<=2303||he===64286;if(ve=T[oe],J&&(ve==="R"||ve==="AL")){fe="R";break}}}fe=Z<1||(ve=T[Z-1])==="B"?"N":D[Z-1];break;case"B":W=!1,i=!0,fe=z;break;case"S":s=!0,fe="N"}return fe},H=function(N,T,D){var Z=N.split("");return D&&O(Z,D,{hiLevel:z}),Z.reverse(),T&&T.reverse(),Z.join("")},O=function(N,T,D){var Z,ve,be,oe,Q,fe=-1,he=N.length,J=0,F=[],G=z?g:_,re=[];for(W=!1,i=!1,s=!1,ve=0;ve<he;ve++)re[ve]=q(N[ve]);for(be=0;be<he;be++){if(Q=J,F[be]=de(N,re,F,be),Z=240&(J=G[Q][A[F[be]]]),J&=15,T[be]=oe=G[J][5],Z>0)if(Z===16){for(ve=fe;ve<be;ve++)T[ve]=1;fe=-1}else fe=-1;if(G[J][6])fe===-1&&(fe=be);else if(fe>-1){for(ve=fe;ve<be;ve++)T[ve]=oe;fe=-1}re[be]==="B"&&(T[be]=0),D.hiLevel|=oe}s&&(function(ue,ge,xe){for(var Te=0;Te<xe;Te++)if(ue[Te]==="S"){ge[Te]=z;for(var De=Te-1;De>=0&&ue[De]==="WS";De--)ge[De]=z}})(re,T,he)},R=function(N,T,D,Z,ve){if(!(ve.hiLevel<N)){if(N===1&&z===1&&!i)return T.reverse(),void(D&&D.reverse());for(var be,oe,Q,fe,he=T.length,J=0;J<he;){if(Z[J]>=N){for(Q=J+1;Q<he&&Z[Q]>=N;)Q++;for(fe=J,oe=Q-1;fe<oe;fe++,oe--)be=T[fe],T[fe]=T[oe],T[oe]=be,D&&(be=D[fe],D[fe]=D[oe],D[oe]=be);J=Q}J++}}},B=function(N,T,D){var Z=N.split(""),ve={hiLevel:z};return D||(D=[]),O(Z,D,ve),(function(be,oe,Q){if(Q.hiLevel!==0&&f)for(var fe,he=0;he<be.length;he++)oe[he]===1&&(fe=I.indexOf(be[he]))>=0&&(be[he]=I[fe+1])})(Z,D,ve),R(2,Z,T,D,ve),R(1,Z,T,D,ve),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(N,T,D){if((function(ve,be){if(be)for(var oe=0;oe<ve.length;oe++)be[oe]=oe;c===void 0&&(c=ne(ve)),d===void 0&&(d=ne(ve))})(N,T),a||!u||d)if(a&&u&&c^d)z=c?1:0,N=H(N,T,D);else if(!a&&u&&d)z=c?1:0,N=B(N,T,D),N=H(N,T);else if(!a||c||u||d){if(a&&!u&&c^d)N=H(N,T),c?(z=0,N=B(N,T,D)):(z=1,N=B(N,T,D),N=H(N,T));else if(a&&c&&!u&&d)z=1,N=B(N,T,D),N=H(N,T);else if(!a&&!u&&c^d){var Z=f;c?(z=1,N=B(N,T,D),z=0,f=!1,N=B(N,T,D),f=Z):(z=0,N=B(N,T,D),N=H(N,T),z=1,f=!1,N=B(N,T,D),f=Z,N=H(N,T))}}else z=0,N=B(N,T,D);else z=c?1:0,N=B(N,T,D);return N},this.__bidiEngine__.setOptions=function(N){N&&(a=N.isInputVisual,u=N.isOutputVisual,c=N.isInputRtl,d=N.isOutputRtl,f=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(a=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?a.push([t.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):a.push([t.doBidiReorder(i[c])]);n.text=a}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(jt),jt.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new nu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new v7(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new r7(this.contents),this.head=new s7(this),this.name=new u7(this),this.cmap=new gE(this),this.toUnicode={},this.hhea=new o7(this),this.maxp=new d7(this),this.hmtx=new h7(this),this.post=new l7(this),this.os2=new a7(this),this.loca=new g7(this),this.glyf=new f7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,c,u,d;for(d=[],a=0,c=(u=this.bbox).length;a<c;a++)e=u[a],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,s,a,c;for(a=0,s=0,c=(e=""+e).length;0<=c?s<c:s>c;s=0<=c?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var Ra,nu=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,s,a,c,u;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),c=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^c)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*a+256*c+u},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)t=e[n],s.push(this.writeByte(t));return s},r})(),r7=(function(){var r;function e(t){var n,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,s,a,c,u,d,f,y,_,g,A,P;for(P in g=Object.keys(t).length,u=Math.log(2),y=16*Math.floor(Math.log(g)/u),a=Math.floor(y/u),f=16*g-y,(i=new nu).writeInt(this.scalarType),i.writeShort(g),i.writeShort(y),i.writeShort(a),i.writeShort(f),s=16*g,d=i.pos+s,c=null,A=[],t)for(_=t[P],i.writeString(P),i.writeInt(r(_)),i.writeInt(d),i.writeInt(_.length),A=A.concat(_),P==="head"&&(c=d),d+=_.length;d%4;)A.push(0),d++;return i.write(A),n=2981146554-r(i.data),i.pos=c+8,i.writeUInt32(n),i.data},r=function(t){var n,i,s,a;for(t=vE.call(t);t.length%4;)t.push(0);for(s=new nu(t),i=0,n=0,a=t.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e})(),i7={}.hasOwnProperty,yl=function(r,e){for(var t in e)i7.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Ra=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var s7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return yl(r,Ra),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new nu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),hb=(function(){function r(e,t){var n,i,s,a,c,u,d,f,y,_,g,A,P,I,M,W,z;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),_=g/2,e.pos+=6,s=(function(){var q,ne;for(ne=[],u=q=0;0<=_?q<_:q>_;u=0<=_?++q:--q)ne.push(e.readUInt16());return ne})(),e.pos+=2,P=(function(){var q,ne;for(ne=[],u=q=0;0<=_?q<_:q>_;u=0<=_?++q:--q)ne.push(e.readUInt16());return ne})(),d=(function(){var q,ne;for(ne=[],u=q=0;0<=_?q<_:q>_;u=0<=_?++q:--q)ne.push(e.readUInt16());return ne})(),f=(function(){var q,ne;for(ne=[],u=q=0;0<=_?q<_:q>_;u=0<=_?++q:--q)ne.push(e.readUInt16());return ne})(),i=(this.length-e.pos+this.offset)/2,c=(function(){var q,ne;for(ne=[],u=q=0;0<=i?q<i:q>i;u=0<=i?++q:--q)ne.push(e.readUInt16());return ne})(),u=M=0,z=s.length;M<z;u=++M)for(I=s[u],n=W=A=P[u];A<=I?W<=I:W>=I;n=A<=I?++W:--W)f[u]===0?a=n+d[u]:(a=c[f[u]/2+(n-A)-(_-u)]||0)!==0&&(a+=d[u]),this.codeMap[n]=65535&a}e.pos=y}return r.encode=function(e,t){var n,i,s,a,c,u,d,f,y,_,g,A,P,I,M,W,z,q,ne,de,H,O,R,B,N,T,D,Z,ve,be,oe,Q,fe,he,J,F,G,re,ue,ge,xe,Te,De,Ve,Qe,ct;switch(Z=new nu,a=Object.keys(e).sort(function(ot,vt){return ot-vt}),t){case"macroman":for(P=0,I=(function(){var ot=[];for(A=0;A<256;++A)ot.push(0);return ot})(),W={0:0},s={},ve=0,fe=a.length;ve<fe;ve++)W[De=e[i=a[ve]]]==null&&(W[De]=++P),s[i]={old:e[i],new:W[e[i]]},I[i]=W[e[i]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(I),{charMap:s,subtable:Z.data,maxGlyphID:P+1};case"unicode":for(T=[],y=[],z=0,W={},n={},M=d=null,be=0,he=a.length;be<he;be++)W[ne=e[i=a[be]]]==null&&(W[ne]=++z),n[i]={old:ne,new:W[ne]},c=W[ne]-i,M!=null&&c===d||(M&&y.push(M),T.push(i),d=c),M=i;for(M&&y.push(M),y.push(65535),T.push(65535),B=2*(R=T.length),O=2*Math.pow(Math.log(R)/Math.LN2,2),_=Math.log(O/2)/Math.LN2,H=2*R-O,u=[],de=[],g=[],A=oe=0,J=T.length;oe<J;A=++oe){if(N=T[A],f=y[A],N===65535){u.push(0),de.push(0);break}if(N-(D=n[N].new)>=32768)for(u.push(0),de.push(2*(g.length+R-A)),i=Q=N;N<=f?Q<=f:Q>=f;i=N<=f?++Q:--Q)g.push(n[i].new);else u.push(D-N),de.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*R+2*g.length),Z.writeUInt16(0),Z.writeUInt16(B),Z.writeUInt16(O),Z.writeUInt16(_),Z.writeUInt16(H),xe=0,F=y.length;xe<F;xe++)i=y[xe],Z.writeUInt16(i);for(Z.writeUInt16(0),Te=0,G=T.length;Te<G;Te++)i=T[Te],Z.writeUInt16(i);for(Ve=0,re=u.length;Ve<re;Ve++)c=u[Ve],Z.writeUInt16(c);for(Qe=0,ue=de.length;Qe<ue;Qe++)q=de[Qe],Z.writeUInt16(q);for(ct=0,ge=g.length;ct<ge;ct++)P=g[ct],Z.writeUInt16(P);return{charMap:n,subtable:Z.data,maxGlyphID:z+1}}},r})(),gE=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return yl(r,Ra),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new hb(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=hb.encode(e,t),(i=new nu).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r})(),o7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return yl(r,Ra),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),a7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return yl(r,Ra),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),l7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return yl(r,Ra),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,c,u;for(u=[],s=a=0,c=this.file.maxp.numGlyphs;0<=c?a<c:a>c;s=0<=c?++a:--a)u.push(e.readUInt32());return u}).call(this)}},r})(),c7=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},u7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return yl(r,Ra),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,s,a,c,u,d,f,y,_;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(u={},s=f=0,y=n.length;f<y;s=++f)i=n[s],e.pos=i.offset,d=e.readString(i.length),a=new c7(d,i),u[_=i.nameID]==null&&(u[_]=[]),u[i.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},r})(),d7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return yl(r,Ra),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),h7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return yl(r,Ra),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,s,a,c,u;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],t=d=0;0<=i?d<i:d>i;t=0<=i?++d:--d)f.push(e.readInt16());return f})(),this.widths=(function(){var d,f,y,_;for(_=[],d=0,f=(y=this.metrics).length;d<f;d++)s=y[d],_.push(s.advance);return _}).call(this),n=this.widths[this.widths.length-1],u=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)u.push(this.widths.push(n));return u},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),vE=[].slice,f7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return yl(r,Ra),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,s,a,c,u,d,f,y;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,a=(c=new nu(t.read(i))).readShort(),d=c.readShort(),y=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[e]=a===-1?new m7(c,d,y,u,f):new p7(c,a,d,y,u,f),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,s,a,c,u;for(a=[],s=[],c=0,u=t.length;c<u;c++)i=e[t[c]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},r})(),p7=(function(){function r(e,t,n,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),m7=(function(){function r(e,t,n,i,s){var a,c;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;c=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&c;)a.pos+=1&c?4:2,128&c?a.pos+=8:64&c?a.pos+=4:8&c&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new nu(vE.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),g7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return yl(r,Ra),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<t.length&&t[s]==a){++s,n[a]=i;var c=this.offsets[a],u=this.offsets[a+1]-c;u>0&&(i+=u)}for(var d=new Array(4*n.length),f=0;f<n.length;++f)d[4*f+3]=255&n[f],d[4*f+2]=(65280&n[f])>>8,d[4*f+1]=(16711680&n[f])>>16,d[4*f]=(4278190080&n[f])>>24;return d},r})(),v7=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,s,a,c,u;for(i={},a=0,c=e.length;a<c;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(n=i[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in u=this.glyphsFor(t))n=u[s],i[s]=n;return i},r.prototype.encode=function(e,t){var n,i,s,a,c,u,d,f,y,_,g,A,P,I,M;for(i in n=gE.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),g={0:0},M=n.charMap)g[(u=M[i]).old]=u.new;for(A in _=n.maxGlyphID,a)A in g||(g[A]=_++);return f=(function(W){var z,q;for(z in q={},W)q[W[z]]=z;return q})(g),y=Object.keys(f).sort(function(W,z){return W-z}),P=(function(){var W,z,q;for(q=[],W=0,z=y.length;W<z;W++)c=y[W],q.push(f[c]);return q})(),s=this.font.glyf.encode(a,P,g),d=this.font.loca.encode(s.offsets,P),I={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},r})();jt.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,s,a;if(Array.isArray(t))return"["+(function(){var c,u,d;for(d=[],c=0,u=t.length;c<u;c++)n=t[c],d.push(e.convert(n));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e})();function yE(r,e,t,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,c=i.internal.getFontSize()/a,u=i.getLineHeightFactor?i.getLineHeightFactor():s,d=c*u,f=/\r\n|\r|\n/g,y="",_=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(y=typeof r=="string"?r.split(f):r,_=y.length||1),t+=c*(2-s),n.valign==="middle"?t-=_/2*d:n.valign==="bottom"&&(t-=_*d),n.halign==="center"||n.halign==="right"){var g=c;if(n.halign==="center"&&(g*=.5),y&&_>=1){for(var A=0;A<y.length;A++)i.text(y[A],e-i.getStringUnitWidth(y[A])*g,t),t+=d;return i}e-=i.getStringUnitWidth(r)*g}return n.halign==="justify"?i.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,e,t),i}var fb={},Gd=(function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:fb=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),c=a.fontStyle,u=a.fontName;if(e.font&&(u=e.font),e.fontStyle){c=e.fontStyle;var d=this.getFontList()[u];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(u,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var f=r.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=r.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=r.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,i,s){return this.jsPDFDocument.rect(e,t,n,i,s)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return fb||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r})(),pv=function(r,e){return pv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},pv(r,e)};function wE(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pv(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var _E=(function(r){wE(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e})(Array);function y7(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function w7(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function rg(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(s){return t.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function bE(r,e,t,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:s});var a=xE(i,!1);a&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,a)}function xE(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function Fg(r,e){var t,n,i,s;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(i=r.right)!==null&&i!==void 0?i:e,bottom:(s=r.bottom)!==null&&s!==void 0?s:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function SE(r,e){var t=Fg(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function _7(r,e,t,n,i){var s={},a=1.3333333333333333,c=b1(e,function(z){return i.getComputedStyle(z).backgroundColor});c!=null&&(s.fillColor=c);var u=b1(e,function(z){return i.getComputedStyle(z).color});u!=null&&(s.textColor=u);var d=x7(n,t);d&&(s.cellPadding=d);var f="borderTopColor",y=a*t,_=n.borderTopWidth;if(n.borderBottomWidth===_&&n.borderRightWidth===_&&n.borderLeftWidth===_){var g=(parseFloat(_)||0)/y;g&&(s.lineWidth=g)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/y,right:(parseFloat(n.borderRightWidth)||0)/y,bottom:(parseFloat(n.borderBottomWidth)||0)/y,left:(parseFloat(n.borderLeftWidth)||0)/y},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var A=b1(e,function(z){return i.getComputedStyle(z)[f]});A!=null&&(s.lineColor=A);var P=["left","right","center","justify"];P.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),P=["middle","bottom","top"],P.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var I=parseInt(n.fontSize||"");isNaN(I)||(s.fontSize=I/a);var M=b7(n);M&&(s.fontStyle=M);var W=(n.fontFamily||"").toLowerCase();return r.indexOf(W)!==-1&&(s.font=W),s}function b7(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function b1(r,e){var t=kE(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function kE(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:kE(r.parentElement,e):t}function x7(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,s=t.map(function(c){return parseInt(c||"0")/n}),a=Fg(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function EE(r,e,t,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var u=Object.keys(r.getFontList()),d=r.scaleFactor(),f=[],y=[],_=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:f,body:y,foot:_};for(var g=0;g<c.rows.length;g++){var A=c.rows[g],P=(a=(s=A?.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),I=S7(u,d,t,A,n,i);I&&(P==="thead"?f.push(I):P==="tfoot"?_.push(I):y.push(I))}return{head:f,body:y,foot:_}}function S7(r,e,t,n,i,s){for(var a=new _E(n),c=0;c<n.cells.length;c++){var u=n.cells[c],d=t.getComputedStyle(u);if(i||d.display!=="none"){var f=void 0;s&&(f=_7(r,u,e,d,t)),a.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:f,_element:u,content:k7(u)})}}var y=t.getComputedStyle(n);if(a.length>0&&(i||y.display!=="none"))return a}function k7(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function E7(r,e,t){for(var n=0,i=[r,e,t];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Yl(r,e,t,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),a=1;a<arguments.length;a++){var c=arguments[a];if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(s[u]=c[u])}return s}function AE(r,e){var t=new Gd(r),n=t.getDocumentOptions(),i=t.getGlobalOptions();E7(i,n,e);var s=Yl({},i,n,e),a;typeof window<"u"&&(a=window);var c=A7(i,n,e),u=C7(i,n,e),d=I7(t,s),f=N7(t,s,a);return{id:e.tableId,content:f,hooks:u,styles:c,settings:d}}function A7(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var d=r[u],f=e[u],y=t[u];n.columnStyles=Yl({},d,f,y)}else{var _=[r,e,t],g=_.map(function(A){return A[u]||{}});n[u]=Yl({},g[0],g[1],g[2])}},s=0,a=Object.keys(n);s<a.length;s++){var c=a[s];i(c)}return n}function C7(r,e,t){for(var n=[r,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var c=a[s];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function I7(r,e){var t,n,i,s,a,c,u,d,f,y,_,g,A=Fg(e.margin,40/r.scaleFactor()),P=(t=T7(r,e.startY))!==null&&t!==void 0?t:A.top,I;e.showFoot===!0?I="everyPage":e.showFoot===!1?I="never":I=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var M;e.showHead===!0?M="everyPage":e.showHead===!1?M="never":M=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var W=(s=e.useCss)!==null&&s!==void 0?s:!1,z=e.theme||(W?"plain":"striped"),q=!!e.horizontalPageBreak,ne=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:W,theme:z,startY:P,margin:A,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:M,showFoot:I,tableLineWidth:(y=e.tableLineWidth)!==null&&y!==void 0?y:0,tableLineColor:(_=e.tableLineColor)!==null&&_!==void 0?_:200,horizontalPageBreak:q,horizontalPageBreakRepeat:ne,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function T7(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),s=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&t?.finalY!=null?t.finalY+20/n:null}function N7(r,e,t){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var c=EE(r,e.html,t,a,e.useCss)||{};n=c.head||n,i=c.body||n,s=c.foot||n}else console.error("Cannot parse html in non browser environment")}var u=e.columns||P7(n,i,s);return{columns:u,head:n,body:i,foot:s}}function P7(r,e,t){var n=r[0]||e[0]||t[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,c;Array.isArray(n)?c=n[parseInt(s)]:c=n[s],typeof c=="object"&&!Array.isArray(c)&&(a=c?.colSpan||1);for(var u=0;u<a;u++){var d=void 0;Array.isArray(n)?d=i.length:d=s+(u>0?"_".concat(u):"");var f={dataKey:d};i.push(f)}}),i}var mv=(function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r})(),D7=(function(r){wE(e,r);function e(t,n,i,s,a,c){var u=r.call(this,t,n,c)||this;return u.cell=i,u.row=s,u.column=a,u.section=s.section,u}return e})(mv),L7=(function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,i,s,a){for(var c=0,u=t;c<u.length;c++){var d=u[c],f=new D7(e,this,n,i,s,a),y=d(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],y)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new mv(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new mv(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r})(),CE=(function(){function r(e,t,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof _E&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=i,this.spansMultiplePages=s}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var i=t.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var c=t.getLineHeight(a.styles.fontSize),u=a.padding("vertical"),d=u+c;return d>i?d:i},0)},r})(),IE=(function(){function r(e,t,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",c=/\r\n|\r|\n/g;this.text=a.split(c)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=Fg(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r})(),R7=(function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},r})();function M7(r,e){O7(r,e);var t=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,t.push(s)),n+=s.width});var i=e.getWidth(r.pageSize().width)-n;i&&(i=gv(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=gv(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),j7(e),B7(e,r),F7(e)}function O7(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,i=SE(r,e);e.allRows().forEach(function(s){for(var a=0,c=e.columns;a<c.length;a++){var u=c[a],d=s.cells[u.index];if(d){var f=e.hooks.didParseCell;e.callCellHooks(r,f,d,s,u,null);var y=d.padding("horizontal");d.contentWidth=rg(d.text,d.styles,r)+y;var _=rg(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,r);if(d.minReadableWidth=_+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>i?(d.minWidth=i,d.wrappedWidth=i):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var g=10/t;d.minWidth=d.styles.minCellWidth||g,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,c=e.columns;a<c.length;a++){var u=c[a],d=s.cells[u.index];if(d&&d.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,d.wrappedWidth),u.minWidth=Math.max(u.minWidth,d.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,d.minReadableWidth);else{var f=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},y=f.cellWidth||f.minCellWidth;y&&typeof y=="number"&&(u.minWidth=y,u.wrappedWidth=y)}d&&(d.colSpan>1&&!u.minWidth&&(u.minWidth=d.minWidth),d.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=d.minWidth))}})}function gv(r,e,t){for(var n=e,i=r.reduce(function(g,A){return g+A.wrappedWidth},0),s=0;s<r.length;s++){var a=r[s],c=a.wrappedWidth/i,u=n*c,d=a.width+u,f=t(a),y=d<f?f:d;e-=y-a.width,a.width=y}if(e=Math.round(e*1e10)/1e10,e){var _=r.filter(function(g){return e<0?g.width>t(g):!0});_.length&&(e=gv(_,e,t))}return e}function F7(r){for(var e={},t=1,n=r.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,c=r.columns;a<c.length;a++){var u=c[a],d=e[u.index];if(t>1)t--,delete s.cells[u.index];else if(d)d.cell.height+=s.height,t=d.cell.colSpan,delete s.cells[u.index],d.left--,d.left<=1&&delete e[u.index];else{var f=s.cells[u.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var y=n.length-i,_=f.rowSpan>y?y:f.rowSpan;e[u.index]={cell:f,left:_,row:s}}}}}function j7(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],i=null,s=0,a=0,c=0;c<r.columns.length;c++){var u=r.columns[c];if(a-=1,a>1&&r.columns[c+1])s+=u.width,delete n.cells[u.index];else if(i){var d=i;delete n.cells[u.index],i=null,d.width=u.width+s}else{var d=n.cells[u.index];if(!d)continue;if(a=d.colSpan,s=0,d.colSpan>1){i=d,s+=u.width;continue}d.width=u.width+s}}}function B7(r,e){for(var t={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var s=i[n],a=0,c=r.columns;a<c.length;a++){var u=c[a],d=s.cells[u.index];if(d){e.applyStyles(d.styles,!0);var f=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,f+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=pb(d.text,f,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=pb(d.text,f,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var y=d.styles.overflow(d.text,f);typeof y=="string"?d.text=[y]:d.text=y}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var _=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<_*d.rowSpan?t={height:_,count:d.rowSpan}:t&&t.count>0&&t.height>_&&(_=t.height),_>s.height&&(s.height=_)}}t.count--}}function pb(r,e,t,n,i){return r.map(function(s){return V7(s,e,t,n,i)})}function V7(r,e,t,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=rg(r,t,n))return r;for(;e<rg(r+i,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function TE(r,e){var t=new Gd(r),n=U7(e,t.scaleFactor()),i=new L7(e,n);return M7(t,i),t.applyStyles(t.userStyles),i}function U7(r,e){var t=r.content,n=q7(t.columns);if(t.head.length===0){var i=mb(n,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=mb(n,"foot");i&&t.foot.push(i)}var s=r.settings.theme,a=r.styles;return{columns:n,head:x1("head",t.head,n,a,s,e),body:x1("body",t.body,n,a,s,e),foot:x1("foot",t.foot,n,a,s,e)}}function x1(r,e,t,n,i,s){var a={},c=e.map(function(u,d){for(var f=0,y={},_=0,g=0,A=0,P=t;A<P.length;A++){var I=P[A];if(a[I.index]==null||a[I.index].left===0)if(g===0){var M=void 0;Array.isArray(u)?M=u[I.index-_-f]:M=u[I.dataKey];var W={};typeof M=="object"&&!Array.isArray(M)&&(W=M?.styles||{});var z=H7(r,I,d,i,n,s,W),q=new IE(M,z,r);y[I.dataKey]=q,y[I.index]=q,g=q.colSpan-1,a[I.index]={left:q.rowSpan-1,times:g}}else g--,_++;else a[I.index].left--,g=a[I.index].times,f++}return new CE(u,d,r,y)});return c}function mb(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var i=z7(e,n.raw);i!=null&&(t[n.dataKey]=i)}}),Object.keys(t).length>0?t:null}function z7(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function q7(r){return r.map(function(e,t){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:t:i=t,new R7(i,e,t)})}function H7(r,e,t,n,i,s,a){var c=w7(n),u;r==="head"?u=i.headStyles:r==="body"?u=i.bodyStyles:r==="foot"&&(u=i.footStyles);var d=Yl({},c.table,c[r],i.styles,u),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},y=r==="body"?f:{},_=r==="body"&&t%2===0?Yl({},c.alternateRow,i.alternateRowStyles):{},g=y7(s),A=Yl({},g,d,_,y);return Yl(A,a)}function W7(r,e,t){var n;t===void 0&&(t={});var i=SE(r,e),s=new Map,a=[],c=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(_){var g=e.columns.find(function(A){return A.dataKey===_||A.index===_});g&&!s.has(g.index)&&(s.set(g.index,!0),a.push(g.index),c.push(e.columns[g.index]),i-=g.wrappedWidth)});for(var d=!0,f=(n=t?.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(s.has(f)){f++;continue}var y=e.columns[f].wrappedWidth;if(d||i>=y)d=!1,a.push(f),c.push(e.columns[f]),i-=y;else break;f++}return{colIndexes:a,columns:c,lastIndex:f-1}}function $7(r,e){for(var t=[],n=0;n<e.columns.length;n++){var i=W7(r,e,{start:n});i.columns.length&&(t.push(i),n=i.lastIndex)}return t}function NE(r,e){var t=e.settings,n=t.startY,i=t.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=n+i.bottom+a;if(t.pageBreak==="avoid"){var u=e.body,d=u.reduce(function(_,g){return _+g.height},0);c+=d}var f=new Gd(r);(t.pageBreak==="always"||t.startY!=null&&c>f.pageSize().height)&&(DE(f),s.y=i.top),e.callWillDrawPageHooks(f,s);var y=Yl({},s);e.startPageNumber=f.pageNumber(),t.horizontalPageBreak?Y7(f,e,y,s):(f.applyStyles(f.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(_){return tc(f,e,_,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(_,g){var A=g===e.body.length-1;ig(f,e,_,A,y,s,e.columns)}),f.applyStyles(f.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(_){return tc(f,e,_,s,e.columns)})),bE(f,e,y,s),e.callEndPageHooks(f,s),e.finalY=s.y,r.lastAutoTable=e,f.applyStyles(f.userStyles)}function Y7(r,e,t,n){var i=$7(r,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(d,f){r.applyStyles(r.userStyles),f>0?yf(r,e,t,n,d.columns,!0):gb(r,e,n,d.columns),G7(r,e,t,n,d.columns),S1(r,e,n,d.columns)});else for(var a=-1,c=i[0],u=function(){var d=a;if(c){r.applyStyles(r.userStyles);var f=c.columns;a>=0?yf(r,e,t,n,f,!0):gb(r,e,n,f),d=vb(r,e,a+1,n,f),S1(r,e,n,f)}var y=d-a;i.slice(1).forEach(function(_){r.applyStyles(r.userStyles),yf(r,e,t,n,_.columns,!0),vb(r,e,a+1,n,_.columns,y),S1(r,e,n,_.columns)}),a=d};a<e.body.length-1;)u()}function gb(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return tc(r,e,s,t,n)})}function G7(r,e,t,n,i){r.applyStyles(r.userStyles),e.body.forEach(function(s,a){var c=a===e.body.length-1;ig(r,e,s,c,t,n,i)})}function vb(r,e,t,n,i,s){r.applyStyles(r.userStyles),s=s??e.body.length;var a=Math.min(t+s,e.body.length),c=-1;return e.body.slice(t,a).forEach(function(u,d){var f=t+d===e.body.length-1,y=PE(r,e,f,n);u.canEntireRowFit(y,i)&&(tc(r,e,u,n,i),c=t+d)}),c}function S1(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return tc(r,e,s,t,n)})}function K7(r,e,t){var n=t.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function Q7(r,e,t,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var s=0,a=0,c=t.columns;a<c.length;a++){var u=c[a],d=r.cells[u.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var f=new IE(d.raw,d.styles,d.section);f=Yl(f,d),f.text=[];var y=K7(d,e,n);d.text.length>y&&(f.text=d.text.splice(y,d.text.length));var _=n.scaleFactor(),g=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(_,g),d.contentHeight>=e&&(d.contentHeight=e,f.styles.minCellHeight-=e),d.contentHeight>r.height&&(r.height=d.contentHeight),f.contentHeight=f.getContentHeight(_,g),f.contentHeight>s&&(s=f.contentHeight),i[u.index]=f}}var A=new CE(r.raw,-1,r.section,i,!0);A.height=s;for(var P=0,I=t.columns;P<I.length;P++){var u=I[P],f=A.cells[u.index];f&&(f.height=A.height);var d=r.cells[u.index];d&&(d.height=r.height)}return A}function X7(r,e,t,n){var i=r.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,c=i-a;e.section==="body"&&(c-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var u=e.getMinimumRowHeight(n.columns,r),d=u<t;if(u>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var f=e.hasRowSpan(n.columns),y=e.getMaxCellHeight(n.columns)>c;return y?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function ig(r,e,t,n,i,s,a){var c=PE(r,e,n,s);if(t.canEntireRowFit(c,a))tc(r,e,t,s,a);else if(X7(r,t,c,e)){var u=Q7(t,c,e,r);tc(r,e,t,s,a),yf(r,e,i,s,a),ig(r,e,u,n,i,s,a)}else yf(r,e,i,s,a),ig(r,e,t,n,i,s,a)}function tc(r,e,t,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var c=a[s],u=t.cells[c.index];if(!u){n.x+=c.width;continue}r.applyStyles(u.styles),u.x=n.x,u.y=n.y;var d=e.callCellHooks(r,e.hooks.willDrawCell,u,t,c,n);if(d===!1){n.x+=c.width;continue}J7(r,u,n);var f=u.getTextPos();yE(u.text,f.x,f.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,u,t,c,n),n.x+=c.width}n.y+=t.height}function J7(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=xE(n.lineWidth,n.fillColor);i&&r.rect(e.x,t.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),Z7(r,e,t,n.lineWidth))}function Z7(r,e,t,n){var i,s,a,c;n.top&&(i=t.x,s=t.y,a=t.x+e.width,c=t.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),u(n.top,i,s,a,c)),n.bottom&&(i=t.x,s=t.y+e.height,a=t.x+e.width,c=t.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),u(n.bottom,i,s,a,c)),n.left&&(i=t.x,s=t.y,a=t.x,c=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(c+=.5*n.bottom),u(n.left,i,s,a,c)),n.right&&(i=t.x+e.width,s=t.y,a=t.x+e.width,c=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(c+=.5*n.bottom),u(n.right,i,s,a,c));function u(d,f,y,_,g){r.getDocument().setLineWidth(d),r.getDocument().line(f,y,_,g,"S")}}function PE(r,e,t,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-i}function yf(r,e,t,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(c){return tc(r,e,c,n,i)}),e.callEndPageHooks(r,n);var a=e.settings.margin;bE(r,e,t,n),DE(r),e.pageNumber++,n.x=a.left,n.y=a.top,t.y=a.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return tc(r,e,c,n,i)}),r.applyStyles(r.userStyles))}function DE(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function eF(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],i=AE(this,n),s=TE(this,i);return NE(this,s),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,i){yE(e,t,n,i,this)},r.API.autoTableSetDefaults=function(e){return Gd.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){Gd.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Gd(this),s=EE(i,e,window,t,!1),a=s.head,c=s.body,u=((n=a[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:u,rows:c,data:c}}}var k1;function yb(r,e){var t=AE(r,e),n=TE(r,t);NE(r,n)}try{if(typeof window<"u"&&window){var wb=window,_b=wb.jsPDF||((k1=wb.jspdf)===null||k1===void 0?void 0:k1.jsPDF);_b&&eF(_b)}}catch(r){console.error("Could not apply autoTable plugin",r)}const tF=({inventory:r,kits:e,lists:t,activeListId:n,setActiveListId:i})=>{const[s,a]=Ce.useState("list"),[c,u]=Ce.useState(""),[d,f]=Ce.useState(""),[y,_]=Ce.useState(""),[g,A]=Ce.useState(""),P=Ce.useRef(null),[I,M]=Ce.useState("All"),[W,z]=Ce.useState(""),[q,ne]=Ce.useState(new Set),[de,H]=Ce.useState(!1),[O,R]=Ce.useState(null),[B,N]=Ce.useState(null),[T,D]=Ce.useState(null),[Z,ve]=Ce.useState(new Set),[be,oe]=Ce.useState([]),[Q,fe]=Ce.useState(!1),[he,J]=Ce.useState(!1),[F,G]=Ce.useState(null),[re,ue]=Ce.useState(!1),[ge,xe]=Ce.useState({isOpen:!1,target:"section",type:"create",targetId:void 0,name:""}),Te=Ce.useRef(null),De=Ce.useRef(null),[Ve,Qe]=Ce.useState(!1),ct=Ce.useRef({}),[ot,vt]=Ce.useState(null),[ie,at]=Ce.useState(!1),Ze=Ce.useMemo(()=>{const se=t.find(Ee=>Ee.id===n);if(se){if(!se.zones||se.zones.length===0){const Ee=se.sections&&se.sections.length>0?se.sections:[{id:crypto.randomUUID(),name:"Audio",components:[]},{id:crypto.randomUUID(),name:"Luci",components:[]},{id:crypto.randomUUID(),name:"Video",components:[]},{id:crypto.randomUUID(),name:"Regia",components:[]}];return{...se,zones:[{id:"default-zone",name:"Zona Principale",sections:Ee}]}}return se}},[t,n]),Pt=Ze?.zones||[],qe=Pt.find(se=>se.id===d),bt=qe?.sections||[],Xe=bt.find(se=>se.id===y);Ce.useMemo(()=>{const se=new Map;return!Ze||!Ze.zones||Ze.zones.forEach(Ee=>{Ee.sections.forEach(We=>{We.components.forEach(Ke=>{const Mt=se.get(Ke.referenceId)||0;se.set(Ke.referenceId,Mt+Ke.quantity)})})}),se},[Ze]);const It=Ce.useMemo(()=>{const se=(g||"").toLowerCase().trim().split(/\s+/).filter(Ee=>Ee.length>0);return se.length===0?r.filter(Ee=>I==="All"||Ee.category===I).sort((Ee,We)=>Ee.name.localeCompare(We.name)):r.map(Ee=>{const We=(Ee.name||"").toLowerCase(),Ke=(Ee.category||"").toLowerCase(),Mt=(Ee.description||"").toLowerCase(),ut=We.split(/[\s\-_/()]+/),Bn=`${We} ${Ke} ${Mt}`;if(!se.every(Gn=>Bn.includes(Gn)))return{item:Ee,score:-1};if(I!=="All"&&Ee.category!==I)return{item:Ee,score:-1};let An=0;return se.forEach(Gn=>{We===Gn&&(An+=1e4),ut.includes(Gn)?An+=1e3:ut.some(ri=>ri.startsWith(Gn))?An+=500:We.includes(Gn)&&(An+=100),Ke.includes(Gn)&&(An+=50)}),{item:Ee,score:An}}).filter(Ee=>Ee.score>-1).sort((Ee,We)=>We.score!==Ee.score?We.score-Ee.score:Ee.item.name.localeCompare(We.item.name)).map(Ee=>Ee.item)},[r,g,I]),wt=Ce.useMemo(()=>{const se=(g||"").toLowerCase().split(" ").filter(Ee=>Ee.trim()!=="");return e.map(Ee=>{const We=`${(Ee.name||"").toLowerCase()} ${(Ee.category||"").toLowerCase()} ${(Ee.description||"").toLowerCase()}`;return se.every(Ke=>We.includes(Ke))?I!=="All"&&Ee.category!==I?{kit:Ee,score:-1,nameMatches:0}:{kit:Ee,score:1,nameMatches:1}:{kit:Ee,score:-1,nameMatches:0}}).filter(Ee=>Ee.score>-1).map(Ee=>Ee.kit)},[e,g,I]);Ce.useEffect(()=>{n&&s==="list"&&a("edit")},[n,s]);const wn=Ce.useMemo(()=>t.filter(Ee=>Ee.eventName.toLowerCase().includes(c.toLowerCase())||Ee.location.toLowerCase().includes(c.toLowerCase())).sort((Ee,We)=>new Date(We.eventDate||0).getTime()-new Date(Ee.eventDate||0).getTime()),[t,c]),ln=se=>{i(se),a("edit")},xt=()=>{a("list"),i("")};Ce.useEffect(()=>{if(Ze&&Ze.zones&&Ze.zones.length>0){let se=d;if(!se){const Ee=localStorage.getItem(`cuepack_active_zone_${Ze.id}`);Ee&&Ze.zones.find(We=>We.id===Ee)&&(se=Ee)}(!se||!Ze.zones.find(Ee=>Ee.id===se))&&(se=Ze.zones[0].id),se!==d&&f(se)}},[Ze]),Ce.useEffect(()=>{if(qe&&qe.sections.length>0){let se=y;if(!(se&&qe.sections.find(We=>We.id===se))){const We=localStorage.getItem(`cuepack_active_section_${qe.id}`);We&&qe.sections.find(Ke=>Ke.id===We)?se=We:se=qe.sections[0].id}se!==y&&_(se)}else _("")},[d,qe]),Ce.useEffect(()=>{n&&d&&localStorage.setItem(`cuepack_active_zone_${n}`,d)},[n,d]),Ce.useEffect(()=>{d&&y&&localStorage.setItem(`cuepack_active_section_${d}`,y)},[d,y]),Ce.useEffect(()=>{ve(new Set),G(null),z("")},[n,d,y]),Ce.useEffect(()=>{if(ot&&ct.current[ot]){const se=ct.current[ot];se&&setTimeout(()=>{se.focus(),se.select()},10),vt(null)}},[bt,ot]);const kt=async se=>{if(!Ze)return;const Ee={...Ze,...se};Ee.zones&&Ee.zones.length>0&&delete Ee.sections,await Zs(Du,Ee)},Qt=se=>{if(!Ze||!qe)return;const Ee=Ze.zones.map(We=>We.id===qe.id?{...We,...se}:We);kt({zones:Ee})},ht=se=>{if(!Ze||!qe||!Xe)return;const Ee=qe.sections.map(We=>We.id===Xe.id?{...We,...se}:We);Qt({sections:Ee})},qt=async()=>{const se={id:crypto.randomUUID(),eventName:"Nuovo Evento",eventDate:"",location:"",creationDate:new Date().toISOString(),notes:"",zones:[{id:crypto.randomUUID(),name:"Zona Principale",sections:[{id:crypto.randomUUID(),name:"Audio",components:[]},{id:crypto.randomUUID(),name:"Luci",components:[]},{id:crypto.randomUUID(),name:"Video",components:[]},{id:crypto.randomUUID(),name:"Regia",components:[]}]}]};await Zs(Du,se),i(se.id)},yt=async()=>{const se=O?O.id:n;if(se){if(se===n){const Ee=t.filter(We=>We.id!==se);i(Ee.length>0?Ee[0].id:"")}await dy(Du,se),R(null),H(!1)}},Xn=async(se,Ee)=>{Ee.stopPropagation();const We=se.zones&&se.zones.length>0?se.zones:[{id:"def",name:"Zona Principale",sections:se.sections||[]}],Ke={...se,id:crypto.randomUUID(),eventName:`${se.eventName} (Copia)`,creationDate:new Date().toISOString(),zones:We.map(Mt=>({...Mt,id:crypto.randomUUID(),sections:Mt.sections.map(ut=>({...ut,id:crypto.randomUUID(),components:ut.components.map(Bn=>({...Bn,uniqueId:crypto.randomUUID()}))}))}))};Ke.sections&&delete Ke.sections,await Zs(Du,Ke)},mn=se=>{const Ee=new Set(Z);Ee.has(se)?Ee.delete(se):Ee.add(se),ve(Ee)},en=()=>{if(!Xe)return;const se=new Set(Z);Xe.components.forEach(Ee=>se.add(Ee.uniqueId)),ve(se)},tn=()=>ve(new Set),On=()=>!Ze||!Ze.zones?[]:Ze.zones.flatMap(Ee=>Ee.sections.flatMap(We=>We.components)).filter(Ee=>Z.has(Ee.uniqueId)),Dt=()=>{const se=On();se.length>0&&(oe(se),fe(!1))},Nn=()=>{const se=On();se.length>0&&(oe(se),fe(!1),gn())},Bt=()=>{if(Q){J(!0);return}Wt()},Wt=()=>{if(!Xe||be.length===0)return;let se=[...Xe.components];be.forEach(Ee=>{const We=se.find(Ke=>Ke.type===Ee.type&&Ke.referenceId===Ee.referenceId);We?se=se.map(Ke=>Ke.uniqueId===We.uniqueId?{...Ke,quantity:Ke.quantity+Ee.quantity}:Ke):se.push({...Ee,uniqueId:crypto.randomUUID()})}),ht({components:se}),ve(new Set),fe(!0)},gn=()=>{if(!(!Ze||!Ze.zones)&&Xe){const se=Xe.components.filter(Ee=>!Z.has(Ee.uniqueId));ht({components:se}),ve(new Set)}},Ht=(se,Ee,We,Ke)=>{xe({isOpen:!0,target:se,type:Ee,targetId:We,name:Ke||""})},Rt=()=>{if(!(!Ze||!ge.name.trim())){if(ge.target==="zone")if(ge.type==="create"){const se=crypto.randomUUID(),Ee={id:se,name:ge.name.trim(),sections:[{id:crypto.randomUUID(),name:"Audio",components:[]},{id:crypto.randomUUID(),name:"Luci",components:[]}]},We=[...Ze.zones||[],Ee];kt({zones:We}),f(se)}else{const se=Ze.zones.map(Ee=>Ee.id===ge.targetId?{...Ee,name:ge.name.trim()}:Ee);kt({zones:se})}else{if(!qe)return;if(ge.type==="create"){const se=crypto.randomUUID(),Ee={id:se,name:ge.name.trim(),components:[]},We=[...qe.sections,Ee];Qt({sections:We}),_(se)}else{const se=qe.sections.map(Ee=>Ee.id===ge.targetId?{...Ee,name:ge.name.trim()}:Ee);Qt({sections:se})}}xe(se=>({...se,isOpen:!1}))}},fn=()=>{if(!qe||!B)return;if(qe.sections.length<=1){N(null);return}const se=qe.sections.filter(Ee=>Ee.id!==B);Qt({sections:se}),N(null)},Vs=()=>{if(!Ze||!T)return;if((Ze.zones||[]).length<=1){D(null);return}const se=Ze.zones.filter(Ee=>Ee.id!==T);kt({zones:se}),d===T&&f(se[0].id),D(null)},vr=(se,Ee)=>{if(Ee==="kit"){const We=se;return{type:"kit",referenceId:We.id,name:We.name,category:"Kit",contents:We.items.map(Ke=>{const Mt=r.find(ut=>ut.id===Ke.itemId);return{itemId:Mt?.id,name:Mt?.name||"?",quantity:Ke.quantity,category:Mt?.category||"Altro"}})}}else{const We=se;return{type:"item",referenceId:We.id,name:We.name,category:We.category,contents:(We.accessories||[]).map(Ke=>{const Mt=r.find(ut=>ut.id===Ke.itemId);return{itemId:Ke.itemId,name:Mt?.name||"?",quantity:Ke.quantity,category:Mt?.category||"Altro"}})}}},Di=(se,Ee)=>{if(!Xe)return;if(F){const Ke=vr(se,Ee),Mt=Xe.components.map(ut=>ut.uniqueId===F?{...ut,...Ke}:ut);ht({components:Mt}),G(null);return}const We=Xe.components.find(Ke=>Ke.type===Ee&&Ke.referenceId===se.id);if(We){const Ke=Xe.components.map(Mt=>Mt.uniqueId===We.uniqueId?{...Mt,quantity:Mt.quantity+1}:Mt);ht({components:Ke}),vt(We.uniqueId)}else{const Ke={uniqueId:crypto.randomUUID(),quantity:1,notes:"",...vr(se,Ee)};ht({components:[...Xe.components,Ke]}),vt(Ke.uniqueId)}},ti=(se,Ee)=>{if(!Xe||Ee<1)return;const We=Xe.components.map(Ke=>Ke.uniqueId===se?{...Ke,quantity:Ee}:Ke);ht({components:We})},Vt=(se,Ee)=>{if(!Xe)return;const We=Xe.components.map(Ke=>Ke.uniqueId===se?{...Ke,notes:Ee}:Ke);ht({components:We})},Fn=se=>{if(!Xe)return;const Ee=Xe.components.filter(We=>We.uniqueId!==se);ht({components:Ee})},$i=(se,Ee,We,Ke)=>{Te.current={zoneId:d,sectionId:Ee,index:We,uniqueId:Ke},Qe(!0)},br=(se,Ee,We)=>{se.preventDefault(),De.current={zoneId:d,sectionId:Ee,index:We}},ni=()=>{if(Qe(!1),Te.current&&De.current&&Xe&&Te.current.sectionId===De.current.sectionId){const se=Z.has(Te.current.uniqueId)?Z:new Set([Te.current.uniqueId]),Ee=[],We=[];Xe.components.forEach(An=>{se.has(An.uniqueId)?Ee.push(An):We.push(An)});const Ke=De.current.index,Mt=Xe.components[Ke];let ut=We.findIndex(An=>An.uniqueId===Mt?.uniqueId);ut===-1&&(ut=We.length);const Bn=[...We.slice(0,ut),...Ee,...We.slice(ut)];ht({components:Bn})}Te.current=null,De.current=null},Yn=async se=>{const Ee={...se,id:crypto.randomUUID()};await Zs(aa,Ee),Di(Ee,"item")},yr=async se=>{const Ee=se.id?se:{...se,id:crypto.randomUUID()};await Zs(aa,Ee)},jn=se=>{const Ee=new Map;return se.sections.forEach(We=>We.components.forEach(Ke=>{Ee.set(Ke.name,(Ee.get(Ke.name)||0)+Ke.quantity),Ke.contents?.forEach(Mt=>Ee.set(Mt.name,(Ee.get(Mt.name)||0)+Mt.quantity*Ke.quantity))})),Ee},Us=()=>{if(!Ze||!Ze.zones)return;const se=new jt,Ee=(ri,Yi)=>{se.setFontSize(8),se.setTextColor(100),se.text(`${Ze.eventName.toUpperCase()}  |  ${Ze.eventDate}`,14,10);const nn=se.internal.pageSize,Rr=nn.width?nn.width:nn.getWidth();se.text(`Pagina ${Yi}`,Rr-14,10,{align:"right"}),se.setFontSize(10),se.setTextColor(0),se.setFont("helvetica","bold"),se.text(`ZONA: ${ri.toUpperCase()}`,14,16)};Ze.zones.forEach((ri,Yi)=>{Yi>0&&se.addPage();const nn=jn(ri),Rr=[];ri.sections.forEach(mr=>{mr.components.length!==0&&(Rr.push([{content:mr.name.toUpperCase(),colSpan:4,styles:{fillColor:[230,230,230],fontStyle:"bold",textColor:[0,0,0]}}]),mr.components.forEach(Vn=>{let Mr=Vn.name;Vn.type==="kit"&&(Mr=`[KIT] ${Vn.name}`),Vn.notes&&(Mr+=`
NOTE: ${Vn.notes}`);const no=nn.get(Vn.name)||0;Rr.push([Mr,Vn.quantity,no,""]),Vn.contents?.forEach(Gi=>{const ys=nn.get(Gi.name)||0;Rr.push([{content:`  - ${Gi.name}`,styles:{fontSize:9,textColor:[80,80,80]}},Gi.quantity*Vn.quantity,ys,""])})}))}),yb(se,{head:[["Materiale","Qta","Totale Zona","Check"]],body:Rr,startY:25,margin:{top:25},theme:"grid",headStyles:{fillColor:[245,245,245],textColor:[0,0,0],lineWidth:.1,lineColor:[200,200,200]},styles:{fontSize:10,cellPadding:3,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:20,halign:"center"},2:{cellWidth:25,halign:"center",fontStyle:"bold"},3:{cellWidth:20}},didDrawPage:mr=>{Ee(ri.name,se.internal.getCurrentPageInfo().pageNumber)}})}),Ze.notes&&(se.addPage(),Ee("Note Generali",se.internal.getCurrentPageInfo().pageNumber),se.setFontSize(14),se.text("Note Evento",14,30),se.setFontSize(11),se.setFont("helvetica","normal"),se.text(Ze.notes,14,40));const We=new Date,Ke=String(We.getDate()).padStart(2,"0"),Mt=String(We.getMonth()+1).padStart(2,"0"),ut=We.getFullYear(),Bn=String(We.getHours()).padStart(2,"0"),An=String(We.getMinutes()).padStart(2,"0"),Gn=(Ze.eventName||"evento").replace(/[^a-z0-9\s-_]/gi,"").trim().replace(/\s+/g,"_");se.save(`${Gn}_${ut}-${Mt}-${Ke}_${Bn}-${An}.pdf`)},to=()=>{if(!Ze||!Ze.zones)return;const se=new jt,Ee=(Bn,An)=>{se.setFontSize(8),se.setTextColor(100),se.text(`${Ze.eventName.toUpperCase()}  |  RECAP TOTALI MATERIALE`,14,10);const Gn=se.internal.pageSize.getWidth();se.text(`Pagina ${An}`,Gn-14,10,{align:"right"}),se.setFontSize(10),se.setTextColor(0),se.setFont("helvetica","bold"),se.text(Bn.toUpperCase(),14,16)};Ze.zones.forEach((Bn,An)=>{An>0&&se.addPage();const Gn=jn(Bn),Yi=Array.from(Gn.entries()).sort((nn,Rr)=>nn[0].localeCompare(Rr[0])).map(([nn,Rr])=>[nn,Rr,""]);yb(se,{head:[["Materiale (Consolidato)","Quantit Totale Zona","Check"]],body:Yi,startY:25,margin:{top:25},theme:"grid",headStyles:{fillColor:[245,245,245],textColor:[0,0,0],lineWidth:.1,lineColor:[200,200,200]},styles:{fontSize:10,cellPadding:3,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:40,halign:"center",fontStyle:"bold"},2:{cellWidth:20}},didDrawPage:nn=>{Ee(`TOTALI ZONA: ${Bn.name}`,se.internal.getCurrentPageInfo().pageNumber)}})});const We=new Date,Ke=String(We.getDate()).padStart(2,"0"),Mt=String(We.getMonth()+1).padStart(2,"0"),ut=(Ze.eventName||"evento").replace(/[^a-z0-9\s-_]/gi,"").trim().replace(/\s+/g,"_");se.save(`TOTALI_${ut}_${Ke}-${Mt}-${We.getFullYear()}.pdf`)},Si=()=>{if(!Ze||!Ze.zones)return;let se="data:text/csv;charset=utf-8,";se+=`Zona,Sezione,Tipo,Nome,Quantit,Totale Zona,Note,Contenuto Kit/Accessori
`,Ze.zones.forEach(Yi=>{const nn=jn(Yi);Yi.sections.forEach(Rr=>{Rr.components.forEach(mr=>{const Vn=mr.notes?mr.notes.replace(/"/g,'""'):"",Mr=mr.type==="kit"?"KIT":"Singolo",no=nn.get(mr.name)||0;se+=`"${Yi.name}","${Rr.name}",${Mr},"${mr.name}",${mr.quantity},${no},"${Vn}",""
`,mr.contents?.forEach(Gi=>{const ys=nn.get(Gi.name)||0;se+=`"${Yi.name}","${Rr.name}",${mr.type==="kit"?"Parte Kit":"Accessorio"},"${Gi.name}",${Gi.quantity*mr.quantity},${ys},"","Appartiene a: ${mr.name}"
`})})})});const Ee=encodeURI(se),We=document.createElement("a");We.setAttribute("href",Ee);const Ke=new Date,Mt=String(Ke.getDate()).padStart(2,"0"),ut=String(Ke.getMonth()+1).padStart(2,"0"),Bn=Ke.getFullYear(),An=String(Ke.getHours()).padStart(2,"0"),Gn=String(Ke.getMinutes()).padStart(2,"0"),ri=(Ze.eventName||"evento").replace(/[^a-z0-9\s-_]/gi,"").trim().replace(/\s+/g,"_");We.setAttribute("download",`${ri}_${Bn}-${ut}-${Mt}_${An}-${Gn}.csv`),document.body.appendChild(We),We.click(),document.body.removeChild(We)};return s==="list"?k.jsxs("div",{className:"h-full flex flex-col p-6 bg-slate-950",children:[k.jsxs("div",{className:"mb-6",children:[k.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Liste Eventi"}),k.jsx("p",{className:"text-slate-400",children:"Gestisci le tue liste di materiali per eventi"})]}),k.jsxs("div",{className:"flex gap-4 mb-6",children:[k.jsxs("div",{className:"relative flex-1 max-w-md",children:[k.jsx(oh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:16}),k.jsx("input",{placeholder:"Cerca evento...",className:"w-full bg-slate-900 border border-slate-700 text-white pl-10 pr-4 py-2 rounded-lg outline-none focus:border-emerald-500",value:c,onChange:se=>u(se.target.value)})]}),k.jsxs("button",{onClick:()=>{qt(),a("edit")},className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 font-medium transition-colors",children:[k.jsx(is,{size:16})," Nuovo Evento"]})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 overflow-y-auto",children:wn.map(se=>{const We=(se.zones||(se.sections?[{sections:se.sections}]:[])).reduce((Ke,Mt)=>Ke+(Mt.sections?.reduce((ut,Bn)=>ut+Bn.components.length,0)||0),0);return k.jsxs("div",{onClick:()=>ln(se.id),className:"bg-slate-800 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors cursor-pointer group relative",children:[k.jsxs("div",{className:"flex justify-between items-start mb-3",children:[k.jsx("h3",{className:"font-bold text-lg text-white group-hover:text-emerald-400 transition-colors truncate pr-16",children:se.eventName}),k.jsxs("div",{className:"absolute top-4 right-4 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[k.jsxs("button",{onClick:Ke=>Xn(se,Ke),className:"p-1.5 bg-slate-700 hover:bg-blue-600 text-slate-300 hover:text-white rounded transition-colors",children:[" ",k.jsx(s5,{size:14})," "]}),k.jsxs("button",{onClick:Ke=>{Ke.stopPropagation(),R({id:se.id,name:se.eventName})},className:"p-1.5 bg-slate-700 hover:bg-rose-600 text-slate-300 hover:text-white rounded transition-colors",children:[" ",k.jsx(nl,{size:14})," "]})]}),k.jsxs("span",{className:"text-xs bg-slate-700 text-slate-300 px-2 py-1 rounded shrink-0",children:[We," elementi"]})]}),k.jsxs("div",{className:"space-y-2 text-sm text-slate-400",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(MP,{size:14}),k.jsx("span",{children:se.location||"-"})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(EP,{size:14}),k.jsx("span",{children:se.eventDate||"-"})]})]}),k.jsx("div",{className:"mt-4 text-xs text-slate-600",children:"Clicca per modificare"})]},se.id)})}),k.jsx(mf,{isOpen:!!O,onClose:()=>R(null),onConfirm:yt,title:"Elimina Evento",message:`Eliminare "${O?.name}"?`})]}):k.jsxs("div",{className:"h-full flex flex-col p-4 overflow-hidden",children:[k.jsxs("div",{className:"flex-1 flex flex-col gap-4 bg-slate-900 border border-slate-800 rounded-xl overflow-hidden shadow-2xl relative",children:[k.jsxs("div",{className:"p-4 bg-slate-950 border-b border-slate-800 flex flex-col sm:flex-row justify-between items-center gap-4",children:[k.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[k.jsx("button",{onClick:xt,className:"bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors",children:k.jsx(z0,{size:16,className:"rotate-180"})}),k.jsxs("div",{className:"flex flex-col flex-1",children:[k.jsx("span",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Modifica Evento"}),k.jsx("div",{className:"flex items-center gap-2",children:k.jsx("span",{className:"text-white font-medium",children:Ze?.eventName})})]})]}),k.jsx("div",{className:"flex gap-2",children:k.jsxs("button",{onClick:qt,className:"flex items-center justify-center gap-2 px-3 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded text-sm font-medium transition-colors",children:[k.jsx(is,{size:16})," Nuovo"]})})]}),Ze&&k.jsxs("div",{className:"p-3 bg-slate-800 border-b border-slate-700 grid grid-cols-1 md:grid-cols-3 gap-4",children:[k.jsx("input",{placeholder:"Nome Evento",className:"bg-slate-900 border border-slate-700 rounded p-1.5 text-sm text-white",value:Ze.eventName,onChange:se=>kt({eventName:se.target.value})}),k.jsx("input",{placeholder:"Location",className:"bg-slate-900 border border-slate-700 rounded p-1.5 text-sm text-white",value:Ze.location,onChange:se=>kt({location:se.target.value})}),k.jsx(AM,{selected:Ze.eventDate?new Date(Ze.eventDate):null,onChange:se=>kt({eventDate:se?se.toISOString().split("T")[0]:""}),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-900 border border-slate-700 rounded p-1.5 text-sm text-white"})]}),Ze&&Pt.length>0&&k.jsxs("div",{className:"flex items-center gap-1 px-4 pt-4 border-b border-slate-800 bg-slate-950/50 overflow-x-auto",children:[Pt.map(se=>k.jsxs("div",{onClick:()=>f(se.id),className:`px-4 py-2 rounded-t-lg text-sm font-bold transition-colors cursor-pointer flex items-center gap-2 border-t border-x ${d===se.id?"bg-slate-900 text-white border-slate-800":"bg-slate-950 text-slate-500 border-transparent hover:text-slate-300"}`,children:[se.name,d===se.id&&k.jsxs("div",{className:"flex items-center gap-1 ml-2 opacity-50 hover:opacity-100",children:[k.jsx(Bm,{size:12,onClick:Ee=>{Ee.stopPropagation(),Ht("zone","rename",se.id,se.name)},className:"hover:text-emerald-400"}),Pt.length>1&&k.jsx(nl,{size:12,className:"hover:text-rose-500",onClick:Ee=>{Ee.stopPropagation(),D(se.id)}})]})]},se.id)),k.jsx("button",{onClick:()=>Ht("zone","create"),className:"ml-2 p-1 bg-slate-800 hover:bg-slate-700 rounded text-slate-400",children:k.jsx(is,{size:16})})]}),qe&&k.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border-b border-slate-700 bg-slate-900 overflow-x-auto",children:[bt.map(se=>k.jsxs("button",{onClick:()=>_(se.id),className:`px-4 py-2 rounded-t-lg text-sm font-medium transition-colors whitespace-nowrap flex items-center gap-2 group ${y===se.id?"bg-slate-800 text-white border-t border-x border-slate-700":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[se.name,k.jsx("span",{className:"bg-slate-950 px-1.5 py-0.5 rounded-full text-xs text-slate-500",children:se.components.length}),y===se.id&&k.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[k.jsx(Bm,{size:12,onClick:Ee=>{Ee.stopPropagation(),Ht("section","rename",se.id,se.name)},className:"hover:text-emerald-400"}),k.jsx(nl,{size:12,onClick:Ee=>{Ee.stopPropagation(),N(se.id)},className:"hover:text-rose-500"})]})]},se.id)),k.jsx("button",{onClick:()=>Ht("section","create"),className:"p-2 text-emerald-500 hover:bg-emerald-900/30 rounded-lg hover:text-emerald-400 transition-colors",children:k.jsx(is,{size:18})})]}),Xe&&k.jsx("div",{className:"px-3 py-2 bg-slate-900 border-b border-slate-800 flex flex-col sm:flex-row items-center gap-3",children:k.jsxs("div",{className:"flex gap-2 w-full items-center",children:[k.jsxs("div",{className:"relative flex-1 min-w-[200px]",onMouseEnter:()=>at(!0),onMouseLeave:()=>at(!1),children:[k.jsx(oh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:14}),k.jsx("input",{ref:P,placeholder:`Cerca materiale per ${Xe.name}...`,className:"w-full bg-slate-950 border border-slate-700 text-white pl-9 pr-3 py-2 rounded-lg text-sm outline-none focus:border-emerald-500",value:g,onChange:se=>A(se.target.value),onFocus:()=>at(!0)}),g&&ie&&k.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-900 border border-slate-700 rounded-lg shadow-xl z-50 max-h-64 overflow-y-auto",children:[wt.length>0&&k.jsxs("div",{className:"px-4 py-1.5 bg-slate-800 text-[10px] font-bold text-purple-400 uppercase tracking-wider sticky top-0 z-10 border-b border-slate-700",children:["Kit & Set (",wt.length,")"]}),wt.map(se=>{const Ee=qe?.sections.reduce((We,Ke)=>We+Ke.components.filter(Mt=>Mt.type==="kit"&&Mt.referenceId===se.id).reduce((Mt,ut)=>Mt+ut.quantity,0),0)||0;return k.jsxs("button",{onClick:()=>Di(se,"kit"),className:"w-full text-left px-4 py-3 hover:bg-slate-800 border-b border-slate-800 flex justify-between items-center group",children:[k.jsxs("div",{children:[k.jsxs("div",{className:"text-sm text-white flex items-center gap-2",children:[k.jsx(If,{size:14,className:"text-purple-400"}),se.name,Ee>0&&k.jsxs("span",{className:"text-[10px] bg-purple-950 text-purple-400 border border-purple-900 px-1.5 rounded font-bold",children:["x",Ee]})]}),k.jsxs("div",{className:"text-xs text-slate-500 pl-6",children:[se.items.length," componenti"]})]}),k.jsx(is,{size:16,className:"text-slate-600 group-hover:text-emerald-500 transition-colors"})]},se.id)}),It.length>0&&k.jsx("div",{className:"px-4 py-1.5 bg-slate-800 text-[10px] font-bold text-slate-400 uppercase tracking-wider sticky top-0 z-10 border-b border-slate-700",children:"Materiale Singolo"}),It.slice(0,50).map(se=>{const Ee=qe?.sections.reduce((We,Ke)=>We+Ke.components.filter(Mt=>Mt.type==="item"&&Mt.referenceId===se.id).reduce((Mt,ut)=>Mt+ut.quantity,0),0)||0;return k.jsxs("button",{onClick:()=>Di(se,"item"),className:"w-full text-left px-4 py-3 hover:bg-slate-800 border-b border-slate-800 flex justify-between items-center group",children:[k.jsxs("div",{children:[k.jsxs("div",{className:"text-sm text-white flex items-center gap-2",children:[se.name,Ee>0&&k.jsxs("span",{className:"text-[10px] bg-emerald-950 text-emerald-400 border border-emerald-900 px-1.5 rounded font-bold",children:["x",Ee]})]}),k.jsx("div",{className:"text-xs text-slate-500",children:se.category})]}),k.jsx(is,{size:16,className:"text-slate-600 group-hover:text-emerald-500 transition-colors"})]},se.id)}),It.length===0&&wt.length===0&&k.jsxs("button",{onClick:()=>ue(!0),className:"w-full text-left px-4 py-3 hover:bg-slate-800 text-emerald-500 flex gap-2",children:[k.jsx(is,{}),' Crea "',g,'"']})]})]}),k.jsxs("select",{value:I,onChange:se=>M(se.target.value),className:"bg-slate-950 border border-slate-700 text-white px-2 py-2 rounded-lg text-sm w-32",children:[k.jsx("option",{value:"All",children:"Tutte"}),Object.values(me).map(se=>k.jsx("option",{value:se,children:se},se))]}),k.jsx("button",{onClick:()=>ue(!0),className:"bg-emerald-600 hover:bg-emerald-500 text-white p-2 rounded-lg",children:k.jsx(is,{size:16})}),(Z.size>0||be.length>0)&&k.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-slate-700 animate-in fade-in",children:[k.jsxs("div",{className:"flex flex-col gap-0.5 mr-2",children:[k.jsx("button",{onClick:en,className:"text-[10px] uppercase font-bold text-slate-500 hover:text-white leading-none",children:"Tutti"}),k.jsx("button",{onClick:tn,className:"text-[10px] uppercase font-bold text-slate-500 hover:text-white leading-none",children:"Nessuno"})]}),Z.size>0&&k.jsxs(k.Fragment,{children:[k.jsx("button",{onClick:Dt,className:"p-2 bg-slate-800 hover:bg-slate-700 text-blue-400 rounded",children:k.jsx(s5,{size:16})}),k.jsx("button",{onClick:Nn,className:"p-2 bg-slate-800 hover:bg-slate-700 text-amber-400 rounded",children:k.jsx(jP,{size:16})}),k.jsx("button",{onClick:gn,className:"p-2 bg-slate-800 hover:bg-rose-900/30 text-rose-400 rounded",children:k.jsx(nl,{size:16})})]}),be.length>0&&k.jsxs("div",{className:"flex items-center gap-1 ml-1 bg-slate-800 rounded p-0.5",children:[k.jsxs("button",{onClick:Bt,className:`px-3 py-1.5 rounded text-xs font-bold flex gap-1 ${Q?"bg-orange-600":"bg-emerald-600"} text-white`,children:[Q&&k.jsx(ah,{size:14}),k.jsx(IP,{size:14})," ",be.length]}),k.jsx("button",{onClick:()=>{oe([]),fe(!1)},className:"p-1.5 text-slate-400 hover:text-rose-400",children:k.jsx(ah,{size:14})})]})]})]})}),k.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-950/30",children:qe?Xe?Xe.components.length===0?k.jsx("div",{className:"text-center py-20 text-slate-600",children:"Sezione vuota"}):k.jsx("div",{className:"space-y-2 p-4",children:Xe.components.map((se,Ee)=>{const We=Z.has(se.uniqueId),Ke=F===se.uniqueId,Mt=se.type==="item"?!r.some(ut=>ut.id===se.referenceId):!e.some(ut=>ut.id===se.referenceId);return console.log(`Checking item ${se.name} (Ref: ${se.referenceId}): isMissing=${Mt}`),k.jsxs("div",{draggable:!0,onDragStart:ut=>$i(ut,Xe.id,Ee,se.uniqueId),onDragEnter:ut=>br(ut,Xe.id,Ee),onDragEnd:ni,onDragOver:ut=>ut.preventDefault(),className:`group relative p-2 rounded-lg border transition-all ${Ke?"border-amber-500 bg-amber-900/10 ring-1 ring-amber-500":We?"bg-blue-900/20 border-blue-500/50":se.type==="kit"?"bg-purple-900/10 border-purple-900/30 hover:border-purple-500/30":"bg-slate-800 border-slate-700 hover:border-slate-600"}`,children:[k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[k.jsx("button",{onClick:ut=>{ut.stopPropagation(),mn(se.uniqueId)},className:`text-slate-500 p-1 ${We?"text-blue-500":""}`,children:We?k.jsx(MS,{size:18}):k.jsx(BS,{size:18})}),se.type==="kit"?k.jsx(If,{size:18,className:"text-purple-400"}):k.jsx(kP,{size:18,className:"text-slate-400"}),k.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Mt&&k.jsx("button",{onClick:ut=>{ut.stopPropagation(),alert("Questo oggetto  stato cancellato dall'inventario, devi sostituirlo con un oggetto esistente.")},title:"Oggetto cancellato dall'inventario",className:"text-rose-500 hover:text-rose-400 shrink-0",children:k.jsx(K1,{size:16})}),k.jsxs("div",{className:"min-w-0",children:[k.jsxs("div",{className:"font-medium text-slate-200 text-sm truncate",children:[se.name," ",se.type==="kit"&&k.jsx("span",{className:"ml-2 text-[10px] bg-purple-900 text-purple-200 px-1 rounded align-middle",children:"KIT"})]}),k.jsx("div",{className:"text-xs text-slate-500",children:se.category})]})]})]}),k.jsxs("div",{className:"flex items-center gap-1 shrink-0",onClick:ut=>ut.stopPropagation(),children:[!W&&k.jsx("div",{className:"p-1.5 cursor-grab active:cursor-grabbing text-slate-600 hover:text-slate-300 mr-1",title:"Trascina per spostare",children:k.jsx(PP,{size:16})}),k.jsx("button",{onClick:()=>G(se.uniqueId),className:`p-1.5 rounded ${Ke?"text-amber-500 bg-amber-900/30":"text-slate-500 hover:bg-slate-700 hover:text-white"}`,title:"Sostituisci Oggetto",children:k.jsx(z0,{size:14})}),k.jsx("button",{onClick:()=>{const ut=new Set(q);ut.has(se.uniqueId)?ut.delete(se.uniqueId):ut.add(se.uniqueId),ne(ut)},className:`p-1.5 rounded ${se.notes?"text-yellow-400":"text-slate-500 hover:text-white"}`,title:"Aggiungi/Modifica Nota",children:k.jsx(BP,{size:14})}),k.jsx("input",{ref:ut=>{ct.current[se.uniqueId]=ut},type:"number",min:"1",className:"w-12 h-7 bg-slate-900 border border-slate-700 rounded px-1 text-center text-white text-sm focus:border-blue-500 outline-none",value:se.quantity,onChange:ut=>ti(se.uniqueId,Number(ut.target.value)),onKeyDown:ut=>{ut.key==="Enter"&&(P.current?.focus(),P.current?.select())}}),k.jsx("button",{onClick:()=>Fn(se.uniqueId),className:"p-1.5 text-slate-500 hover:text-rose-500 opacity-0 group-hover:opacity-100",children:k.jsx(nl,{size:14})})]})]}),(q.has(se.uniqueId)||se.notes)&&k.jsx("div",{className:"mt-1.5 pl-8 pr-16",children:k.jsx("input",{type:"text",placeholder:"Aggiungi una nota...",className:"w-full bg-slate-900/50 border border-slate-700/50 rounded px-2 py-1 text-xs text-slate-300",value:se.notes||"",onChange:ut=>Vt(se.uniqueId,ut.target.value)})}),se.contents&&se.contents.length>0&&k.jsx("div",{className:"mt-2 ml-7 pl-3 border-l-2 border-slate-700 space-y-0.5",children:se.contents.map((ut,Bn)=>{const An=ut.itemId?!r.some(Gn=>Gn.id===ut.itemId):!1;return k.jsxs("div",{className:"text-[10px] text-slate-400 flex justify-between w-full max-w-md leading-tight group/acc",children:[k.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[An&&k.jsx("button",{onClick:Gn=>{Gn.stopPropagation(),alert("Questo accessorio  stato cancellato dall'inventario.")},className:"text-rose-500 hover:text-rose-400 shrink-0",title:"Accessorio eliminato dall'inventario",children:k.jsx(K1,{size:10})}),k.jsx("span",{className:`${An?"text-rose-900 line-through decoration-rose-500/50":""} truncate`,children:ut.name})]}),k.jsxs("span",{className:"shrink-0 pl-2",children:["x",ut.quantity*se.quantity]})]},Bn)})})]},se.uniqueId)})}):k.jsx("div",{className:"text-center py-20 text-slate-500",children:"Seleziona una Sezione"}):k.jsx("div",{className:"text-center py-20 text-slate-500",children:"Crea una Zona per iniziare"})}),Ze&&k.jsxs("div",{className:"p-4 border-t border-slate-700 bg-slate-800 flex flex-col md:flex-row gap-4 justify-between items-center z-10",children:[k.jsx("div",{className:"w-full md:w-1/2",children:k.jsx("input",{placeholder:"Note per il magazzino...",className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-sm text-white",value:Ze.notes,onChange:se=>kt({notes:se.target.value})})}),k.jsxs("div",{className:"flex gap-2",children:[k.jsxs("button",{onClick:Si,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded text-sm font-medium",children:[k.jsx(q0,{size:16})," CSV"]}),k.jsxs("button",{onClick:to,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded shadow-lg shadow-blue-900/20 font-medium",children:[k.jsx(q0,{size:16})," PDF TOTALI"]}),k.jsxs("button",{onClick:Us,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded shadow-lg shadow-emerald-900/20 font-medium",children:[k.jsx(q0,{size:16})," PDF"]})]})]})]}),k.jsx(Vm,{isOpen:ge.isOpen,onClose:()=>xe(se=>({...se,isOpen:!1})),title:ge.type==="create"?`Nuova ${ge.target==="zone"?"Zona":"Sezione"}`:`Rinomina ${ge.target==="zone"?"Zona":"Sezione"}`,children:k.jsxs("div",{className:"space-y-4",children:[k.jsx("input",{className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white",value:ge.name,onChange:se=>xe(Ee=>({...Ee,name:se.target.value})),autoFocus:!0,onKeyDown:se=>se.key==="Enter"&&Rt()}),k.jsxs("div",{className:"flex justify-end gap-2",children:[k.jsx("button",{onClick:()=>xe(se=>({...se,isOpen:!1})),className:"px-4 py-2 text-slate-400",children:"Annulla"}),k.jsx("button",{onClick:Rt,className:"px-6 py-2 bg-blue-600 text-white rounded",children:"Salva"})]})]})}),k.jsx(mf,{isOpen:!!B,onClose:()=>N(null),onConfirm:fn,title:"Elimina Sezione",message:"Confermi l'eliminazione della sezione?"}),k.jsx(mf,{isOpen:!!T,onClose:()=>D(null),onConfirm:Vs,title:"Elimina Zona",message:"Confermi l'eliminazione della ZONA e di tutto il suo contenuto?"}),k.jsx(fy,{isOpen:re,onClose:()=>ue(!1),onSave:Yn,title:"Nuovo Materiale",inventory:r,onCreateAccessory:yr,initialName:g}),k.jsx(Vm,{isOpen:he,onClose:()=>J(!1),title:"Incolla di nuovo",children:k.jsxs("div",{className:"space-y-4",children:[k.jsx("p",{className:"text-slate-300",children:"Vuoi incollare di nuovo?"}),k.jsxs("div",{className:"flex justify-end gap-2",children:[k.jsx("button",{onClick:()=>J(!1),className:"px-4 py-2 text-slate-400",children:"Annulla"}),k.jsx("button",{onClick:()=>{Wt(),J(!1)},className:"bg-emerald-600 text-white px-4 py-2 rounded",children:"Si"})]})]})}),F&&k.jsxs("div",{className:"absolute inset-x-0 top-0 z-20 bg-amber-900/95 border-b border-amber-500/50 p-4 shadow-xl text-center text-amber-100 font-bold",children:[k.jsx(z0,{className:"inline mr-2"})," Modalit Sostituzione ",k.jsx("button",{onClick:()=>G(null),className:"ml-4 underline text-sm font-normal",children:"Annulla"})]})]})},nF=({inventory:r,kits:e,lists:t,setActiveListId:n,onNavigateToChecklist:i})=>{const s=Ce.useRef(null),a=r.length,c=e.length,u=t.length,d=t.reduce((g,A)=>{const P=(A.sections||[]).reduce((M,W)=>M+(W.components?.length||0),0),I=(A.zones||[]).reduce((M,W)=>M+(W.sections||[]).reduce((z,q)=>z+(q.components?.length||0),0),0);return g+P+I},0),f=()=>{const g={type:"cuepack_catalog",exportDate:new Date().toISOString(),inventory:r,kits:e},A=JSON.stringify(g,null,2),P=new Blob([A],{type:"application/json"}),I=URL.createObjectURL(P),M=document.createElement("a");M.href=I;const W=new Date,z=String(W.getDate()).padStart(2,"0"),q=String(W.getMonth()+1).padStart(2,"0"),ne=W.getFullYear(),de=String(W.getHours()).padStart(2,"0"),H=String(W.getMinutes()).padStart(2,"0");M.download=`CuePack_Catalogo_${ne}-${q}-${z}_${de}-${H}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(I)},y=()=>{s.current&&(s.current.value="",s.current.click())},_=g=>{const A=g.target.files?.[0];if(!A)return;const P=new FileReader;P.onload=async I=>{try{const M=I.target?.result,W=JSON.parse(M);if(W.inventory&&Array.isArray(W.inventory)){const z=new Map;r.forEach(ne=>z.set(ne.name.trim().toLowerCase(),ne));const q=[];W.inventory.forEach(ne=>{if(!ne.name)return;const de=ne.name.trim().toLowerCase(),H=z.get(de);H?q.push({...ne,id:H.id}):q.push({...ne,id:ne.id||crypto.randomUUID()})}),q.length>0&&await jm(aa,q)}if(W.kits&&Array.isArray(W.kits)){const z=new Map;e.forEach(ne=>z.set(ne.name.trim().toLowerCase(),ne));const q=[];W.kits.forEach(ne=>{if(!ne.name)return;const de=ne.name.trim().toLowerCase(),H=z.get(de);H?q.push({...ne,id:H.id}):q.push({...ne,id:ne.id||crypto.randomUUID()})}),q.length>0&&await jm(Ud,q)}alert(`Importazione completata!
Database aggiornato con successo.`)}catch(M){console.error("Import error:",M),alert("Errore durante la lettura del file. Verifica che sia un JSON valido (formato CuePack Catalog).")}},P.readAsText(A)};return k.jsx("div",{className:"h-full p-6 overflow-y-auto custom-scrollbar",children:k.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[k.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[k.jsx("div",{className:"p-3 bg-blue-600 rounded-xl shadow-lg shadow-blue-900/20",children:k.jsx(a5,{size:32,className:"text-white"})}),k.jsxs("div",{children:[k.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),k.jsx("p",{className:"text-slate-400",children:"Panoramica e gestione workspace"})]})]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[k.jsx(em,{icon:TP,label:"Articoli in Inventario",value:a,color:"bg-slate-800",iconColor:"text-blue-500"}),k.jsx(em,{icon:If,label:"Kit Configurati",value:c,color:"bg-slate-800",iconColor:"text-purple-500"}),k.jsx(em,{icon:o5,label:"Eventi Attivi",value:u,color:"bg-slate-800",iconColor:"text-emerald-500"}),k.jsx(em,{icon:a5,label:"Totale Materiale Impiegato",value:d,color:"bg-slate-800",iconColor:"text-amber-500"})]}),k.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[k.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[k.jsx(SP,{className:"text-indigo-400"}),"Gestione Catalogo (Inventario & Kit)"]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[k.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-6 flex flex-col items-center text-center hover:border-indigo-500/50 transition-colors group",children:[k.jsx("div",{className:"w-16 h-16 bg-indigo-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:k.jsx(NP,{size:32,className:"text-indigo-500"})}),k.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-2",children:"Esporta Catalogo"}),k.jsx("p",{className:"text-sm text-slate-500 mb-6 flex-1",children:"Salva inventario e kit in un file backup."}),k.jsx("button",{onClick:f,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors",children:"Salva Catalogo"})]}),k.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-6 flex flex-col items-center text-center hover:border-indigo-500/50 transition-colors group",children:[k.jsx("div",{className:"w-16 h-16 bg-indigo-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:k.jsx(VP,{size:32,className:"text-indigo-500"})}),k.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-2",children:"Importa Catalogo"}),k.jsx("p",{className:"text-sm text-slate-500 mb-6 flex-1",children:"Ripristina backup o unisci cataloghi."}),k.jsx("input",{type:"file",ref:s,onChange:_,className:"hidden",accept:".json"}),k.jsx("button",{onClick:y,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors",children:"Carica Catalogo"})]}),k.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-6 flex flex-col items-center text-center hover:border-indigo-500/50 transition-colors group",children:[k.jsx("div",{className:"w-16 h-16 bg-emerald-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:k.jsx(o5,{size:32,className:"text-emerald-500"})}),k.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-2",children:"Gestione Checklist"}),k.jsx("p",{className:"text-sm text-slate-500 mb-6 flex-1",children:"Modifica la struttura della checklist globale (Settori, Gruppi, Voci)."}),k.jsx("button",{onClick:i,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors",children:"Modifica Checklist"})]})]})]}),k.jsx("div",{className:"text-center text-xs text-slate-600 pb-8",children:"CuePack Manager utilizza Firebase Cloud. I dati sono sincronizzati."})]})})},em=({icon:r,label:e,value:t,color:n,iconColor:i})=>k.jsxs("div",{className:`${n} border border-slate-700 rounded-xl p-4 flex items-center gap-4`,children:[k.jsx("div",{className:`p-3 rounded-lg bg-slate-950 ${i}`,children:k.jsx(r,{size:24})}),k.jsxs("div",{children:[k.jsx("div",{className:"text-2xl font-bold text-white",children:t}),k.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide font-medium",children:e})]})]}),rF=({activeList:r,checklist:e})=>{const[t,n]=Ce.useState([]),i=r.checklistEnabledSectors||[],s=r.checklistCheckedItems||[],a=async _=>{const g={...r,..._};await Zs(Du,g)},c=_=>{n(g=>g.includes(_)?g.filter(A=>A!==_):[...g,_])},u=async _=>{let g;i.includes(_)?g=i.filter(A=>A!==_):(g=[...i,_],t.includes(_)||n(A=>[...A,_])),await a({checklistEnabledSectors:g})},d=async _=>{let g;s.includes(_)?g=s.filter(A=>A!==_):g=[...s,_],await a({checklistCheckedItems:g})},f=async()=>{confirm("Vuoi rimuovere tutte le spunte e disattivare i settori?")&&(await a({checklistCheckedItems:[],checklistEnabledSectors:[]}),n([]))},y=(_,g)=>`${_}-${g}`;return k.jsxs("div",{className:"flex flex-col pb-10",children:[(i.length>0||s.length>0)&&k.jsx("div",{className:"px-3 py-2 flex justify-end",children:k.jsxs("button",{onClick:f,className:"text-[10px] text-slate-500 hover:text-rose-400 flex items-center gap-1 transition-colors",children:[k.jsx(OP,{size:10})," Reset Tutto"]})}),k.jsx("div",{className:"space-y-1 p-2",children:e.map(_=>{const g=i.includes(_.id),A=t.includes(_.id),P=_.title.replace(/SETTORE\s*/i,""),I=_.groups.length;let M=0;_.groups.forEach((z,q)=>{s.includes(y(_.id,q))&&M++});const W=I>0&&I===M;return k.jsxs("div",{className:`rounded-lg border transition-all duration-300 overflow-hidden 
                ${g?W?"bg-emerald-900/30 border-emerald-600/50 shadow-md shadow-emerald-900/10":"bg-slate-900 border-slate-700 shadow-sm":"border-transparent opacity-80 hover:opacity-100 hover:bg-slate-900/30"}`,children:[k.jsxs("div",{className:"w-full flex items-center justify-between p-2.5 gap-2 select-none",children:[k.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0 cursor-pointer group/header",onClick:()=>c(_.id),children:[k.jsx("div",{className:`transition-transform duration-200 ${A?"rotate-90":""} ${W&&g?"text-emerald-400":"text-slate-600 group-hover/header:text-slate-400"}`,children:k.jsx(OS,{size:14})}),k.jsx("div",{className:"flex-1 min-w-0",children:k.jsx("div",{className:`text-xs font-bold truncate ${W&&g?"text-emerald-100":g?"text-blue-100":"text-slate-400 group-hover/header:text-slate-300"}`,children:P})})]}),k.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[g&&k.jsxs("div",{className:`text-[10px] font-mono mr-1 ${W?"text-emerald-400 font-bold":"text-slate-500"}`,children:[M,"/",I]}),k.jsx("button",{onClick:z=>{z.stopPropagation(),u(_.id)},className:`relative w-10 h-5 rounded-full transition-colors duration-200 focus:outline-none 
                            ${g?W?"bg-emerald-500":"bg-blue-600":"bg-slate-700 hover:bg-slate-600"}`,title:g?"Disattiva Settore":"Attiva Settore",children:k.jsx("span",{className:`absolute top-0.5 left-0.5 bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-200 flex items-center justify-center text-[8px] font-bold text-slate-800
                                ${g?"translate-x-5":"translate-x-0"}
                            `,children:g?"SI":"NO"})})]})]}),A&&k.jsxs("div",{className:`border-t p-2 space-y-3 animate-in ${W?"border-emerald-800/50 bg-emerald-950/20":"border-slate-800 bg-slate-950/30"}`,children:[_.groups.map((z,q)=>{const ne=y(_.id,q),de=s.includes(ne);return k.jsxs("div",{className:`group/item ${g?"":"opacity-50 pointer-events-none"}`,children:[k.jsxs("div",{className:`flex items-center gap-2 cursor-pointer p-1.5 rounded transition-colors select-none
                                ${de?W?"hover:bg-emerald-900/40 text-emerald-300":"hover:bg-slate-800 text-slate-200":"hover:bg-slate-800 text-slate-300"}`,onClick:()=>d(ne),children:[k.jsx("div",{className:`shrink-0 transition-colors ${de?"text-emerald-500":"text-slate-500 group-hover/item:text-slate-300"}`,children:de?k.jsx(MS,{size:16}):k.jsx(BS,{size:16})}),k.jsx("h4",{className:`text-[11px] font-bold uppercase tracking-wider leading-tight ${de?"opacity-80":""}`,children:z.title})]}),k.jsx("div",{className:`pl-7 pr-2 border-l border-slate-800/50 ml-2.5 mt-1 mb-2 ${de?"opacity-50 grayscale":"opacity-100"}`,children:k.jsx("ul",{className:"space-y-1",children:z.items.map((H,O)=>k.jsxs("li",{className:"flex items-start gap-2 text-[10px] text-slate-400 leading-snug",children:[k.jsx("span",{className:"mt-1 w-1 h-1 rounded-full bg-slate-600 shrink-0"}),k.jsx("span",{children:H})]},O))})})]},ne)}),!g&&k.jsx("div",{className:"text-center text-[10px] text-slate-500 italic py-2",children:"Attiva il settore (SI) per spuntare le voci"})]})]},_.id)})})]})},iF=({checklist:r,onBack:e})=>{const[t,n]=Ce.useState([]),[i,s]=Ce.useState(new Set),[a,c]=Ce.useState(!1);Ce.useEffect(()=>{n(JSON.parse(JSON.stringify(r))),c(!1)},[r]);const u=async()=>{try{await ly(rh(tl,G1,"master"),{categories:t}),c(!1),alert("Checklist salvata con successo!")}catch(z){console.error("Error saving checklist:",z),alert("Errore durante il salvataggio.")}},d=z=>{const q=new Set(i);q.has(z)?q.delete(z):q.add(z),s(q)},f=()=>{const z={id:crypto.randomUUID(),title:"Nuovo Settore",subtitle:"Descrizione settore",groups:[]};n([...t,z]),c(!0),s(new Set(i).add(z.id))},y=(z,q)=>{n(ne=>ne.map(de=>de.id===z?{...de,...q}:de)),c(!0)},_=z=>{confirm("Eliminare questo settore e tutto il suo contenuto?")&&(n(q=>q.filter(ne=>ne.id!==z)),c(!0))},g=z=>{const q={title:"Nuovo Gruppo",items:[]};n(ne=>ne.map(de=>de.id===z?{...de,groups:[...de.groups,q]}:de)),c(!0)},A=(z,q,ne)=>{n(de=>de.map(H=>{if(H.id===z){const O=[...H.groups];return O[q]={...O[q],...ne},{...H,groups:O}}return H})),c(!0)},P=(z,q)=>{confirm("Eliminare questo gruppo?")&&(n(ne=>ne.map(de=>de.id===z?{...de,groups:de.groups.filter((H,O)=>O!==q)}:de)),c(!0))},I=(z,q)=>{n(ne=>ne.map(de=>{if(de.id===z){const H=[...de.groups];return H[q]={...H[q],items:[...H[q].items,"Nuova voce"]},{...de,groups:H}}return de})),c(!0)},M=(z,q,ne,de)=>{n(H=>H.map(O=>{if(O.id===z){const R=[...O.groups],B=[...R[q].items];return B[ne]=de,R[q]={...R[q],items:B},{...O,groups:R}}return O})),c(!0)},W=(z,q,ne)=>{n(de=>de.map(H=>{if(H.id===z){const O=[...H.groups],R=O[q].items.filter((B,N)=>N!==ne);return O[q]={...O[q],items:R},{...H,groups:O}}return H})),c(!0)};return k.jsxs("div",{className:"h-full flex flex-col p-6 bg-slate-950 overflow-hidden",children:[k.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("button",{onClick:e,className:"p-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors",children:k.jsx(RS,{size:20})}),k.jsxs("div",{children:[k.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gestione Checklist"}),k.jsx("p",{className:"text-slate-400",children:"Modifica la struttura della checklist globale"})]})]}),k.jsxs("div",{className:"flex gap-3",children:[k.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-medium transition-colors",children:[k.jsx(is,{size:18})," Nuovo Settore"]}),k.jsxs("button",{onClick:u,disabled:!a,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-bold transition-colors ${a?"bg-emerald-600 hover:bg-emerald-500 text-white":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:[k.jsx(FP,{size:18})," Salva Modifiche"]})]})]}),k.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4 pb-20",children:t.map(z=>{const q=i.has(z.id);return k.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:[k.jsxs("div",{className:"p-4 flex items-start gap-4 bg-slate-900 border-b border-slate-800/50",children:[k.jsx("button",{onClick:()=>d(z.id),className:"mt-1 text-slate-500 hover:text-white transition-colors",children:q?k.jsx(AP,{size:20}):k.jsx(OS,{size:20})}),k.jsxs("div",{className:"flex-1 space-y-2",children:[k.jsx("div",{className:"flex gap-2",children:k.jsx("input",{className:"bg-transparent text-lg font-bold text-white border-b border-transparent focus:border-blue-500 outline-none w-full",value:z.title,onChange:ne=>y(z.id,{title:ne.target.value}),placeholder:"Titolo Settore"})}),k.jsx("input",{className:"bg-transparent text-sm text-slate-500 border-b border-transparent focus:border-slate-600 outline-none w-full",value:z.subtitle,onChange:ne=>y(z.id,{subtitle:ne.target.value}),placeholder:"Sottotitolo / Descrizione"})]}),k.jsx("button",{onClick:()=>_(z.id),className:"p-2 text-slate-600 hover:text-rose-500 hover:bg-slate-800 rounded transition-colors",children:k.jsx(nl,{size:18})})]}),q&&k.jsxs("div",{className:"p-4 bg-slate-950/30 space-y-6",children:[z.groups.map((ne,de)=>k.jsxs("div",{className:"pl-4 border-l-2 border-slate-800",children:[k.jsxs("div",{className:"flex justify-between items-center mb-2 group/header",children:[k.jsx("input",{className:"bg-transparent text-sm font-bold uppercase tracking-wider text-blue-400 border-b border-transparent focus:border-blue-500 outline-none flex-1",value:ne.title,onChange:H=>A(z.id,de,{title:H.target.value}),placeholder:"NOME GRUPPO"}),k.jsx("button",{onClick:()=>P(z.id,de),className:"opacity-0 group-hover/header:opacity-100 p-1 text-slate-600 hover:text-rose-500 transition-all",children:k.jsx(nl,{size:14})})]}),k.jsxs("div",{className:"space-y-2",children:[ne.items.map((H,O)=>k.jsxs("div",{className:"flex items-center gap-2 group/item",children:[k.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-700 shrink-0"}),k.jsx("input",{className:"bg-transparent text-sm text-slate-300 border-b border-transparent focus:border-slate-600 outline-none flex-1",value:H,onChange:R=>M(z.id,de,O,R.target.value)}),k.jsx("button",{onClick:()=>W(z.id,de,O),className:"opacity-0 group-hover/item:opacity-100 text-slate-600 hover:text-rose-500 p-1",children:k.jsx(nl,{size:12})})]},O)),k.jsxs("button",{onClick:()=>I(z.id,de),className:"text-xs text-emerald-600 hover:text-emerald-400 flex items-center gap-1 mt-2 font-medium",children:[k.jsx(is,{size:12})," Aggiungi Voce"]})]})]},de)),k.jsxs("button",{onClick:()=>g(z.id),className:"w-full py-2 border-2 border-dashed border-slate-800 rounded-lg text-slate-500 hover:text-blue-400 hover:border-blue-500/50 hover:bg-slate-900 transition-all text-sm font-medium flex justify-center items-center gap-2",children:[k.jsx(is,{size:16})," Nuovo Gruppo"]})]})]},z.id)})})]})},sF=[{id:"acc-clamp-omega",name:"Gancio Aliscaf + Omega",category:me.STRUCTURE,weight:.8,inStock:200,description:"Per Fari"},{id:"acc-clamp-double",name:"Doppio Aliscaf (Gancio-Gancio)",category:me.STRUCTURE,weight:1.5,inStock:50,description:"Per unire truss o tubi"},{id:"acc-safety",name:"Cavetto di Sicurezza (Safety)",category:me.STRUCTURE,weight:.2,inStock:200,description:"Acciaio sicurezza"},{id:"acc-umbrella",name:"Ombrellino Parapioggia (Soft)",category:me.LIGHTS,weight:.5,inStock:30,description:"Protezione pioggia fari"},{id:"truss-acc-spigot",name:"Conico (Ovetto)",category:me.STRUCTURE,weight:.2,inStock:600,description:"Spigot per truss"},{id:"truss-acc-pin",name:"Spina Conica (Pin)",category:me.STRUCTURE,weight:.05,inStock:1200,description:"Pin per truss"},{id:"truss-acc-clip",name:"Coppiglia (R-Clip)",category:me.STRUCTURE,weight:.01,inStock:1200,description:"Safety clip"},{id:"truss-acc-spacer",name:"Kit Distanziatori Truss",category:me.STRUCTURE,weight:.5,inStock:20},{id:"truss-acc-hammer",name:"Martello Rame/Gomma",category:me.TOOLS,weight:1,inStock:10},{id:"stg-acc-clamp",name:"Morsetto Pedana (KDC/Clamp)",category:me.STRUCTURE,weight:.5,inStock:100,description:"Blocco unione pedane"},{id:"stg-acc-pin",name:"Pipotto Giunzione Riser",category:me.STRUCTURE,weight:.1,inStock:200,description:"Pin per unione riser"},{id:"cbl-led-pwr-link",name:"Link Corrente Led Generico",category:me.CABLES,weight:.2,inStock:50,description:"Cabinet to Cabinet"},{id:"cbl-led-data-link",name:"Link Segnale Led Generico",category:me.CABLES,weight:.1,inStock:50,description:"Cabinet to Cabinet"}],oF=[{id:"lgt-ctrl-ma3-full",name:"GrandMA 3 Full-Size",category:me.LIGHTS,weight:80,inStock:1,accessories:[{itemId:"ad-tr1-schuko",quantity:1},{itemId:"vid-monitor-24",quantity:2}]},{id:"lgt-ctrl-ma3-cxt",name:"GrandMA 3 Compact XT",category:me.LIGHTS,weight:45,inStock:2,accessories:[{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-ctrl-w-dmx",name:"Wireless Solution F1 G5",category:me.LIGHTS,weight:1,inStock:6,accessories:[{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-robe-esprite",name:"Robe Esprite",category:me.LIGHTS,weight:28,inStock:24,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-robe-megapointe",name:"Robe MegaPointe",category:me.LIGHTS,weight:22,inStock:24,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-robe-350-spot",name:"Robe LEDBeam 350",category:me.LIGHTS,weight:10,inStock:36,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-robe-ibeam-350",name:"Robe iBeam 350 (IP65)",category:me.LIGHTS,weight:12,inStock:12,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-cp-sharpy",name:"Claypaky Sharpy",category:me.LIGHTS,weight:19,inStock:24,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-pcon-schuko",quantity:1}]},{id:"lgt-cp-minib",name:"Claypaky Mini-B",category:me.LIGHTS,weight:7,inStock:24,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-cp-k10",name:"Claypaky B-EYE K10",category:me.LIGHTS,weight:15,inStock:16,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-ledko",name:"Coemar LEDko D (Sagomatore)",category:me.LIGHTS,weight:14,inStock:20,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-pcon-schuko",quantity:1}]},{id:"lgt-opt-2550",name:"Ottica LEDko 25-50",category:me.LIGHTS,weight:2,inStock:20},{id:"lgt-helix",name:"Showtec Helix S5000",category:me.LIGHTS,weight:12,inStock:48,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-opt-helix-40",name:"Ottica Helix 40",category:me.LIGHTS,weight:.5,inStock:48},{id:"lgt-opt-helix-20",name:"Ottica Helix 20",category:me.LIGHTS,weight:.5,inStock:24},{id:"lgt-opt-helix-1560",name:"Ottica Helix 15x60",category:me.LIGHTS,weight:.5,inStock:24},{id:"lgt-opt-helix-90",name:"Ottica Helix 90",category:me.LIGHTS,weight:.5,inStock:24},{id:"lgt-sgm-q8",name:"SGM Q8",category:me.LIGHTS,weight:15,inStock:12,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-chauvet-strike",name:"Chauvet Color Strike M",category:me.LIGHTS,weight:12,inStock:16,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-acme-blinder",name:"Acme Stage Blinder IP",category:me.LIGHTS,weight:8,inStock:12,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-rj-merlin",name:"Robert Juliat Merlin 2500W",category:me.LIGHTS,weight:70,inStock:2,description:"Followspot + Tripod + PSU"},{id:"lgt-batt-par",name:"Faro a Batteria (EventSpot)",category:me.LIGHTS,weight:4,inStock:24}],aF=[{id:"aud-digico-sd21",name:"Digico SD21 Console",category:me.AUDIO,weight:30,inStock:1,accessories:[{itemId:"cbl-vde-schuko",quantity:2}]},{id:"aud-digico-stagebox",name:"Digico D-Rack Stagebox",category:me.AUDIO,weight:15,inStock:1},{id:"aud-digico-dante",name:"Scheda Dante x Digico",category:me.AUDIO,weight:.5,inStock:1},{id:"aud-focusrite",name:"Focusrite Scarlett 18i20",category:me.AUDIO,weight:4,inStock:2},{id:"aud-k2",name:"L-Acoustics K2",category:me.AUDIO,weight:56,inStock:24},{id:"aud-ks28",name:"L-Acoustics KS28",category:me.AUDIO,weight:79,inStock:16},{id:"aud-la12x",name:"Amplificatore LA12X",category:me.AUDIO,weight:14,inStock:10},{id:"aud-spk-batt",name:"Cassa a Batteria + Mic",category:me.AUDIO,weight:10,inStock:4},{id:"aud-mic-stand-premium",name:"Asta Microfonica BELLA (K&M)",category:me.AUDIO,weight:3,inStock:20},{id:"com-ggo-switch",name:"GreenGo Switch 6",category:me.REGIA,weight:2,inStock:2},{id:"com-ggo-antenna",name:"GreenGo Stride Antenna",category:me.REGIA,weight:1,inStock:4},{id:"com-ggo-bpx",name:"GreenGo Wireless BPX",category:me.REGIA,weight:.3,inStock:8},{id:"com-ggo-bp",name:"GreenGo Wired BP",category:me.REGIA,weight:.3,inStock:8},{id:"com-radio",name:"Radio Midland C1180",category:me.REGIA,weight:.3,inStock:30}],lF=[{id:"vid-abs-pl25",name:"Absen Polaris PL2.5",category:me.VIDEO,weight:8,inStock:100,accessories:[{itemId:"cbl-link-true1-100",quantity:1},{itemId:"cbl-eth-100",quantity:1}]},{id:"vid-abs-pl25-l",name:"Absen PL2.5 Angolo SX",category:me.VIDEO,weight:8,inStock:8},{id:"vid-abs-pl25-r",name:"Absen PL2.5 Angolo DX",category:me.VIDEO,weight:8,inStock:8},{id:"vid-abs-fly-100",name:"Absen PL Flybar 100cm",category:me.VIDEO,weight:5,inStock:10,accessories:[{itemId:"rig-steelflex-2",quantity:1},{itemId:"rig-shackle-black",quantity:1}]},{id:"vid-abs-fly-50",name:"Absen PL Flybar 50cm",category:me.VIDEO,weight:3,inStock:10,accessories:[{itemId:"rig-steelflex-2",quantity:1},{itemId:"rig-shackle-black",quantity:1}]},{id:"vid-abs-d2v",name:"Absen D2V Plus 2.9",category:me.VIDEO,weight:7.5,inStock:60,accessories:[{itemId:"cbl-link-true1-100",quantity:1},{itemId:"cbl-eth-100",quantity:1}]},{id:"vid-inf-26",name:"Infiled 2.6mm",category:me.VIDEO,weight:8,inStock:120,accessories:[{itemId:"cbl-link-pcon-050",quantity:1},{itemId:"cbl-eth-050",quantity:1}]},{id:"vid-inf-fly",name:"Infiled Flybar 50cm",category:me.VIDEO,weight:4,inStock:20,accessories:[{itemId:"rig-steelflex-2",quantity:1},{itemId:"rig-shackle-black",quantity:1}]},{id:"vid-yes-39",name:"Yestech 3.9mm",category:me.VIDEO,weight:9,inStock:80,accessories:[{itemId:"cbl-led-pwr-link",quantity:1},{itemId:"cbl-led-data-link",quantity:1}]},{id:"vid-yes-fly",name:"Yestech Flybar 50cm",category:me.VIDEO,weight:4,inStock:10,accessories:[{itemId:"rig-steelflex-2",quantity:1},{itemId:"rig-shackle-black",quantity:1}]},{id:"vid-novastar",name:"MCTRL 4K Processor",category:me.VIDEO,weight:6,inStock:2},{id:"vid-vx4s",name:"Novastar VX4S",category:me.VIDEO,weight:4,inStock:2},{id:"vid-msi",name:"Laptop MSI (Resolume/Araneo)",category:me.REGIA,weight:3,inStock:4},{id:"vid-mac-studio",name:"Mac Studio",category:me.REGIA,weight:3,inStock:2},{id:"vid-mini-mac",name:"Mac Mini",category:me.REGIA,weight:1.5,inStock:2},{id:"vid-monitor-24",name:'Monitor 24" HDMI',category:me.REGIA,weight:4,inStock:6},{id:"vid-streamdeck",name:"Elgato Streamdeck XL",category:me.REGIA,weight:.5,inStock:2},{id:"vid-splitter-hdmi",name:"Splitter HDMI 1x5 4K 60hz",category:me.VIDEO,weight:1,inStock:4},{id:"vid-opticis",name:"Opticis HDMI Fiber Kit",category:me.VIDEO,weight:1,inStock:4},{id:"it-usb-hub",name:"Hub USB-C / USB",category:me.REGIA,weight:.2,inStock:5},{id:"it-mouse-key",name:"Mouse + Tastiera + Batterie",category:me.REGIA,weight:1,inStock:5},{id:"net-luminex-16",name:"Luminex Gigacore 16Xt/16Tf",category:me.REGIA,weight:4,inStock:2},{id:"net-luminex-10",name:"Luminex Gigacore 10/10i",category:me.REGIA,weight:3,inStock:4},{id:"net-luminode-12",name:"Luminex Luminode 12",category:me.REGIA,weight:3,inStock:2},{id:"net-switch-8",name:"Switch Gigabit 8 Porte",category:me.REGIA,weight:.5,inStock:5}],cF=[{id:"pix-ama-175",name:"Stripled Doppia AMA 1.75mt",category:me.LIGHTS,weight:2,inStock:20},{id:"pix-ama-200",name:"Stripled Doppia AMA 2.00mt",category:me.LIGHTS,weight:2.5,inStock:20},{id:"pix-ama-250",name:"Stripled Doppia AMA 2.50mt",category:me.LIGHTS,weight:3,inStock:10},{id:"pix-ama-300",name:"Stripled Doppia AMA 3.00mt",category:me.LIGHTS,weight:3.5,inStock:10},{id:"pix-psu-12v",name:"Alimentatore PSU 12V + CEE",category:me.LIGHTS,weight:2,inStock:20},{id:"pix-advatek",name:"Advatek PixLite A4-S MK3",category:me.REGIA,weight:1,inStock:4},{id:"pix-cbl-flat",name:"Piattina 4mm / 0.75mm",category:me.CABLES,weight:1,inStock:100,description:"Al metro"},{id:"pix-cbl-adv",name:"Cavo 3x2.5 50cm x Advatek",category:me.CABLES,weight:.5,inStock:20}],uF=[{id:"cbl-link-true1-100",name:"Link True1 1mt",category:me.CABLES,weight:.3,inStock:100},{id:"cbl-eth-100",name:"Cavo Ethercon Nero 1mt",category:me.CABLES,weight:.1,inStock:100},{id:"cbl-link-pcon-050",name:"Link Powercon 0.5mt",category:me.CABLES,weight:.2,inStock:100},{id:"cbl-eth-050",name:"Cavo Ethercon Nero 0.5mt",category:me.CABLES,weight:.1,inStock:100},{id:"ad-tr1-schuko",name:"Alim. Schuko M - True1",category:me.CABLES,weight:.3,inStock:100},{id:"ad-pcon-schuko",name:"Alim. Schuko M - Powercon Blu",category:me.CABLES,weight:.3,inStock:50},{id:"ad-pcon-cee",name:"Alim. CEE M - Powercon Blu",category:me.CABLES,weight:.4,inStock:20},{id:"ad-cee-tr1",name:"Alim. CEE M - True1",category:me.CABLES,weight:.4,inStock:30},{id:"ad-tr1-cee-f",name:"Adatt. True1 M - CEE F",category:me.CABLES,weight:.4,inStock:30},{id:"ad-tr1-m-pcon-blu",name:"Adatt. True1 M - Powercon Blu",category:me.CABLES,weight:.3,inStock:20},{id:"ad-tr1-f-pcon-wht",name:"Adatt. True1 F - Powercon Bianco",category:me.CABLES,weight:.3,inStock:20},{id:"ad-tr1-m-cee-f",name:"Adatt. True1 M - CEE F",category:me.CABLES,weight:.3,inStock:20},{id:"ad-cee-schuko",name:"Adatt. CEE M - Schuko F",category:me.CABLES,weight:.3,inStock:20},{id:"ad-schuko-cee",name:"Adatt. Schuko M - CEE F",category:me.CABLES,weight:.3,inStock:20},{id:"ad-cee-civile",name:"Adatt. CEE M - Civile F (Bipasso)",category:me.CABLES,weight:.2,inStock:20},{id:"ad-civile-cee",name:"Adatt. Civile M - CEE F",category:me.CABLES,weight:.2,inStock:20},{id:"ad-mazz-cee",name:"Adatt. Mazzeri M - CEE F",category:me.CABLES,weight:.3,inStock:10},{id:"ad-cee-mazz",name:"Adatt. CEE M - Mazzeri F",category:me.CABLES,weight:.3,inStock:10},{id:"ad-mazz-civ",name:"Adatt. Mazzeri M - Civile F",category:me.CABLES,weight:.2,inStock:10},{id:"ad-civ-mazz",name:"Adatt. Civile M - Mazzeri F",category:me.CABLES,weight:.2,inStock:10},{id:"cbl-vde-schuko",name:"Alim. Schuko M - VDE",category:me.CABLES,weight:.2,inStock:50},{id:"cbl-vde-civile",name:"Alim. Civile M - VDE",category:me.CABLES,weight:.2,inStock:20},{id:"cbl-vde-cee",name:"Alim. CEE M - VDE",category:me.CABLES,weight:.3,inStock:10},{id:"ad-split-cee",name:"Sdoppia CEE (T o Y)",category:me.CABLES,weight:.6,inStock:30},{id:"ad-split-tr1",name:"Sdoppia True1 (Ciabatta/Y)",category:me.CABLES,weight:.6,inStock:20},{id:"ad-split-tr1-hybrid",name:"Sdoppia Ibrida TR1 M -> TR1 F + PCON Blu",category:me.CABLES,weight:.5,inStock:10},{id:"cbl-ciabatta-cee",name:"Ciabatta CEE Nera (Stage)",category:me.CABLES,weight:1.5,inStock:20},{id:"cbl-ciabatta-nice",name:'Ciabatta CEE "Bella" (Cliente)',category:me.CABLES,weight:1.5,inStock:10},{id:"cbl-ciabatta-civil",name:"Ciabatta Civile (Bianca/Nera)",category:me.CABLES,weight:.5,inStock:20},{id:"ad-xlr-3-5",name:"Kit Adattatori XLR 3p-5p / 5p-3p",category:me.CABLES,weight:.5,inStock:10},{id:"ad-jack-xlr",name:"Adatt. Jack - XLR M",category:me.CABLES,weight:.1,inStock:10},{id:"ad-minijack-xlr",name:"Adatt. Mini Jack - XLR M",category:me.CABLES,weight:.1,inStock:10},{id:"ad-usbc-hdmi",name:"Adatt. USB-C - HDMI",category:me.CABLES,weight:.1,inStock:5},{id:"ad-eth-barrel",name:"Barilotto Ethercon F-F",category:me.CABLES,weight:.1,inStock:20},{id:"cbl-fiber-opt-150",name:"Rulla Fibra OpticalCon 150mt",category:me.CABLES,weight:10,inStock:2},{id:"cbl-fiber-lc-100",name:"Rulla Fibra 4xLC 100mt",category:me.CABLES,weight:6,inStock:2},{id:"cbl-hdmi-fib-30",name:"Cavo HDMI Fibra 30mt",category:me.VIDEO,weight:1.5,inStock:4},{id:"cbl-hdmi-fib-50",name:"Cavo HDMI Fibra 50mt",category:me.VIDEO,weight:2.5,inStock:4},{id:"cbl-hdmi-fib-100",name:"Cavo HDMI Fibra 100mt",category:me.VIDEO,weight:5,inStock:2},{id:"cbl-soca-bin",name:"Sfrangio Socapex -> 6x CEE M",category:me.CABLES,weight:2,inStock:10},{id:"cbl-soca-bout",name:"Sfrangio Socapex -> 6x CEE F",category:me.CABLES,weight:2,inStock:10}],dF=[{id:"pwr-frig-400",name:"Powerbox Friggeri 400A Powerlock",category:me.CABLES,weight:60,inStock:1},{id:"pwr-events-125",name:"Powerbox Power4Events 125A Socapex",category:me.CABLES,weight:40,inStock:1},{id:"pwr-frig-125-soca",name:"Powerbox Friggeri 125A -> Socapex",category:me.CABLES,weight:35,inStock:2},{id:"pwr-frig-63-soca",name:"Powerbox Friggeri 63A -> Socapex",category:me.CABLES,weight:25,inStock:2},{id:"pwr-quadro-63",name:"Quadro 63A (Prese CEE)",category:me.CABLES,weight:20,inStock:2},{id:"pwr-menn-63",name:"Powerbox Mennekes 63A",category:me.CABLES,weight:15,inStock:4},{id:"pwr-quadro-32-soca",name:"Quadro 32A -> Socapex",category:me.CABLES,weight:10,inStock:4},{id:"pwr-val-32",name:"Powerbox Valigetta 32A con CEE",category:me.CABLES,weight:5,inStock:8},{id:"pwr-quadro-32-mono",name:"Quadro 32A Monofase",category:me.CABLES,weight:5,inStock:2},{id:"pwr-sdoppio-63",name:"Quadro Sdoppio 63A -> 2x32A",category:me.CABLES,weight:8,inStock:2},{id:"pwr-ups-1500",name:"UPS 1500VA Rack",category:me.CABLES,weight:15,inStock:2},{id:"pwr-ups-3000",name:"UPS Legrand 3000VA",category:me.CABLES,weight:30,inStock:1}],hF=[{id:"rig-soft-1",name:"Softsteel 1mt (Spanset Acciaio)",category:me.STRUCTURE,weight:1,inStock:20},{id:"rig-soft-2",name:"Softsteel 2mt (Spanset Acciaio)",category:me.STRUCTURE,weight:2,inStock:20},{id:"rig-steelflex-2",name:"Steelflex 2mt (Spanset Acciaio)",category:me.STRUCTURE,weight:2,inStock:20},{id:"rig-reutlinger",name:"Reutlinger Type 50 + Cavo",category:me.STRUCTURE,weight:.5,inStock:40},{id:"rig-shackle-big",name:"Grillo 3.25T (Grosso)",category:me.STRUCTURE,weight:.5,inStock:50},{id:"rig-shackle-black",name:"Grillo Nero (Medio)",category:me.STRUCTURE,weight:.3,inStock:100},{id:"rig-moschettoni",name:"Moschettoni",category:me.STRUCTURE,weight:.1,inStock:50},{id:"rig-fascia-5m",name:"Fascia Crick 5mt Piccola",category:me.STRUCTURE,weight:.5,inStock:20},{id:"rig-corda-30",name:"Corda Nera 30mt",category:me.STRUCTURE,weight:2,inStock:10},{id:"rig-base-steel",name:"Base Ferro Pesante 80x80",category:me.STRUCTURE,weight:35,inStock:12},{id:"rig-cube",name:"Cubo (Dado) Truss",category:me.STRUCTURE,weight:8,inStock:8},{id:"rig-book-corner",name:"Book Corner (Cerniera)",category:me.STRUCTURE,weight:10,inStock:4},{id:"rig-inclinator",name:"Inclinatore 8 Truss",category:me.STRUCTURE,weight:2,inStock:8},{id:"rig-pipe-black-150",name:"Palo Nero 1.5mt",category:me.STRUCTURE,weight:3,inStock:20},{id:"rig-pipe-black-200",name:"Palo Nero 2.0mt (Conn. Truss)",category:me.STRUCTURE,weight:4,inStock:10},{id:"rig-pipe-black-350",name:"Palo Nero 3.5mt",category:me.STRUCTURE,weight:7,inStock:10},{id:"rig-pipe-black-400",name:"Palo Nero 4.0mt",category:me.STRUCTURE,weight:8,inStock:10},{id:"rig-altalena",name:"Altalena Unirig Regolabile",category:me.STRUCTURE,weight:5,inStock:10},{id:"rig-carrucola",name:"Carrucola x Tiro",category:me.STRUCTURE,weight:1,inStock:10},{id:"rig-water-tank",name:"Tanica Acqua (Zavorra) + Attacchi",category:me.STRUCTURE,weight:2,inStock:20,description:"Vuota"},{id:"rig-wood-shim",name:"Assette Legno (Spessori)",category:me.STRUCTURE,weight:.5,inStock:50},{id:"rig-water-hose",name:"Kit Tubi Acqua 20mt",category:me.TOOLS,weight:3,inStock:2}],fF=[{id:"fx-hazer-tour",name:"Smoke Factory Tour Hazer II",category:me.LIGHTS,weight:18,inStock:4,accessories:[{itemId:"ad-pcon-schuko",quantity:1},{itemId:"cons-liq-hazer",quantity:1}]},{id:"fx-antari-f7",name:"Antari F7 Smaze",category:me.LIGHTS,weight:45,inStock:2,accessories:[{itemId:"cons-liq-hazer",quantity:1}]},{id:"fx-spok",name:"Smoke Factory Spok",category:me.LIGHTS,weight:10,inStock:2,accessories:[{itemId:"cons-liq-hazer",quantity:1}]},{id:"fx-fan",name:"Ventola Chiocciola",category:me.LIGHTS,weight:8,inStock:6},{id:"cons-liq-hazer",name:"Liquido Fumo/Hazer (5L)",category:me.OTHER,weight:5,inStock:10}],pF=()=>{const r=[1,2.5,5,10,15,20,50],e=[{name:"Cavo XLR 3P",category:me.AUDIO,maxLen:100,weightM:.1},{name:"Cavo Jack TS",category:me.AUDIO,maxLen:10,weightM:.1},{name:"Cavo RCA",category:me.AUDIO,maxLen:5,weightM:.05},{name:"Cavo Speakon NL4",category:me.AUDIO,maxLen:25,weightM:.2},{name:"Cavo DMX 5P",category:me.LIGHTS,maxLen:100,weightM:.12},{name:"Cavo DMX 3P",category:me.LIGHTS,maxLen:100,weightM:.12},{name:"Cavo Ethercon Nero",category:me.CABLES,maxLen:100,weightM:.08},{name:"Cavo Rete RJ45",category:me.CABLES,maxLen:100,weightM:.05},{name:"Cavo BNC (SDI)",category:me.VIDEO,maxLen:100,weightM:.06},{name:"Cavo HDMI (Rame)",category:me.VIDEO,maxLen:10,weightM:.1},{name:"Cavo Fibra MM",category:me.CABLES,maxLen:100,weightM:.02},{name:"Cavo Fibra SM",category:me.CABLES,maxLen:100,weightM:.02},{name:"Link True1",category:me.CABLES,maxLen:100,weightM:.2},{name:"Link Powercon (Blu/White)",category:me.CABLES,maxLen:100,weightM:.2},{name:"Combo True1 + DMX",category:me.CABLES,maxLen:100,weightM:.35},{name:"Combo PCON + DMX",category:me.CABLES,maxLen:100,weightM:.35},{name:"Prolunga CEE 16A (Blu)",category:me.CABLES,maxLen:100,weightM:.25},{name:"Prolunga CEE 32A (Rossa)",category:me.CABLES,maxLen:100,weightM:.5},{name:"Prolunga CEE 63A (Rossa)",category:me.CABLES,maxLen:100,weightM:.9},{name:"Prolunga CEE 125A (Rossa)",category:me.CABLES,maxLen:100,weightM:2.5},{name:"Corda Powerlock (Singola)",category:me.CABLES,maxLen:100,weightM:1.5},{name:"Cavo Socapex 19p",category:me.CABLES,maxLen:25,weightM:.8},{name:"Cavo Mazzeri",category:me.CABLES,maxLen:50,weightM:.15},{name:"Cavo Civile",category:me.CABLES,maxLen:50,weightM:.15}],t=[];let n=1e4;return e.forEach(i=>{r.forEach(s=>{if(s>i.maxLen)return;n++;const a=s.toString().replace(".",",");t.push({id:`gen-cbl-${n}`,name:`${i.name} ${a}mt`,category:i.category,weight:parseFloat((i.weightM*s).toFixed(2)),inStock:20,description:`Generato automatico ${a}m`})})}),t},mF=()=>{const r=[.15,.21,.4,.5,1,1.5,2,2.5,3,3.5,4],e=[];let t=5e3;return[{code:"sq30",name:"Truss 29x29",weightM:6},{code:"sq30-blk",name:"Truss 29x29 Nera",weightM:6},{code:"sq40",name:"Truss 40x40",weightM:10},{code:"sq40-blk",name:"Truss 40x40 Nera",weightM:10}].forEach(i=>{r.forEach(s=>{t++;const a=s.toString().replace(".",",");e.push({id:`truss-${i.code}-${t}`,name:`${i.name} ${a}mt`,category:me.STRUCTURE,weight:parseFloat((i.weightM*s).toFixed(2)),inStock:12,accessories:[{itemId:"truss-acc-spigot",quantity:4},{itemId:"truss-acc-pin",quantity:8},{itemId:"truss-acc-clip",quantity:8}]})})}),e},gF=()=>{const r=[];r.push({id:"stg-titan-21",name:"Pedana Titan 2x1m",category:me.STRUCTURE,weight:32,inStock:40,accessories:[{itemId:"stg-acc-clamp",quantity:2}]}),r.push({id:"stg-titan-21-nice",name:'Pedana "Bella" 2x1m',category:me.STRUCTURE,weight:32,inStock:20,accessories:[{itemId:"stg-acc-clamp",quantity:2}]}),r.push({id:"stg-titan-11",name:"Pedana Titan 1x1m",category:me.STRUCTURE,weight:18,inStock:20,accessories:[{itemId:"stg-acc-clamp",quantity:2}]}),r.push({id:"stg-titan-105",name:"Pedana Titan 1x0.5m",category:me.STRUCTURE,weight:12,inStock:10,accessories:[{itemId:"stg-acc-clamp",quantity:2}]}),r.push({id:"stg-mammut-21",name:"Pedana Mammut 2x1m",category:me.STRUCTURE,weight:40,inStock:10});const e=[20,40,60,80,100],t=["2x1","1x1","1x0.5"];return e.forEach(n=>{t.forEach(i=>{r.push({id:`stg-riser-${i.replace(".","")}-${n}`,name:`Riser Titan ${i}m H${n}cm`,category:me.STRUCTURE,weight:3,inStock:20,accessories:[{itemId:"stg-acc-pin",quantity:6}]})})}),r.push({id:"stg-leg-tele",name:"Gamba Telescopica 60-100cm",category:me.STRUCTURE,weight:1,inStock:100}),r.push({id:"stg-skirt",name:"Skirting Nero (TNT)",category:me.OTHER,weight:1,inStock:100}),r.push({id:"stg-moquette-21",name:"Moquette 2x1 Nera",category:me.OTHER,weight:1,inStock:50}),r.push({id:"stg-moquette-11",name:"Moquette 1x1 Nera",category:me.OTHER,weight:.5,inStock:20}),r},vF=[{id:"cons-gaffa-blk",name:"Gaffa Nero Opaco",category:me.OTHER,weight:.5,inStock:50},{id:"cons-gaffa-wht",name:"Gaffa Bianco",category:me.OTHER,weight:.5,inStock:20},{id:"cons-gaffa-col",name:"Gaffa Colorato (Mix)",category:me.OTHER,weight:.5,inStock:20},{id:"cons-iso",name:"Nastro Isolante Nero (Mix)",category:me.OTHER,weight:.1,inStock:50},{id:"cons-iso-grey",name:"Nastro Isolante Grigio",category:me.OTHER,weight:.1,inStock:20},{id:"cons-iso-col",name:"Nastro Isolante Colorato",category:me.OTHER,weight:.1,inStock:20},{id:"cons-zip-big",name:"Fascette Grandi Nere",category:me.OTHER,weight:.5,inStock:50},{id:"cons-zip-med",name:"Fascette Medie Nere",category:me.OTHER,weight:.3,inStock:50},{id:"cons-batt-aa",name:"Batterie AA",category:me.OTHER,weight:.1,inStock:100},{id:"cons-batt-9v",name:"Batterie 9V",category:me.OTHER,weight:.1,inStock:30},{id:"cons-tnt-blk",name:"TNT Nero (Bobina)",category:me.OTHER,weight:5,inStock:10},{id:"cons-biades",name:"Biadesivo",category:me.OTHER,weight:.2,inStock:20},{id:"cons-marker",name:"Pennarello Indelebile",category:me.OTHER,weight:.05,inStock:20},{id:"tool-box",name:"Scatola Attrezzi Completa (USAG)",category:me.TOOLS,weight:15,inStock:4},{id:"tool-drill",name:"Avvitatore + Batterie",category:me.TOOLS,weight:4,inStock:4},{id:"tool-ladder",name:"Scala 7 Pioli",category:me.TOOLS,weight:10,inStock:2},{id:"tool-ladder-high",name:"Scala Alta",category:me.TOOLS,weight:15,inStock:2},{id:"tool-transpallet",name:"Transpallet",category:me.TOOLS,weight:60,inStock:2}],yF=[...sF,...oF,...aF,...lF,...cF,...uF,...dF,...hF,...fF,...vF,...pF(),...mF(),...gF()],wF=[{id:"k-vid-abs-6",name:"Baule Absen PL2.5 (6pz)",category:me.VIDEO,items:[{itemId:"vid-abs-pl25",quantity:6},{itemId:"cbl-link-true1-100",quantity:6},{itemId:"cbl-eth-100",quantity:6}]},{id:"k-vid-abs-cnr-6",name:"Baule Absen Angolari (3L+3R)",category:me.VIDEO,items:[{itemId:"vid-abs-pl25-l",quantity:3},{itemId:"vid-abs-pl25-r",quantity:3},{itemId:"cbl-link-true1-100",quantity:6},{itemId:"cbl-eth-100",quantity:6}]},{id:"k-vid-inf-10",name:"Baule Infiled 2.6 (10pz)",category:me.VIDEO,items:[{itemId:"vid-inf-26",quantity:10},{itemId:"cbl-link-pcon-050",quantity:10},{itemId:"cbl-eth-050",quantity:10}]},{id:"k-vid-yes-10",name:"Baule Yestech 3.9 (10pz)",category:me.VIDEO,items:[{itemId:"vid-yes-39",quantity:10},{itemId:"ad-eth-barrel",quantity:1}]},{id:"k-lgt-mega-4",name:"Baule Robe MegaPointe (4pz)",category:me.LIGHTS,items:[{itemId:"lgt-robe-megapointe",quantity:4},{itemId:"ad-tr1-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:8}]},{id:"k-lgt-350-4",name:"Baule Robe LEDBeam 350 (4pz)",category:me.LIGHTS,items:[{itemId:"lgt-robe-350-spot",quantity:4},{itemId:"ad-tr1-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:4}]},{id:"k-lgt-esp-2",name:"Baule Robe Esprite (2pz)",category:me.LIGHTS,items:[{itemId:"lgt-robe-esprite",quantity:2},{itemId:"ad-tr1-schuko",quantity:2},{itemId:"acc-safety",quantity:2},{itemId:"acc-clamp-omega",quantity:4}]},{id:"k-lgt-hel-4",name:"Baule Showtec Helix (4pz)",category:me.LIGHTS,items:[{itemId:"lgt-helix",quantity:4},{itemId:"lgt-opt-helix-1560",quantity:4},{itemId:"ad-tr1-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:8}]},{id:"k-lgt-shp-4",name:"Baule CP Sharpy (4pz)",category:me.LIGHTS,items:[{itemId:"lgt-cp-sharpy",quantity:4},{itemId:"ad-pcon-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:8}]},{id:"k-lgt-k10-4",name:"Baule CP B-EYE K10 (4pz)",category:me.LIGHTS,items:[{itemId:"lgt-cp-k10",quantity:4},{itemId:"ad-tr1-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:8}]},{id:"k-lgt-minib-6",name:"Baule CP Mini-B (6pz)",category:me.LIGHTS,items:[{itemId:"lgt-cp-minib",quantity:6},{itemId:"ad-tr1-schuko",quantity:6},{itemId:"acc-safety",quantity:6},{itemId:"acc-clamp-omega",quantity:6}]}],bb=[{id:"1",title:"1. SETTORE STRUTTURE & RIGGING",subtitle:"Scheletro - La base fisica dell'evento",groups:[{title:"Americane (Truss)",items:["Truss Lineare 300 cm","Truss Lineare 200 cm","Truss Lineare 100 cm","Truss Lineare 50 cm / 25 cm (Spessori)","Truss Angolo 2 vie (90)","Truss Angolo 3 vie (T-Joint o Angolo + discesa)","Truss Angolo 4 vie (Croce)",'Cube / Dadi universali (+ relative "mezze uova")',"Truss Cerchio (diametro specificato)"]},{title:"Basi & Zavorre",items:["Basi a terra leggere (Alluminio)","Basi a terra pesanti (Ferro/Acciaio) per colonne alte","Zavorre aggiuntive (Acqua o Cemento) per outdoor","Outrigger (Stabilizzatori laterali per torri)"]},{title:"Connessioni Truss (Minuteria critica)",items:["Spine (Pins)","Coppiglie (R-Clips)","Conici (Ovetto/Spigot)","App Logic: Calcolare sempre +10% extra per smarrimenti","Martello in Rame o Gomma dura"]},{title:"Sollevamento (Rigging)",items:["Motori a catena (250kg / 500kg / 1T / 2T)","Lunghezza catena (10m / 20m / 24m)","Paranchi manuali a catena","Sollevatori a forche (Genie / Fenwick / Clark)","Torri di elevazione (Wind-up stands)"]},{title:"Controller Motori",items:["Motor Controller (4ch / 8ch)","Frusta comando (Pickle) per singolo motore","Cavi Harting/Soca per motori (Potenza + Comando)","Link cavi motori"]},{title:"Appenderia & Hardware",items:["Grilli (Shackles) da 3.25T o superiori","Fasce in poliestere (Spanset) - Nere per teatro, Viola/Verdi industriali","Acciai (Steels) con anima in metallo (Obbligatori come Secondary Safety)","O-Ring / Anelli master","Beam Clamps (Morsetti per travi IPE edili)","Tent Clamps (Morsetti per tensostrutture)"]},{title:"Palco (Stage)",items:["Pedane modulari (2x1m, 1x1m, 2x0.5m)","Gambe per pedane (Fisse 20/40/60/80cm o Telescopiche)","Morsetti ferma-pedane (Deck clamps - 2 vie e 4 vie)","Scaletta modulare accesso palco (+ corrimano)","Parapetti di sicurezza (Railings)","Skirting (Gonnella/Tessuto nero) + Velcro o Clips","Scivolo di carico (Ramp) se necessario"]}]},{id:"2",title:"2. SETTORE ELETTRICO (Power)",subtitle:"Distribuzione e Cablaggio di potenza",groups:[{title:"Main Power (L'arrivo)",items:["Cavi Powerlock (Single core - Terra/Neutro/L1/L2/L3) - Per carichi >63A","Cavo CEE 125A (5 poli)","Cavo CEE 63A (5 poli)","Cavo CEE 32A (5 poli)","Cavo CEE 16A (5 poli - Rossa) - Da non confondere con la blu!"]},{title:"Quadri & Distribuzione",items:["Power Box Generale (Input Powerlock/125/63 -> Output vari)","Distro di Settore (es. Rack 32A -> 6x o 12x Schuko/Socapex)",'Adattatori "T" o "Y" (Sdoppiatori CEE)',"Adattatori CEE -> Schuko (Funghi/Ragni)"]},{title:"Cablaggio Minuto (Dirty power)",items:["Cavi 16A Blu (Prolunghe industriali)","Cavi Schuko/VDE (3m, 5m, 10m, 20m)","Ciabatte (Multiprese) Nere","Cavi Link Powercon (Blu/Bianco o True1)"]},{title:"Sicurezza Cavi",items:["Passacavi carrabili (Yellow Jackets/Cable Cross)","Pedanine leggere da interno (Office friendly)","Tappetini in gomma (Rubber mats)"]}]},{id:"3",title:"3. SETTORE AUDIO",subtitle:"Sound Reinforcement",groups:[{title:"P.A. (Public Address)",items:["Line Array Module (Top)","Subwoofers","Point Source (Casse su stativo)","Front Fill / Lip Fill (Casse piccole bordo palco)","Delay Towers (Rilanci)","Amplificatori (se impianto passivo)","Processori di sistema (Lake, Galaxy, Matrix)"]},{title:"Monitoraggio",items:["Spie da terra (Wedges)","Side Fills (Casse laterali palco)","Drum Fill (Sub + Top per batterista)","In-Ear Monitors (Trasmettitori + Bodypack + Cuffie + Combiner Antenna + Antennas)"]},{title:"F.O.H. & Controllo",items:["Console Mixer (Digitale)","Cover antipolvere/sole per mixer","Stagebox / I/O Rack (Posizionato sul palco)","Tablet per controllo remoto Wi-Fi"]},{title:"Microfoni & Input",items:["Kit Batteria (Cassa, Rullante, Tom, Overhead, HiHat)","Microfoni Voce Filo (SM58, Beta58, ecc.)","Microfoni Strumento (SM57, e609, Condensatori matita)","Radiomicrofoni Handheld (Gelato)","Radiomicrofoni Beltpack + Archetto (Headset) o Lavalier","Batterie di scorta (AA / AAA / 9V) - Check Livello!","D.I. Box (Attive / Passive / Stereo)"]},{title:"Supporti (Stands)",items:["Aste microfoniche alte a giraffa","Aste microfoniche basse (nane)","Aste dritte (ritte) con base tonda pesante","Clip microfoniche (Standard e Grandi per radio)","Stativi per casse (Treppiedi o Pali distanziatori)"]},{title:"Cablaggio Audio",items:["Cavi XLR (Signal) - Corti/Medi/Lunghi","Cavi Jack-Jack (Strumenti)","Cavi Speakon (Potenza casse) - 2 poli / 4 poli / 8 poli","Fruste analogiche (Sub-snakes)","Cavi CAT5e/CAT6 o Fibra per Stagebox (Main + Backup)"]}]},{id:"4",title:"4. SETTORE LUCI",subtitle:"Lighting & Atmosphere",groups:[{title:"Fixtures (Corpi illuminanti)",items:["Moving Head SPOT","Moving Head WASH","Moving Head BEAM","Moving Head HYBRID / PROFILE","Battery LED Lights (Astera, ecc.) per eventi corporate/buffet","Barre LED (Battens)","Blinder (2-lite / 4-lite)","Strobo","Sagomatori (Profiles) + Portagobo + Lame","Fresnel / PC (Teatrali) + Bandiere (Barndoors)"]},{title:"Controllo",items:["Console Luci (GrandMA, Chamsys, Avolites, Hog)","Fader Wing (Espansioni)","UPS dedicato Console","Lampada da tavolo (Littlite)"]},{title:"Distribuzione Dati",items:["Splitter DMX","Nodi ArtNet / sACN","Cavi DMX 5 poli (Standard pro)","Cavi DMX 3 poli (Spesso per fari economici o fumo)","Terminatori DMX (Tappi di chiusura)"]},{title:"Rigging Luci",items:["Ganci (Clamps/Couplers) - Controllare compatibilit col tubo!","Staffe Omega (Gi montate sotto i fari?)","Cavetti di sicurezza (Safety bonds) - Obbligatori per legge"]}]},{id:"5",title:"5. SETTORE VIDEO",subtitle:"Proiezione e Ledwall",groups:[{title:"Proiezione",items:["Videoproiettori","Ottiche (Lens): Standard / Wide (Grandangolo) / Tele (Lunga distanza)","Staffe per appendimento (Clamps dedicate)","Gabbie di protezione/impilaggio (Frames)","Teli di proiezione (Superficie Frontale o Retro?)","Struttura Telo (Fast-fold) + Piedi + Zavorre"]},{title:"Ledwall",items:["Moduli Led (Cabinets)","Sending Cards / Processori Video (Novastar, Brompton)","Bumpers / Flying Bars (Barre per appendere)","Ground Stack System (Struttura per appoggio a terra)","Spare Parts (Moduli, alimentatori e cavetti di scorta)","Cavi rete corti (Cabinet to Cabinet)","Cavi alimentazione corti (Powercon link)"]},{title:"Regia Video",items:["Switcher / Mixer Video (Roland, Blackmagic, Barco, Analog Way)","Scaler / Convertitori di formato","Laptop Regia (Play, Resolume, PowerPoint) + Caricabatterie","Puntatore Laser / Clicker Slide (Master + Backup)","Monitor di confidenza (per palco)"]},{title:"Segnale Video",items:["Cavi HDMI (Corti <10m)","Cavi SDI (BNC) - Bobine 50m/100m","Fibra Ottica Video","Extender HDMI (su cavo CAT)","Barilotti (Femmina-Femmina) HDMI e BNC","Adattatori USB-C -> HDMI"]}]},{id:"6",title:"6. SETTORE IT & COMMS",subtitle:"Infrastruttura di rete e comunicazione",groups:[{title:"Intercom",items:["Stazione Base (Main station)","Beltpack a filo","Beltpack Wireless + Antenne","Cuffie (Headset): Singolo padiglione / Doppio padiglione (rumore forte)"]},{title:"Networking",items:["Switch di Rete (GigaBit)","Access Points Wi-Fi (per controllo iPad)","Bobine Cavo CAT5e / CAT6 (Shielded)","Plug RJ45 di scorta + Crimpatrice (non si sa mai)"]}]},{id:"7",title:"7. SETTORE STRIP LED & PIXEL",subtitle:"Illuminazione custom lineare",groups:[{title:"Hardware",items:["Bobine Strip Led (Verificare: Voltaggio e Colore)","Profili alluminio (Incasso / Superficie / Angolo)","Diffusori (Cover opali)","Tappi di chiusura e Clip di fissaggio"]},{title:"Elettronica",items:["Alimentatori (PSU) - 12V / 24V / 5V","Decoder DMX (per strip analogiche)","Pixel Controller SPI (per strip digitali)"]},{title:"Connessioni",items:["Saldatore a stagno + Rocchetto stagno","Morsetti Wago / Mammut","Cavo multipolare sottile (piattina rosso/nera o 4 poli)","Guaina termorestringente","Nastro Biadesivo VHB (Extra forte)"]}]},{id:"8",title:"8. SETTORE FX (Effetti Speciali)",subtitle:"Pyrotech, Co2 e Atmosfera",groups:[{title:"Macchine",items:["Hazer (Nebbia sottile, oil o water based)","Fog Machine (Fumo getto)","Low Fog (Fumo basso - Ghiaccio o Acqua?)","Sparkulars (Scintille a freddo)","Flame Jets (Lanciafiamme)","CO2 Jets / Gun","Confetti Cannons / Blaster","Ventilatori (AF-1, ecc.)"]},{title:"Consumabili (Check Bloccante)",items:["Liquido Fumo / Haze (Taniche piene?)","Polvere Titanio (Bustine per Sparkulars)","Bombole CO2 (Con pescante/tubo immersione per liquidi!)","Coriandoli (Confetti) e Stelle filanti (Streamers)","Ghiaccio secco (Dry Ice) se richiesto"]},{title:"Accessori FX",items:["Cavi Alta Pressione per CO2","Raccordi bombole","Cavi di sparo / DMX dedicato","Tasto E-Stop (Emergenza)"]}]},{id:"9",title:"9. SETTORE REGIA FOH (Generale)",subtitle:"Front of House setup",groups:[{title:"Infrastruttura",items:["Tavoli Regia (Pieghevoli o Flight case tables)","Sedie / Sgabelli alti","Gazebo / Tenda regia (se outdoor) + Pesi","Pedana rialzata (Riser)","Illuminazione cortesia (Led usb, Littlite)"]},{title:"Link Sala-Palco (Multicores)",items:["Frusta Audio principale","Linee DMX (Universe 1, 2, 3, 4...)","Fibre Ottiche Video","Cavi Rete (Internet/Controllo)"]},{title:"Power Safety",items:["UPS Regia Video","UPS Regia Luci","UPS Regia Audio"]}]},{id:"10",title:"10. ALLESTIMENTO, CONSUMABILI & TOOLBOX",subtitle:"Materiale di consumo e attrezzi",groups:[{title:"Nastri adesivi",items:["Gaffa Tape Nero (Opaco)","Gaffa Tape Bianco (Scrivibile)","Gaffa Tape Colorato (per segnare posizioni)","Nastro Isolante elettrico","Nastro Carta","Biadesivo (Moquette e Standard)"]},{title:"Fissaggio",items:["Fascette di plastica (Zip ties) - Nere e Bianche","Fascette Velcro riutilizzabili","Elastici con gancio (Bungees)","Cordinio nero (Tie-line)"]},{title:"Accessori Vari",items:["Batterie (Scorta massiccia AA, AAA, 9V)","Moquette / Tappeto danza","Scale (Doppia salita, Telescopica)","Trabattello"]},{title:"Toolbox (La valigia attrezzi)",items:["Cacciaviti, Pinze, Tronchesi","Chiavi inglesi, Chiavi a rullino","Set brugole / Chiavi Torx","Tester / Multimetro","Prova-cavi (Cable tester)","Saldatore gas/elettrico"]}]},{id:"11",title:"11. SCENARI & RICHIESTE CLIENTE",subtitle:"Oggetti specifici per tipologia evento",groups:[{title:"Conferenza / Corporate",items:["Leggio (Plexi o Legno)","Microfoni a collo d'oca (Gooseneck)","Monitor Timer/Countdown","Laptop Ospite kit (Adattatori video + Audio jack)"]},{title:"DJ Set",items:["Tavolo DJ alto (100cm) stabile","Monitor cassa spia potente","Hub di rete per linkare i CDJ"]},{title:"Live Band",items:["Leggii musicali + Lampade clip","Stand Chitarra / Basso / Tastiera (X-stand)","Tappeto per batteria (Drum carpet)","Trasformatore 110V-220V (Step-down)"]},{title:"Gala / Luxury",items:["Copri-cavi bianchi o passacavi verniciati","Calzini per stativi (Tripod covers) bianchi/neri","Casse audio bianche (se disponibili)"]},{title:"Panic Box (Kit Emergenza Cliente)",items:["Caricabatterie telefono (Lightning, USB-C, Micro-USB)","Adattatore Minijack -> iPhone/USB-C","Pennarelli indelebili","Chiavette USB vuote (formattate FAT32 e ExFat)","Carta e penne"]}]}];function _F(){const[r,e]=Ce.useState("home"),[t,n]=Ce.useState([]),[i,s]=Ce.useState([]),[a,c]=Ce.useState([]),[u,d]=Ce.useState([]),[f,y]=Ce.useState(!0),[_,g]=Ce.useState(null),[A,P]=Ce.useState(()=>localStorage.getItem("cuepack_active_list_id")||""),[I,M]=Ce.useState(!1);Ce.useEffect(()=>{y(!0);const de=Op(V0(tl,aa),B=>{const N=[];B.forEach(T=>N.push(T.data())),n(N),B.empty&&!B.metadata.fromCache&&(console.log("Seeding Database with Initial Inventory..."),jm(aa,yF))},B=>{console.error("Inventory Sync Error:",B),g("Errore di connessione al Database.")}),H=Op(V0(tl,Ud),B=>{const N=[];B.forEach(T=>N.push(T.data())),s(N),B.empty&&!B.metadata.fromCache&&(console.log("Seeding Database with Initial Kits..."),jm(Ud,wF))},B=>console.error("Kits Sync Error:",B)),O=Op(V0(tl,Du),B=>{const N=[];B.forEach(T=>N.push(T.data())),c(N)},B=>{console.error("Lists Sync Error:",B)}),R=Op(rh(tl,G1,"master"),B=>{B.exists()?d(B.data().categories):(console.log("Seeding Master Checklist..."),ly(rh(tl,G1,"master"),{categories:bb}),d(bb)),y(!1)},B=>{console.error("Checklist Sync Error:",B),y(!1)});return()=>{de(),H(),O(),R()}},[]),Ce.useEffect(()=>{A&&localStorage.setItem("cuepack_active_list_id",A)},[A]);const W=Ce.useMemo(()=>a.find(de=>de.id===A),[a,A]),z=[{id:"home",label:"Home",icon:DP},{id:"inventory",label:"Inventario",icon:LP},{id:"kits",label:"Kit Materiale",icon:If},{id:"lists",label:"Crea Liste",icon:CP}],q=()=>{eI(uy).catch(de=>console.error("Logout error",de))};if(f)return k.jsxs("div",{className:"h-screen bg-slate-950 flex items-center justify-center text-slate-400 flex-col gap-4",children:[k.jsx(hy,{className:"animate-spin",size:48}),k.jsx("p",{children:"Connessione al database in corso..."}),k.jsx("p",{className:"text-xs text-slate-600",children:"Assicurati di aver configurato le chiavi Firebase."})]});if(_)return k.jsxs("div",{className:"h-screen bg-slate-950 flex items-center justify-center text-rose-500 flex-col gap-4",children:[k.jsx(UP,{size:48}),k.jsx("p",{className:"font-bold text-xl",children:_}),k.jsx("p",{className:"text-slate-400",children:"Controlla la tua connessione internet o la configurazione .env"})]});const ne=()=>{switch(r){case"home":return k.jsx(nF,{inventory:t,kits:i,lists:a,setActiveListId:P,onNavigateToChecklist:()=>e("checklist-manager")});case"inventory":return k.jsx(zP,{items:t,packingLists:a});case"kits":return k.jsx(qP,{kits:i,inventory:t});case"lists":return k.jsx(tF,{inventory:t,kits:i,lists:a,activeListId:A,setActiveListId:P});case"checklist-manager":return k.jsx(iF,{checklist:u,onBack:()=>e("home")});default:return k.jsx("div",{children:"Seleziona una voce dal menu"})}};return k.jsxs("div",{className:"flex h-screen bg-slate-950 text-slate-100 overflow-hidden font-sans",children:[k.jsxs("aside",{className:"hidden md:flex w-72 flex-col bg-slate-900 border-r border-slate-800 shrink-0",children:[k.jsxs("div",{className:"p-6 border-b border-slate-800 shrink-0",children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center font-bold text-white",children:"C"}),k.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"CuePack"})]}),k.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Cloud Rental Management"})]}),k.jsx("nav",{className:"p-4 space-y-2 shrink-0",children:z.map(de=>{const H=de.icon;return k.jsxs("button",{onClick:()=>e(de.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all
                   ${r===de.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/30":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[k.jsx(H,{size:20}),k.jsx("span",{className:"font-medium",children:de.label})]},de.id)})}),W&&k.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col border-t border-slate-800 bg-slate-950/30",children:[k.jsxs("div",{className:"p-3 bg-slate-900/50 text-xs font-bold text-slate-500 uppercase tracking-wider border-b border-slate-800 flex justify-between items-center",children:[k.jsxs("span",{children:["Checklist: ",W.eventName.substring(0,12),W.eventName.length>12?"...":""]}),k.jsxs("span",{className:"bg-slate-800 px-1.5 rounded text-slate-400",children:[W.checklistCheckedItems?.length||0," OK"]})]}),k.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-0",children:k.jsx(rF,{activeList:W,checklist:u})})]}),!W&&k.jsx("div",{className:"flex-1 border-t border-slate-800 bg-slate-950/30 flex items-center justify-center text-slate-500 text-xs p-4 text-center",children:"Seleziona un evento per vedere la Checklist"}),k.jsxs("div",{className:"p-4 border-t border-slate-800 text-xs text-slate-600 shrink-0 bg-slate-900 flex justify-between items-center",children:[k.jsxs("div",{className:"flex flex-col gap-1",children:[k.jsx("span",{children:" R. Chiartano"}),k.jsx("span",{className:"opacity-50",children:"v0.4.2 (Secured)"})]}),k.jsx("button",{onClick:q,className:"p-2 hover:bg-slate-800 text-slate-400 hover:text-rose-500 rounded transition-colors",title:"Esci",children:k.jsx(l5,{size:16})})]})]}),k.jsxs("div",{className:`fixed inset-0 z-50 bg-slate-900 md:hidden transition-transform duration-300 ${I?"translate-x-0":"-translate-x-full"}`,children:[k.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800",children:[k.jsx("h1",{className:"text-xl font-bold",children:"Menu"}),k.jsx("button",{onClick:()=>M(!1),className:"text-slate-400",children:k.jsx(c5,{})})]}),k.jsxs("nav",{className:"p-6 space-y-4",children:[z.map(de=>k.jsx("button",{onClick:()=>{e(de.id),M(!1)},className:`w-full text-left px-4 py-3 rounded-lg text-lg font-medium ${r===de.id?"bg-blue-600 text-white":"text-slate-400"}`,children:de.label},de.id)),k.jsx("div",{className:"pt-8 border-t border-slate-800",children:k.jsxs("button",{onClick:q,className:"w-full text-left px-4 py-3 rounded-lg text-lg font-medium text-rose-500 hover:bg-slate-800 flex items-center gap-2",children:[k.jsx(l5,{size:20})," Esci"]})})]})]}),k.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[k.jsxs("header",{className:"md:hidden flex items-center justify-between p-4 bg-slate-900 border-b border-slate-800",children:[k.jsx("div",{className:"font-bold text-lg",children:"CuePack"}),k.jsx("button",{onClick:()=>M(!0),className:"text-slate-300",children:k.jsx(c5,{})})]}),k.jsx("div",{className:"flex-1 overflow-hidden bg-slate-950 relative",children:ne()})]})]})}function bF(){const[r,e]=Ce.useState(""),[t,n]=Ce.useState(""),[i,s]=Ce.useState(null),[a,c]=Ce.useState(!1),u=async d=>{d.preventDefault(),s(null),c(!0);try{await QC(uy,r,t)}catch(f){console.error("Login error:",f),f.code==="auth/invalid-credential"||f.code==="auth/user-not-found"||f.code==="auth/wrong-password"?s("Email o password non corretti."):f.code==="auth/too-many-requests"?s("Troppi tentativi falliti. Riprova pi tardi."):s("Si  verificato un errore durante l'accesso."),c(!1)}};return k.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:k.jsxs("div",{className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl p-8 shadow-2xl",children:[k.jsxs("div",{className:"flex flex-col items-center mb-8",children:[k.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/40",children:k.jsx(RP,{className:"text-white",size:24})}),k.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"CuePack Manager"}),k.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Accedi per gestire il magazzino"})]}),k.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i&&k.jsxs("div",{className:"bg-rose-950/50 border border-rose-900/50 text-rose-200 text-sm p-3 rounded-lg flex items-center gap-2",children:[k.jsx(xP,{size:16}),i]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5 ml-1",children:"Email"}),k.jsx("input",{type:"email",required:!0,className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder:text-slate-600",placeholder:"nome@dominio.com",value:r,onChange:d=>e(d.target.value)})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5 ml-1",children:"Password"}),k.jsx("input",{type:"password",required:!0,className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder:text-slate-600",placeholder:"",value:t,onChange:d=>n(d.target.value)})]}),k.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg mt-6 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a?k.jsx(hy,{className:"animate-spin",size:20}):"Accedi"})]}),k.jsx("div",{className:"mt-8 text-center",children:k.jsx("p",{className:"text-xs text-slate-600",children:"Non hai un account? Contatta l'amministratore."})})]})})}function xF(){const[r,e]=Ce.useState(null),[t,n]=Ce.useState(!0);return Ce.useEffect(()=>{const i=ZC(uy,s=>{e(s),n(!1)});return()=>i()},[]),t?k.jsx("div",{className:"h-screen w-screen bg-slate-950 flex items-center justify-center text-slate-500",children:k.jsx(hy,{className:"animate-spin",size:32})}):r?k.jsx(_F,{}):k.jsx(bF,{})}window.addEventListener("error",r=>{const e=document.createElement("div");Object.assign(e.style,{position:"fixed",top:"0",left:"0",width:"100%",padding:"20px",backgroundColor:"#ef4444",color:"white",zIndex:"99999",fontFamily:"monospace",whiteSpace:"pre-wrap"}),e.textContent=`Runtime Error: ${r.message}
At: ${r.filename}:${r.lineno}`,document.body.appendChild(e)});window.addEventListener("unhandledrejection",r=>{const e=document.createElement("div");Object.assign(e.style,{position:"fixed",bottom:"0",left:"0",width:"100%",padding:"20px",backgroundColor:"#f97316",color:"white",zIndex:"99999",fontFamily:"monospace",whiteSpace:"pre-wrap"}),e.textContent=`Unhandled Promise Rejection: ${r.reason}`,document.body.appendChild(e)});const LE=document.getElementById("root");if(!LE)throw new Error("Could not find root element to mount to");const SF=b4.createRoot(LE);SF.render(k.jsx(je.StrictMode,{children:k.jsx(xF,{})}));export{hr as _,kF as c,vv as g};
