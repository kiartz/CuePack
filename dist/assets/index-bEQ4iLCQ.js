function S4(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Rj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function E1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pg={exports:{}},nf={},Dg={exports:{}},Pn={};var H2;function k4(){if(H2)return Pn;H2=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),w=Symbol.iterator;function x(Z){return Z===null||typeof Z!="object"?null:(Z=w&&Z[w]||Z["@@iterator"],typeof Z=="function"?Z:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function P(Z,F,Q){this.props=Z,this.context=F,this.refs=R,this.updater=Q||g}P.prototype.isReactComponent={},P.prototype.setState=function(Z,F){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,F,"setState")},P.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function L(){}L.prototype=P.prototype;function V(Z,F,Q){this.props=Z,this.context=F,this.refs=R,this.updater=Q||g}var U=V.prototype=new L;U.constructor=V,A(U,P.prototype),U.isPureReactComponent=!0;var z=Array.isArray,ne=Object.prototype.hasOwnProperty,ce={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function O(Z,F,Q){var se,he={},we=null,Ee=null;if(F!=null)for(se in F.ref!==void 0&&(Ee=F.ref),F.key!==void 0&&(we=""+F.key),F)ne.call(F,se)&&!W.hasOwnProperty(se)&&(he[se]=F[se]);var Te=arguments.length-2;if(Te===1)he.children=Q;else if(1<Te){for(var Le=Array(Te),Ve=0;Ve<Te;Ve++)Le[Ve]=arguments[Ve+2];he.children=Le}if(Z&&Z.defaultProps)for(se in Te=Z.defaultProps,Te)he[se]===void 0&&(he[se]=Te[se]);return{$$typeof:r,type:Z,key:we,ref:Ee,props:he,_owner:ce.current}}function C(Z,F){return{$$typeof:r,type:Z.type,key:F,ref:Z.ref,props:Z.props,_owner:Z._owner}}function j(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===r}function N(Z){var F={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Q){return F[Q]})}var k=/\/+/g;function D(Z,F){return typeof Z=="object"&&Z!==null&&Z.key!=null?N(""+Z.key):F.toString(36)}function X(Z,F,Q,se,he){var we=typeof Z;(we==="undefined"||we==="boolean")&&(Z=null);var Ee=!1;if(Z===null)Ee=!0;else switch(we){case"string":case"number":Ee=!0;break;case"object":switch(Z.$$typeof){case r:case e:Ee=!0}}if(Ee)return Ee=Z,he=he(Ee),Z=se===""?"."+D(Ee,0):se,z(he)?(Q="",Z!=null&&(Q=Z.replace(k,"$&/")+"/"),X(he,F,Q,"",function(Ve){return Ve})):he!=null&&(j(he)&&(he=C(he,Q+(!he.key||Ee&&Ee.key===he.key?"":(""+he.key).replace(k,"$&/")+"/")+Z)),F.push(he)),1;if(Ee=0,se=se===""?".":se+":",z(Z))for(var Te=0;Te<Z.length;Te++){we=Z[Te];var Le=se+D(we,Te);Ee+=X(we,F,Q,Le,he)}else if(Le=x(Z),typeof Le=="function")for(Z=Le.call(Z),Te=0;!(we=Z.next()).done;)we=we.value,Le=se+D(we,Te++),Ee+=X(we,F,Q,Le,he);else if(we==="object")throw F=String(Z),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Ee}function ue(Z,F,Q){if(Z==null)return Z;var se=[],he=0;return X(Z,se,"","",function(we){return F.call(Q,we,he++)}),se}function ge(Z){if(Z._status===-1){var F=Z._result;F=F(),F.then(function(Q){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Q)},function(Q){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Q)}),Z._status===-1&&(Z._status=0,Z._result=F)}if(Z._status===1)return Z._result.default;throw Z._result}var me={current:null},re={transition:null},ye={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:re,ReactCurrentOwner:ce};function de(){throw Error("act(...) is not supported in production builds of React.")}return Pn.Children={map:ue,forEach:function(Z,F,Q){ue(Z,function(){F.apply(this,arguments)},Q)},count:function(Z){var F=0;return ue(Z,function(){F++}),F},toArray:function(Z){return ue(Z,function(F){return F})||[]},only:function(Z){if(!j(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},Pn.Component=P,Pn.Fragment=t,Pn.Profiler=i,Pn.PureComponent=V,Pn.StrictMode=n,Pn.Suspense=u,Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Pn.act=de,Pn.cloneElement=function(Z,F,Q){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var se=A({},Z.props),he=Z.key,we=Z.ref,Ee=Z._owner;if(F!=null){if(F.ref!==void 0&&(we=F.ref,Ee=ce.current),F.key!==void 0&&(he=""+F.key),Z.type&&Z.type.defaultProps)var Te=Z.type.defaultProps;for(Le in F)ne.call(F,Le)&&!W.hasOwnProperty(Le)&&(se[Le]=F[Le]===void 0&&Te!==void 0?Te[Le]:F[Le])}var Le=arguments.length-2;if(Le===1)se.children=Q;else if(1<Le){Te=Array(Le);for(var Ve=0;Ve<Le;Ve++)Te[Ve]=arguments[Ve+2];se.children=Te}return{$$typeof:r,type:Z.type,key:he,ref:we,props:se,_owner:Ee}},Pn.createContext=function(Z){return Z={$$typeof:a,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:s,_context:Z},Z.Consumer=Z},Pn.createElement=O,Pn.createFactory=function(Z){var F=O.bind(null,Z);return F.type=Z,F},Pn.createRef=function(){return{current:null}},Pn.forwardRef=function(Z){return{$$typeof:c,render:Z}},Pn.isValidElement=j,Pn.lazy=function(Z){return{$$typeof:f,_payload:{_status:-1,_result:Z},_init:ge}},Pn.memo=function(Z,F){return{$$typeof:d,type:Z,compare:F===void 0?null:F}},Pn.startTransition=function(Z){var F=re.transition;re.transition={};try{Z()}finally{re.transition=F}},Pn.unstable_act=de,Pn.useCallback=function(Z,F){return me.current.useCallback(Z,F)},Pn.useContext=function(Z){return me.current.useContext(Z)},Pn.useDebugValue=function(){},Pn.useDeferredValue=function(Z){return me.current.useDeferredValue(Z)},Pn.useEffect=function(Z,F){return me.current.useEffect(Z,F)},Pn.useId=function(){return me.current.useId()},Pn.useImperativeHandle=function(Z,F,Q){return me.current.useImperativeHandle(Z,F,Q)},Pn.useInsertionEffect=function(Z,F){return me.current.useInsertionEffect(Z,F)},Pn.useLayoutEffect=function(Z,F){return me.current.useLayoutEffect(Z,F)},Pn.useMemo=function(Z,F){return me.current.useMemo(Z,F)},Pn.useReducer=function(Z,F,Q){return me.current.useReducer(Z,F,Q)},Pn.useRef=function(Z){return me.current.useRef(Z)},Pn.useState=function(Z){return me.current.useState(Z)},Pn.useSyncExternalStore=function(Z,F,Q){return me.current.useSyncExternalStore(Z,F,Q)},Pn.useTransition=function(){return me.current.useTransition()},Pn.version="18.3.1",Pn}var W2;function N1(){return W2||(W2=1,Dg.exports=k4()),Dg.exports}var $2;function E4(){if($2)return nf;$2=1;var r=N1(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,d){var f,w={},x=null,g=null;d!==void 0&&(x=""+d),u.key!==void 0&&(x=""+u.key),u.ref!==void 0&&(g=u.ref);for(f in u)n.call(u,f)&&!s.hasOwnProperty(f)&&(w[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)w[f]===void 0&&(w[f]=u[f]);return{$$typeof:e,type:c,key:x,ref:g,props:w,_owner:i.current}}return nf.Fragment=t,nf.jsx=a,nf.jsxs=a,nf}var Y2;function N4(){return Y2||(Y2=1,Pg.exports=E4()),Pg.exports}var y=N4(),Se=N1();const Be=E1(Se),Rx=S4({__proto__:null,default:Be},[Se]);var Fp={},Lg={exports:{}},Eo={},Rg={exports:{}},Mg={};var G2;function C4(){return G2||(G2=1,(function(r){function e(re,ye){var de=re.length;re.push(ye);e:for(;0<de;){var Z=de-1>>>1,F=re[Z];if(0<i(F,ye))re[Z]=ye,re[de]=F,de=Z;else break e}}function t(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var ye=re[0],de=re.pop();if(de!==ye){re[0]=de;e:for(var Z=0,F=re.length,Q=F>>>1;Z<Q;){var se=2*(Z+1)-1,he=re[se],we=se+1,Ee=re[we];if(0>i(he,de))we<F&&0>i(Ee,he)?(re[Z]=Ee,re[we]=de,Z=we):(re[Z]=he,re[se]=de,Z=se);else if(we<F&&0>i(Ee,de))re[Z]=Ee,re[we]=de,Z=we;else break e}}return ye}function i(re,ye){var de=re.sortIndex-ye.sortIndex;return de!==0?de:re.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();r.unstable_now=function(){return a.now()-c}}var u=[],d=[],f=1,w=null,x=3,g=!1,A=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(re){for(var ye=t(d);ye!==null;){if(ye.callback===null)n(d);else if(ye.startTime<=re)n(d),ye.sortIndex=ye.expirationTime,e(u,ye);else break;ye=t(d)}}function z(re){if(R=!1,U(re),!A)if(t(u)!==null)A=!0,ge(ne);else{var ye=t(d);ye!==null&&me(z,ye.startTime-re)}}function ne(re,ye){A=!1,R&&(R=!1,L(O),O=-1),g=!0;var de=x;try{for(U(ye),w=t(u);w!==null&&(!(w.expirationTime>ye)||re&&!N());){var Z=w.callback;if(typeof Z=="function"){w.callback=null,x=w.priorityLevel;var F=Z(w.expirationTime<=ye);ye=r.unstable_now(),typeof F=="function"?w.callback=F:w===t(u)&&n(u),U(ye)}else n(u);w=t(u)}if(w!==null)var Q=!0;else{var se=t(d);se!==null&&me(z,se.startTime-ye),Q=!1}return Q}finally{w=null,x=de,g=!1}}var ce=!1,W=null,O=-1,C=5,j=-1;function N(){return!(r.unstable_now()-j<C)}function k(){if(W!==null){var re=r.unstable_now();j=re;var ye=!0;try{ye=W(!0,re)}finally{ye?D():(ce=!1,W=null)}}else ce=!1}var D;if(typeof V=="function")D=function(){V(k)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ue=X.port2;X.port1.onmessage=k,D=function(){ue.postMessage(null)}}else D=function(){P(k,0)};function ge(re){W=re,ce||(ce=!0,D())}function me(re,ye){O=P(function(){re(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){A||g||(A=!0,ge(ne))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return t(u)},r.unstable_next=function(re){switch(x){case 1:case 2:case 3:var ye=3;break;default:ye=x}var de=x;x=ye;try{return re()}finally{x=de}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,ye){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var de=x;x=re;try{return ye()}finally{x=de}},r.unstable_scheduleCallback=function(re,ye,de){var Z=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Z+de:Z):de=Z,re){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=de+F,re={id:f++,callback:ye,priorityLevel:re,startTime:de,expirationTime:F,sortIndex:-1},de>Z?(re.sortIndex=de,e(d,re),t(u)===null&&re===t(d)&&(R?(L(O),O=-1):R=!0,me(z,de-Z))):(re.sortIndex=F,e(u,re),A||g||(A=!0,ge(ne))),re},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(re){var ye=x;return function(){var de=x;x=ye;try{return re.apply(this,arguments)}finally{x=de}}}})(Mg)),Mg}var K2;function A4(){return K2||(K2=1,Rg.exports=C4()),Rg.exports}var Q2;function I4(){if(Q2)return Eo;Q2=1;var r=N1(),e=A4();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},w={};function x(o){return u.call(w,o)?!0:u.call(f,o)?!1:d.test(o)?w[o]=!0:(f[o]=!0,!1)}function g(o,l,h,v){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function A(o,l,h,v){if(l===null||typeof l>"u"||g(o,l,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function R(o,l,h,v,S,T,Y){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=T,this.removeEmptyString=Y}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){P[o]=new R(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];P[l]=new R(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){P[o]=new R(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){P[o]=new R(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){P[o]=new R(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){P[o]=new R(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){P[o]=new R(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){P[o]=new R(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){P[o]=new R(o,5,!1,o.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function V(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(L,V);P[l]=new R(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(L,V);P[l]=new R(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(L,V);P[l]=new R(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){P[o]=new R(o,1,!1,o.toLowerCase(),null,!1,!1)}),P.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){P[o]=new R(o,1,!1,o.toLowerCase(),null,!0,!0)});function U(o,l,h,v){var S=P.hasOwnProperty(l)?P[l]:null;(S!==null?S.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(A(l,h,S,v)&&(h=null),v||S===null?x(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):S.mustUseProperty?o[S.propertyName]=h===null?S.type===3?!1:"":h:(l=S.attributeName,v=S.attributeNamespace,h===null?o.removeAttribute(l):(S=S.type,h=S===3||S===4&&h===!0?"":""+h,v?o.setAttributeNS(v,l,h):o.setAttribute(l,h))))}var z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),ce=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),N=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),re=Symbol.iterator;function ye(o){return o===null||typeof o!="object"?null:(o=re&&o[re]||o["@@iterator"],typeof o=="function"?o:null)}var de=Object.assign,Z;function F(o){if(Z===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Z=l&&l[1]||""}return`
`+Z+o}var Q=!1;function se(o,l){if(!o||Q)return"";Q=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(je){var v=je}Reflect.construct(o,[],l)}else{try{l.call()}catch(je){v=je}o.call(l.prototype)}else{try{throw Error()}catch(je){v=je}o()}}catch(je){if(je&&v&&typeof je.stack=="string"){for(var S=je.stack.split(`
`),T=v.stack.split(`
`),Y=S.length-1,fe=T.length-1;1<=Y&&0<=fe&&S[Y]!==T[fe];)fe--;for(;1<=Y&&0<=fe;Y--,fe--)if(S[Y]!==T[fe]){if(Y!==1||fe!==1)do if(Y--,fe--,0>fe||S[Y]!==T[fe]){var _e=`
`+S[Y].replace(" at new "," at ");return o.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",o.displayName)),_e}while(1<=Y&&0<=fe);break}}}finally{Q=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?F(o):""}function he(o){switch(o.tag){case 5:return F(o.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return o=se(o.type,!1),o;case 11:return o=se(o.type.render,!1),o;case 1:return o=se(o.type,!0),o;default:return""}}function we(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case W:return"Fragment";case ce:return"Portal";case C:return"Profiler";case O:return"StrictMode";case D:return"Suspense";case X:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case N:return(o.displayName||"Context")+".Consumer";case j:return(o._context.displayName||"Context")+".Provider";case k:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ue:return l=o.displayName||null,l!==null?l:we(o.type)||"Memo";case ge:l=o._payload,o=o._init;try{return we(o(l))}catch{}}return null}function Ee(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(l);case 8:return l===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Te(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Le(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ve(o){var l=Le(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),v=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var S=h.get,T=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return S.call(this)},set:function(Y){v=""+Y,T.call(this,Y)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(Y){v=""+Y},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Xe(o){o._valueTracker||(o._valueTracker=Ve(o))}function ct(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return o&&(v=Le(o)?o.checked?"true":"false":o.value),o=v,o!==h?(l.setValue(o),!0):!1}function rt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function mt(o,l){var h=l.checked;return de({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function ie(o,l){var h=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;h=Te(l.value!=null?l.value:h),o._wrapperState={initialChecked:v,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function at(o,l){l=l.checked,l!=null&&U(o,"checked",l,!1)}function cn(o,l){at(o,l);var h=Te(l.value),v=l.type;if(h!=null)v==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(v==="submit"||v==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Ge(o,l.type,h):l.hasOwnProperty("defaultValue")&&Ge(o,l.type,Te(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Tt(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Ge(o,l,h){(l!=="number"||rt(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Pt=Array.isArray;function dt(o,l,h,v){if(o=o.options,l){l={};for(var S=0;S<h.length;S++)l["$"+h[S]]=!0;for(h=0;h<o.length;h++)S=l.hasOwnProperty("$"+o[h].value),o[h].selected!==S&&(o[h].selected=S),S&&v&&(o[h].defaultSelected=!0)}else{for(h=""+Te(h),l=null,S=0;S<o.length;S++){if(o[S].value===h){o[S].selected=!0,v&&(o[S].defaultSelected=!0);return}l!==null||o[S].disabled||(l=o[S])}l!==null&&(l.selected=!0)}}function Dt(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function xt(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(Pt(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:Te(h)}}function En(o,l){var h=Te(l.value),v=Te(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),v!=null&&(o.defaultValue=""+v)}function mn(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function _t(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?_t(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var nn,vt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,v,S){MSApp.execUnsafeLocalFunction(function(){return o(l,h,v,S)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(nn=nn||document.createElement("div"),nn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=nn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Kt(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var Fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bn=["Webkit","ms","Moz","O"];Object.keys(Fe).forEach(function(o){Bn.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Fe[l]=Fe[o]})});function kt(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Fe.hasOwnProperty(o)&&Fe[o]?(""+l).trim():l+"px"}function sn(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var v=h.indexOf("--")===0,S=kt(h,l[h],v);h==="float"&&(h="cssFloat"),v?o.setProperty(h,S):o[h]=S}}var ft=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vn(o,l){if(l){if(ft[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Nt(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mn=null;function zt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Jt=null,gn=null,Qt=null;function bt(o){if(o=kc(o)){if(typeof Jt!="function")throw Error(t(280));var l=o.stateNode;l&&(l=xu(l),Jt(o.stateNode,o.type,l))}}function vn(o){gn?Qt?Qt.push(o):Qt=[o]:gn=o}function Ii(){if(gn){var o=gn,l=Qt;if(Qt=gn=null,bt(o),l)for(o=0;o<l.length;o++)bt(l[o])}}function rn(o,l){return o(l)}function br(){}var Vr=!1;function Vt(o,l,h){if(Vr)return o(l,h);Vr=!0;try{return rn(o,l,h)}finally{Vr=!1,(gn!==null||Qt!==null)&&(br(),Ii())}}function Hn(o,l){var h=o.stateNode;if(h===null)return null;var v=xu(h);if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var ts=!1;if(c)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){ts=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{ts=!1}function ci(o,l,h,v,S,T,Y,fe,_e){var je=Array.prototype.slice.call(arguments,3);try{l.apply(h,je)}catch(Ze){this.onError(Ze)}}var Xn=!1,kr=null,er=!1,Ns=null,co={onError:function(o){Xn=!0,kr=o}};function Ti(o,l,h,v,S,T,Y,fe,_e){Xn=!1,kr=null,ci.apply(co,arguments)}function fs(o,l,h,v,S,T,Y,fe,_e){if(Ti.apply(this,arguments),Xn){if(Xn){var je=kr;Xn=!1,kr=null}else throw Error(t(198));er||(er=!0,Ns=je)}}function Ar(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function ui(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function cr(o){if(Ar(o)!==o)throw Error(t(188))}function Qs(o){var l=o.alternate;if(!l){if(l=Ar(o),l===null)throw Error(t(188));return l!==o?null:o}for(var h=o,v=l;;){var S=h.return;if(S===null)break;var T=S.alternate;if(T===null){if(v=S.return,v!==null){h=v;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===h)return cr(S),o;if(T===v)return cr(S),l;T=T.sibling}throw Error(t(188))}if(h.return!==v.return)h=S,v=T;else{for(var Y=!1,fe=S.child;fe;){if(fe===h){Y=!0,h=S,v=T;break}if(fe===v){Y=!0,v=S,h=T;break}fe=fe.sibling}if(!Y){for(fe=T.child;fe;){if(fe===h){Y=!0,h=T,v=S;break}if(fe===v){Y=!0,v=T,h=S;break}fe=fe.sibling}if(!Y)throw Error(t(189))}}if(h.alternate!==v)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?o:l}function ns(o){return o=Qs(o),o!==null?Cs(o):null}function Cs(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Cs(o);if(l!==null)return l;o=o.sibling}return null}var As=e.unstable_scheduleCallback,Is=e.unstable_cancelCallback,Po=e.unstable_shouldYield,Cl=e.unstable_requestPaint,Un=e.unstable_now,ga=e.unstable_getCurrentPriorityLevel,uo=e.unstable_ImmediatePriority,Jr=e.unstable_UserBlockingPriority,Pi=e.unstable_NormalPriority,Ko=e.unstable_LowPriority,ps=e.unstable_IdlePriority,Xs=null,Di=null;function Qo(o){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(Xs,o,void 0,(o.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:$,ho=Math.log,Wa=Math.LN2;function $(o){return o>>>=0,o===0?32:31-(ho(o)/Wa|0)|0}var be=64,We=4194304;function Qe(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Rt(o,l){var h=o.pendingLanes;if(h===0)return 0;var v=0,S=o.suspendedLanes,T=o.pingedLanes,Y=h&268435455;if(Y!==0){var fe=Y&~S;fe!==0?v=Qe(fe):(T&=Y,T!==0&&(v=Qe(T)))}else Y=h&~S,Y!==0?v=Qe(Y):T!==0&&(v=Qe(T));if(v===0)return 0;if(l!==0&&l!==v&&(l&S)===0&&(S=v&-v,T=l&-l,S>=T||S===16&&(T&4194240)!==0))return l;if((v&4)!==0&&(v|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=v;0<l;)h=31-xr(l),S=1<<h,v|=o[h],l&=~S;return v}function $t(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gt(o,l){for(var h=o.suspendedLanes,v=o.pingedLanes,S=o.expirationTimes,T=o.pendingLanes;0<T;){var Y=31-xr(T),fe=1<<Y,_e=S[Y];_e===-1?((fe&h)===0||(fe&v)!==0)&&(S[Y]=$t(fe,l)):_e<=l&&(o.expiredLanes|=fe),T&=~fe}}function et(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Sn(){var o=be;return be<<=1,(be&4194240)===0&&(be=64),o}function yn(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function kn(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-xr(l),o[l]=h}function qt(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var v=o.eventTimes;for(o=o.expirationTimes;0<h;){var S=31-xr(h),T=1<<S;l[S]=0,v[S]=-1,o[S]=-1,h&=~T}}function _r(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var v=31-xr(h),S=1<<v;S&l|o[v]&l&&(o[v]|=l),h&=~S}}var ut=0;function Ht(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ur,Ir,Zr,dr,ei,Js=!1,Ur=[],wi=null,Ui=null,ms=null,Xo=new Map,Wt=new Map,fo=[],du="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hc(o,l){switch(o){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Xo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wt.delete(l.pointerId)}}function zr(o,l,h,v,S,T){return o===null||o.nativeEvent!==T?(o={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:T,targetContainers:[S]},l!==null&&(l=kc(l),l!==null&&Ir(l)),o):(o.eventSystemFlags|=v,l=o.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),o)}function Do(o,l,h,v,S){switch(l){case"focusin":return wi=zr(wi,o,l,h,v,S),!0;case"dragenter":return Ui=zr(Ui,o,l,h,v,S),!0;case"mouseover":return ms=zr(ms,o,l,h,v,S),!0;case"pointerover":var T=S.pointerId;return Xo.set(T,zr(Xo.get(T)||null,o,l,h,v,S)),!0;case"gotpointercapture":return T=S.pointerId,Wt.set(T,zr(Wt.get(T)||null,o,l,h,v,S)),!0}return!1}function fc(o){var l=el(o.target);if(l!==null){var h=Ar(l);if(h!==null){if(l=h.tag,l===13){if(l=ui(h),l!==null){o.blockedOn=l,ei(o.priority,function(){Zr(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Lo(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Zo(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var v=new h.constructor(h.type,h);Mn=v,h.target.dispatchEvent(v),Mn=null}else return l=kc(h),l!==null&&Ir(l),o.blockedOn=h,!1;l.shift()}return!0}function po(o,l,h){Lo(o)&&h.delete(l)}function $a(){Js=!1,wi!==null&&Lo(wi)&&(wi=null),Ui!==null&&Lo(Ui)&&(Ui=null),ms!==null&&Lo(ms)&&(ms=null),Xo.forEach(po),Wt.forEach(po)}function zi(o,l){o.blockedOn===l&&(o.blockedOn=null,Js||(Js=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$a)))}function Zs(o){function l(S){return zi(S,o)}if(0<Ur.length){zi(Ur[0],o);for(var h=1;h<Ur.length;h++){var v=Ur[h];v.blockedOn===o&&(v.blockedOn=null)}}for(wi!==null&&zi(wi,o),Ui!==null&&zi(Ui,o),ms!==null&&zi(ms,o),Xo.forEach(l),Wt.forEach(l),h=0;h<fo.length;h++)v=fo[h],v.blockedOn===o&&(v.blockedOn=null);for(;0<fo.length&&(h=fo[0],h.blockedOn===null);)fc(h),h.blockedOn===null&&fo.shift()}var qi=z.ReactCurrentBatchConfig,Jo=!0;function ir(o,l,h,v){var S=ut,T=qi.transition;qi.transition=null;try{ut=1,Ya(o,l,h,v)}finally{ut=S,qi.transition=T}}function Al(o,l,h,v){var S=ut,T=qi.transition;qi.transition=null;try{ut=4,Ya(o,l,h,v)}finally{ut=S,qi.transition=T}}function Ya(o,l,h,v){if(Jo){var S=Zo(o,l,h,v);if(S===null)yu(o,l,v,gs,h),hc(o,v);else if(Do(S,o,l,h,v))v.stopPropagation();else if(hc(o,v),l&4&&-1<du.indexOf(o)){for(;S!==null;){var T=kc(S);if(T!==null&&ur(T),T=Zo(o,l,h,v),T===null&&yu(o,l,v,gs,h),T===S)break;S=T}S!==null&&v.stopPropagation()}else yu(o,l,v,null,h)}}var gs=null;function Zo(o,l,h,v){if(gs=null,o=zt(v),o=el(o),o!==null)if(l=Ar(o),l===null)o=null;else if(h=l.tag,h===13){if(o=ui(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return gs=o,null}function ea(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ga()){case uo:return 1;case Jr:return 4;case Pi:case Ko:return 16;case ps:return 536870912;default:return 16}default:return 16}}var Hi=null,mo=null,Li=null;function Ga(){if(Li)return Li;var o,l=mo,h=l.length,v,S="value"in Hi?Hi.value:Hi.textContent,T=S.length;for(o=0;o<h&&l[o]===S[o];o++);var Y=h-o;for(v=1;v<=Y&&l[h-v]===S[T-v];v++);return Li=S.slice(o,1<v?1-v:void 0)}function va(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ri(){return!0}function eo(){return!1}function di(o){function l(h,v,S,T,Y){this._reactName=h,this._targetInst=S,this.type=v,this.nativeEvent=T,this.target=Y,this.currentTarget=null;for(var fe in o)o.hasOwnProperty(fe)&&(h=o[fe],this[fe]=h?h(T):T[fe]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ri:eo,this.isPropagationStopped=eo,this}return de(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),l}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=di(Wi),_=de({},Wi,{view:0,detail:0}),q=di(_),le,ve,Ce,He=de({},_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ce&&(Ce&&o.type==="mousemove"?(le=o.screenX-Ce.screenX,ve=o.screenY-Ce.screenY):ve=le=0,Ce=o),le)},movementY:function(o){return"movementY"in o?o.movementY:ve}}),Ke=di(He),gt=de({},He,{dataTransfer:0}),Ct=di(gt),Xt=de({},_,{relatedTarget:0}),on=di(Xt),In=de({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Wn=di(In),Rr=de({},Wi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),tr=di(Rr),qr=de({},Wi,{data:0}),Tr=di(qr),Hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ts={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function go(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Ts[o])?!!l[o]:!1}function Ps(){return go}var m=de({},_,{key:function(o){if(o.key){var l=Hr[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=va(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Mr[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(o){return o.type==="keypress"?va(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?va(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),I=di(m),B=de({},He,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ee=di(B),Ae=de({},_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),Oe=di(Ae),st=de({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dn=di(st),Or=de({},He,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=di(Or),zn=[9,13,27,32],sr=c&&"CompositionEvent"in window,$i=null;c&&"documentMode"in document&&($i=document.documentMode);var rs=c&&"TextEvent"in window&&!$i,Mi=c&&(!sr||$i&&8<$i&&11>=$i),vo=" ",pc=!1;function mc(o,l){switch(o){case"keyup":return zn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var yo=!1;function to(o,l){switch(o){case"compositionend":return wa(l);case"keypress":return l.which!==32?null:(pc=!0,vo);case"textInput":return o=l.data,o===vo&&pc?null:o;default:return null}}function no(o,l){if(yo)return o==="compositionend"||!sr&&mc(o,l)?(o=Ga(),Li=mo=Hi=null,yo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Mi&&l.locale!=="ko"?null:l.data;default:return null}}var Ka={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ta(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Ka[o.type]:l==="textarea"}function ba(o,l,h,v){vn(v),l=pd(l,"onChange"),0<l.length&&(h=new ya("onChange","change",null,h,v),o.push({event:h,listeners:l}))}var xa=null,na=null;function ti(o){gu(o,0)}function Il(o){var l=Bl(o);if(ct(l))return o}function ra(o,l){if(o==="change")return l}var Ro=!1;if(c){var Tl;if(c){var Pl="oninput"in document;if(!Pl){var gc=document.createElement("div");gc.setAttribute("oninput","return;"),Pl=typeof gc.oninput=="function"}Tl=Pl}else Tl=!1;Ro=Tl&&(!document.documentMode||9<document.documentMode)}function vc(){xa&&(xa.detachEvent("onpropertychange",_a),na=xa=null)}function _a(o){if(o.propertyName==="value"&&Il(na)){var l=[];ba(l,na,o,zt(o)),Vt(ti,l)}}function Qa(o,l,h){o==="focusin"?(vc(),xa=l,na=h,xa.attachEvent("onpropertychange",_a)):o==="focusout"&&vc()}function Xa(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Il(na)}function Dl(o,l){if(o==="click")return Il(l)}function Ja(o,l){if(o==="input"||o==="change")return Il(l)}function Ll(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Wr=typeof Object.is=="function"?Object.is:Ll;function Ds(o,l){if(Wr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var S=h[v];if(!u.call(l,S)||!Wr(o[S],l[S]))return!1}return!0}function $n(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function or(o,l){var h=$n(o);o=0;for(var v;h;){if(h.nodeType===3){if(v=o+h.textContent.length,o<=l&&v>=l)return{node:h,offset:l-o};o=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=$n(h)}}function $r(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?$r(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function hi(){for(var o=window,l=rt();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=rt(o.document)}return l}function Mo(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function hu(o){var l=hi(),h=o.focusedElem,v=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&$r(h.ownerDocument.documentElement,h)){if(v!==null&&Mo(h)){if(l=v.start,o=v.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var S=h.textContent.length,T=Math.min(v.start,S);v=v.end===void 0?T:Math.min(v.end,S),!o.extend&&T>v&&(S=v,v=T,T=S),S=or(h,T);var Y=or(h,v);S&&Y&&(o.rangeCount!==1||o.anchorNode!==S.node||o.anchorOffset!==S.offset||o.focusNode!==Y.node||o.focusOffset!==Y.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),o.removeAllRanges(),T>v?(o.addRange(l),o.extend(Y.node,Y.offset)):(l.setEnd(Y.node,Y.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var yc=c&&"documentMode"in document&&11>=document.documentMode,Sa=null,ud=null,wc=null,dd=!1;function Dh(o,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;dd||Sa==null||Sa!==rt(v)||(v=Sa,"selectionStart"in v&&Mo(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),wc&&Ds(wc,v)||(wc=v,v=pd(ud,"onSelect"),0<v.length&&(l=new ya("onSelect","select",null,l,h),o.push({event:l,listeners:v}),l.target=Sa)))}function fu(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var Rl={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},Ml={},Lh={};c&&(Lh=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function pu(o){if(Ml[o])return Ml[o];if(!Rl[o])return o;var l=Rl[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Lh)return Ml[o]=l[h];return o}var Rh=pu("animationend"),Mh=pu("animationiteration"),Oh=pu("animationstart"),jh=pu("transitionend"),Fh=new Map,Bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(o,l){Fh.set(o,l),s(l,[o])}for(var bc=0;bc<Bh.length;bc++){var vs=Bh[bc],wo=vs.toLowerCase(),hd=vs[0].toUpperCase()+vs.slice(1);ia(wo,"on"+hd)}ia(Rh,"onAnimationEnd"),ia(Mh,"onAnimationIteration"),ia(Oh,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(jh,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ip=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function mu(o,l,h){var v=o.type||"unknown-event";o.currentTarget=h,fs(v,l,void 0,o),o.currentTarget=null}function gu(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var v=o[h],S=v.event;v=v.listeners;e:{var T=void 0;if(l)for(var Y=v.length-1;0<=Y;Y--){var fe=v[Y],_e=fe.instance,je=fe.currentTarget;if(fe=fe.listener,_e!==T&&S.isPropagationStopped())break e;mu(S,fe,je),T=_e}else for(Y=0;Y<v.length;Y++){if(fe=v[Y],_e=fe.instance,je=fe.currentTarget,fe=fe.listener,_e!==T&&S.isPropagationStopped())break e;mu(S,fe,je),T=_e}}}if(er)throw o=Ns,er=!1,Ns=null,o}function hr(o,l){var h=l[Rs];h===void 0&&(h=l[Rs]=new Set);var v=o+"__bubble";h.has(v)||(vu(l,o,2,!1),h.add(v))}function fd(o,l,h){var v=0;l&&(v|=4),vu(h,o,v,l)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Ol(o){if(!o[xc]){o[xc]=!0,n.forEach(function(h){h!=="selectionchange"&&(ip.has(h)||fd(h,!1,o),fd(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[xc]||(l[xc]=!0,fd("selectionchange",!1,l))}}function vu(o,l,h,v){switch(ea(l)){case 1:var S=ir;break;case 4:S=Al;break;default:S=Ya}h=S.bind(null,l,h,o),S=void 0,!ts||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?o.addEventListener(l,h,{capture:!0,passive:S}):o.addEventListener(l,h,!0):S!==void 0?o.addEventListener(l,h,{passive:S}):o.addEventListener(l,h,!1)}function yu(o,l,h,v,S){var T=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var Y=v.tag;if(Y===3||Y===4){var fe=v.stateNode.containerInfo;if(fe===S||fe.nodeType===8&&fe.parentNode===S)break;if(Y===4)for(Y=v.return;Y!==null;){var _e=Y.tag;if((_e===3||_e===4)&&(_e=Y.stateNode.containerInfo,_e===S||_e.nodeType===8&&_e.parentNode===S))return;Y=Y.return}for(;fe!==null;){if(Y=el(fe),Y===null)return;if(_e=Y.tag,_e===5||_e===6){v=T=Y;continue e}fe=fe.parentNode}}v=v.return}Vt(function(){var je=T,Ze=zt(h),it=[];e:{var Je=Fh.get(o);if(Je!==void 0){var pt=ya,At=o;switch(o){case"keypress":if(va(h)===0)break e;case"keydown":case"keyup":pt=I;break;case"focusin":At="focus",pt=on;break;case"focusout":At="blur",pt=on;break;case"beforeblur":case"afterblur":pt=on;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=Ke;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=Ct;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Oe;break;case Rh:case Mh:case Oh:pt=Wn;break;case jh:pt=Dn;break;case"scroll":pt=q;break;case"wheel":pt=Nn;break;case"copy":case"cut":case"paste":pt=tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=ee}var Mt=(l&4)!==0,_i=!Mt&&o==="scroll",De=Mt?Je!==null?Je+"Capture":null:Je;Mt=[];for(var Ne=je,Me;Ne!==null;){Me=Ne;var ot=Me.stateNode;if(Me.tag===5&&ot!==null&&(Me=ot,De!==null&&(ot=Hn(Ne,De),ot!=null&&Mt.push(wu(Ne,ot,Me)))),_i)break;Ne=Ne.return}0<Mt.length&&(Je=new pt(Je,At,null,h,Ze),it.push({event:Je,listeners:Mt}))}}if((l&7)===0){e:{if(Je=o==="mouseover"||o==="pointerover",pt=o==="mouseout"||o==="pointerout",Je&&h!==Mn&&(At=h.relatedTarget||h.fromElement)&&(el(At)||At[is]))break e;if((pt||Je)&&(Je=Ze.window===Ze?Ze:(Je=Ze.ownerDocument)?Je.defaultView||Je.parentWindow:window,pt?(At=h.relatedTarget||h.toElement,pt=je,At=At?el(At):null,At!==null&&(_i=Ar(At),At!==_i||At.tag!==5&&At.tag!==6)&&(At=null)):(pt=null,At=je),pt!==At)){if(Mt=Ke,ot="onMouseLeave",De="onMouseEnter",Ne="mouse",(o==="pointerout"||o==="pointerover")&&(Mt=ee,ot="onPointerLeave",De="onPointerEnter",Ne="pointer"),_i=pt==null?Je:Bl(pt),Me=At==null?Je:Bl(At),Je=new Mt(ot,Ne+"leave",pt,h,Ze),Je.target=_i,Je.relatedTarget=Me,ot=null,el(Ze)===je&&(Mt=new Mt(De,Ne+"enter",At,h,Ze),Mt.target=Me,Mt.relatedTarget=_i,ot=Mt),_i=ot,pt&&At)t:{for(Mt=pt,De=At,Ne=0,Me=Mt;Me;Me=jl(Me))Ne++;for(Me=0,ot=De;ot;ot=jl(ot))Me++;for(;0<Ne-Me;)Mt=jl(Mt),Ne--;for(;0<Me-Ne;)De=jl(De),Me--;for(;Ne--;){if(Mt===De||De!==null&&Mt===De.alternate)break t;Mt=jl(Mt),De=jl(De)}Mt=null}else Mt=null;pt!==null&&sp(it,Je,pt,Mt,!1),At!==null&&_i!==null&&sp(it,_i,At,Mt,!0)}}e:{if(Je=je?Bl(je):window,pt=Je.nodeName&&Je.nodeName.toLowerCase(),pt==="select"||pt==="input"&&Je.type==="file")var Ft=ra;else if(ta(Je))if(Ro)Ft=Ja;else{Ft=Xa;var Zt=Qa}else(pt=Je.nodeName)&&pt.toLowerCase()==="input"&&(Je.type==="checkbox"||Je.type==="radio")&&(Ft=Dl);if(Ft&&(Ft=Ft(o,je))){ba(it,Ft,h,Ze);break e}Zt&&Zt(o,Je,je),o==="focusout"&&(Zt=Je._wrapperState)&&Zt.controlled&&Je.type==="number"&&Ge(Je,"number",Je.value)}switch(Zt=je?Bl(je):window,o){case"focusin":(ta(Zt)||Zt.contentEditable==="true")&&(Sa=Zt,ud=je,wc=null);break;case"focusout":wc=ud=Sa=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,Dh(it,h,Ze);break;case"selectionchange":if(yc)break;case"keydown":case"keyup":Dh(it,h,Ze)}var en;if(sr)e:{switch(o){case"compositionstart":var dn="onCompositionStart";break e;case"compositionend":dn="onCompositionEnd";break e;case"compositionupdate":dn="onCompositionUpdate";break e}dn=void 0}else yo?mc(o,h)&&(dn="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(dn="onCompositionStart");dn&&(Mi&&h.locale!=="ko"&&(yo||dn!=="onCompositionStart"?dn==="onCompositionEnd"&&yo&&(en=Ga()):(Hi=Ze,mo="value"in Hi?Hi.value:Hi.textContent,yo=!0)),Zt=pd(je,dn),0<Zt.length&&(dn=new Tr(dn,o,null,h,Ze),it.push({event:dn,listeners:Zt}),en?dn.data=en:(en=wa(h),en!==null&&(dn.data=en)))),(en=rs?to(o,h):no(o,h))&&(je=pd(je,"onBeforeInput"),0<je.length&&(Ze=new Tr("onBeforeInput","beforeinput",null,h,Ze),it.push({event:Ze,listeners:je}),Ze.data=en))}gu(it,l)})}function wu(o,l,h){return{instance:o,listener:l,currentTarget:h}}function pd(o,l){for(var h=l+"Capture",v=[];o!==null;){var S=o,T=S.stateNode;S.tag===5&&T!==null&&(S=T,T=Hn(o,h),T!=null&&v.unshift(wu(o,T,S)),T=Hn(o,l),T!=null&&v.push(wu(o,T,S))),o=o.return}return v}function jl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function sp(o,l,h,v,S){for(var T=l._reactName,Y=[];h!==null&&h!==v;){var fe=h,_e=fe.alternate,je=fe.stateNode;if(_e!==null&&_e===v)break;fe.tag===5&&je!==null&&(fe=je,S?(_e=Hn(h,T),_e!=null&&Y.unshift(wu(h,_e,fe))):S||(_e=Hn(h,T),_e!=null&&Y.push(wu(h,_e,fe)))),h=h.return}Y.length!==0&&o.push({event:l,listeners:Y})}var W0=/\r\n?/g,$0=/\u0000|\uFFFD/g;function op(o){return(typeof o=="string"?o:""+o).replace(W0,`
`).replace($0,"")}function md(o,l,h){if(l=op(l),op(o)!==l&&h)throw Error(t(425))}function _c(){}var bu=null,Fl=null;function Vh(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,Y0=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(o){return lp.resolve(null).then(o).catch(G0)}:Uh;function G0(o){setTimeout(function(){throw o})}function zh(o,l){var h=l,v=0;do{var S=h.nextSibling;if(o.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(v===0){o.removeChild(S),Zs(l);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=S}while(h);Zs(l)}function ys(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function bo(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),sa="__reactFiber$"+Ls,Sc="__reactProps$"+Ls,is="__reactContainer$"+Ls,Rs="__reactEvents$"+Ls,K0="__reactListeners$"+Ls,Q0="__reactHandles$"+Ls;function el(o){var l=o[sa];if(l)return l;for(var h=o.parentNode;h;){if(l=h[is]||h[sa]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=bo(o);o!==null;){if(h=o[sa])return h;o=bo(o)}return l}o=h,h=o.parentNode}return null}function kc(o){return o=o[sa]||o[is],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Bl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function xu(o){return o[Sc]||null}var qh=[],ka=-1;function Oo(o){return{current:o}}function nr(o){0>ka||(o.current=qh[ka],qh[ka]=null,ka--)}function ar(o,l){ka++,qh[ka]=o.current,o.current=l}var tl={},Yi=Oo(tl),Ms=Oo(!1),Vl=tl;function Ec(o,l){var h=o.type.contextTypes;if(!h)return tl;var v=o.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var S={},T;for(T in h)S[T]=l[T];return v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=S),S}function Os(o){return o=o.childContextTypes,o!=null}function gd(){nr(Ms),nr(Yi)}function cp(o,l,h){if(Yi.current!==tl)throw Error(t(168));ar(Yi,l),ar(Ms,h)}function Hh(o,l,h){var v=o.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var S in v)if(!(S in l))throw Error(t(108,Ee(o)||"Unknown",S));return de({},h,v)}function Ul(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||tl,Vl=Yi.current,ar(Yi,o),ar(Ms,Ms.current),!0}function up(o,l,h){var v=o.stateNode;if(!v)throw Error(t(169));h?(o=Hh(o,l,Vl),v.__reactInternalMemoizedMergedChildContext=o,nr(Ms),nr(Yi),ar(Yi,o)):nr(Ms),ar(Ms,h)}var Ea=null,_u=!1,p=!1;function b(o){Ea===null?Ea=[o]:Ea.push(o)}function E(o){_u=!0,b(o)}function M(){if(!p&&Ea!==null){p=!0;var o=0,l=ut;try{var h=Ea;for(ut=1;o<h.length;o++){var v=h[o];do v=v(!0);while(v!==null)}Ea=null,_u=!1}catch(S){throw Ea!==null&&(Ea=Ea.slice(o+1)),As(uo,M),S}finally{ut=l,p=!1}}return null}var H=[],G=0,K=null,J=0,te=[],oe=0,xe=null,Pe=1,ae="";function ke(o,l){H[G++]=J,H[G++]=K,K=o,J=l}function Ie(o,l,h){te[oe++]=Pe,te[oe++]=ae,te[oe++]=xe,xe=o;var v=Pe;o=ae;var S=32-xr(v)-1;v&=~(1<<S),h+=1;var T=32-xr(l)+S;if(30<T){var Y=S-S%5;T=(v&(1<<Y)-1).toString(32),v>>=Y,S-=Y,Pe=1<<32-xr(l)+S|h<<S|v,ae=T+o}else Pe=1<<T|h<<S|v,ae=o}function qe(o){o.return!==null&&(ke(o,1),Ie(o,1,0))}function Re(o){for(;o===K;)K=H[--G],H[G]=null,J=H[--G],H[G]=null;for(;o===xe;)xe=te[--oe],te[oe]=null,ae=te[--oe],te[oe]=null,Pe=te[--oe],te[oe]=null}var Ue=null,ze=null,$e=!1,Ye=null;function jt(o,l){var h=ua(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function yt(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Ue=o,ze=ys(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Ue=o,ze=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=xe!==null?{id:Pe,overflow:ae}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=ua(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,Ue=o,ze=null,!0):!1;default:return!1}}function pn(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Et(o){if($e){var l=ze;if(l){var h=l;if(!yt(o,l)){if(pn(o))throw Error(t(418));l=ys(h.nextSibling);var v=Ue;l&&yt(o,l)?jt(v,h):(o.flags=o.flags&-4097|2,$e=!1,Ue=o)}}else{if(pn(o))throw Error(t(418));o.flags=o.flags&-4097|2,$e=!1,Ue=o}}}function Tn(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ue=o}function Yr(o){if(o!==Ue)return!1;if(!$e)return Tn(o),$e=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Vh(o.type,o.memoizedProps)),l&&(l=ze)){if(pn(o))throw wn(),Error(t(418));for(;l;)jt(o,l),l=ys(l.nextSibling)}if(Tn(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){ze=ys(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}ze=null}}else ze=Ue?ys(o.stateNode.nextSibling):null;return!0}function wn(){for(var o=ze;o;)o=ys(o.nextSibling)}function wt(){ze=Ue=null,$e=!1}function lt(o){Ye===null?Ye=[o]:Ye.push(o)}var ni=z.ReactCurrentBatchConfig;function an(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var v=h.stateNode}if(!v)throw Error(t(147,o));var S=v,T=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function(Y){var fe=S.refs;Y===null?delete fe[T]:fe[T]=Y},l._stringRef=T,l)}if(typeof o!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,o))}return o}function Cn(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Sr(o){var l=o._init;return l(o._payload)}function Oi(o){function l(De,Ne){if(o){var Me=De.deletions;Me===null?(De.deletions=[Ne],De.flags|=16):Me.push(Ne)}}function h(De,Ne){if(!o)return null;for(;Ne!==null;)l(De,Ne),Ne=Ne.sibling;return null}function v(De,Ne){for(De=new Map;Ne!==null;)Ne.key!==null?De.set(Ne.key,Ne):De.set(Ne.index,Ne),Ne=Ne.sibling;return De}function S(De,Ne){return De=Mc(De,Ne),De.index=0,De.sibling=null,De}function T(De,Ne,Me){return De.index=Me,o?(Me=De.alternate,Me!==null?(Me=Me.index,Me<Ne?(De.flags|=2,Ne):Me):(De.flags|=2,Ne)):(De.flags|=1048576,Ne)}function Y(De){return o&&De.alternate===null&&(De.flags|=2),De}function fe(De,Ne,Me,ot){return Ne===null||Ne.tag!==6?(Ne=Eg(Me,De.mode,ot),Ne.return=De,Ne):(Ne=S(Ne,Me),Ne.return=De,Ne)}function _e(De,Ne,Me,ot){var Ft=Me.type;return Ft===W?Ze(De,Ne,Me.props.children,ot,Me.key):Ne!==null&&(Ne.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===ge&&Sr(Ft)===Ne.type)?(ot=S(Ne,Me.props),ot.ref=an(De,Ne,Me),ot.return=De,ot):(ot=Tp(Me.type,Me.key,Me.props,null,De.mode,ot),ot.ref=an(De,Ne,Me),ot.return=De,ot)}function je(De,Ne,Me,ot){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==Me.containerInfo||Ne.stateNode.implementation!==Me.implementation?(Ne=Ng(Me,De.mode,ot),Ne.return=De,Ne):(Ne=S(Ne,Me.children||[]),Ne.return=De,Ne)}function Ze(De,Ne,Me,ot,Ft){return Ne===null||Ne.tag!==7?(Ne=Tu(Me,De.mode,ot,Ft),Ne.return=De,Ne):(Ne=S(Ne,Me),Ne.return=De,Ne)}function it(De,Ne,Me){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Ne=Eg(""+Ne,De.mode,Me),Ne.return=De,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case ne:return Me=Tp(Ne.type,Ne.key,Ne.props,null,De.mode,Me),Me.ref=an(De,null,Ne),Me.return=De,Me;case ce:return Ne=Ng(Ne,De.mode,Me),Ne.return=De,Ne;case ge:var ot=Ne._init;return it(De,ot(Ne._payload),Me)}if(Pt(Ne)||ye(Ne))return Ne=Tu(Ne,De.mode,Me,null),Ne.return=De,Ne;Cn(De,Ne)}return null}function Je(De,Ne,Me,ot){var Ft=Ne!==null?Ne.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Ft!==null?null:fe(De,Ne,""+Me,ot);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case ne:return Me.key===Ft?_e(De,Ne,Me,ot):null;case ce:return Me.key===Ft?je(De,Ne,Me,ot):null;case ge:return Ft=Me._init,Je(De,Ne,Ft(Me._payload),ot)}if(Pt(Me)||ye(Me))return Ft!==null?null:Ze(De,Ne,Me,ot,null);Cn(De,Me)}return null}function pt(De,Ne,Me,ot,Ft){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return De=De.get(Me)||null,fe(Ne,De,""+ot,Ft);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case ne:return De=De.get(ot.key===null?Me:ot.key)||null,_e(Ne,De,ot,Ft);case ce:return De=De.get(ot.key===null?Me:ot.key)||null,je(Ne,De,ot,Ft);case ge:var Zt=ot._init;return pt(De,Ne,Me,Zt(ot._payload),Ft)}if(Pt(ot)||ye(ot))return De=De.get(Me)||null,Ze(Ne,De,ot,Ft,null);Cn(Ne,ot)}return null}function At(De,Ne,Me,ot){for(var Ft=null,Zt=null,en=Ne,dn=Ne=0,cs=null;en!==null&&dn<Me.length;dn++){en.index>dn?(cs=en,en=null):cs=en.sibling;var Jn=Je(De,en,Me[dn],ot);if(Jn===null){en===null&&(en=cs);break}o&&en&&Jn.alternate===null&&l(De,en),Ne=T(Jn,Ne,dn),Zt===null?Ft=Jn:Zt.sibling=Jn,Zt=Jn,en=cs}if(dn===Me.length)return h(De,en),$e&&ke(De,dn),Ft;if(en===null){for(;dn<Me.length;dn++)en=it(De,Me[dn],ot),en!==null&&(Ne=T(en,Ne,dn),Zt===null?Ft=en:Zt.sibling=en,Zt=en);return $e&&ke(De,dn),Ft}for(en=v(De,en);dn<Me.length;dn++)cs=pt(en,De,dn,Me[dn],ot),cs!==null&&(o&&cs.alternate!==null&&en.delete(cs.key===null?dn:cs.key),Ne=T(cs,Ne,dn),Zt===null?Ft=cs:Zt.sibling=cs,Zt=cs);return o&&en.forEach(function(Oc){return l(De,Oc)}),$e&&ke(De,dn),Ft}function Mt(De,Ne,Me,ot){var Ft=ye(Me);if(typeof Ft!="function")throw Error(t(150));if(Me=Ft.call(Me),Me==null)throw Error(t(151));for(var Zt=Ft=null,en=Ne,dn=Ne=0,cs=null,Jn=Me.next();en!==null&&!Jn.done;dn++,Jn=Me.next()){en.index>dn?(cs=en,en=null):cs=en.sibling;var Oc=Je(De,en,Jn.value,ot);if(Oc===null){en===null&&(en=cs);break}o&&en&&Oc.alternate===null&&l(De,en),Ne=T(Oc,Ne,dn),Zt===null?Ft=Oc:Zt.sibling=Oc,Zt=Oc,en=cs}if(Jn.done)return h(De,en),$e&&ke(De,dn),Ft;if(en===null){for(;!Jn.done;dn++,Jn=Me.next())Jn=it(De,Jn.value,ot),Jn!==null&&(Ne=T(Jn,Ne,dn),Zt===null?Ft=Jn:Zt.sibling=Jn,Zt=Jn);return $e&&ke(De,dn),Ft}for(en=v(De,en);!Jn.done;dn++,Jn=Me.next())Jn=pt(en,De,dn,Jn.value,ot),Jn!==null&&(o&&Jn.alternate!==null&&en.delete(Jn.key===null?dn:Jn.key),Ne=T(Jn,Ne,dn),Zt===null?Ft=Jn:Zt.sibling=Jn,Zt=Jn);return o&&en.forEach(function(_4){return l(De,_4)}),$e&&ke(De,dn),Ft}function _i(De,Ne,Me,ot){if(typeof Me=="object"&&Me!==null&&Me.type===W&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case ne:e:{for(var Ft=Me.key,Zt=Ne;Zt!==null;){if(Zt.key===Ft){if(Ft=Me.type,Ft===W){if(Zt.tag===7){h(De,Zt.sibling),Ne=S(Zt,Me.props.children),Ne.return=De,De=Ne;break e}}else if(Zt.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===ge&&Sr(Ft)===Zt.type){h(De,Zt.sibling),Ne=S(Zt,Me.props),Ne.ref=an(De,Zt,Me),Ne.return=De,De=Ne;break e}h(De,Zt);break}else l(De,Zt);Zt=Zt.sibling}Me.type===W?(Ne=Tu(Me.props.children,De.mode,ot,Me.key),Ne.return=De,De=Ne):(ot=Tp(Me.type,Me.key,Me.props,null,De.mode,ot),ot.ref=an(De,Ne,Me),ot.return=De,De=ot)}return Y(De);case ce:e:{for(Zt=Me.key;Ne!==null;){if(Ne.key===Zt)if(Ne.tag===4&&Ne.stateNode.containerInfo===Me.containerInfo&&Ne.stateNode.implementation===Me.implementation){h(De,Ne.sibling),Ne=S(Ne,Me.children||[]),Ne.return=De,De=Ne;break e}else{h(De,Ne);break}else l(De,Ne);Ne=Ne.sibling}Ne=Ng(Me,De.mode,ot),Ne.return=De,De=Ne}return Y(De);case ge:return Zt=Me._init,_i(De,Ne,Zt(Me._payload),ot)}if(Pt(Me))return At(De,Ne,Me,ot);if(ye(Me))return Mt(De,Ne,Me,ot);Cn(De,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,Ne!==null&&Ne.tag===6?(h(De,Ne.sibling),Ne=S(Ne,Me),Ne.return=De,De=Ne):(h(De,Ne),Ne=Eg(Me,De.mode,ot),Ne.return=De,De=Ne),Y(De)):h(De,Ne)}return _i}var fi=Oi(!0),jr=Oi(!1),bi=Oo(null),ji=null,Pr=null,Ln=null;function Yn(){Ln=Pr=ji=null}function Dr(o){var l=bi.current;nr(bi),o._currentValue=l}function Gn(o,l,h){for(;o!==null;){var v=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),o===h)break;o=o.return}}function Gr(o,l){ji=o,Ln=Pr=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(_o=!0),o.firstContext=null)}function Kr(o){var l=o._currentValue;if(Ln!==o)if(o={context:o,memoizedValue:l,next:null},Pr===null){if(ji===null)throw Error(t(308));Pr=o,ji.dependencies={lanes:0,firstContext:o}}else Pr=Pr.next=o;return l}var fr=null;function ss(o){fr===null?fr=[o]:fr.push(o)}function lr(o,l,h,v){var S=l.interleaved;return S===null?(h.next=h,ss(l)):(h.next=S.next,S.next=h),l.interleaved=h,pr(o,v)}function pr(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var pi=!1;function Gi(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function js(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ri(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function ii(o,l,h){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Kn&2)!==0){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,pr(o,h)}return S=v.interleaved,S===null?(l.next=l,ss(v)):(l.next=S.next,S.next=l),v.interleaved=l,pr(o,h)}function os(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,_r(o,h)}}function mr(o,l){var h=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var S=null,T=null;if(h=h.firstBaseUpdate,h!==null){do{var Y={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};T===null?S=T=Y:T=T.next=Y,h=h.next}while(h!==null);T===null?S=T=l:T=T.next=l}else S=T=l;h={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:v.shared,effects:v.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function as(o,l,h,v){var S=o.updateQueue;pi=!1;var T=S.firstBaseUpdate,Y=S.lastBaseUpdate,fe=S.shared.pending;if(fe!==null){S.shared.pending=null;var _e=fe,je=_e.next;_e.next=null,Y===null?T=je:Y.next=je,Y=_e;var Ze=o.alternate;Ze!==null&&(Ze=Ze.updateQueue,fe=Ze.lastBaseUpdate,fe!==Y&&(fe===null?Ze.firstBaseUpdate=je:fe.next=je,Ze.lastBaseUpdate=_e))}if(T!==null){var it=S.baseState;Y=0,Ze=je=_e=null,fe=T;do{var Je=fe.lane,pt=fe.eventTime;if((v&Je)===Je){Ze!==null&&(Ze=Ze.next={eventTime:pt,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var At=o,Mt=fe;switch(Je=l,pt=h,Mt.tag){case 1:if(At=Mt.payload,typeof At=="function"){it=At.call(pt,it,Je);break e}it=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Mt.payload,Je=typeof At=="function"?At.call(pt,it,Je):At,Je==null)break e;it=de({},it,Je);break e;case 2:pi=!0}}fe.callback!==null&&fe.lane!==0&&(o.flags|=64,Je=S.effects,Je===null?S.effects=[fe]:Je.push(fe))}else pt={eventTime:pt,lane:Je,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},Ze===null?(je=Ze=pt,_e=it):Ze=Ze.next=pt,Y|=Je;if(fe=fe.next,fe===null){if(fe=S.shared.pending,fe===null)break;Je=fe,fe=Je.next,Je.next=null,S.lastBaseUpdate=Je,S.shared.pending=null}}while(!0);if(Ze===null&&(_e=it),S.baseState=_e,S.firstBaseUpdate=je,S.lastBaseUpdate=Ze,l=S.shared.interleaved,l!==null){S=l;do Y|=S.lane,S=S.next;while(S!==l)}else T===null&&(S.shared.lanes=0);Nu|=Y,o.lanes=Y,o.memoizedState=it}}function xo(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var v=o[l],S=v.callback;if(S!==null){if(v.callback=null,v=h,typeof S!="function")throw Error(t(191,S));S.call(v)}}}var jo={},Fi=Oo(jo),si=Oo(jo),nl=Oo(jo);function Na(o){if(o===jo)throw Error(t(174));return o}function Nc(o,l){switch(ar(nl,l),ar(si,o),ar(Fi,jo),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Lt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Lt(l,o)}nr(Fi),ar(Fi,l)}function oa(){nr(Fi),nr(si),nr(nl)}function dp(o){Na(nl.current);var l=Na(Fi.current),h=Lt(l,o.type);l!==h&&(ar(si,o),ar(Fi,h))}function Wh(o){si.current===o&&(nr(Fi),nr(si))}var Er=Oo(0);function Fo(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var $h=[];function Yh(){for(var o=0;o<$h.length;o++)$h[o]._workInProgressVersionPrimary=null;$h.length=0}var vd=z.ReactCurrentDispatcher,yd=z.ReactCurrentBatchConfig,aa=0,Lr=null,mi=null,oi=null,Cc=!1,Ca=!1,Ac=0,X0=0;function xi(){throw Error(t(321))}function wd(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!Wr(o[h],l[h]))return!1;return!0}function Su(o,l,h,v,S,T){if(aa=T,Lr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,vd.current=o===null||o.memoizedState===null?GE:KE,o=h(v,S),Ca){T=0;do{if(Ca=!1,Ac=0,25<=T)throw Error(t(301));T+=1,oi=mi=null,l.updateQueue=null,vd.current=QE,o=h(v,S)}while(Ca)}if(vd.current=gp,l=mi!==null&&mi.next!==null,aa=0,oi=mi=Lr=null,Cc=!1,l)throw Error(t(300));return o}function la(){var o=Ac!==0;return Ac=0,o}function Bo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?Lr.memoizedState=oi=o:oi=oi.next=o,oi}function ro(){if(mi===null){var o=Lr.alternate;o=o!==null?o.memoizedState:null}else o=mi.next;var l=oi===null?Lr.memoizedState:oi.next;if(l!==null)oi=l,mi=o;else{if(o===null)throw Error(t(310));mi=o,o={memoizedState:mi.memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},oi===null?Lr.memoizedState=oi=o:oi=oi.next=o}return oi}function ku(o,l){return typeof l=="function"?l(o):l}function bd(o){var l=ro(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var v=mi,S=v.baseQueue,T=h.pending;if(T!==null){if(S!==null){var Y=S.next;S.next=T.next,T.next=Y}v.baseQueue=S=T,h.pending=null}if(S!==null){T=S.next,v=v.baseState;var fe=Y=null,_e=null,je=T;do{var Ze=je.lane;if((aa&Ze)===Ze)_e!==null&&(_e=_e.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),v=je.hasEagerState?je.eagerState:o(v,je.action);else{var it={lane:Ze,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};_e===null?(fe=_e=it,Y=v):_e=_e.next=it,Lr.lanes|=Ze,Nu|=Ze}je=je.next}while(je!==null&&je!==T);_e===null?Y=v:_e.next=fe,Wr(v,l.memoizedState)||(_o=!0),l.memoizedState=v,l.baseState=Y,l.baseQueue=_e,h.lastRenderedState=v}if(o=h.interleaved,o!==null){S=o;do T=S.lane,Lr.lanes|=T,Nu|=T,S=S.next;while(S!==o)}else S===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function rl(o){var l=ro(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var v=h.dispatch,S=h.pending,T=l.memoizedState;if(S!==null){h.pending=null;var Y=S=S.next;do T=o(T,Y.action),Y=Y.next;while(Y!==S);Wr(T,l.memoizedState)||(_o=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),h.lastRenderedState=T}return[T,v]}function hp(){}function Gh(o,l){var h=Lr,v=ro(),S=l(),T=!Wr(v.memoizedState,S);if(T&&(v.memoizedState=S,_o=!0),v=v.queue,Sd(pp.bind(null,h,v,o),[o]),v.getSnapshot!==l||T||oi!==null&&oi.memoizedState.tag&1){if(h.flags|=2048,io(9,Kh.bind(null,h,v,S,l),void 0,null),ls===null)throw Error(t(349));(aa&30)!==0||fp(h,l,S)}return S}function fp(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=Lr.updateQueue,l===null?(l={lastEffect:null,stores:null},Lr.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function Kh(o,l,h,v){l.value=h,l.getSnapshot=v,Ic(l)&&xd(o)}function pp(o,l,h){return h(function(){Ic(l)&&xd(o)})}function Ic(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!Wr(o,h)}catch{return!0}}function xd(o){var l=pr(o,1);l!==null&&Da(l,o,1,-1)}function Eu(o){var l=Bo();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:o},l.queue=o,o=o.dispatch=YE.bind(null,Lr,o),[l.memoizedState,o]}function io(o,l,h,v){return o={tag:o,create:l,destroy:h,deps:v,next:null},l=Lr.updateQueue,l===null?(l={lastEffect:null,stores:null},Lr.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(v=h.next,h.next=o,o.next=v,l.lastEffect=o)),o}function Aa(){return ro().memoizedState}function Vo(o,l,h,v){var S=Bo();Lr.flags|=o,S.memoizedState=io(1|l,h,void 0,v===void 0?null:v)}function zl(o,l,h,v){var S=ro();v=v===void 0?null:v;var T=void 0;if(mi!==null){var Y=mi.memoizedState;if(T=Y.destroy,v!==null&&wd(v,Y.deps)){S.memoizedState=io(l,h,T,v);return}}Lr.flags|=o,S.memoizedState=io(1|l,h,T,v)}function _d(o,l){return Vo(8390656,8,o,l)}function Sd(o,l){return zl(2048,8,o,l)}function mp(o,l){return zl(4,2,o,l)}function kd(o,l){return zl(4,4,o,l)}function Ed(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function zy(o,l,h){return h=h!=null?h.concat([o]):null,zl(4,4,Ed.bind(null,l,o),h)}function J0(){}function qy(o,l){var h=ro();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&wd(l,v[1])?v[0]:(h.memoizedState=[o,l],o)}function Hy(o,l){var h=ro();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&wd(l,v[1])?v[0]:(o=o(),h.memoizedState=[o,l],o)}function Wy(o,l,h){return(aa&21)===0?(o.baseState&&(o.baseState=!1,_o=!0),o.memoizedState=h):(Wr(h,l)||(h=Sn(),Lr.lanes|=h,Nu|=h,o.baseState=!0),l)}function WE(o,l){var h=ut;ut=h!==0&&4>h?h:4,o(!0);var v=yd.transition;yd.transition={};try{o(!1),l()}finally{ut=h,yd.transition=v}}function $y(){return ro().memoizedState}function $E(o,l,h){var v=Lc(o);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},Yy(o))Gy(l,h);else if(h=lr(o,l,h,v),h!==null){var S=oo();Da(h,o,v,S),Ky(h,l,v)}}function YE(o,l,h){var v=Lc(o),S={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(Yy(o))Gy(l,S);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var Y=l.lastRenderedState,fe=T(Y,h);if(S.hasEagerState=!0,S.eagerState=fe,Wr(fe,Y)){var _e=l.interleaved;_e===null?(S.next=S,ss(l)):(S.next=_e.next,_e.next=S),l.interleaved=S;return}}catch{}h=lr(o,l,S,v),h!==null&&(S=oo(),Da(h,o,v,S),Ky(h,l,v))}}function Yy(o){var l=o.alternate;return o===Lr||l!==null&&l===Lr}function Gy(o,l){Ca=Cc=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function Ky(o,l,h){if((h&4194240)!==0){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,_r(o,h)}}var gp={readContext:Kr,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},GE={readContext:Kr,useCallback:function(o,l){return Bo().memoizedState=[o,l===void 0?null:l],o},useContext:Kr,useEffect:_d,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,Vo(4194308,4,Ed.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Vo(4194308,4,o,l)},useInsertionEffect:function(o,l){return Vo(4,2,o,l)},useMemo:function(o,l){var h=Bo();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var v=Bo();return l=h!==void 0?h(l):l,v.memoizedState=v.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},v.queue=o,o=o.dispatch=$E.bind(null,Lr,o),[v.memoizedState,o]},useRef:function(o){var l=Bo();return o={current:o},l.memoizedState=o},useState:Eu,useDebugValue:J0,useDeferredValue:function(o){return Bo().memoizedState=o},useTransition:function(){var o=Eu(!1),l=o[0];return o=WE.bind(null,o[1]),Bo().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var v=Lr,S=Bo();if($e){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),ls===null)throw Error(t(349));(aa&30)!==0||fp(v,l,h)}S.memoizedState=h;var T={value:h,getSnapshot:l};return S.queue=T,_d(pp.bind(null,v,T,o),[o]),v.flags|=2048,io(9,Kh.bind(null,v,T,h,l),void 0,null),h},useId:function(){var o=Bo(),l=ls.identifierPrefix;if($e){var h=ae,v=Pe;h=(v&~(1<<32-xr(v)-1)).toString(32)+h,l=":"+l+"R"+h,h=Ac++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=X0++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},KE={readContext:Kr,useCallback:qy,useContext:Kr,useEffect:Sd,useImperativeHandle:zy,useInsertionEffect:mp,useLayoutEffect:kd,useMemo:Hy,useReducer:bd,useRef:Aa,useState:function(){return bd(ku)},useDebugValue:J0,useDeferredValue:function(o){var l=ro();return Wy(l,mi.memoizedState,o)},useTransition:function(){var o=bd(ku)[0],l=ro().memoizedState;return[o,l]},useMutableSource:hp,useSyncExternalStore:Gh,useId:$y,unstable_isNewReconciler:!1},QE={readContext:Kr,useCallback:qy,useContext:Kr,useEffect:Sd,useImperativeHandle:zy,useInsertionEffect:mp,useLayoutEffect:kd,useMemo:Hy,useReducer:rl,useRef:Aa,useState:function(){return rl(ku)},useDebugValue:J0,useDeferredValue:function(o){var l=ro();return mi===null?l.memoizedState=o:Wy(l,mi.memoizedState,o)},useTransition:function(){var o=rl(ku)[0],l=ro().memoizedState;return[o,l]},useMutableSource:hp,useSyncExternalStore:Gh,useId:$y,unstable_isNewReconciler:!1};function Ia(o,l){if(o&&o.defaultProps){l=de({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function Z0(o,l,h,v){l=o.memoizedState,h=h(v,l),h=h==null?l:de({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var vp={isMounted:function(o){return(o=o._reactInternals)?Ar(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var v=oo(),S=Lc(o),T=ri(v,S);T.payload=l,h!=null&&(T.callback=h),l=ii(o,T,S),l!==null&&(Da(l,o,S,v),os(l,o,S))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var v=oo(),S=Lc(o),T=ri(v,S);T.tag=1,T.payload=l,h!=null&&(T.callback=h),l=ii(o,T,S),l!==null&&(Da(l,o,S,v),os(l,o,S))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=oo(),v=Lc(o),S=ri(h,v);S.tag=2,l!=null&&(S.callback=l),l=ii(o,S,v),l!==null&&(Da(l,o,v,h),os(l,o,v))}};function Qy(o,l,h,v,S,T,Y){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,T,Y):l.prototype&&l.prototype.isPureReactComponent?!Ds(h,v)||!Ds(S,T):!0}function Xy(o,l,h){var v=!1,S=tl,T=l.contextType;return typeof T=="object"&&T!==null?T=Kr(T):(S=Os(l)?Vl:Yi.current,v=l.contextTypes,T=(v=v!=null)?Ec(o,S):tl),l=new l(h,T),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=vp,o.stateNode=l,l._reactInternals=o,v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=S,o.__reactInternalMemoizedMaskedChildContext=T),l}function Jy(o,l,h,v){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==o&&vp.enqueueReplaceState(l,l.state,null)}function eg(o,l,h,v){var S=o.stateNode;S.props=h,S.state=o.memoizedState,S.refs={},Gi(o);var T=l.contextType;typeof T=="object"&&T!==null?S.context=Kr(T):(T=Os(l)?Vl:Yi.current,S.context=Ec(o,T)),S.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Z0(o,l,T,h),S.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(l=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),l!==S.state&&vp.enqueueReplaceState(S,S.state,null),as(o,h,S,v),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308)}function Nd(o,l){try{var h="",v=l;do h+=he(v),v=v.return;while(v);var S=h}catch(T){S=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:l,stack:S,digest:null}}function tg(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function ng(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var XE=typeof WeakMap=="function"?WeakMap:Map;function Zy(o,l,h){h=ri(-1,h),h.tag=3,h.payload={element:null};var v=l.value;return h.callback=function(){kp||(kp=!0,vg=v),ng(o,l)},h}function e2(o,l,h){h=ri(-1,h),h.tag=3;var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var S=l.value;h.payload=function(){return v(S)},h.callback=function(){ng(o,l)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(h.callback=function(){ng(o,l),typeof v!="function"&&(Pc===null?Pc=new Set([this]):Pc.add(this));var Y=l.stack;this.componentDidCatch(l.value,{componentStack:Y!==null?Y:""})}),h}function t2(o,l,h){var v=o.pingCache;if(v===null){v=o.pingCache=new XE;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(h)||(S.add(h),o=d4.bind(null,o,l,h),l.then(o,o))}function n2(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function r2(o,l,h,v,S){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=ri(-1,1),l.tag=2,ii(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=S,o)}var JE=z.ReactCurrentOwner,_o=!1;function so(o,l,h,v){l.child=o===null?jr(l,null,h,v):fi(l,o.child,h,v)}function i2(o,l,h,v,S){h=h.render;var T=l.ref;return Gr(l,S),v=Su(o,l,h,v,T,S),h=la(),o!==null&&!_o?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,ql(o,l,S)):($e&&h&&qe(l),l.flags|=1,so(o,l,v,S),l.child)}function s2(o,l,h,v,S){if(o===null){var T=h.type;return typeof T=="function"&&!kg(T)&&T.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=T,o2(o,l,T,v,S)):(o=Tp(h.type,null,v,l,l.mode,S),o.ref=l.ref,o.return=l,l.child=o)}if(T=o.child,(o.lanes&S)===0){var Y=T.memoizedProps;if(h=h.compare,h=h!==null?h:Ds,h(Y,v)&&o.ref===l.ref)return ql(o,l,S)}return l.flags|=1,o=Mc(T,v),o.ref=l.ref,o.return=l,l.child=o}function o2(o,l,h,v,S){if(o!==null){var T=o.memoizedProps;if(Ds(T,v)&&o.ref===l.ref)if(_o=!1,l.pendingProps=v=T,(o.lanes&S)!==0)(o.flags&131072)!==0&&(_o=!0);else return l.lanes=o.lanes,ql(o,l,S)}return rg(o,l,h,v,S)}function a2(o,l,h){var v=l.pendingProps,S=v.children,T=o!==null?o.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(Ad,Uo),Uo|=h;else{if((h&1073741824)===0)return o=T!==null?T.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,ar(Ad,Uo),Uo|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:h,ar(Ad,Uo),Uo|=v}else T!==null?(v=T.baseLanes|h,l.memoizedState=null):v=h,ar(Ad,Uo),Uo|=v;return so(o,l,S,h),l.child}function l2(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function rg(o,l,h,v,S){var T=Os(h)?Vl:Yi.current;return T=Ec(l,T),Gr(l,S),h=Su(o,l,h,v,T,S),v=la(),o!==null&&!_o?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,ql(o,l,S)):($e&&v&&qe(l),l.flags|=1,so(o,l,h,S),l.child)}function c2(o,l,h,v,S){if(Os(h)){var T=!0;Ul(l)}else T=!1;if(Gr(l,S),l.stateNode===null)wp(o,l),Xy(l,h,v),eg(l,h,v,S),v=!0;else if(o===null){var Y=l.stateNode,fe=l.memoizedProps;Y.props=fe;var _e=Y.context,je=h.contextType;typeof je=="object"&&je!==null?je=Kr(je):(je=Os(h)?Vl:Yi.current,je=Ec(l,je));var Ze=h.getDerivedStateFromProps,it=typeof Ze=="function"||typeof Y.getSnapshotBeforeUpdate=="function";it||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(fe!==v||_e!==je)&&Jy(l,Y,v,je),pi=!1;var Je=l.memoizedState;Y.state=Je,as(l,v,Y,S),_e=l.memoizedState,fe!==v||Je!==_e||Ms.current||pi?(typeof Ze=="function"&&(Z0(l,h,Ze,v),_e=l.memoizedState),(fe=pi||Qy(l,h,fe,v,Je,_e,je))?(it||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=_e),Y.props=v,Y.state=_e,Y.context=je,v=fe):(typeof Y.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{Y=l.stateNode,js(o,l),fe=l.memoizedProps,je=l.type===l.elementType?fe:Ia(l.type,fe),Y.props=je,it=l.pendingProps,Je=Y.context,_e=h.contextType,typeof _e=="object"&&_e!==null?_e=Kr(_e):(_e=Os(h)?Vl:Yi.current,_e=Ec(l,_e));var pt=h.getDerivedStateFromProps;(Ze=typeof pt=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(fe!==it||Je!==_e)&&Jy(l,Y,v,_e),pi=!1,Je=l.memoizedState,Y.state=Je,as(l,v,Y,S);var At=l.memoizedState;fe!==it||Je!==At||Ms.current||pi?(typeof pt=="function"&&(Z0(l,h,pt,v),At=l.memoizedState),(je=pi||Qy(l,h,je,v,Je,At,_e)||!1)?(Ze||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(v,At,_e),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(v,At,_e)),typeof Y.componentDidUpdate=="function"&&(l.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof Y.componentDidUpdate!="function"||fe===o.memoizedProps&&Je===o.memoizedState||(l.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||fe===o.memoizedProps&&Je===o.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=At),Y.props=v,Y.state=At,Y.context=_e,v=je):(typeof Y.componentDidUpdate!="function"||fe===o.memoizedProps&&Je===o.memoizedState||(l.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||fe===o.memoizedProps&&Je===o.memoizedState||(l.flags|=1024),v=!1)}return ig(o,l,h,v,T,S)}function ig(o,l,h,v,S,T){l2(o,l);var Y=(l.flags&128)!==0;if(!v&&!Y)return S&&up(l,h,!1),ql(o,l,T);v=l.stateNode,JE.current=l;var fe=Y&&typeof h.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,o!==null&&Y?(l.child=fi(l,o.child,null,T),l.child=fi(l,null,fe,T)):so(o,l,fe,T),l.memoizedState=v.state,S&&up(l,h,!0),l.child}function u2(o){var l=o.stateNode;l.pendingContext?cp(o,l.pendingContext,l.pendingContext!==l.context):l.context&&cp(o,l.context,!1),Nc(o,l.containerInfo)}function d2(o,l,h,v,S){return wt(),lt(S),l.flags|=256,so(o,l,h,v),l.child}var sg={dehydrated:null,treeContext:null,retryLane:0};function og(o){return{baseLanes:o,cachePool:null,transitions:null}}function h2(o,l,h){var v=l.pendingProps,S=Er.current,T=!1,Y=(l.flags&128)!==0,fe;if((fe=Y)||(fe=o!==null&&o.memoizedState===null?!1:(S&2)!==0),fe?(T=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(S|=1),ar(Er,S&1),o===null)return Et(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(Y=v.children,o=v.fallback,T?(v=l.mode,T=l.child,Y={mode:"hidden",children:Y},(v&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=Y):T=Pp(Y,v,0,null),o=Tu(o,v,h,null),T.return=l,o.return=l,T.sibling=o,l.child=T,l.child.memoizedState=og(h),l.memoizedState=sg,o):ag(l,Y));if(S=o.memoizedState,S!==null&&(fe=S.dehydrated,fe!==null))return ZE(o,l,Y,v,fe,S,h);if(T){T=v.fallback,Y=l.mode,S=o.child,fe=S.sibling;var _e={mode:"hidden",children:v.children};return(Y&1)===0&&l.child!==S?(v=l.child,v.childLanes=0,v.pendingProps=_e,l.deletions=null):(v=Mc(S,_e),v.subtreeFlags=S.subtreeFlags&14680064),fe!==null?T=Mc(fe,T):(T=Tu(T,Y,h,null),T.flags|=2),T.return=l,v.return=l,v.sibling=T,l.child=v,v=T,T=l.child,Y=o.child.memoizedState,Y=Y===null?og(h):{baseLanes:Y.baseLanes|h,cachePool:null,transitions:Y.transitions},T.memoizedState=Y,T.childLanes=o.childLanes&~h,l.memoizedState=sg,v}return T=o.child,o=T.sibling,v=Mc(T,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=h),v.return=l,v.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=v,l.memoizedState=null,v}function ag(o,l){return l=Pp({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function yp(o,l,h,v){return v!==null&&lt(v),fi(l,o.child,null,h),o=ag(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function ZE(o,l,h,v,S,T,Y){if(h)return l.flags&256?(l.flags&=-257,v=tg(Error(t(422))),yp(o,l,Y,v)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(T=v.fallback,S=l.mode,v=Pp({mode:"visible",children:v.children},S,0,null),T=Tu(T,S,Y,null),T.flags|=2,v.return=l,T.return=l,v.sibling=T,l.child=v,(l.mode&1)!==0&&fi(l,o.child,null,Y),l.child.memoizedState=og(Y),l.memoizedState=sg,T);if((l.mode&1)===0)return yp(o,l,Y,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var fe=v.dgst;return v=fe,T=Error(t(419)),v=tg(T,v,void 0),yp(o,l,Y,v)}if(fe=(Y&o.childLanes)!==0,_o||fe){if(v=ls,v!==null){switch(Y&-Y){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|Y))!==0?0:S,S!==0&&S!==T.retryLane&&(T.retryLane=S,pr(o,S),Da(v,o,S,-1))}return Sg(),v=tg(Error(t(421))),yp(o,l,Y,v)}return S.data==="$?"?(l.flags|=128,l.child=o.child,l=h4.bind(null,o),S._reactRetry=l,null):(o=T.treeContext,ze=ys(S.nextSibling),Ue=l,$e=!0,Ye=null,o!==null&&(te[oe++]=Pe,te[oe++]=ae,te[oe++]=xe,Pe=o.id,ae=o.overflow,xe=l),l=ag(l,v.children),l.flags|=4096,l)}function f2(o,l,h){o.lanes|=l;var v=o.alternate;v!==null&&(v.lanes|=l),Gn(o.return,l,h)}function lg(o,l,h,v,S){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:S}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=h,T.tailMode=S)}function p2(o,l,h){var v=l.pendingProps,S=v.revealOrder,T=v.tail;if(so(o,l,v.children,h),v=Er.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&f2(o,h,l);else if(o.tag===19)f2(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}if(ar(Er,v),(l.mode&1)===0)l.memoizedState=null;else switch(S){case"forwards":for(h=l.child,S=null;h!==null;)o=h.alternate,o!==null&&Fo(o)===null&&(S=h),h=h.sibling;h=S,h===null?(S=l.child,l.child=null):(S=h.sibling,h.sibling=null),lg(l,!1,S,h,T);break;case"backwards":for(h=null,S=l.child,l.child=null;S!==null;){if(o=S.alternate,o!==null&&Fo(o)===null){l.child=S;break}o=S.sibling,S.sibling=h,h=S,S=o}lg(l,!0,h,null,T);break;case"together":lg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function wp(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function ql(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),Nu|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,h=Mc(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=Mc(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function e4(o,l,h){switch(l.tag){case 3:u2(l),wt();break;case 5:dp(l);break;case 1:Os(l.type)&&Ul(l);break;case 4:Nc(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,S=l.memoizedProps.value;ar(bi,v._currentValue),v._currentValue=S;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(ar(Er,Er.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?h2(o,l,h):(ar(Er,Er.current&1),o=ql(o,l,h),o!==null?o.sibling:null);ar(Er,Er.current&1);break;case 19:if(v=(h&l.childLanes)!==0,(o.flags&128)!==0){if(v)return p2(o,l,h);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ar(Er,Er.current),v)break;return null;case 22:case 23:return l.lanes=0,a2(o,l,h)}return ql(o,l,h)}var m2,cg,g2,v2;m2=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},cg=function(){},g2=function(o,l,h,v){var S=o.memoizedProps;if(S!==v){o=l.stateNode,Na(Fi.current);var T=null;switch(h){case"input":S=mt(o,S),v=mt(o,v),T=[];break;case"select":S=de({},S,{value:void 0}),v=de({},v,{value:void 0}),T=[];break;case"textarea":S=Dt(o,S),v=Dt(o,v),T=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(o.onclick=_c)}Vn(h,v);var Y;h=null;for(je in S)if(!v.hasOwnProperty(je)&&S.hasOwnProperty(je)&&S[je]!=null)if(je==="style"){var fe=S[je];for(Y in fe)fe.hasOwnProperty(Y)&&(h||(h={}),h[Y]="")}else je!=="dangerouslySetInnerHTML"&&je!=="children"&&je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&je!=="autoFocus"&&(i.hasOwnProperty(je)?T||(T=[]):(T=T||[]).push(je,null));for(je in v){var _e=v[je];if(fe=S?.[je],v.hasOwnProperty(je)&&_e!==fe&&(_e!=null||fe!=null))if(je==="style")if(fe){for(Y in fe)!fe.hasOwnProperty(Y)||_e&&_e.hasOwnProperty(Y)||(h||(h={}),h[Y]="");for(Y in _e)_e.hasOwnProperty(Y)&&fe[Y]!==_e[Y]&&(h||(h={}),h[Y]=_e[Y])}else h||(T||(T=[]),T.push(je,h)),h=_e;else je==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,fe=fe?fe.__html:void 0,_e!=null&&fe!==_e&&(T=T||[]).push(je,_e)):je==="children"?typeof _e!="string"&&typeof _e!="number"||(T=T||[]).push(je,""+_e):je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&(i.hasOwnProperty(je)?(_e!=null&&je==="onScroll"&&hr("scroll",o),T||fe===_e||(T=[])):(T=T||[]).push(je,_e))}h&&(T=T||[]).push("style",h);var je=T;(l.updateQueue=je)&&(l.flags|=4)}},v2=function(o,l,h,v){h!==v&&(l.flags|=4)};function Qh(o,l){if(!$e)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Fs(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,v=0;if(l)for(var S=o.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=v,o.childLanes=h,l}function t4(o,l,h){var v=l.pendingProps;switch(Re(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fs(l),null;case 1:return Os(l.type)&&gd(),Fs(l),null;case 3:return v=l.stateNode,oa(),nr(Ms),nr(Yi),Yh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(Yr(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ye!==null&&(bg(Ye),Ye=null))),cg(o,l),Fs(l),null;case 5:Wh(l);var S=Na(nl.current);if(h=l.type,o!==null&&l.stateNode!=null)g2(o,l,h,v,S),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(t(166));return Fs(l),null}if(o=Na(Fi.current),Yr(l)){v=l.stateNode,h=l.type;var T=l.memoizedProps;switch(v[sa]=l,v[Sc]=T,o=(l.mode&1)!==0,h){case"dialog":hr("cancel",v),hr("close",v);break;case"iframe":case"object":case"embed":hr("load",v);break;case"video":case"audio":for(S=0;S<Za.length;S++)hr(Za[S],v);break;case"source":hr("error",v);break;case"img":case"image":case"link":hr("error",v),hr("load",v);break;case"details":hr("toggle",v);break;case"input":ie(v,T),hr("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!T.multiple},hr("invalid",v);break;case"textarea":xt(v,T),hr("invalid",v)}Vn(h,T),S=null;for(var Y in T)if(T.hasOwnProperty(Y)){var fe=T[Y];Y==="children"?typeof fe=="string"?v.textContent!==fe&&(T.suppressHydrationWarning!==!0&&md(v.textContent,fe,o),S=["children",fe]):typeof fe=="number"&&v.textContent!==""+fe&&(T.suppressHydrationWarning!==!0&&md(v.textContent,fe,o),S=["children",""+fe]):i.hasOwnProperty(Y)&&fe!=null&&Y==="onScroll"&&hr("scroll",v)}switch(h){case"input":Xe(v),Tt(v,T,!0);break;case"textarea":Xe(v),mn(v);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(v.onclick=_c)}v=S,l.updateQueue=v,v!==null&&(l.flags|=4)}else{Y=S.nodeType===9?S:S.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=_t(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=Y.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof v.is=="string"?o=Y.createElement(h,{is:v.is}):(o=Y.createElement(h),h==="select"&&(Y=o,v.multiple?Y.multiple=!0:v.size&&(Y.size=v.size))):o=Y.createElementNS(o,h),o[sa]=l,o[Sc]=v,m2(o,l,!1,!1),l.stateNode=o;e:{switch(Y=Nt(h,v),h){case"dialog":hr("cancel",o),hr("close",o),S=v;break;case"iframe":case"object":case"embed":hr("load",o),S=v;break;case"video":case"audio":for(S=0;S<Za.length;S++)hr(Za[S],o);S=v;break;case"source":hr("error",o),S=v;break;case"img":case"image":case"link":hr("error",o),hr("load",o),S=v;break;case"details":hr("toggle",o),S=v;break;case"input":ie(o,v),S=mt(o,v),hr("invalid",o);break;case"option":S=v;break;case"select":o._wrapperState={wasMultiple:!!v.multiple},S=de({},v,{value:void 0}),hr("invalid",o);break;case"textarea":xt(o,v),S=Dt(o,v),hr("invalid",o);break;default:S=v}Vn(h,S),fe=S;for(T in fe)if(fe.hasOwnProperty(T)){var _e=fe[T];T==="style"?sn(o,_e):T==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&vt(o,_e)):T==="children"?typeof _e=="string"?(h!=="textarea"||_e!=="")&&Kt(o,_e):typeof _e=="number"&&Kt(o,""+_e):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?_e!=null&&T==="onScroll"&&hr("scroll",o):_e!=null&&U(o,T,_e,Y))}switch(h){case"input":Xe(o),Tt(o,v,!1);break;case"textarea":Xe(o),mn(o);break;case"option":v.value!=null&&o.setAttribute("value",""+Te(v.value));break;case"select":o.multiple=!!v.multiple,T=v.value,T!=null?dt(o,!!v.multiple,T,!1):v.defaultValue!=null&&dt(o,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(o.onclick=_c)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Fs(l),null;case 6:if(o&&l.stateNode!=null)v2(o,l,o.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(t(166));if(h=Na(nl.current),Na(Fi.current),Yr(l)){if(v=l.stateNode,h=l.memoizedProps,v[sa]=l,(T=v.nodeValue!==h)&&(o=Ue,o!==null))switch(o.tag){case 3:md(v.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&md(v.nodeValue,h,(o.mode&1)!==0)}T&&(l.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[sa]=l,l.stateNode=v}return Fs(l),null;case 13:if(nr(Er),v=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if($e&&ze!==null&&(l.mode&1)!==0&&(l.flags&128)===0)wn(),wt(),l.flags|=98560,T=!1;else if(T=Yr(l),v!==null&&v.dehydrated!==null){if(o===null){if(!T)throw Error(t(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(t(317));T[sa]=l}else wt(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Fs(l),T=!1}else Ye!==null&&(bg(Ye),Ye=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(v=v!==null,v!==(o!==null&&o.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Er.current&1)!==0?Ki===0&&(Ki=3):Sg())),l.updateQueue!==null&&(l.flags|=4),Fs(l),null);case 4:return oa(),cg(o,l),o===null&&Ol(l.stateNode.containerInfo),Fs(l),null;case 10:return Dr(l.type._context),Fs(l),null;case 17:return Os(l.type)&&gd(),Fs(l),null;case 19:if(nr(Er),T=l.memoizedState,T===null)return Fs(l),null;if(v=(l.flags&128)!==0,Y=T.rendering,Y===null)if(v)Qh(T,!1);else{if(Ki!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(Y=Fo(o),Y!==null){for(l.flags|=128,Qh(T,!1),v=Y.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=h,h=l.child;h!==null;)T=h,o=v,T.flags&=14680066,Y=T.alternate,Y===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=Y.childLanes,T.lanes=Y.lanes,T.child=Y.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=Y.memoizedProps,T.memoizedState=Y.memoizedState,T.updateQueue=Y.updateQueue,T.type=Y.type,o=Y.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return ar(Er,Er.current&1|2),l.child}o=o.sibling}T.tail!==null&&Un()>Id&&(l.flags|=128,v=!0,Qh(T,!1),l.lanes=4194304)}else{if(!v)if(o=Fo(Y),o!==null){if(l.flags|=128,v=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Qh(T,!0),T.tail===null&&T.tailMode==="hidden"&&!Y.alternate&&!$e)return Fs(l),null}else 2*Un()-T.renderingStartTime>Id&&h!==1073741824&&(l.flags|=128,v=!0,Qh(T,!1),l.lanes=4194304);T.isBackwards?(Y.sibling=l.child,l.child=Y):(h=T.last,h!==null?h.sibling=Y:l.child=Y,T.last=Y)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=Un(),l.sibling=null,h=Er.current,ar(Er,v?h&1|2:h&1),l):(Fs(l),null);case 22:case 23:return _g(),v=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(Uo&1073741824)!==0&&(Fs(l),l.subtreeFlags&6&&(l.flags|=8192)):Fs(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function n4(o,l){switch(Re(l),l.tag){case 1:return Os(l.type)&&gd(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return oa(),nr(Ms),nr(Yi),Yh(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Wh(l),null;case 13:if(nr(Er),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));wt()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return nr(Er),null;case 4:return oa(),null;case 10:return Dr(l.type._context),null;case 22:case 23:return _g(),null;case 24:return null;default:return null}}var bp=!1,Bs=!1,r4=typeof WeakSet=="function"?WeakSet:Set,St=null;function Cd(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){gi(o,l,v)}else h.current=null}function ug(o,l,h){try{h()}catch(v){gi(o,l,v)}}var y2=!1;function i4(o,l){if(bu=Jo,o=hi(),Mo(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var S=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{h.nodeType,T.nodeType}catch{h=null;break e}var Y=0,fe=-1,_e=-1,je=0,Ze=0,it=o,Je=null;t:for(;;){for(var pt;it!==h||S!==0&&it.nodeType!==3||(fe=Y+S),it!==T||v!==0&&it.nodeType!==3||(_e=Y+v),it.nodeType===3&&(Y+=it.nodeValue.length),(pt=it.firstChild)!==null;)Je=it,it=pt;for(;;){if(it===o)break t;if(Je===h&&++je===S&&(fe=Y),Je===T&&++Ze===v&&(_e=Y),(pt=it.nextSibling)!==null)break;it=Je,Je=it.parentNode}it=pt}h=fe===-1||_e===-1?null:{start:fe,end:_e}}else h=null}h=h||{start:0,end:0}}else h=null;for(Fl={focusedElem:o,selectionRange:h},Jo=!1,St=l;St!==null;)if(l=St,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,St=o;else for(;St!==null;){l=St;try{var At=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(At!==null){var Mt=At.memoizedProps,_i=At.memoizedState,De=l.stateNode,Ne=De.getSnapshotBeforeUpdate(l.elementType===l.type?Mt:Ia(l.type,Mt),_i);De.__reactInternalSnapshotBeforeUpdate=Ne}break;case 3:var Me=l.stateNode.containerInfo;Me.nodeType===1?Me.textContent="":Me.nodeType===9&&Me.documentElement&&Me.removeChild(Me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ot){gi(l,l.return,ot)}if(o=l.sibling,o!==null){o.return=l.return,St=o;break}St=l.return}return At=y2,y2=!1,At}function Xh(o,l,h){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&o)===o){var T=S.destroy;S.destroy=void 0,T!==void 0&&ug(l,h,T)}S=S.next}while(S!==v)}}function xp(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var v=h.create;h.destroy=v()}h=h.next}while(h!==l)}}function dg(o){var l=o.ref;if(l!==null){var h=o.stateNode;o.tag,o=h,typeof l=="function"?l(o):l.current=o}}function w2(o){var l=o.alternate;l!==null&&(o.alternate=null,w2(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[sa],delete l[Sc],delete l[Rs],delete l[K0],delete l[Q0])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function b2(o){return o.tag===5||o.tag===3||o.tag===4}function x2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||b2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function hg(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=_c));else if(v!==4&&(o=o.child,o!==null))for(hg(o,l,h),o=o.sibling;o!==null;)hg(o,l,h),o=o.sibling}function fg(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(v!==4&&(o=o.child,o!==null))for(fg(o,l,h),o=o.sibling;o!==null;)fg(o,l,h),o=o.sibling}var ws=null,Ta=!1;function Tc(o,l,h){for(h=h.child;h!==null;)_2(o,l,h),h=h.sibling}function _2(o,l,h){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(Xs,h)}catch{}switch(h.tag){case 5:Bs||Cd(h,l);case 6:var v=ws,S=Ta;ws=null,Tc(o,l,h),ws=v,Ta=S,ws!==null&&(Ta?(o=ws,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):ws.removeChild(h.stateNode));break;case 18:ws!==null&&(Ta?(o=ws,h=h.stateNode,o.nodeType===8?zh(o.parentNode,h):o.nodeType===1&&zh(o,h),Zs(o)):zh(ws,h.stateNode));break;case 4:v=ws,S=Ta,ws=h.stateNode.containerInfo,Ta=!0,Tc(o,l,h),ws=v,Ta=S;break;case 0:case 11:case 14:case 15:if(!Bs&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var T=S,Y=T.destroy;T=T.tag,Y!==void 0&&((T&2)!==0||(T&4)!==0)&&ug(h,l,Y),S=S.next}while(S!==v)}Tc(o,l,h);break;case 1:if(!Bs&&(Cd(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(fe){gi(h,l,fe)}Tc(o,l,h);break;case 21:Tc(o,l,h);break;case 22:h.mode&1?(Bs=(v=Bs)||h.memoizedState!==null,Tc(o,l,h),Bs=v):Tc(o,l,h);break;default:Tc(o,l,h)}}function S2(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new r4),l.forEach(function(v){var S=f4.bind(null,o,v);h.has(v)||(h.add(v),v.then(S,S))})}}function Pa(o,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var S=h[v];try{var T=o,Y=l,fe=Y;e:for(;fe!==null;){switch(fe.tag){case 5:ws=fe.stateNode,Ta=!1;break e;case 3:ws=fe.stateNode.containerInfo,Ta=!0;break e;case 4:ws=fe.stateNode.containerInfo,Ta=!0;break e}fe=fe.return}if(ws===null)throw Error(t(160));_2(T,Y,S),ws=null,Ta=!1;var _e=S.alternate;_e!==null&&(_e.return=null),S.return=null}catch(je){gi(S,l,je)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)k2(l,o),l=l.sibling}function k2(o,l){var h=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Pa(l,o),il(o),v&4){try{Xh(3,o,o.return),xp(3,o)}catch(Mt){gi(o,o.return,Mt)}try{Xh(5,o,o.return)}catch(Mt){gi(o,o.return,Mt)}}break;case 1:Pa(l,o),il(o),v&512&&h!==null&&Cd(h,h.return);break;case 5:if(Pa(l,o),il(o),v&512&&h!==null&&Cd(h,h.return),o.flags&32){var S=o.stateNode;try{Kt(S,"")}catch(Mt){gi(o,o.return,Mt)}}if(v&4&&(S=o.stateNode,S!=null)){var T=o.memoizedProps,Y=h!==null?h.memoizedProps:T,fe=o.type,_e=o.updateQueue;if(o.updateQueue=null,_e!==null)try{fe==="input"&&T.type==="radio"&&T.name!=null&&at(S,T),Nt(fe,Y);var je=Nt(fe,T);for(Y=0;Y<_e.length;Y+=2){var Ze=_e[Y],it=_e[Y+1];Ze==="style"?sn(S,it):Ze==="dangerouslySetInnerHTML"?vt(S,it):Ze==="children"?Kt(S,it):U(S,Ze,it,je)}switch(fe){case"input":cn(S,T);break;case"textarea":En(S,T);break;case"select":var Je=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!T.multiple;var pt=T.value;pt!=null?dt(S,!!T.multiple,pt,!1):Je!==!!T.multiple&&(T.defaultValue!=null?dt(S,!!T.multiple,T.defaultValue,!0):dt(S,!!T.multiple,T.multiple?[]:"",!1))}S[Sc]=T}catch(Mt){gi(o,o.return,Mt)}}break;case 6:if(Pa(l,o),il(o),v&4){if(o.stateNode===null)throw Error(t(162));S=o.stateNode,T=o.memoizedProps;try{S.nodeValue=T}catch(Mt){gi(o,o.return,Mt)}}break;case 3:if(Pa(l,o),il(o),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Zs(l.containerInfo)}catch(Mt){gi(o,o.return,Mt)}break;case 4:Pa(l,o),il(o);break;case 13:Pa(l,o),il(o),S=o.child,S.flags&8192&&(T=S.memoizedState!==null,S.stateNode.isHidden=T,!T||S.alternate!==null&&S.alternate.memoizedState!==null||(gg=Un())),v&4&&S2(o);break;case 22:if(Ze=h!==null&&h.memoizedState!==null,o.mode&1?(Bs=(je=Bs)||Ze,Pa(l,o),Bs=je):Pa(l,o),il(o),v&8192){if(je=o.memoizedState!==null,(o.stateNode.isHidden=je)&&!Ze&&(o.mode&1)!==0)for(St=o,Ze=o.child;Ze!==null;){for(it=St=Ze;St!==null;){switch(Je=St,pt=Je.child,Je.tag){case 0:case 11:case 14:case 15:Xh(4,Je,Je.return);break;case 1:Cd(Je,Je.return);var At=Je.stateNode;if(typeof At.componentWillUnmount=="function"){v=Je,h=Je.return;try{l=v,At.props=l.memoizedProps,At.state=l.memoizedState,At.componentWillUnmount()}catch(Mt){gi(v,h,Mt)}}break;case 5:Cd(Je,Je.return);break;case 22:if(Je.memoizedState!==null){C2(it);continue}}pt!==null?(pt.return=Je,St=pt):C2(it)}Ze=Ze.sibling}e:for(Ze=null,it=o;;){if(it.tag===5){if(Ze===null){Ze=it;try{S=it.stateNode,je?(T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(fe=it.stateNode,_e=it.memoizedProps.style,Y=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,fe.style.display=kt("display",Y))}catch(Mt){gi(o,o.return,Mt)}}}else if(it.tag===6){if(Ze===null)try{it.stateNode.nodeValue=je?"":it.memoizedProps}catch(Mt){gi(o,o.return,Mt)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===o)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===o)break e;for(;it.sibling===null;){if(it.return===null||it.return===o)break e;Ze===it&&(Ze=null),it=it.return}Ze===it&&(Ze=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:Pa(l,o),il(o),v&4&&S2(o);break;case 21:break;default:Pa(l,o),il(o)}}function il(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(b2(h)){var v=h;break e}h=h.return}throw Error(t(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(Kt(S,""),v.flags&=-33);var T=x2(o);fg(o,T,S);break;case 3:case 4:var Y=v.stateNode.containerInfo,fe=x2(o);hg(o,fe,Y);break;default:throw Error(t(161))}}catch(_e){gi(o,o.return,_e)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function s4(o,l,h){St=o,E2(o)}function E2(o,l,h){for(var v=(o.mode&1)!==0;St!==null;){var S=St,T=S.child;if(S.tag===22&&v){var Y=S.memoizedState!==null||bp;if(!Y){var fe=S.alternate,_e=fe!==null&&fe.memoizedState!==null||Bs;fe=bp;var je=Bs;if(bp=Y,(Bs=_e)&&!je)for(St=S;St!==null;)Y=St,_e=Y.child,Y.tag===22&&Y.memoizedState!==null?A2(S):_e!==null?(_e.return=Y,St=_e):A2(S);for(;T!==null;)St=T,E2(T),T=T.sibling;St=S,bp=fe,Bs=je}N2(o)}else(S.subtreeFlags&8772)!==0&&T!==null?(T.return=S,St=T):N2(o)}}function N2(o){for(;St!==null;){var l=St;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Bs||xp(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!Bs)if(h===null)v.componentDidMount();else{var S=l.elementType===l.type?h.memoizedProps:Ia(l.type,h.memoizedProps);v.componentDidUpdate(S,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&xo(l,T,v);break;case 3:var Y=l.updateQueue;if(Y!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}xo(l,Y,h)}break;case 5:var fe=l.stateNode;if(h===null&&l.flags&4){h=fe;var _e=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&h.focus();break;case"img":_e.src&&(h.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var je=l.alternate;if(je!==null){var Ze=je.memoizedState;if(Ze!==null){var it=Ze.dehydrated;it!==null&&Zs(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bs||l.flags&512&&dg(l)}catch(Je){gi(l,l.return,Je)}}if(l===o){St=null;break}if(h=l.sibling,h!==null){h.return=l.return,St=h;break}St=l.return}}function C2(o){for(;St!==null;){var l=St;if(l===o){St=null;break}var h=l.sibling;if(h!==null){h.return=l.return,St=h;break}St=l.return}}function A2(o){for(;St!==null;){var l=St;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{xp(4,l)}catch(_e){gi(l,h,_e)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var S=l.return;try{v.componentDidMount()}catch(_e){gi(l,S,_e)}}var T=l.return;try{dg(l)}catch(_e){gi(l,T,_e)}break;case 5:var Y=l.return;try{dg(l)}catch(_e){gi(l,Y,_e)}}}catch(_e){gi(l,l.return,_e)}if(l===o){St=null;break}var fe=l.sibling;if(fe!==null){fe.return=l.return,St=fe;break}St=l.return}}var o4=Math.ceil,_p=z.ReactCurrentDispatcher,pg=z.ReactCurrentOwner,ca=z.ReactCurrentBatchConfig,Kn=0,ls=null,Bi=null,bs=0,Uo=0,Ad=Oo(0),Ki=0,Jh=null,Nu=0,Sp=0,mg=0,Zh=null,So=null,gg=0,Id=1/0,Hl=null,kp=!1,vg=null,Pc=null,Ep=!1,Dc=null,Np=0,ef=0,yg=null,Cp=-1,Ap=0;function oo(){return(Kn&6)!==0?Un():Cp!==-1?Cp:Cp=Un()}function Lc(o){return(o.mode&1)===0?1:(Kn&2)!==0&&bs!==0?bs&-bs:ni.transition!==null?(Ap===0&&(Ap=Sn()),Ap):(o=ut,o!==0||(o=window.event,o=o===void 0?16:ea(o.type)),o)}function Da(o,l,h,v){if(50<ef)throw ef=0,yg=null,Error(t(185));kn(o,h,v),((Kn&2)===0||o!==ls)&&(o===ls&&((Kn&2)===0&&(Sp|=h),Ki===4&&Rc(o,bs)),ko(o,v),h===1&&Kn===0&&(l.mode&1)===0&&(Id=Un()+500,_u&&M()))}function ko(o,l){var h=o.callbackNode;Gt(o,l);var v=Rt(o,o===ls?bs:0);if(v===0)h!==null&&Is(h),o.callbackNode=null,o.callbackPriority=0;else if(l=v&-v,o.callbackPriority!==l){if(h!=null&&Is(h),l===1)o.tag===0?E(T2.bind(null,o)):b(T2.bind(null,o)),Y0(function(){(Kn&6)===0&&M()}),h=null;else{switch(Ht(v)){case 1:h=uo;break;case 4:h=Jr;break;case 16:h=Pi;break;case 536870912:h=ps;break;default:h=Pi}h=F2(h,I2.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function I2(o,l){if(Cp=-1,Ap=0,(Kn&6)!==0)throw Error(t(327));var h=o.callbackNode;if(Td()&&o.callbackNode!==h)return null;var v=Rt(o,o===ls?bs:0);if(v===0)return null;if((v&30)!==0||(v&o.expiredLanes)!==0||l)l=Ip(o,v);else{l=v;var S=Kn;Kn|=2;var T=D2();(ls!==o||bs!==l)&&(Hl=null,Id=Un()+500,Au(o,l));do try{c4();break}catch(fe){P2(o,fe)}while(!0);Yn(),_p.current=T,Kn=S,Bi!==null?l=0:(ls=null,bs=0,l=Ki)}if(l!==0){if(l===2&&(S=et(o),S!==0&&(v=S,l=wg(o,S))),l===1)throw h=Jh,Au(o,0),Rc(o,v),ko(o,Un()),h;if(l===6)Rc(o,v);else{if(S=o.current.alternate,(v&30)===0&&!a4(S)&&(l=Ip(o,v),l===2&&(T=et(o),T!==0&&(v=T,l=wg(o,T))),l===1))throw h=Jh,Au(o,0),Rc(o,v),ko(o,Un()),h;switch(o.finishedWork=S,o.finishedLanes=v,l){case 0:case 1:throw Error(t(345));case 2:Iu(o,So,Hl);break;case 3:if(Rc(o,v),(v&130023424)===v&&(l=gg+500-Un(),10<l)){if(Rt(o,0)!==0)break;if(S=o.suspendedLanes,(S&v)!==v){oo(),o.pingedLanes|=o.suspendedLanes&S;break}o.timeoutHandle=Uh(Iu.bind(null,o,So,Hl),l);break}Iu(o,So,Hl);break;case 4:if(Rc(o,v),(v&4194240)===v)break;for(l=o.eventTimes,S=-1;0<v;){var Y=31-xr(v);T=1<<Y,Y=l[Y],Y>S&&(S=Y),v&=~T}if(v=S,v=Un()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*o4(v/1960))-v,10<v){o.timeoutHandle=Uh(Iu.bind(null,o,So,Hl),v);break}Iu(o,So,Hl);break;case 5:Iu(o,So,Hl);break;default:throw Error(t(329))}}}return ko(o,Un()),o.callbackNode===h?I2.bind(null,o):null}function wg(o,l){var h=Zh;return o.current.memoizedState.isDehydrated&&(Au(o,l).flags|=256),o=Ip(o,l),o!==2&&(l=So,So=h,l!==null&&bg(l)),o}function bg(o){So===null?So=o:So.push.apply(So,o)}function a4(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var S=h[v],T=S.getSnapshot;S=S.value;try{if(!Wr(T(),S))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Rc(o,l){for(l&=~mg,l&=~Sp,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-xr(l),v=1<<h;o[h]=-1,l&=~v}}function T2(o){if((Kn&6)!==0)throw Error(t(327));Td();var l=Rt(o,0);if((l&1)===0)return ko(o,Un()),null;var h=Ip(o,l);if(o.tag!==0&&h===2){var v=et(o);v!==0&&(l=v,h=wg(o,v))}if(h===1)throw h=Jh,Au(o,0),Rc(o,l),ko(o,Un()),h;if(h===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Iu(o,So,Hl),ko(o,Un()),null}function xg(o,l){var h=Kn;Kn|=1;try{return o(l)}finally{Kn=h,Kn===0&&(Id=Un()+500,_u&&M())}}function Cu(o){Dc!==null&&Dc.tag===0&&(Kn&6)===0&&Td();var l=Kn;Kn|=1;var h=ca.transition,v=ut;try{if(ca.transition=null,ut=1,o)return o()}finally{ut=v,ca.transition=h,Kn=l,(Kn&6)===0&&M()}}function _g(){Uo=Ad.current,nr(Ad)}function Au(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,ap(h)),Bi!==null)for(h=Bi.return;h!==null;){var v=h;switch(Re(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&gd();break;case 3:oa(),nr(Ms),nr(Yi),Yh();break;case 5:Wh(v);break;case 4:oa();break;case 13:nr(Er);break;case 19:nr(Er);break;case 10:Dr(v.type._context);break;case 22:case 23:_g()}h=h.return}if(ls=o,Bi=o=Mc(o.current,null),bs=Uo=l,Ki=0,Jh=null,mg=Sp=Nu=0,So=Zh=null,fr!==null){for(l=0;l<fr.length;l++)if(h=fr[l],v=h.interleaved,v!==null){h.interleaved=null;var S=v.next,T=h.pending;if(T!==null){var Y=T.next;T.next=S,v.next=Y}h.pending=v}fr=null}return o}function P2(o,l){do{var h=Bi;try{if(Yn(),vd.current=gp,Cc){for(var v=Lr.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}Cc=!1}if(aa=0,oi=mi=Lr=null,Ca=!1,Ac=0,pg.current=null,h===null||h.return===null){Ki=1,Jh=l,Bi=null;break}e:{var T=o,Y=h.return,fe=h,_e=l;if(l=bs,fe.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var je=_e,Ze=fe,it=Ze.tag;if((Ze.mode&1)===0&&(it===0||it===11||it===15)){var Je=Ze.alternate;Je?(Ze.updateQueue=Je.updateQueue,Ze.memoizedState=Je.memoizedState,Ze.lanes=Je.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var pt=n2(Y);if(pt!==null){pt.flags&=-257,r2(pt,Y,fe,T,l),pt.mode&1&&t2(T,je,l),l=pt,_e=je;var At=l.updateQueue;if(At===null){var Mt=new Set;Mt.add(_e),l.updateQueue=Mt}else At.add(_e);break e}else{if((l&1)===0){t2(T,je,l),Sg();break e}_e=Error(t(426))}}else if($e&&fe.mode&1){var _i=n2(Y);if(_i!==null){(_i.flags&65536)===0&&(_i.flags|=256),r2(_i,Y,fe,T,l),lt(Nd(_e,fe));break e}}T=_e=Nd(_e,fe),Ki!==4&&(Ki=2),Zh===null?Zh=[T]:Zh.push(T),T=Y;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var De=Zy(T,_e,l);mr(T,De);break e;case 1:fe=_e;var Ne=T.type,Me=T.stateNode;if((T.flags&128)===0&&(typeof Ne.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(Pc===null||!Pc.has(Me)))){T.flags|=65536,l&=-l,T.lanes|=l;var ot=e2(T,fe,l);mr(T,ot);break e}}T=T.return}while(T!==null)}R2(h)}catch(Ft){l=Ft,Bi===h&&h!==null&&(Bi=h=h.return);continue}break}while(!0)}function D2(){var o=_p.current;return _p.current=gp,o===null?gp:o}function Sg(){(Ki===0||Ki===3||Ki===2)&&(Ki=4),ls===null||(Nu&268435455)===0&&(Sp&268435455)===0||Rc(ls,bs)}function Ip(o,l){var h=Kn;Kn|=2;var v=D2();(ls!==o||bs!==l)&&(Hl=null,Au(o,l));do try{l4();break}catch(S){P2(o,S)}while(!0);if(Yn(),Kn=h,_p.current=v,Bi!==null)throw Error(t(261));return ls=null,bs=0,Ki}function l4(){for(;Bi!==null;)L2(Bi)}function c4(){for(;Bi!==null&&!Po();)L2(Bi)}function L2(o){var l=j2(o.alternate,o,Uo);o.memoizedProps=o.pendingProps,l===null?R2(o):Bi=l,pg.current=null}function R2(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=t4(h,l,Uo),h!==null){Bi=h;return}}else{if(h=n4(h,l),h!==null){h.flags&=32767,Bi=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ki=6,Bi=null;return}}if(l=l.sibling,l!==null){Bi=l;return}Bi=l=o}while(l!==null);Ki===0&&(Ki=5)}function Iu(o,l,h){var v=ut,S=ca.transition;try{ca.transition=null,ut=1,u4(o,l,h,v)}finally{ca.transition=S,ut=v}return null}function u4(o,l,h,v){do Td();while(Dc!==null);if((Kn&6)!==0)throw Error(t(327));h=o.finishedWork;var S=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var T=h.lanes|h.childLanes;if(qt(o,T),o===ls&&(Bi=ls=null,bs=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Ep||(Ep=!0,F2(Pi,function(){return Td(),null})),T=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||T){T=ca.transition,ca.transition=null;var Y=ut;ut=1;var fe=Kn;Kn|=4,pg.current=null,i4(o,h),k2(h,o),hu(Fl),Jo=!!bu,Fl=bu=null,o.current=h,s4(h),Cl(),Kn=fe,ut=Y,ca.transition=T}else o.current=h;if(Ep&&(Ep=!1,Dc=o,Np=S),T=o.pendingLanes,T===0&&(Pc=null),Qo(h.stateNode),ko(o,Un()),l!==null)for(v=o.onRecoverableError,h=0;h<l.length;h++)S=l[h],v(S.value,{componentStack:S.stack,digest:S.digest});if(kp)throw kp=!1,o=vg,vg=null,o;return(Np&1)!==0&&o.tag!==0&&Td(),T=o.pendingLanes,(T&1)!==0?o===yg?ef++:(ef=0,yg=o):ef=0,M(),null}function Td(){if(Dc!==null){var o=Ht(Np),l=ca.transition,h=ut;try{if(ca.transition=null,ut=16>o?16:o,Dc===null)var v=!1;else{if(o=Dc,Dc=null,Np=0,(Kn&6)!==0)throw Error(t(331));var S=Kn;for(Kn|=4,St=o.current;St!==null;){var T=St,Y=T.child;if((St.flags&16)!==0){var fe=T.deletions;if(fe!==null){for(var _e=0;_e<fe.length;_e++){var je=fe[_e];for(St=je;St!==null;){var Ze=St;switch(Ze.tag){case 0:case 11:case 15:Xh(8,Ze,T)}var it=Ze.child;if(it!==null)it.return=Ze,St=it;else for(;St!==null;){Ze=St;var Je=Ze.sibling,pt=Ze.return;if(w2(Ze),Ze===je){St=null;break}if(Je!==null){Je.return=pt,St=Je;break}St=pt}}}var At=T.alternate;if(At!==null){var Mt=At.child;if(Mt!==null){At.child=null;do{var _i=Mt.sibling;Mt.sibling=null,Mt=_i}while(Mt!==null)}}St=T}}if((T.subtreeFlags&2064)!==0&&Y!==null)Y.return=T,St=Y;else e:for(;St!==null;){if(T=St,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Xh(9,T,T.return)}var De=T.sibling;if(De!==null){De.return=T.return,St=De;break e}St=T.return}}var Ne=o.current;for(St=Ne;St!==null;){Y=St;var Me=Y.child;if((Y.subtreeFlags&2064)!==0&&Me!==null)Me.return=Y,St=Me;else e:for(Y=Ne;St!==null;){if(fe=St,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:xp(9,fe)}}catch(Ft){gi(fe,fe.return,Ft)}if(fe===Y){St=null;break e}var ot=fe.sibling;if(ot!==null){ot.return=fe.return,St=ot;break e}St=fe.return}}if(Kn=S,M(),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(Xs,o)}catch{}v=!0}return v}finally{ut=h,ca.transition=l}}return!1}function M2(o,l,h){l=Nd(h,l),l=Zy(o,l,1),o=ii(o,l,1),l=oo(),o!==null&&(kn(o,1,l),ko(o,l))}function gi(o,l,h){if(o.tag===3)M2(o,o,h);else for(;l!==null;){if(l.tag===3){M2(l,o,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Pc===null||!Pc.has(v))){o=Nd(h,o),o=e2(l,o,1),l=ii(l,o,1),o=oo(),l!==null&&(kn(l,1,o),ko(l,o));break}}l=l.return}}function d4(o,l,h){var v=o.pingCache;v!==null&&v.delete(l),l=oo(),o.pingedLanes|=o.suspendedLanes&h,ls===o&&(bs&h)===h&&(Ki===4||Ki===3&&(bs&130023424)===bs&&500>Un()-gg?Au(o,0):mg|=h),ko(o,l)}function O2(o,l){l===0&&((o.mode&1)===0?l=1:(l=We,We<<=1,(We&130023424)===0&&(We=4194304)));var h=oo();o=pr(o,l),o!==null&&(kn(o,l,h),ko(o,h))}function h4(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),O2(o,h)}function f4(o,l){var h=0;switch(o.tag){case 13:var v=o.stateNode,S=o.memoizedState;S!==null&&(h=S.retryLane);break;case 19:v=o.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(l),O2(o,h)}var j2;j2=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||Ms.current)_o=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return _o=!1,e4(o,l,h);_o=(o.flags&131072)!==0}else _o=!1,$e&&(l.flags&1048576)!==0&&Ie(l,J,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;wp(o,l),o=l.pendingProps;var S=Ec(l,Yi.current);Gr(l,h),S=Su(null,l,v,o,S,h);var T=la();return l.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Os(v)?(T=!0,Ul(l)):T=!1,l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Gi(l),S.updater=vp,l.stateNode=S,S._reactInternals=l,eg(l,v,o,h),l=ig(null,l,v,!0,T,h)):(l.tag=0,$e&&T&&qe(l),so(null,l,S,h),l=l.child),l;case 16:v=l.elementType;e:{switch(wp(o,l),o=l.pendingProps,S=v._init,v=S(v._payload),l.type=v,S=l.tag=m4(v),o=Ia(v,o),S){case 0:l=rg(null,l,v,o,h);break e;case 1:l=c2(null,l,v,o,h);break e;case 11:l=i2(null,l,v,o,h);break e;case 14:l=s2(null,l,v,Ia(v.type,o),h);break e}throw Error(t(306,v,""))}return l;case 0:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Ia(v,S),rg(o,l,v,S,h);case 1:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Ia(v,S),c2(o,l,v,S,h);case 3:e:{if(u2(l),o===null)throw Error(t(387));v=l.pendingProps,T=l.memoizedState,S=T.element,js(o,l),as(l,v,null,h);var Y=l.memoizedState;if(v=Y.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){S=Nd(Error(t(423)),l),l=d2(o,l,v,h,S);break e}else if(v!==S){S=Nd(Error(t(424)),l),l=d2(o,l,v,h,S);break e}else for(ze=ys(l.stateNode.containerInfo.firstChild),Ue=l,$e=!0,Ye=null,h=jr(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(wt(),v===S){l=ql(o,l,h);break e}so(o,l,v,h)}l=l.child}return l;case 5:return dp(l),o===null&&Et(l),v=l.type,S=l.pendingProps,T=o!==null?o.memoizedProps:null,Y=S.children,Vh(v,S)?Y=null:T!==null&&Vh(v,T)&&(l.flags|=32),l2(o,l),so(o,l,Y,h),l.child;case 6:return o===null&&Et(l),null;case 13:return h2(o,l,h);case 4:return Nc(l,l.stateNode.containerInfo),v=l.pendingProps,o===null?l.child=fi(l,null,v,h):so(o,l,v,h),l.child;case 11:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Ia(v,S),i2(o,l,v,S,h);case 7:return so(o,l,l.pendingProps,h),l.child;case 8:return so(o,l,l.pendingProps.children,h),l.child;case 12:return so(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(v=l.type._context,S=l.pendingProps,T=l.memoizedProps,Y=S.value,ar(bi,v._currentValue),v._currentValue=Y,T!==null)if(Wr(T.value,Y)){if(T.children===S.children&&!Ms.current){l=ql(o,l,h);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var fe=T.dependencies;if(fe!==null){Y=T.child;for(var _e=fe.firstContext;_e!==null;){if(_e.context===v){if(T.tag===1){_e=ri(-1,h&-h),_e.tag=2;var je=T.updateQueue;if(je!==null){je=je.shared;var Ze=je.pending;Ze===null?_e.next=_e:(_e.next=Ze.next,Ze.next=_e),je.pending=_e}}T.lanes|=h,_e=T.alternate,_e!==null&&(_e.lanes|=h),Gn(T.return,h,l),fe.lanes|=h;break}_e=_e.next}}else if(T.tag===10)Y=T.type===l.type?null:T.child;else if(T.tag===18){if(Y=T.return,Y===null)throw Error(t(341));Y.lanes|=h,fe=Y.alternate,fe!==null&&(fe.lanes|=h),Gn(Y,h,l),Y=T.sibling}else Y=T.child;if(Y!==null)Y.return=T;else for(Y=T;Y!==null;){if(Y===l){Y=null;break}if(T=Y.sibling,T!==null){T.return=Y.return,Y=T;break}Y=Y.return}T=Y}so(o,l,S.children,h),l=l.child}return l;case 9:return S=l.type,v=l.pendingProps.children,Gr(l,h),S=Kr(S),v=v(S),l.flags|=1,so(o,l,v,h),l.child;case 14:return v=l.type,S=Ia(v,l.pendingProps),S=Ia(v.type,S),s2(o,l,v,S,h);case 15:return o2(o,l,l.type,l.pendingProps,h);case 17:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Ia(v,S),wp(o,l),l.tag=1,Os(v)?(o=!0,Ul(l)):o=!1,Gr(l,h),Xy(l,v,S),eg(l,v,S,h),ig(null,l,v,!0,o,h);case 19:return p2(o,l,h);case 22:return a2(o,l,h)}throw Error(t(156,l.tag))};function F2(o,l){return As(o,l)}function p4(o,l,h,v){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(o,l,h,v){return new p4(o,l,h,v)}function kg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function m4(o){if(typeof o=="function")return kg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===k)return 11;if(o===ue)return 14}return 2}function Mc(o,l){var h=o.alternate;return h===null?(h=ua(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function Tp(o,l,h,v,S,T){var Y=2;if(v=o,typeof o=="function")kg(o)&&(Y=1);else if(typeof o=="string")Y=5;else e:switch(o){case W:return Tu(h.children,S,T,l);case O:Y=8,S|=8;break;case C:return o=ua(12,h,l,S|2),o.elementType=C,o.lanes=T,o;case D:return o=ua(13,h,l,S),o.elementType=D,o.lanes=T,o;case X:return o=ua(19,h,l,S),o.elementType=X,o.lanes=T,o;case me:return Pp(h,S,T,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case j:Y=10;break e;case N:Y=9;break e;case k:Y=11;break e;case ue:Y=14;break e;case ge:Y=16,v=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=ua(Y,h,l,S),l.elementType=o,l.type=v,l.lanes=T,l}function Tu(o,l,h,v){return o=ua(7,o,v,l),o.lanes=h,o}function Pp(o,l,h,v){return o=ua(22,o,v,l),o.elementType=me,o.lanes=h,o.stateNode={isHidden:!1},o}function Eg(o,l,h){return o=ua(6,o,null,l),o.lanes=h,o}function Ng(o,l,h){return l=ua(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function g4(o,l,h,v,S){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yn(0),this.expirationTimes=yn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yn(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Cg(o,l,h,v,S,T,Y,fe,_e){return o=new g4(o,l,h,fe,_e),l===1?(l=1,T===!0&&(l|=8)):l=0,T=ua(3,null,null,l),o.current=T,T.stateNode=o,T.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gi(T),o}function v4(o,l,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:v==null?null:""+v,children:o,containerInfo:l,implementation:h}}function B2(o){if(!o)return tl;o=o._reactInternals;e:{if(Ar(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Os(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var h=o.type;if(Os(h))return Hh(o,h,l)}return l}function V2(o,l,h,v,S,T,Y,fe,_e){return o=Cg(h,v,!0,o,S,T,Y,fe,_e),o.context=B2(null),h=o.current,v=oo(),S=Lc(h),T=ri(v,S),T.callback=l??null,ii(h,T,S),o.current.lanes=S,kn(o,S,v),ko(o,v),o}function Dp(o,l,h,v){var S=l.current,T=oo(),Y=Lc(S);return h=B2(h),l.context===null?l.context=h:l.pendingContext=h,l=ri(T,Y),l.payload={element:o},v=v===void 0?null:v,v!==null&&(l.callback=v),o=ii(S,l,Y),o!==null&&(Da(o,S,Y,T),os(o,S,Y)),Y}function Lp(o){return o=o.current,o.child?(o.child.tag===5,o.child.stateNode):null}function U2(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function Ag(o,l){U2(o,l),(o=o.alternate)&&U2(o,l)}function y4(){return null}var z2=typeof reportError=="function"?reportError:function(o){console.error(o)};function Ig(o){this._internalRoot=o}Rp.prototype.render=Ig.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));Dp(o,l,null,null)},Rp.prototype.unmount=Ig.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Cu(function(){Dp(null,o,null,null)}),l[is]=null}};function Rp(o){this._internalRoot=o}Rp.prototype.unstable_scheduleHydration=function(o){if(o){var l=dr();o={blockedOn:null,target:o,priority:l};for(var h=0;h<fo.length&&l!==0&&l<fo[h].priority;h++);fo.splice(h,0,o),h===0&&fc(o)}};function Tg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Mp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function q2(){}function w4(o,l,h,v,S){if(S){if(typeof v=="function"){var T=v;v=function(){var je=Lp(Y);T.call(je)}}var Y=V2(l,v,o,0,null,!1,!1,"",q2);return o._reactRootContainer=Y,o[is]=Y.current,Ol(o.nodeType===8?o.parentNode:o),Cu(),Y}for(;S=o.lastChild;)o.removeChild(S);if(typeof v=="function"){var fe=v;v=function(){var je=Lp(_e);fe.call(je)}}var _e=Cg(o,0,!1,null,null,!1,!1,"",q2);return o._reactRootContainer=_e,o[is]=_e.current,Ol(o.nodeType===8?o.parentNode:o),Cu(function(){Dp(l,_e,h,v)}),_e}function Op(o,l,h,v,S){var T=h._reactRootContainer;if(T){var Y=T;if(typeof S=="function"){var fe=S;S=function(){var _e=Lp(Y);fe.call(_e)}}Dp(l,Y,o,S)}else Y=w4(h,l,o,S,v);return Lp(Y)}ur=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=Qe(l.pendingLanes);h!==0&&(_r(l,h|1),ko(l,Un()),(Kn&6)===0&&(Id=Un()+500,M()))}break;case 13:Cu(function(){var v=pr(o,1);if(v!==null){var S=oo();Da(v,o,1,S)}}),Ag(o,1)}},Ir=function(o){if(o.tag===13){var l=pr(o,134217728);if(l!==null){var h=oo();Da(l,o,134217728,h)}Ag(o,134217728)}},Zr=function(o){if(o.tag===13){var l=Lc(o),h=pr(o,l);if(h!==null){var v=oo();Da(h,o,l,v)}Ag(o,l)}},dr=function(){return ut},ei=function(o,l){var h=ut;try{return ut=o,l()}finally{ut=h}},Jt=function(o,l,h){switch(l){case"input":if(cn(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==o&&v.form===o.form){var S=xu(v);if(!S)throw Error(t(90));ct(v),cn(v,S)}}}break;case"textarea":En(o,h);break;case"select":l=h.value,l!=null&&dt(o,!!h.multiple,l,!1)}},rn=xg,br=Cu;var b4={usingClientEntryPoint:!1,Events:[kc,Bl,xu,vn,Ii,xg]},tf={findFiberByHostInstance:el,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x4={bundleType:tf.bundleType,version:tf.version,rendererPackageName:tf.rendererPackageName,rendererConfig:tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=ns(o),o===null?null:o.stateNode},findFiberByHostInstance:tf.findFiberByHostInstance||y4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{Xs=jp.inject(x4),Di=jp}catch{}}return Eo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b4,Eo.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tg(l))throw Error(t(200));return v4(o,l,null,h)},Eo.createRoot=function(o,l){if(!Tg(o))throw Error(t(299));var h=!1,v="",S=z2;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=Cg(o,1,!1,null,null,h,!1,v,S),o[is]=l.current,Ol(o.nodeType===8?o.parentNode:o),new Ig(l)},Eo.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=ns(l),o=o===null?null:o.stateNode,o},Eo.flushSync=function(o){return Cu(o)},Eo.hydrate=function(o,l,h){if(!Mp(l))throw Error(t(200));return Op(null,o,l,!0,h)},Eo.hydrateRoot=function(o,l,h){if(!Tg(o))throw Error(t(405));var v=h!=null&&h.hydratedSources||null,S=!1,T="",Y=z2;if(h!=null&&(h.unstable_strictMode===!0&&(S=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onRecoverableError!==void 0&&(Y=h.onRecoverableError)),l=V2(l,null,o,1,h??null,S,!1,T,Y),o[is]=l.current,Ol(o),v)for(o=0;o<v.length;o++)h=v[o],S=h._getVersion,S=S(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,S]:l.mutableSourceEagerHydrationData.push(h,S);return new Rp(l)},Eo.render=function(o,l,h){if(!Mp(l))throw Error(t(200));return Op(null,o,l,!1,h)},Eo.unmountComponentAtNode=function(o){if(!Mp(o))throw Error(t(40));return o._reactRootContainer?(Cu(function(){Op(null,null,o,!1,function(){o._reactRootContainer=null,o[is]=null})}),!0):!1},Eo.unstable_batchedUpdates=xg,Eo.unstable_renderSubtreeIntoContainer=function(o,l,h,v){if(!Mp(h))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Op(o,l,h,!1,v)},Eo.version="18.3.1-next-f1338f8080-20240426",Eo}var X2;function Mx(){if(X2)return Lg.exports;X2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lg.exports=I4(),Lg.exports}var J2;function T4(){if(J2)return Fp;J2=1;var r=Mx();return Fp.createRoot=r.createRoot,Fp.hydrateRoot=r.hydrateRoot,Fp}var P4=T4();const D4=E1(P4);var Z2={};const Ox=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},L4=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[t++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[t++],a=r[t++],c=r[t++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const s=r[t++],a=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},jx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],a=i+1<r.length,c=a?r[i+1]:0,u=i+2<r.length,d=u?r[i+2]:0,f=s>>2,w=(s&3)<<4|c>>4;let x=(c&15)<<2|d>>6,g=d&63;u||(g=64,a||(x=64)),n.push(t[f],t[w],t[x],t[g])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Ox(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):L4(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const d=i<r.length?t[r.charAt(i)]:64;++i;const w=i<r.length?t[r.charAt(i)]:64;if(++i,s==null||c==null||d==null||w==null)throw new R4;const x=s<<2|c>>4;if(n.push(x),d!==64){const g=c<<4&240|d>>2;if(n.push(g),w!==64){const A=d<<6&192|w;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class R4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M4=function(r){const e=Ox(r);return jx.encodeByteArray(e,!0)},Tm=function(r){return M4(r).replace(/\./g,"")},Fx=function(r){try{return jx.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function O4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const j4=()=>O4().__FIREBASE_DEFAULTS__,F4=()=>{if(typeof process>"u"||typeof Z2>"u")return;const r=Z2.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},B4=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Fx(r[1]);return e&&JSON.parse(e)},h0=()=>{try{return j4()||F4()||B4()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Bx=r=>{var e,t;return(t=(e=h0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},V4=r=>{const e=Bx(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},Vx=()=>{var r;return(r=h0())===null||r===void 0?void 0:r.config},Ux=r=>{var e;return(e=h0())===null||e===void 0?void 0:e[`_${r}`]};class U4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function z4(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Tm(JSON.stringify(t)),Tm(JSON.stringify(a)),""].join(".")}function Ks(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ks())}function H4(){var r;const e=(r=h0())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $4(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Y4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G4(){const r=Ks();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function K4(){return!H4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q4(){try{return typeof indexedDB=="object"}catch{return!1}}function X4(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}const J4="FirebaseError";class uc extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=J4,Object.setPrototypeOf(this,uc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zf.prototype.create)}}class zf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Z4(s,n):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new uc(i,c,n)}}function Z4(r,e){return r.replace(eN,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const eN=/\{\$([^}]+)}/g;function tN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Pm(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const s=r[i],a=e[i];if(ew(s)&&ew(a)){if(!Pm(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function ew(r){return r!==null&&typeof r=="object"}function qf(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function df(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hf(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function nN(r,e){const t=new rN(r,e);return t.subscribe.bind(t)}class rN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");iN(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Og),i.error===void 0&&(i.error=Og),i.complete===void 0&&(i.complete=Og);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iN(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Og(){}function es(r){return r&&r._delegate?r._delegate:r}class Gu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Du="[DEFAULT]";class sN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new U4;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aN(e))try{this.getOrInitializeService({instanceIdentifier:Du})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Du){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Du){return this.instances.has(e)}getOptions(e=Du){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&a.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:oN(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Du){return this.component?this.component.multipleInstances?e:Du:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oN(r){return r===Du?void 0:r}function aN(r){return r.instantiationMode==="EAGER"}class lN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Fn;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fn||(Fn={}));const cN={debug:Fn.DEBUG,verbose:Fn.VERBOSE,info:Fn.INFO,warn:Fn.WARN,error:Fn.ERROR,silent:Fn.SILENT},uN=Fn.INFO,dN={[Fn.DEBUG]:"log",[Fn.VERBOSE]:"log",[Fn.INFO]:"info",[Fn.WARN]:"warn",[Fn.ERROR]:"error"},hN=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=dN[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C1{constructor(e){this.name=e,this._logLevel=uN,this._logHandler=hN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fn.DEBUG,...e),this._logHandler(this,Fn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fn.VERBOSE,...e),this._logHandler(this,Fn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fn.INFO,...e),this._logHandler(this,Fn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fn.WARN,...e),this._logHandler(this,Fn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fn.ERROR,...e),this._logHandler(this,Fn.ERROR,...e)}}const fN=(r,e)=>e.some(t=>r instanceof t);let tw,nw;function pN(){return tw||(tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mN(){return nw||(nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zx=new WeakMap,Rv=new WeakMap,qx=new WeakMap,jg=new WeakMap,A1=new WeakMap;function gN(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",a)},s=()=>{t(Gc(r.result)),i()},a=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&zx.set(t,r)}).catch(()=>{}),A1.set(e,r),e}function vN(r){if(Rv.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",a),r.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",a),r.addEventListener("abort",a)});Rv.set(r,e)}let Mv={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Rv.get(r);if(e==="objectStoreNames")return r.objectStoreNames||qx.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gc(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yN(r){Mv=r(Mv)}function wN(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Fg(this),e,...t);return qx.set(n,e.sort?e.sort():[e]),Gc(n)}:mN().includes(r)?function(...e){return r.apply(Fg(this),e),Gc(zx.get(this))}:function(...e){return Gc(r.apply(Fg(this),e))}}function bN(r){return typeof r=="function"?wN(r):(r instanceof IDBTransaction&&vN(r),fN(r,pN())?new Proxy(r,Mv):r)}function Gc(r){if(r instanceof IDBRequest)return gN(r);if(jg.has(r))return jg.get(r);const e=bN(r);return e!==r&&(jg.set(r,e),A1.set(e,r)),e}const Fg=r=>A1.get(r);function xN(r,e,{blocked:t,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(r,e),c=Gc(a);return n&&a.addEventListener("upgradeneeded",u=>{n(Gc(a.result),u.oldVersion,u.newVersion,Gc(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const _N=["get","getKey","getAll","getAllKeys","count"],SN=["put","add","delete","clear"],Bg=new Map;function rw(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Bg.get(e))return Bg.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=SN.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||_N.includes(t)))return;const s=async function(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),i&&u.done]))[0]};return Bg.set(e,s),s}yN(r=>({...r,get:(e,t,n)=>rw(e,t)||r.get(e,t,n),has:(e,t)=>!!rw(e,t)||r.has(e,t)}));class kN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(EN(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function EN(r){const e=r.getComponent();return e?.type==="VERSION"}const Ov="@firebase/app",iw="0.10.13";const ic=new C1("@firebase/app"),NN="@firebase/app-compat",CN="@firebase/analytics-compat",AN="@firebase/analytics",IN="@firebase/app-check-compat",TN="@firebase/app-check",PN="@firebase/auth",DN="@firebase/auth-compat",LN="@firebase/database",RN="@firebase/data-connect",MN="@firebase/database-compat",ON="@firebase/functions",jN="@firebase/functions-compat",FN="@firebase/installations",BN="@firebase/installations-compat",VN="@firebase/messaging",UN="@firebase/messaging-compat",zN="@firebase/performance",qN="@firebase/performance-compat",HN="@firebase/remote-config",WN="@firebase/remote-config-compat",$N="@firebase/storage",YN="@firebase/storage-compat",GN="@firebase/firestore",KN="@firebase/vertexai-preview",QN="@firebase/firestore-compat",XN="firebase",JN="10.14.1";const jv="[DEFAULT]",ZN={[Ov]:"fire-core",[NN]:"fire-core-compat",[AN]:"fire-analytics",[CN]:"fire-analytics-compat",[TN]:"fire-app-check",[IN]:"fire-app-check-compat",[PN]:"fire-auth",[DN]:"fire-auth-compat",[LN]:"fire-rtdb",[RN]:"fire-data-connect",[MN]:"fire-rtdb-compat",[ON]:"fire-fn",[jN]:"fire-fn-compat",[FN]:"fire-iid",[BN]:"fire-iid-compat",[VN]:"fire-fcm",[UN]:"fire-fcm-compat",[zN]:"fire-perf",[qN]:"fire-perf-compat",[HN]:"fire-rc",[WN]:"fire-rc-compat",[$N]:"fire-gcs",[YN]:"fire-gcs-compat",[GN]:"fire-fst",[QN]:"fire-fst-compat",[KN]:"fire-vertex","fire-js":"fire-js",[XN]:"fire-js-all"};const Dm=new Map,eC=new Map,Fv=new Map;function sw(r,e){try{r.container.addComponent(e)}catch(t){ic.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function oh(r){const e=r.name;if(Fv.has(e))return ic.debug(`There were multiple attempts to register component ${e}.`),!1;Fv.set(e,r);for(const t of Dm.values())sw(t,r);for(const t of eC.values())sw(t,r);return!0}function I1(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Ql(r){return r.settings!==void 0}const tC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kc=new zf("app","Firebase",tC);class nC{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Gu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kc.create("app-deleted",{appName:this._name})}}const kh=JN;function Hx(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:jv,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Kc.create("bad-app-name",{appName:String(i)});if(t||(t=Vx()),!t)throw Kc.create("no-options");const s=Dm.get(i);if(s){if(Pm(t,s.options)&&Pm(n,s.config))return s;throw Kc.create("duplicate-app",{appName:i})}const a=new lN(i);for(const u of Fv.values())a.addComponent(u);const c=new nC(t,n,a);return Dm.set(i,c),c}function Wx(r=jv){const e=Dm.get(r);if(!e&&r===jv&&Vx())return Hx();if(!e)throw Kc.create("no-app",{appName:r});return e}function Qc(r,e,t){var n;let i=(n=ZN[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ic.warn(c.join(" "));return}oh(new Gu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const rC="firebase-heartbeat-database",iC=1,Cf="firebase-heartbeat-store";let Vg=null;function $x(){return Vg||(Vg=xN(rC,iC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Cf)}catch(t){console.warn(t)}}}}).catch(r=>{throw Kc.create("idb-open",{originalErrorMessage:r.message})})),Vg}async function sC(r){try{const t=(await $x()).transaction(Cf),n=await t.objectStore(Cf).get(Yx(r));return await t.done,n}catch(e){if(e instanceof uc)ic.warn(e.message);else{const t=Kc.create("idb-get",{originalErrorMessage:e?.message});ic.warn(t.message)}}}async function ow(r,e){try{const n=(await $x()).transaction(Cf,"readwrite");await n.objectStore(Cf).put(e,Yx(r)),await n.done}catch(t){if(t instanceof uc)ic.warn(t.message);else{const n=Kc.create("idb-set",{originalErrorMessage:t?.message});ic.warn(n.message)}}}function Yx(r){return`${r.name}!${r.options.appId}`}const oC=1024,aC=720*60*60*1e3;class lC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uC(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=aC}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ic.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=aw(),{heartbeatsToSend:n,unsentEntries:i}=cC(this._heartbeatsCache.heartbeats),s=Tm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ic.warn(t),""}}}function aw(){return new Date().toISOString().substring(0,10)}function cC(r,e=oC){const t=[];let n=r.slice();for(const i of r){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),lw(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),lw(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class uC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q4()?X4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ow(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ow(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lw(r){return Tm(JSON.stringify({version:2,heartbeats:r})).length}function dC(r){oh(new Gu("platform-logger",e=>new kN(e),"PRIVATE")),oh(new Gu("heartbeat",e=>new lC(e),"PRIVATE")),Qc(Ov,iw,r),Qc(Ov,iw,"esm2017"),Qc("fire-js","")}dC("");function T1(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Gx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hC=Gx,Kx=new zf("auth","Firebase",Gx());const Lm=new C1("@firebase/auth");function fC(r,...e){Lm.logLevel<=Fn.WARN&&Lm.warn(`Auth (${kh}): ${r}`,...e)}function cm(r,...e){Lm.logLevel<=Fn.ERROR&&Lm.error(`Auth (${kh}): ${r}`,...e)}function Va(r,...e){throw P1(r,...e)}function gl(r,...e){return P1(r,...e)}function Qx(r,e,t){const n=Object.assign(Object.assign({},hC()),{[e]:t});return new zf("auth","Firebase",n).create(e,{appName:r.name})}function Xc(r){return Qx(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P1(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Kx.create(r,...e)}function un(r,e,...t){if(!r)throw P1(e,...t)}function Xl(r){const e="INTERNAL ASSERTION FAILED: "+r;throw cm(e),new Error(e)}function sc(r,e){r||Xl(e)}function Bv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function pC(){return cw()==="http:"||cw()==="https:"}function cw(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function mC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pC()||$4()||"connection"in navigator)?navigator.onLine:!0}function gC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Hf{constructor(e,t){this.shortDelay=e,this.longDelay=t,sc(t>e,"Short delay should be less than long delay!"),this.isMobile=q4()||Y4()}get(){return mC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function D1(r,e){sc(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Xx{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yC=new Hf(3e4,6e4);function id(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function cu(r,e,t,n,i={}){return Jx(r,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const c=qf(Object.assign({key:r.config.apiKey},a)).slice(1),u=await r._getAdditionalHeaders();u["Content-Type"]="application/json",r.languageCode&&(u["X-Firebase-Locale"]=r.languageCode);const d=Object.assign({method:e,headers:u},s);return W4()||(d.referrerPolicy="no-referrer"),Xx.fetch()(Zx(r,r.config.apiHost,t,c),d)})}async function Jx(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},vC),e);try{const i=new bC(r),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Bp(r,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bp(r,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Bp(r,"email-already-in-use",a);if(u==="USER_DISABLED")throw Bp(r,"user-disabled",a);const f=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Qx(r,f,d);Va(r,f)}}catch(i){if(i instanceof uc)throw i;Va(r,"network-request-failed",{message:String(i)})}}async function f0(r,e,t,n,i={}){const s=await cu(r,e,t,n,i);return"mfaPendingCredential"in s&&Va(r,"multi-factor-auth-required",{_serverResponse:s}),s}function Zx(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?D1(r.config,i):`${r.config.apiScheme}://${i}`}function wC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(gl(this.auth,"network-request-failed")),yC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bp(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=gl(r,e,n);return i.customData._tokenResponse=t,i}function uw(r){return r!==void 0&&r.enterprise!==void 0}class xC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function _C(r,e){return cu(r,"GET","/v2/recaptchaConfig",id(r,e))}async function SC(r,e){return cu(r,"POST","/v1/accounts:delete",e)}async function e_(r,e){return cu(r,"POST","/v1/accounts:lookup",e)}function wf(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kC(r,e=!1){const t=es(r),n=await t.getIdToken(e),i=L1(n);un(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:n,authTime:wf(Ug(i.auth_time)),issuedAtTime:wf(Ug(i.iat)),expirationTime:wf(Ug(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Ug(r){return Number(r)*1e3}function L1(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return cm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fx(t);return i?JSON.parse(i):(cm("Failed to decode base64 JWT payload"),null)}catch(i){return cm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dw(r){const e=L1(r);return un(e,"internal-error"),un(typeof e.exp<"u","internal-error"),un(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Af(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof uc&&EC(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function EC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class NC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wf(this.lastLoginAt),this.creationTime=wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rm(r){var e;const t=r.auth,n=await r.getIdToken(),i=await Af(r,e_(t,{idToken:n}));un(i?.users.length,t,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?t_(s.providerUserInfo):[],c=AC(r.providerData,a),u=r.isAnonymous,d=!(r.email&&s.passwordHash)&&!c?.length,f=u?d:!1,w={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Vv(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(r,w)}async function CC(r){const e=es(r);await Rm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AC(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function t_(r){return r.map(e=>{var{providerId:t}=e,n=T1(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function IC(r,e){const t=await Jx(r,{},async()=>{const n=qf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,a=Zx(r,i,"/v1/token",`key=${s}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Xx.fetch()(a,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function TC(r,e){return cu(r,"POST","/v2/accounts:revokeToken",id(r,e))}class Gd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){un(e.idToken,"internal-error"),un(typeof e.idToken<"u","internal-error"),un(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){un(e.length!==0,"internal-error");const t=dw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(un(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await IC(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:s}=t,a=new Gd;return n&&(un(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(un(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(un(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gd,this.toJSON())}_performRefresh(){return Xl("not implemented")}}function jc(r,e){un(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jl{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,s=T1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Af(this,this.stsTokenManager.getToken(this.auth,e));return un(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kC(this,e)}reload(){return CC(this)}_assign(e){this!==e&&(un(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){un(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Rm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ql(this.auth.app))return Promise.reject(Xc(this.auth));const e=await this.getIdToken();return await Af(this,SC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,s,a,c,u,d,f;const w=(n=t.displayName)!==null&&n!==void 0?n:void 0,x=(i=t.email)!==null&&i!==void 0?i:void 0,g=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(a=t.photoURL)!==null&&a!==void 0?a:void 0,R=(c=t.tenantId)!==null&&c!==void 0?c:void 0,P=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,L=(d=t.createdAt)!==null&&d!==void 0?d:void 0,V=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:U,emailVerified:z,isAnonymous:ne,providerData:ce,stsTokenManager:W}=t;un(U&&W,e,"internal-error");const O=Gd.fromJSON(this.name,W);un(typeof U=="string",e,"internal-error"),jc(w,e.name),jc(x,e.name),un(typeof z=="boolean",e,"internal-error"),un(typeof ne=="boolean",e,"internal-error"),jc(g,e.name),jc(A,e.name),jc(R,e.name),jc(P,e.name),jc(L,e.name),jc(V,e.name);const C=new Jl({uid:U,auth:e,email:x,emailVerified:z,displayName:w,isAnonymous:ne,photoURL:A,phoneNumber:g,tenantId:R,stsTokenManager:O,createdAt:L,lastLoginAt:V});return ce&&Array.isArray(ce)&&(C.providerData=ce.map(j=>Object.assign({},j))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,n=!1){const i=new Gd;i.updateFromServerResponse(t);const s=new Jl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Rm(s),s}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];un(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?t_(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,c=new Gd;c.updateFromIdToken(n);const u=new Jl({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Vv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u}}const hw=new Map;function Zl(r){sc(r instanceof Function,"Expected a class definition");let e=hw.get(r);return e?(sc(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,hw.set(r,e),e)}class n_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}n_.type="NONE";const fw=n_;function um(r,e,t){return`firebase:${r}:${e}:${t}`}class Kd{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=um(this.userKey,i.apiKey,s),this.fullPersistenceKey=um("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Kd(Zl(fw),e,n);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Zl(fw);const a=um(n,e.config.apiKey,e.name);let c=null;for(const d of t)try{const f=await d._get(a);if(f){const w=Jl._fromJSON(e,f);d!==s&&(c=w),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Kd(s,e,n):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new Kd(s,e,n))}}function pw(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(o_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l_(e))return"Blackberry";if(c_(e))return"Webos";if(i_(e))return"Safari";if((e.includes("chrome/")||s_(e))&&!e.includes("edge/"))return"Chrome";if(a_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function r_(r=Ks()){return/firefox\//i.test(r)}function i_(r=Ks()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s_(r=Ks()){return/crios\//i.test(r)}function o_(r=Ks()){return/iemobile/i.test(r)}function a_(r=Ks()){return/android/i.test(r)}function l_(r=Ks()){return/blackberry/i.test(r)}function c_(r=Ks()){return/webos/i.test(r)}function R1(r=Ks()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PC(r=Ks()){var e;return R1(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DC(){return G4()&&document.documentMode===10}function u_(r=Ks()){return R1(r)||a_(r)||c_(r)||l_(r)||/windows phone/i.test(r)||o_(r)}function d_(r,e=[]){let t;switch(r){case"Browser":t=pw(Ks());break;case"Worker":t=`${pw(Ks())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${kh}/${n}`}class LC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((a,c)=>{try{const u=e(s);a(u)}catch(u){c(u)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function RC(r,e={}){return cu(r,"GET","/v2/passwordPolicy",id(r,e))}const MC=6;class OC{constructor(e){var t,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:MC,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(n=u.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class jC{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mw(this),this.idTokenSubscription=new mw(this),this.beforeStateQueue=new LC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zl(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Kd.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await e_(this,{idToken:e}),n=await Jl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ql(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return un(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ql(this.app))return Promise.reject(Xc(this));const t=e?es(e):null;return t&&un(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&un(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ql(this.app)?Promise.reject(Xc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ql(this.app)?Promise.reject(Xc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RC(this),t=new OC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zf("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await TC(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zl(e)||this._popupRedirectResolver;un(t,this,"argument-error"),this.redirectPersistenceManager=await Kd.create(this,[Zl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(un(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,n,i);return()=>{a=!0,u()}}else{const u=e.addObserver(t);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return un(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&fC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Eh(r){return es(r)}class mw{constructor(e){this.auth=e,this.observer=null,this.addObserver=nN(t=>this.observer=t)}get next(){return un(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let p0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FC(r){p0=r}function h_(r){return p0.loadJS(r)}function BC(){return p0.recaptchaEnterpriseScript}function VC(){return p0.gapiScript}function UC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const zC="recaptcha-enterprise",qC="NO_RECAPTCHA";class HC{constructor(e){this.type=zC,this.auth=Eh(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{_C(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new xC(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function i(s,a,c){const u=window.grecaptcha;uw(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(qC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(c=>{if(!t&&uw(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=BC();u.length!==0&&(u+=c),h_(u).then(()=>{i(c,s,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function gw(r,e,t,n=!1){const i=new HC(r);let s;try{s=await i.verify(t)}catch{s=await i.verify(t,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vw(r,e,t,n){var i;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await gw(r,e,t,t==="getOobCode");return n(r,s)}else return n(r,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await gw(r,e,t,t==="getOobCode");return n(r,a)}else return Promise.reject(s)})}function WC(r,e){const t=I1(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Pm(s,e??{}))return i;Va(i,"already-initialized")}return t.initialize({options:e})}function $C(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(Zl);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function YC(r,e,t){const n=Eh(r);un(n._canInitEmulator,n,"emulator-config-failed"),un(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=f_(e),{host:a,port:c}=GC(e),u=c===null?"":`:${c}`;n.config.emulator={url:`${s}//${a}${u}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),KC()}function f_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function GC(r){const e=f_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:yw(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:yw(a)}}}function yw(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function KC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class M1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xl("not implemented")}_getIdTokenResponse(e){return Xl("not implemented")}_linkToIdToken(e,t){return Xl("not implemented")}_getReauthenticationResolver(e){return Xl("not implemented")}}async function QC(r,e){return cu(r,"POST","/v1/accounts:signUp",e)}async function XC(r,e){return f0(r,"POST","/v1/accounts:signInWithPassword",id(r,e))}async function JC(r,e){return f0(r,"POST","/v1/accounts:signInWithEmailLink",id(r,e))}async function ZC(r,e){return f0(r,"POST","/v1/accounts:signInWithEmailLink",id(r,e))}class If extends M1{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new If(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new If(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,t,"signInWithPassword",XC);case"emailLink":return JC(e,{email:this._email,oobCode:this._password});default:Va(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,n,"signUpPassword",QC);case"emailLink":return ZC(e,{idToken:t,email:this._email,oobCode:this._password});default:Va(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qd(r,e){return f0(r,"POST","/v1/accounts:signInWithIdp",id(r,e))}const eA="http://localhost";class Ku extends M1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ku(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Va("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,s=T1(t,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Ku(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Qd(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qd(e,t)}buildRequest(){const e={requestUri:eA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qf(t)}return e}}function tA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nA(r){const e=df(hf(r)).link,t=e?df(hf(e)).deep_link_id:null,n=df(hf(r)).deep_link_id;return(n?df(hf(n)).link:null)||n||t||e||r}class O1{constructor(e){var t,n,i,s,a,c;const u=df(hf(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,f=(n=u.oobCode)!==null&&n!==void 0?n:null,w=tA((i=u.mode)!==null&&i!==void 0?i:null);un(d&&f&&w,"argument-error"),this.apiKey=d,this.operation=w,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=nA(e);try{return new O1(t)}catch{return null}}}class Nh{constructor(){this.providerId=Nh.PROVIDER_ID}static credential(e,t){return If._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=O1.parseLink(t);return un(n,"argument-error"),If._fromEmailAndCode(e,n.code,n.tenantId)}}Nh.PROVIDER_ID="password";Nh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class p_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wf extends p_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Uc extends Wf{constructor(){super("facebook.com")}static credential(e){return Ku._fromParams({providerId:Uc.PROVIDER_ID,signInMethod:Uc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uc.credentialFromTaggedObject(e)}static credentialFromError(e){return Uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uc.credential(e.oauthAccessToken)}catch{return null}}}Uc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uc.PROVIDER_ID="facebook.com";class zc extends Wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ku._fromParams({providerId:zc.PROVIDER_ID,signInMethod:zc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zc.credentialFromTaggedObject(e)}static credentialFromError(e){return zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return zc.credential(t,n)}catch{return null}}}zc.GOOGLE_SIGN_IN_METHOD="google.com";zc.PROVIDER_ID="google.com";class qc extends Wf{constructor(){super("github.com")}static credential(e){return Ku._fromParams({providerId:qc.PROVIDER_ID,signInMethod:qc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qc.credentialFromTaggedObject(e)}static credentialFromError(e){return qc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qc.credential(e.oauthAccessToken)}catch{return null}}}qc.GITHUB_SIGN_IN_METHOD="github.com";qc.PROVIDER_ID="github.com";class Hc extends Wf{constructor(){super("twitter.com")}static credential(e,t){return Ku._fromParams({providerId:Hc.PROVIDER_ID,signInMethod:Hc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hc.credentialFromTaggedObject(e)}static credentialFromError(e){return Hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Hc.credential(t,n)}catch{return null}}}Hc.TWITTER_SIGN_IN_METHOD="twitter.com";Hc.PROVIDER_ID="twitter.com";class ah{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const s=await Jl._fromIdTokenResponse(e,n,i),a=ww(n);return new ah({user:s,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=ww(n);return new ah({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function ww(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Mm extends uc{constructor(e,t,n,i){var s;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Mm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Mm(e,t,n,i)}}function m_(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mm._fromErrorAndOperation(r,s,e,n):s})}async function rA(r,e,t=!1){const n=await Af(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ah._forOperation(r,"link",n)}async function iA(r,e,t=!1){const{auth:n}=r;if(Ql(n.app))return Promise.reject(Xc(n));const i="reauthenticate";try{const s=await Af(r,m_(n,i,e,r),t);un(s.idToken,n,"internal-error");const a=L1(s.idToken);un(a,n,"internal-error");const{sub:c}=a;return un(r.uid===c,n,"user-mismatch"),ah._forOperation(r,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Va(n,"user-mismatch"),s}}async function g_(r,e,t=!1){if(Ql(r.app))return Promise.reject(Xc(r));const n="signIn",i=await m_(r,n,e),s=await ah._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(s.user),s}async function sA(r,e){return g_(Eh(r),e)}async function oA(r){const e=Eh(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function aA(r,e,t){return Ql(r.app)?Promise.reject(Xc(r)):sA(es(r),Nh.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&oA(r),n})}function lA(r,e,t,n){return es(r).onIdTokenChanged(e,t,n)}function cA(r,e,t){return es(r).beforeAuthStateChanged(e,t)}function uA(r,e,t,n){return es(r).onAuthStateChanged(e,t,n)}function dA(r){return es(r).signOut()}const Om="__sak";class v_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Om,"1"),this.storage.removeItem(Om),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const hA=1e3,fA=10;class y_ extends v_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!t&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);DC()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fA):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},hA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}y_.type="LOCAL";const pA=y_;class w_ extends v_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}w_.type="SESSION";const b_=w_;function mA(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class m0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new m0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(a).map(async d=>d(t.origin,s)),u=await mA(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m0.receivers=[];function j1(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}class gA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const d=j1("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(w){const x=w;if(x.data.eventId===d)switch(x.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(x.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function vl(){return window}function vA(r){vl().location.href=r}function x_(){return typeof vl().WorkerGlobalScope<"u"&&typeof vl().importScripts=="function"}async function yA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wA(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function bA(){return x_()?self:null}const __="firebaseLocalStorageDb",xA=1,jm="firebaseLocalStorage",S_="fbase_key";class $f{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function g0(r,e){return r.transaction([jm],e?"readwrite":"readonly").objectStore(jm)}function _A(){const r=indexedDB.deleteDatabase(__);return new $f(r).toPromise()}function Uv(){const r=indexedDB.open(__,xA);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(jm,{keyPath:S_})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(jm)?e(n):(n.close(),await _A(),e(await Uv()))})})}async function bw(r,e,t){const n=g0(r,!0).put({[S_]:e,value:t});return new $f(n).toPromise()}async function SA(r,e){const t=g0(r,!1).get(e),n=await new $f(t).toPromise();return n===void 0?null:n.value}function xw(r,e){const t=g0(r,!0).delete(e);return new $f(t).toPromise()}const kA=800,EA=3;class k_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>EA)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m0._getInstance(bA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await yA(),!this.activeServiceWorker)return;this.sender=new gA(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uv();return await bw(e,Om,"1"),await xw(e,Om),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>bw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>SA(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=g0(i,!1).getAll();return new $f(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k_.type="LOCAL";const NA=k_;new Hf(3e4,6e4);function CA(r,e){return e?Zl(e):(un(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class F1 extends M1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AA(r){return g_(r.auth,new F1(r),r.bypassAuthState)}function IA(r){const{auth:e,user:t}=r;return un(t,e,"internal-error"),iA(t,new F1(r),r.bypassAuthState)}async function TA(r){const{auth:e,user:t}=r;return un(t,e,"internal-error"),rA(t,new F1(r),r.bypassAuthState)}class E_{constructor(e,t,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AA;case"linkViaPopup":case"linkViaRedirect":return TA;case"reauthViaPopup":case"reauthViaRedirect":return IA;default:Va(this.auth,"internal-error")}}resolve(e){sc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PA=new Hf(2e3,1e4);class Wd extends E_{constructor(e,t,n,i,s){super(e,t,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Wd.currentPopupAction&&Wd.currentPopupAction.cancel(),Wd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return un(e,this.auth,"internal-error"),e}async onExecution(){sc(this.filter.length===1,"Popup operations only handle one event");const e=j1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PA.get())};e()}}Wd.currentPopupAction=null;const DA="pendingRedirect",dm=new Map;class LA extends E_{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=dm.get(this.auth._key());if(!e){try{const n=await RA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}dm.set(this.auth._key(),e)}return this.bypassAuthState||dm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RA(r,e){const t=jA(e),n=OA(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function MA(r,e){dm.set(r._key(),e)}function OA(r){return Zl(r._redirectPersistence)}function jA(r){return um(DA,r.config.apiKey,r.name)}async function FA(r,e,t=!1){if(Ql(r.app))return Promise.reject(Xc(r));const n=Eh(r),i=CA(n,e),a=await new LA(n,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}const BA=600*1e3;class VA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!N_(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(gl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BA&&this.cachedEventUids.clear(),this.cachedEventUids.has(_w(e))}saveEventToCache(e){this.cachedEventUids.add(_w(e)),this.lastProcessedEventTime=Date.now()}}function _w(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function N_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function UA(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N_(r);default:return!1}}async function zA(r,e={}){return cu(r,"GET","/v1/projects",e)}const qA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HA=/^https?/;async function WA(r){if(r.config.emulator)return;const{authorizedDomains:e}=await zA(r);for(const t of e)try{if($A(t))return}catch{}Va(r,"unauthorized-domain")}function $A(r){const e=Bv(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===n}if(!HA.test(t))return!1;if(qA.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const YA=new Hf(3e4,6e4);function Sw(){const r=vl().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function GA(r){return new Promise((e,t)=>{var n,i,s;function a(){Sw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sw(),t(gl(r,"network-request-failed"))},timeout:YA.get()})}if(!((i=(n=vl().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=vl().gapi)===null||s===void 0)&&s.load)a();else{const c=UC("iframefcb");return vl()[c]=()=>{gapi.load?a():t(gl(r,"network-request-failed"))},h_(`${VC()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw hm=null,e})}let hm=null;function KA(r){return hm=hm||GA(r),hm}const QA=new Hf(5e3,15e3),XA="__/auth/iframe",JA="emulator/auth/iframe",ZA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tI(r){const e=r.config;un(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?D1(e,JA):`https://${r.config.authDomain}/${XA}`,n={apiKey:e.apiKey,appName:r.name,v:kh},i=eI.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${qf(n).slice(1)}`}async function nI(r){const e=await KA(r),t=vl().gapi;return un(t,r,"internal-error"),e.open({where:document.body,url:tI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZA,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=gl(r,"network-request-failed"),c=vl().setTimeout(()=>{s(a)},QA.get());function u(){vl().clearTimeout(c),i(n)}n.ping(u).then(u,()=>{s(a)})}))}const rI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iI=500,sI=600,oI="_blank",aI="http://localhost";class kw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lI(r,e,t,n=iI,i=sI){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const u=Object.assign(Object.assign({},rI),{width:n.toString(),height:i.toString(),top:s,left:a}),d=Ks().toLowerCase();t&&(c=s_(d)?oI:t),r_(d)&&(e=e||aI,u.scrollbars="yes");const f=Object.entries(u).reduce((x,[g,A])=>`${x}${g}=${A},`,"");if(PC(d)&&c!=="_self")return cI(e||"",c),new kw(null);const w=window.open(e||"",c,f);un(w,r,"popup-blocked");try{w.focus()}catch{}return new kw(w)}function cI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const uI="__/auth/handler",dI="emulator/auth/handler",hI=encodeURIComponent("fac");async function Ew(r,e,t,n,i,s){un(r.config.authDomain,r,"auth-domain-config-required"),un(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:kh,eventId:i};if(e instanceof p_){e.setDefaultLanguage(r.languageCode),a.providerId=e.providerId||"",tN(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,w]of Object.entries({}))a[f]=w}if(e instanceof Wf){const f=e.getScopes().filter(w=>w!=="");f.length>0&&(a.scopes=f.join(","))}r.tenantId&&(a.tid=r.tenantId);const c=a;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await r._getAppCheckToken(),d=u?`#${hI}=${encodeURIComponent(u)}`:"";return`${fI(r)}?${qf(c).slice(1)}${d}`}function fI({config:r}){return r.emulator?D1(r,dI):`https://${r.authDomain}/${uI}`}const zg="webStorageSupport";class pI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b_,this._completeRedirectFn=FA,this._overrideRedirectResult=MA}async _openPopup(e,t,n,i){var s;sc((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Ew(e,t,n,Bv(),i);return lI(e,a,j1())}async _openRedirect(e,t,n,i){await this._originValidation(e);const s=await Ew(e,t,n,Bv(),i);return vA(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(sc(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await nI(e),n=new VA(e);return t.register("authEvent",i=>(un(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zg,{type:zg},i=>{var s;const a=(s=i?.[0])===null||s===void 0?void 0:s[zg];a!==void 0&&t(!!a),Va(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return u_()||i_()||R1()}}const mI=pI;var Nw="@firebase/auth",Cw="1.7.9";class gI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){un(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yI(r){oh(new Gu("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=n.options;un(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:a,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d_(r)},d=new jC(n,i,s,u);return $C(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),oh(new Gu("auth-internal",e=>{const t=Eh(e.getProvider("auth").getImmediate());return(n=>new gI(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qc(Nw,Cw,vI(r)),Qc(Nw,Cw,"esm2017")}const wI=300,bI=Ux("authIdTokenMaxAge")||wI;let Aw=null;const xI=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>bI)return;const i=t?.token;Aw!==i&&(Aw=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _I(r=Wx()){const e=I1(r,"auth");if(e.isInitialized())return e.getImmediate();const t=WC(r,{popupRedirectResolver:mI,persistence:[NA,pA,b_]}),n=Ux("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=xI(s.toString());cA(t,a,()=>a(t.currentUser)),lA(t,c=>a(c))}}const i=Bx("auth");return i&&YC(t,`http://${i}`),t}function SI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}FC({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const s=gl("internal-error");s.customData=i,t(s)},n.type="text/javascript",n.charset="UTF-8",SI().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yI("Browser");var kI="firebase",EI="10.14.1";Qc(kI,EI,"app");var Iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qu,C_;(function(){var r;function e(W,O){function C(){}C.prototype=O.prototype,W.D=O.prototype,W.prototype=new C,W.prototype.constructor=W,W.C=function(j,N,k){for(var D=Array(arguments.length-2),X=2;X<arguments.length;X++)D[X-2]=arguments[X];return O.prototype[N].apply(j,D)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(W,O,C){C||(C=0);var j=Array(16);if(typeof O=="string")for(var N=0;16>N;++N)j[N]=O.charCodeAt(C++)|O.charCodeAt(C++)<<8|O.charCodeAt(C++)<<16|O.charCodeAt(C++)<<24;else for(N=0;16>N;++N)j[N]=O[C++]|O[C++]<<8|O[C++]<<16|O[C++]<<24;O=W.g[0],C=W.g[1],N=W.g[2];var k=W.g[3],D=O+(k^C&(N^k))+j[0]+3614090360&4294967295;O=C+(D<<7&4294967295|D>>>25),D=k+(N^O&(C^N))+j[1]+3905402710&4294967295,k=O+(D<<12&4294967295|D>>>20),D=N+(C^k&(O^C))+j[2]+606105819&4294967295,N=k+(D<<17&4294967295|D>>>15),D=C+(O^N&(k^O))+j[3]+3250441966&4294967295,C=N+(D<<22&4294967295|D>>>10),D=O+(k^C&(N^k))+j[4]+4118548399&4294967295,O=C+(D<<7&4294967295|D>>>25),D=k+(N^O&(C^N))+j[5]+1200080426&4294967295,k=O+(D<<12&4294967295|D>>>20),D=N+(C^k&(O^C))+j[6]+2821735955&4294967295,N=k+(D<<17&4294967295|D>>>15),D=C+(O^N&(k^O))+j[7]+4249261313&4294967295,C=N+(D<<22&4294967295|D>>>10),D=O+(k^C&(N^k))+j[8]+1770035416&4294967295,O=C+(D<<7&4294967295|D>>>25),D=k+(N^O&(C^N))+j[9]+2336552879&4294967295,k=O+(D<<12&4294967295|D>>>20),D=N+(C^k&(O^C))+j[10]+4294925233&4294967295,N=k+(D<<17&4294967295|D>>>15),D=C+(O^N&(k^O))+j[11]+2304563134&4294967295,C=N+(D<<22&4294967295|D>>>10),D=O+(k^C&(N^k))+j[12]+1804603682&4294967295,O=C+(D<<7&4294967295|D>>>25),D=k+(N^O&(C^N))+j[13]+4254626195&4294967295,k=O+(D<<12&4294967295|D>>>20),D=N+(C^k&(O^C))+j[14]+2792965006&4294967295,N=k+(D<<17&4294967295|D>>>15),D=C+(O^N&(k^O))+j[15]+1236535329&4294967295,C=N+(D<<22&4294967295|D>>>10),D=O+(N^k&(C^N))+j[1]+4129170786&4294967295,O=C+(D<<5&4294967295|D>>>27),D=k+(C^N&(O^C))+j[6]+3225465664&4294967295,k=O+(D<<9&4294967295|D>>>23),D=N+(O^C&(k^O))+j[11]+643717713&4294967295,N=k+(D<<14&4294967295|D>>>18),D=C+(k^O&(N^k))+j[0]+3921069994&4294967295,C=N+(D<<20&4294967295|D>>>12),D=O+(N^k&(C^N))+j[5]+3593408605&4294967295,O=C+(D<<5&4294967295|D>>>27),D=k+(C^N&(O^C))+j[10]+38016083&4294967295,k=O+(D<<9&4294967295|D>>>23),D=N+(O^C&(k^O))+j[15]+3634488961&4294967295,N=k+(D<<14&4294967295|D>>>18),D=C+(k^O&(N^k))+j[4]+3889429448&4294967295,C=N+(D<<20&4294967295|D>>>12),D=O+(N^k&(C^N))+j[9]+568446438&4294967295,O=C+(D<<5&4294967295|D>>>27),D=k+(C^N&(O^C))+j[14]+3275163606&4294967295,k=O+(D<<9&4294967295|D>>>23),D=N+(O^C&(k^O))+j[3]+4107603335&4294967295,N=k+(D<<14&4294967295|D>>>18),D=C+(k^O&(N^k))+j[8]+1163531501&4294967295,C=N+(D<<20&4294967295|D>>>12),D=O+(N^k&(C^N))+j[13]+2850285829&4294967295,O=C+(D<<5&4294967295|D>>>27),D=k+(C^N&(O^C))+j[2]+4243563512&4294967295,k=O+(D<<9&4294967295|D>>>23),D=N+(O^C&(k^O))+j[7]+1735328473&4294967295,N=k+(D<<14&4294967295|D>>>18),D=C+(k^O&(N^k))+j[12]+2368359562&4294967295,C=N+(D<<20&4294967295|D>>>12),D=O+(C^N^k)+j[5]+4294588738&4294967295,O=C+(D<<4&4294967295|D>>>28),D=k+(O^C^N)+j[8]+2272392833&4294967295,k=O+(D<<11&4294967295|D>>>21),D=N+(k^O^C)+j[11]+1839030562&4294967295,N=k+(D<<16&4294967295|D>>>16),D=C+(N^k^O)+j[14]+4259657740&4294967295,C=N+(D<<23&4294967295|D>>>9),D=O+(C^N^k)+j[1]+2763975236&4294967295,O=C+(D<<4&4294967295|D>>>28),D=k+(O^C^N)+j[4]+1272893353&4294967295,k=O+(D<<11&4294967295|D>>>21),D=N+(k^O^C)+j[7]+4139469664&4294967295,N=k+(D<<16&4294967295|D>>>16),D=C+(N^k^O)+j[10]+3200236656&4294967295,C=N+(D<<23&4294967295|D>>>9),D=O+(C^N^k)+j[13]+681279174&4294967295,O=C+(D<<4&4294967295|D>>>28),D=k+(O^C^N)+j[0]+3936430074&4294967295,k=O+(D<<11&4294967295|D>>>21),D=N+(k^O^C)+j[3]+3572445317&4294967295,N=k+(D<<16&4294967295|D>>>16),D=C+(N^k^O)+j[6]+76029189&4294967295,C=N+(D<<23&4294967295|D>>>9),D=O+(C^N^k)+j[9]+3654602809&4294967295,O=C+(D<<4&4294967295|D>>>28),D=k+(O^C^N)+j[12]+3873151461&4294967295,k=O+(D<<11&4294967295|D>>>21),D=N+(k^O^C)+j[15]+530742520&4294967295,N=k+(D<<16&4294967295|D>>>16),D=C+(N^k^O)+j[2]+3299628645&4294967295,C=N+(D<<23&4294967295|D>>>9),D=O+(N^(C|~k))+j[0]+4096336452&4294967295,O=C+(D<<6&4294967295|D>>>26),D=k+(C^(O|~N))+j[7]+1126891415&4294967295,k=O+(D<<10&4294967295|D>>>22),D=N+(O^(k|~C))+j[14]+2878612391&4294967295,N=k+(D<<15&4294967295|D>>>17),D=C+(k^(N|~O))+j[5]+4237533241&4294967295,C=N+(D<<21&4294967295|D>>>11),D=O+(N^(C|~k))+j[12]+1700485571&4294967295,O=C+(D<<6&4294967295|D>>>26),D=k+(C^(O|~N))+j[3]+2399980690&4294967295,k=O+(D<<10&4294967295|D>>>22),D=N+(O^(k|~C))+j[10]+4293915773&4294967295,N=k+(D<<15&4294967295|D>>>17),D=C+(k^(N|~O))+j[1]+2240044497&4294967295,C=N+(D<<21&4294967295|D>>>11),D=O+(N^(C|~k))+j[8]+1873313359&4294967295,O=C+(D<<6&4294967295|D>>>26),D=k+(C^(O|~N))+j[15]+4264355552&4294967295,k=O+(D<<10&4294967295|D>>>22),D=N+(O^(k|~C))+j[6]+2734768916&4294967295,N=k+(D<<15&4294967295|D>>>17),D=C+(k^(N|~O))+j[13]+1309151649&4294967295,C=N+(D<<21&4294967295|D>>>11),D=O+(N^(C|~k))+j[4]+4149444226&4294967295,O=C+(D<<6&4294967295|D>>>26),D=k+(C^(O|~N))+j[11]+3174756917&4294967295,k=O+(D<<10&4294967295|D>>>22),D=N+(O^(k|~C))+j[2]+718787259&4294967295,N=k+(D<<15&4294967295|D>>>17),D=C+(k^(N|~O))+j[9]+3951481745&4294967295,W.g[0]=W.g[0]+O&4294967295,W.g[1]=W.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,W.g[2]=W.g[2]+N&4294967295,W.g[3]=W.g[3]+k&4294967295}n.prototype.u=function(W,O){O===void 0&&(O=W.length);for(var C=O-this.blockSize,j=this.B,N=this.h,k=0;k<O;){if(N==0)for(;k<=C;)i(this,W,k),k+=this.blockSize;if(typeof W=="string"){for(;k<O;)if(j[N++]=W.charCodeAt(k++),N==this.blockSize){i(this,j),N=0;break}}else for(;k<O;)if(j[N++]=W[k++],N==this.blockSize){i(this,j),N=0;break}}this.h=N,this.o+=O},n.prototype.v=function(){var W=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);W[0]=128;for(var O=1;O<W.length-8;++O)W[O]=0;var C=8*this.o;for(O=W.length-8;O<W.length;++O)W[O]=C&255,C/=256;for(this.u(W),W=Array(16),O=C=0;4>O;++O)for(var j=0;32>j;j+=8)W[C++]=this.g[O]>>>j&255;return W};function s(W,O){var C=c;return Object.prototype.hasOwnProperty.call(C,W)?C[W]:C[W]=O(W)}function a(W,O){this.h=O;for(var C=[],j=!0,N=W.length-1;0<=N;N--){var k=W[N]|0;j&&k==O||(C[N]=k,j=!1)}this.g=C}var c={};function u(W){return-128<=W&&128>W?s(W,function(O){return new a([O|0],0>O?-1:0)}):new a([W|0],0>W?-1:0)}function d(W){if(isNaN(W)||!isFinite(W))return w;if(0>W)return P(d(-W));for(var O=[],C=1,j=0;W>=C;j++)O[j]=W/C|0,C*=4294967296;return new a(O,0)}function f(W,O){if(W.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(W.charAt(0)=="-")return P(f(W.substring(1),O));if(0<=W.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(O,8)),j=w,N=0;N<W.length;N+=8){var k=Math.min(8,W.length-N),D=parseInt(W.substring(N,N+k),O);8>k?(k=d(Math.pow(O,k)),j=j.j(k).add(d(D))):(j=j.j(C),j=j.add(d(D)))}return j}var w=u(0),x=u(1),g=u(16777216);r=a.prototype,r.m=function(){if(R(this))return-P(this).m();for(var W=0,O=1,C=0;C<this.g.length;C++){var j=this.i(C);W+=(0<=j?j:4294967296+j)*O,O*=4294967296}return W},r.toString=function(W){if(W=W||10,2>W||36<W)throw Error("radix out of range: "+W);if(A(this))return"0";if(R(this))return"-"+P(this).toString(W);for(var O=d(Math.pow(W,6)),C=this,j="";;){var N=z(C,O).g;C=L(C,N.j(O));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(W);if(C=N,A(C))return k+j;for(;6>k.length;)k="0"+k;j=k+j}},r.i=function(W){return 0>W?0:W<this.g.length?this.g[W]:this.h};function A(W){if(W.h!=0)return!1;for(var O=0;O<W.g.length;O++)if(W.g[O]!=0)return!1;return!0}function R(W){return W.h==-1}r.l=function(W){return W=L(this,W),R(W)?-1:A(W)?0:1};function P(W){for(var O=W.g.length,C=[],j=0;j<O;j++)C[j]=~W.g[j];return new a(C,~W.h).add(x)}r.abs=function(){return R(this)?P(this):this},r.add=function(W){for(var O=Math.max(this.g.length,W.g.length),C=[],j=0,N=0;N<=O;N++){var k=j+(this.i(N)&65535)+(W.i(N)&65535),D=(k>>>16)+(this.i(N)>>>16)+(W.i(N)>>>16);j=D>>>16,k&=65535,D&=65535,C[N]=D<<16|k}return new a(C,C[C.length-1]&-2147483648?-1:0)};function L(W,O){return W.add(P(O))}r.j=function(W){if(A(this)||A(W))return w;if(R(this))return R(W)?P(this).j(P(W)):P(P(this).j(W));if(R(W))return P(this.j(P(W)));if(0>this.l(g)&&0>W.l(g))return d(this.m()*W.m());for(var O=this.g.length+W.g.length,C=[],j=0;j<2*O;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(var N=0;N<W.g.length;N++){var k=this.i(j)>>>16,D=this.i(j)&65535,X=W.i(N)>>>16,ue=W.i(N)&65535;C[2*j+2*N]+=D*ue,V(C,2*j+2*N),C[2*j+2*N+1]+=k*ue,V(C,2*j+2*N+1),C[2*j+2*N+1]+=D*X,V(C,2*j+2*N+1),C[2*j+2*N+2]+=k*X,V(C,2*j+2*N+2)}for(j=0;j<O;j++)C[j]=C[2*j+1]<<16|C[2*j];for(j=O;j<2*O;j++)C[j]=0;return new a(C,0)};function V(W,O){for(;(W[O]&65535)!=W[O];)W[O+1]+=W[O]>>>16,W[O]&=65535,O++}function U(W,O){this.g=W,this.h=O}function z(W,O){if(A(O))throw Error("division by zero");if(A(W))return new U(w,w);if(R(W))return O=z(P(W),O),new U(P(O.g),P(O.h));if(R(O))return O=z(W,P(O)),new U(P(O.g),O.h);if(30<W.g.length){if(R(W)||R(O))throw Error("slowDivide_ only works with positive integers.");for(var C=x,j=O;0>=j.l(W);)C=ne(C),j=ne(j);var N=ce(C,1),k=ce(j,1);for(j=ce(j,2),C=ce(C,2);!A(j);){var D=k.add(j);0>=D.l(W)&&(N=N.add(C),k=D),j=ce(j,1),C=ce(C,1)}return O=L(W,N.j(O)),new U(N,O)}for(N=w;0<=W.l(O);){for(C=Math.max(1,Math.floor(W.m()/O.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),k=d(C),D=k.j(O);R(D)||0<D.l(W);)C-=j,k=d(C),D=k.j(O);A(k)&&(k=x),N=N.add(k),W=L(W,D)}return new U(N,W)}r.A=function(W){return z(this,W).h},r.and=function(W){for(var O=Math.max(this.g.length,W.g.length),C=[],j=0;j<O;j++)C[j]=this.i(j)&W.i(j);return new a(C,this.h&W.h)},r.or=function(W){for(var O=Math.max(this.g.length,W.g.length),C=[],j=0;j<O;j++)C[j]=this.i(j)|W.i(j);return new a(C,this.h|W.h)},r.xor=function(W){for(var O=Math.max(this.g.length,W.g.length),C=[],j=0;j<O;j++)C[j]=this.i(j)^W.i(j);return new a(C,this.h^W.h)};function ne(W){for(var O=W.g.length+1,C=[],j=0;j<O;j++)C[j]=W.i(j)<<1|W.i(j-1)>>>31;return new a(C,W.h)}function ce(W,O){var C=O>>5;O%=32;for(var j=W.g.length-C,N=[],k=0;k<j;k++)N[k]=0<O?W.i(k+C)>>>O|W.i(k+C+1)<<32-O:W.i(k+C);return new a(N,W.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,C_=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,qu=a}).apply(typeof Iw<"u"?Iw:typeof self<"u"?self:typeof window<"u"?window:{});var Vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var A_,ff,I_,fm,zv,T_,P_,D_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,I,B){return m==Array.prototype||m==Object.prototype||(m[I]=B.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vp=="object"&&Vp];for(var I=0;I<m.length;++I){var B=m[I];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var n=t(this);function i(m,I){if(I)e:{var B=n;m=m.split(".");for(var ee=0;ee<m.length-1;ee++){var Ae=m[ee];if(!(Ae in B))break e;B=B[Ae]}m=m[m.length-1],ee=B[m],I=I(ee),I!=ee&&I!=null&&e(B,m,{configurable:!0,writable:!0,value:I})}}function s(m,I){m instanceof String&&(m+="");var B=0,ee=!1,Ae={next:function(){if(!ee&&B<m.length){var Oe=B++;return{value:I(Oe,m[Oe]),done:!1}}return ee=!0,{done:!0,value:void 0}}};return Ae[Symbol.iterator]=function(){return Ae},Ae}i("Array.prototype.values",function(m){return m||function(){return s(this,function(I,B){return B})}});var a=a||{},c=this||self;function u(m){var I=typeof m;return I=I!="object"?I:m?Array.isArray(m)?"array":I:"null",I=="array"||I=="object"&&typeof m.length=="number"}function d(m){var I=typeof m;return I=="object"&&m!=null||I=="function"}function f(m,I,B){return m.call.apply(m.bind,arguments)}function w(m,I,B){if(!m)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var Ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ae,ee),m.apply(I,Ae)}}return function(){return m.apply(I,arguments)}}function x(m,I,B){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:w,x.apply(null,arguments)}function g(m,I){var B=Array.prototype.slice.call(arguments,1);return function(){var ee=B.slice();return ee.push.apply(ee,arguments),m.apply(this,ee)}}function A(m,I){function B(){}B.prototype=I.prototype,m.aa=I.prototype,m.prototype=new B,m.prototype.constructor=m,m.Qb=function(ee,Ae,Oe){for(var st=Array(arguments.length-2),Dn=2;Dn<arguments.length;Dn++)st[Dn-2]=arguments[Dn];return I.prototype[Ae].apply(ee,st)}}function R(m){const I=m.length;if(0<I){const B=Array(I);for(let ee=0;ee<I;ee++)B[ee]=m[ee];return B}return[]}function P(m,I){for(let B=1;B<arguments.length;B++){const ee=arguments[B];if(u(ee)){const Ae=m.length||0,Oe=ee.length||0;m.length=Ae+Oe;for(let st=0;st<Oe;st++)m[Ae+st]=ee[st]}else m.push(ee)}}class L{constructor(I,B){this.i=I,this.j=B,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function V(m){return/^[\s\xa0]*$/.test(m)}function U(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function z(m){return z[" "](m),m}z[" "]=function(){};var ne=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function ce(m,I,B){for(const ee in m)I.call(B,m[ee],ee,m)}function W(m,I){for(const B in m)I.call(void 0,m[B],B,m)}function O(m){const I={};for(const B in m)I[B]=m[B];return I}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(m,I){let B,ee;for(let Ae=1;Ae<arguments.length;Ae++){ee=arguments[Ae];for(B in ee)m[B]=ee[B];for(let Oe=0;Oe<C.length;Oe++)B=C[Oe],Object.prototype.hasOwnProperty.call(ee,B)&&(m[B]=ee[B])}}function N(m){var I=1;m=m.split(":");const B=[];for(;0<I&&m.length;)B.push(m.shift()),I--;return m.length&&B.push(m.join(":")),B}function k(m){c.setTimeout(()=>{throw m},0)}function D(){var m=ye;let I=null;return m.g&&(I=m.g,m.g=m.g.next,m.g||(m.h=null),I.next=null),I}class X{constructor(){this.h=this.g=null}add(I,B){const ee=ue.get();ee.set(I,B),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var ue=new L(()=>new ge,m=>m.reset());class ge{constructor(){this.next=this.g=this.h=null}set(I,B){this.h=I,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let me,re=!1,ye=new X,de=()=>{const m=c.Promise.resolve(void 0);me=()=>{m.then(Z)}};var Z=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(B){k(B)}var I=ue;I.j(m),100>I.h&&(I.h++,m.next=I.g,I.g=m)}re=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(m,I){this.type=m,this.g=this.target=I,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var se=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,I=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const B=()=>{};c.addEventListener("test",B,I),c.removeEventListener("test",B,I)}catch{}return m})();function he(m,I){if(Q.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var B=this.type=m.type,ee=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=I,I=m.relatedTarget){if(ne){e:{try{z(I.nodeName);var Ae=!0;break e}catch{}Ae=!1}Ae||(I=null)}}else B=="mouseover"?I=m.fromElement:B=="mouseout"&&(I=m.toElement);this.relatedTarget=I,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:we[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&he.aa.h.call(this)}}A(he,Q);var we={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Le(m,I,B,ee,Ae){this.listener=m,this.proxy=null,this.src=I,this.type=B,this.capture=!!ee,this.ha=Ae,this.key=++Te,this.da=this.fa=!1}function Ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Xe(m){this.src=m,this.g={},this.h=0}Xe.prototype.add=function(m,I,B,ee,Ae){var Oe=m.toString();m=this.g[Oe],m||(m=this.g[Oe]=[],this.h++);var st=rt(m,I,ee,Ae);return-1<st?(I=m[st],B||(I.fa=!1)):(I=new Le(I,this.src,Oe,!!ee,Ae),I.fa=B,m.push(I)),I};function ct(m,I){var B=I.type;if(B in m.g){var ee=m.g[B],Ae=Array.prototype.indexOf.call(ee,I,void 0),Oe;(Oe=0<=Ae)&&Array.prototype.splice.call(ee,Ae,1),Oe&&(Ve(I),m.g[B].length==0&&(delete m.g[B],m.h--))}}function rt(m,I,B,ee){for(var Ae=0;Ae<m.length;++Ae){var Oe=m[Ae];if(!Oe.da&&Oe.listener==I&&Oe.capture==!!B&&Oe.ha==ee)return Ae}return-1}var mt="closure_lm_"+(1e6*Math.random()|0),ie={};function at(m,I,B,ee,Ae){if(Array.isArray(I)){for(var Oe=0;Oe<I.length;Oe++)at(m,I[Oe],B,ee,Ae);return null}return B=mn(B),m&&m[Ee]?m.K(I,B,d(ee)?!!ee.capture:!1,Ae):cn(m,I,B,!1,ee,Ae)}function cn(m,I,B,ee,Ae,Oe){if(!I)throw Error("Invalid event type");var st=d(Ae)?!!Ae.capture:!!Ae,Dn=xt(m);if(Dn||(m[mt]=Dn=new Xe(m)),B=Dn.add(I,B,ee,st,Oe),B.proxy)return B;if(ee=Tt(),B.proxy=ee,ee.src=m,ee.listener=B,m.addEventListener)se||(Ae=st),Ae===void 0&&(Ae=!1),m.addEventListener(I.toString(),ee,Ae);else if(m.attachEvent)m.attachEvent(dt(I.toString()),ee);else if(m.addListener&&m.removeListener)m.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return B}function Tt(){function m(B){return I.call(m.src,m.listener,B)}const I=Dt;return m}function Ge(m,I,B,ee,Ae){if(Array.isArray(I))for(var Oe=0;Oe<I.length;Oe++)Ge(m,I[Oe],B,ee,Ae);else ee=d(ee)?!!ee.capture:!!ee,B=mn(B),m&&m[Ee]?(m=m.i,I=String(I).toString(),I in m.g&&(Oe=m.g[I],B=rt(Oe,B,ee,Ae),-1<B&&(Ve(Oe[B]),Array.prototype.splice.call(Oe,B,1),Oe.length==0&&(delete m.g[I],m.h--)))):m&&(m=xt(m))&&(I=m.g[I.toString()],m=-1,I&&(m=rt(I,B,ee,Ae)),(B=-1<m?I[m]:null)&&Pt(B))}function Pt(m){if(typeof m!="number"&&m&&!m.da){var I=m.src;if(I&&I[Ee])ct(I.i,m);else{var B=m.type,ee=m.proxy;I.removeEventListener?I.removeEventListener(B,ee,m.capture):I.detachEvent?I.detachEvent(dt(B),ee):I.addListener&&I.removeListener&&I.removeListener(ee),(B=xt(I))?(ct(B,m),B.h==0&&(B.src=null,I[mt]=null)):Ve(m)}}}function dt(m){return m in ie?ie[m]:ie[m]="on"+m}function Dt(m,I){if(m.da)m=!0;else{I=new he(I,this);var B=m.listener,ee=m.ha||m.src;m.fa&&Pt(m),m=B.call(ee,I)}return m}function xt(m){return m=m[mt],m instanceof Xe?m:null}var En="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(m){return typeof m=="function"?m:(m[En]||(m[En]=function(I){return m.handleEvent(I)}),m[En])}function _t(){F.call(this),this.i=new Xe(this),this.M=this,this.F=null}A(_t,F),_t.prototype[Ee]=!0,_t.prototype.removeEventListener=function(m,I,B,ee){Ge(this,m,I,B,ee)};function Lt(m,I){var B,ee=m.F;if(ee)for(B=[];ee;ee=ee.F)B.push(ee);if(m=m.M,ee=I.type||I,typeof I=="string")I=new Q(I,m);else if(I instanceof Q)I.target=I.target||m;else{var Ae=I;I=new Q(ee,m),j(I,Ae)}if(Ae=!0,B)for(var Oe=B.length-1;0<=Oe;Oe--){var st=I.g=B[Oe];Ae=nn(st,ee,!0,I)&&Ae}if(st=I.g=m,Ae=nn(st,ee,!0,I)&&Ae,Ae=nn(st,ee,!1,I)&&Ae,B)for(Oe=0;Oe<B.length;Oe++)st=I.g=B[Oe],Ae=nn(st,ee,!1,I)&&Ae}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var m=this.i,I;for(I in m.g){for(var B=m.g[I],ee=0;ee<B.length;ee++)Ve(B[ee]);delete m.g[I],m.h--}}this.F=null},_t.prototype.K=function(m,I,B,ee){return this.i.add(String(m),I,!1,B,ee)},_t.prototype.L=function(m,I,B,ee){return this.i.add(String(m),I,!0,B,ee)};function nn(m,I,B,ee){if(I=m.i.g[String(I)],!I)return!0;I=I.concat();for(var Ae=!0,Oe=0;Oe<I.length;++Oe){var st=I[Oe];if(st&&!st.da&&st.capture==B){var Dn=st.listener,Or=st.ha||st.src;st.fa&&ct(m.i,st),Ae=Dn.call(Or,ee)!==!1&&Ae}}return Ae&&!ee.defaultPrevented}function vt(m,I,B){if(typeof m=="function")B&&(m=x(m,B));else if(m&&typeof m.handleEvent=="function")m=x(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:c.setTimeout(m,I||0)}function Kt(m){m.g=vt(()=>{m.g=null,m.i&&(m.i=!1,Kt(m))},m.l);const I=m.h;m.h=null,m.m.apply(null,I)}class Fe extends F{constructor(I,B){super(),this.m=I,this.l=B,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Kt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bn(m){F.call(this),this.h=m,this.g={}}A(Bn,F);var kt=[];function sn(m){ce(m.g,function(I,B){this.g.hasOwnProperty(B)&&Pt(I)},m),m.g={}}Bn.prototype.N=function(){Bn.aa.N.call(this),sn(this)},Bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=c.JSON.stringify,Vn=c.JSON.parse,Nt=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Mn(){}Mn.prototype.h=null;function zt(m){return m.h||(m.h=m.i())}function Jt(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qt(){Q.call(this,"d")}A(Qt,Q);function bt(){Q.call(this,"c")}A(bt,Q);var vn={},Ii=null;function rn(){return Ii=Ii||new _t}vn.La="serverreachability";function br(m){Q.call(this,vn.La,m)}A(br,Q);function Vr(m){const I=rn();Lt(I,new br(I))}vn.STAT_EVENT="statevent";function Vt(m,I){Q.call(this,vn.STAT_EVENT,m),this.stat=I}A(Vt,Q);function Hn(m){const I=rn();Lt(I,new Vt(I,m))}vn.Ma="timingevent";function ts(m,I){Q.call(this,vn.Ma,m),this.size=I}A(ts,Q);function Cr(m,I){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},I)}function ci(){this.g=!0}ci.prototype.xa=function(){this.g=!1};function Xn(m,I,B,ee,Ae,Oe){m.info(function(){if(m.g)if(Oe)for(var st="",Dn=Oe.split("&"),Or=0;Or<Dn.length;Or++){var Nn=Dn[Or].split("=");if(1<Nn.length){var zn=Nn[0];Nn=Nn[1];var sr=zn.split("_");st=2<=sr.length&&sr[1]=="type"?st+(zn+"="+Nn+"&"):st+(zn+"=redacted&")}}else st=null;else st=Oe;return"XMLHTTP REQ ("+ee+") [attempt "+Ae+"]: "+I+`
`+B+`
`+st})}function kr(m,I,B,ee,Ae,Oe,st){m.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+Ae+"]: "+I+`
`+B+`
`+Oe+" "+st})}function er(m,I,B,ee){m.info(function(){return"XMLHTTP TEXT ("+I+"): "+co(m,B)+(ee?" "+ee:"")})}function Ns(m,I){m.info(function(){return"TIMEOUT: "+I})}ci.prototype.info=function(){};function co(m,I){if(!m.g)return I;if(!I)return null;try{var B=JSON.parse(I);if(B){for(m=0;m<B.length;m++)if(Array.isArray(B[m])){var ee=B[m];if(!(2>ee.length)){var Ae=ee[1];if(Array.isArray(Ae)&&!(1>Ae.length)){var Oe=Ae[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var st=1;st<Ae.length;st++)Ae[st]=""}}}}return ft(B)}catch{return I}}var Ti={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ar;function ui(){}A(ui,Mn),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},Ar=new ui;function cr(m,I,B,ee){this.j=m,this.i=I,this.l=B,this.R=ee||1,this.U=new Bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qs}function Qs(){this.i=null,this.g="",this.h=!1}var ns={},Cs={};function As(m,I,B){m.L=1,m.v=_r(et(I)),m.m=B,m.P=!0,Is(m,null)}function Is(m,I){m.F=Date.now(),Un(m),m.A=et(m.v);var B=m.A,ee=m.R;Array.isArray(ee)||(ee=[String(ee)]),Xo(B.i,"t",ee),m.C=0,B=m.j.J,m.h=new Qs,m.g=qr(m.j,B?I:null,!m.m),0<m.O&&(m.M=new Fe(x(m.Y,m,m.g),m.O)),I=m.U,B=m.g,ee=m.ca;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(kt[0]=Ae.toString()),Ae=kt);for(var Oe=0;Oe<Ae.length;Oe++){var st=at(B,Ae[Oe],ee||I.handleEvent,!1,I.h||I);if(!st)break;I.g[st.key]=st}I=m.H?O(m.H):{},m.m?(m.u||(m.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,I)):(m.u="GET",m.g.ea(m.A,m.u,null,I)),Vr(),Xn(m.i,m.u,m.A,m.l,m.R,m.m)}cr.prototype.ca=function(m){m=m.target;const I=this.M;I&&Li(m)==3?I.j():this.Y(m)},cr.prototype.Y=function(m){try{if(m==this.g)e:{const sr=Li(this.g);var I=this.g.Ba();const $i=this.g.Z();if(!(3>sr)&&(sr!=3||this.g&&(this.h.h||this.g.oa()||Ga(this.g)))){this.J||sr!=4||I==7||(I==8||0>=$i?Vr(3):Vr(2)),uo(this);var B=this.g.Z();this.X=B;t:if(Po(this)){var ee=Ga(this.g);m="";var Ae=ee.length,Oe=Li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),Jr(this);var st="";break t}this.h.i=new c.TextDecoder}for(I=0;I<Ae;I++)this.h.h=!0,m+=this.h.i.decode(ee[I],{stream:!(Oe&&I==Ae-1)});ee.length=0,this.h.g+=m,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=B==200,kr(this.i,this.u,this.A,this.l,this.R,sr,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Dn,Or=this.g;if((Dn=Or.g?Or.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Dn)){var Nn=Dn;break t}}Nn=null}if(B=Nn)er(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ko(this,B);else{this.o=!1,this.s=3,Hn(12),Pi(this),Jr(this);break e}}if(this.P){B=!0;let rs;for(;!this.J&&this.C<st.length;)if(rs=Cl(this,st),rs==Cs){sr==4&&(this.s=4,Hn(14),B=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(rs==ns){this.s=4,Hn(15),er(this.i,this.l,st,"[Invalid Chunk]"),B=!1;break}else er(this.i,this.l,rs,null),Ko(this,rs);if(Po(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sr!=4||st.length!=0||this.h.h||(this.s=1,Hn(16),B=!1),this.o=this.o&&B,!B)er(this.i,this.l,st,"[Invalid Chunked Response]"),Pi(this),Jr(this);else if(0<st.length&&!this.W){this.W=!0;var zn=this.j;zn.g==this&&zn.ba&&!zn.M&&(zn.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),gt(zn),zn.M=!0,Hn(11))}}else er(this.i,this.l,st,null),Ko(this,st);sr==4&&Pi(this),this.o&&!this.J&&(sr==4?on(this.j,this):(this.o=!1,Un(this)))}else va(this.g),B==400&&0<st.indexOf("Unknown SID")?(this.s=3,Hn(12)):(this.s=0,Hn(13)),Pi(this),Jr(this)}}}catch{}};function Po(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Cl(m,I){var B=m.C,ee=I.indexOf(`
`,B);return ee==-1?Cs:(B=Number(I.substring(B,ee)),isNaN(B)?ns:(ee+=1,ee+B>I.length?Cs:(I=I.slice(ee,ee+B),m.C=ee+B,I)))}cr.prototype.cancel=function(){this.J=!0,Pi(this)};function Un(m){m.S=Date.now()+m.I,ga(m,m.I)}function ga(m,I){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Cr(x(m.ba,m),I)}function uo(m){m.B&&(c.clearTimeout(m.B),m.B=null)}cr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Ns(this.i,this.A),this.L!=2&&(Vr(),Hn(17)),Pi(this),this.s=2,Jr(this)):ga(this,this.S-m)};function Jr(m){m.j.G==0||m.J||on(m.j,m)}function Pi(m){uo(m);var I=m.M;I&&typeof I.ma=="function"&&I.ma(),m.M=null,sn(m.U),m.g&&(I=m.g,m.g=null,I.abort(),I.ma())}function Ko(m,I){try{var B=m.j;if(B.G!=0&&(B.g==m||xr(B.h,m))){if(!m.K&&xr(B.h,m)&&B.G==3){try{var ee=B.Da.g.parse(I)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var Ae=ee;if(Ae[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<m.F)Xt(B),Wi(B);else break e;Ke(B),Hn(18)}}else B.za=Ae[1],0<B.za-B.T&&37500>Ae[2]&&B.F&&B.v==0&&!B.C&&(B.C=Cr(x(B.Za,B),6e3));if(1>=Qo(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else Wn(B,11)}else if((m.K||B.g==m)&&Xt(B),!V(I))for(Ae=B.Da.g.parse(I),I=0;I<Ae.length;I++){let Nn=Ae[I];if(B.T=Nn[0],Nn=Nn[1],B.G==2)if(Nn[0]=="c"){B.K=Nn[1],B.ia=Nn[2];const zn=Nn[3];zn!=null&&(B.la=zn,B.j.info("VER="+B.la));const sr=Nn[4];sr!=null&&(B.Aa=sr,B.j.info("SVER="+B.Aa));const $i=Nn[5];$i!=null&&typeof $i=="number"&&0<$i&&(ee=1.5*$i,B.L=ee,B.j.info("backChannelRequestTimeoutMs_="+ee)),ee=B;const rs=m.g;if(rs){const Mi=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mi){var Oe=ee.h;Oe.g||Mi.indexOf("spdy")==-1&&Mi.indexOf("quic")==-1&&Mi.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(ho(Oe,Oe.h),Oe.h=null))}if(ee.D){const vo=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(ee.ya=vo,qt(ee.I,ee.D,vo))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-m.F,B.j.info("Handshake RTT: "+B.R+"ms")),ee=B;var st=m;if(ee.qa=tr(ee,ee.J?ee.ia:null,ee.W),st.K){Wa(ee.h,st);var Dn=st,Or=ee.L;Or&&(Dn.I=Or),Dn.B&&(uo(Dn),Un(Dn)),ee.g=st}else He(ee);0<B.i.length&&_(B)}else Nn[0]!="stop"&&Nn[0]!="close"||Wn(B,7);else B.G==3&&(Nn[0]=="stop"||Nn[0]=="close"?Nn[0]=="stop"?Wn(B,7):di(B):Nn[0]!="noop"&&B.l&&B.l.ta(Nn),B.v=0)}}Vr(4)}catch{}}var ps=class{constructor(m,I){this.g=m,this.map=I}};function Xs(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Di(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Qo(m){return m.h?1:m.g?m.g.size:0}function xr(m,I){return m.h?m.h==I:m.g?m.g.has(I):!1}function ho(m,I){m.g?m.g.add(I):m.h=I}function Wa(m,I){m.h&&m.h==I?m.h=null:m.g&&m.g.has(I)&&m.g.delete(I)}Xs.prototype.cancel=function(){if(this.i=$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function $(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let I=m.i;for(const B of m.g.values())I=I.concat(B.D);return I}return R(m.i)}function be(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(u(m)){for(var I=[],B=m.length,ee=0;ee<B;ee++)I.push(m[ee]);return I}I=[],B=0;for(ee in m)I[B++]=m[ee];return I}function We(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(u(m)||typeof m=="string"){var I=[];m=m.length;for(var B=0;B<m;B++)I.push(B);return I}I=[],B=0;for(const ee in m)I[B++]=ee;return I}}}function Qe(m,I){if(m.forEach&&typeof m.forEach=="function")m.forEach(I,void 0);else if(u(m)||typeof m=="string")Array.prototype.forEach.call(m,I,void 0);else for(var B=We(m),ee=be(m),Ae=ee.length,Oe=0;Oe<Ae;Oe++)I.call(void 0,ee[Oe],B&&B[Oe],m)}var Rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $t(m,I){if(m){m=m.split("&");for(var B=0;B<m.length;B++){var ee=m[B].indexOf("="),Ae=null;if(0<=ee){var Oe=m[B].substring(0,ee);Ae=m[B].substring(ee+1)}else Oe=m[B];I(Oe,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function Gt(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Gt){this.h=m.h,Sn(this,m.j),this.o=m.o,this.g=m.g,yn(this,m.s),this.l=m.l;var I=m.i,B=new Ur;B.i=I.i,I.g&&(B.g=new Map(I.g),B.h=I.h),kn(this,B),this.m=m.m}else m&&(I=String(m).match(Rt))?(this.h=!1,Sn(this,I[1]||"",!0),this.o=ut(I[2]||""),this.g=ut(I[3]||"",!0),yn(this,I[4]),this.l=ut(I[5]||"",!0),kn(this,I[6]||"",!0),this.m=ut(I[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}Gt.prototype.toString=function(){var m=[],I=this.j;I&&m.push(Ht(I,Ir,!0),":");var B=this.g;return(B||I=="file")&&(m.push("//"),(I=this.o)&&m.push(Ht(I,Ir,!0),"@"),m.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&m.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&m.push("/"),m.push(Ht(B,B.charAt(0)=="/"?dr:Zr,!0))),(B=this.i.toString())&&m.push("?",B),(B=this.m)&&m.push("#",Ht(B,Js)),m.join("")};function et(m){return new Gt(m)}function Sn(m,I,B){m.j=B?ut(I,!0):I,m.j&&(m.j=m.j.replace(/:$/,""))}function yn(m,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);m.s=I}else m.s=null}function kn(m,I,B){I instanceof Ur?(m.i=I,fo(m.i,m.h)):(B||(I=Ht(I,ei)),m.i=new Ur(I,m.h))}function qt(m,I,B){m.i.set(I,B)}function _r(m){return qt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ut(m,I){return m?I?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ht(m,I,B){return typeof m=="string"?(m=encodeURI(m).replace(I,ur),B&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ur(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ir=/[#\/\?@]/g,Zr=/[#\?:]/g,dr=/[#\?]/g,ei=/[#\?@]/g,Js=/#/g;function Ur(m,I){this.h=this.g=null,this.i=m||null,this.j=!!I}function wi(m){m.g||(m.g=new Map,m.h=0,m.i&&$t(m.i,function(I,B){m.add(decodeURIComponent(I.replace(/\+/g," ")),B)}))}r=Ur.prototype,r.add=function(m,I){wi(this),this.i=null,m=Wt(this,m);var B=this.g.get(m);return B||this.g.set(m,B=[]),B.push(I),this.h+=1,this};function Ui(m,I){wi(m),I=Wt(m,I),m.g.has(I)&&(m.i=null,m.h-=m.g.get(I).length,m.g.delete(I))}function ms(m,I){return wi(m),I=Wt(m,I),m.g.has(I)}r.forEach=function(m,I){wi(this),this.g.forEach(function(B,ee){B.forEach(function(Ae){m.call(I,Ae,ee,this)},this)},this)},r.na=function(){wi(this);const m=Array.from(this.g.values()),I=Array.from(this.g.keys()),B=[];for(let ee=0;ee<I.length;ee++){const Ae=m[ee];for(let Oe=0;Oe<Ae.length;Oe++)B.push(I[ee])}return B},r.V=function(m){wi(this);let I=[];if(typeof m=="string")ms(this,m)&&(I=I.concat(this.g.get(Wt(this,m))));else{m=Array.from(this.g.values());for(let B=0;B<m.length;B++)I=I.concat(m[B])}return I},r.set=function(m,I){return wi(this),this.i=null,m=Wt(this,m),ms(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[I]),this.h+=1,this},r.get=function(m,I){return m?(m=this.V(m),0<m.length?String(m[0]):I):I};function Xo(m,I,B){Ui(m,I),0<B.length&&(m.i=null,m.g.set(Wt(m,I),R(B)),m.h+=B.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],I=Array.from(this.g.keys());for(var B=0;B<I.length;B++){var ee=I[B];const Oe=encodeURIComponent(String(ee)),st=this.V(ee);for(ee=0;ee<st.length;ee++){var Ae=Oe;st[ee]!==""&&(Ae+="="+encodeURIComponent(String(st[ee]))),m.push(Ae)}}return this.i=m.join("&")};function Wt(m,I){return I=String(I),m.j&&(I=I.toLowerCase()),I}function fo(m,I){I&&!m.j&&(wi(m),m.i=null,m.g.forEach(function(B,ee){var Ae=ee.toLowerCase();ee!=Ae&&(Ui(this,ee),Xo(this,Ae,B))},m)),m.j=I}function du(m,I){const B=new ci;if(c.Image){const ee=new Image;ee.onload=g(zr,B,"TestLoadImage: loaded",!0,I,ee),ee.onerror=g(zr,B,"TestLoadImage: error",!1,I,ee),ee.onabort=g(zr,B,"TestLoadImage: abort",!1,I,ee),ee.ontimeout=g(zr,B,"TestLoadImage: timeout",!1,I,ee),c.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=m}else I(!1)}function hc(m,I){const B=new ci,ee=new AbortController,Ae=setTimeout(()=>{ee.abort(),zr(B,"TestPingServer: timeout",!1,I)},1e4);fetch(m,{signal:ee.signal}).then(Oe=>{clearTimeout(Ae),Oe.ok?zr(B,"TestPingServer: ok",!0,I):zr(B,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(Ae),zr(B,"TestPingServer: error",!1,I)})}function zr(m,I,B,ee,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),ee(B)}catch{}}function Do(){this.g=new Nt}function fc(m,I,B){const ee=B||"";try{Qe(m,function(Ae,Oe){let st=Ae;d(Ae)&&(st=ft(Ae)),I.push(ee+Oe+"="+encodeURIComponent(st))})}catch(Ae){throw I.push(ee+"type="+encodeURIComponent("_badmap")),Ae}}function Lo(m){this.l=m.Ub||null,this.j=m.eb||!1}A(Lo,Mn),Lo.prototype.g=function(){return new po(this.l,this.j)},Lo.prototype.i=(function(m){return function(){return m}})({});function po(m,I){_t.call(this),this.D=m,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(po,_t),r=po.prototype,r.open=function(m,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=I,this.readyState=1,Zs(this)},r.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(I.body=m),(this.D||c).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},r.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$a(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function $a(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}r.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var I=m.value?m.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!m.done}))&&(this.response=this.responseText+=I)}m.done?zi(this):Zs(this),this.readyState==3&&$a(this)}},r.Ra=function(m){this.g&&(this.response=this.responseText=m,zi(this))},r.Qa=function(m){this.g&&(this.response=m,zi(this))},r.ga=function(){this.g&&zi(this)};function zi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Zs(m)}r.setRequestHeader=function(m,I){this.u.append(m,I)},r.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],I=this.h.entries();for(var B=I.next();!B.done;)B=B.value,m.push(B[0]+": "+B[1]),B=I.next();return m.join(`\r
`)};function Zs(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function qi(m){let I="";return ce(m,function(B,ee){I+=ee,I+=":",I+=B,I+=`\r
`}),I}function Jo(m,I,B){e:{for(ee in B){var ee=!1;break e}ee=!0}ee||(B=qi(B),typeof m=="string"?B!=null&&encodeURIComponent(String(B)):qt(m,I,B))}function ir(m){_t.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ir,_t);var Al=/^https?$/i,Ya=["POST","PUT"];r=ir.prototype,r.Ha=function(m){this.J=m},r.ea=function(m,I,B,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);I=I?I.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ar.g(),this.v=this.o?zt(this.o):zt(Ar),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(I,String(m),!0),this.B=!1}catch(Oe){gs(this,Oe);return}if(m=B||"",B=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var Ae in ee)B.set(Ae,ee[Ae]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const Oe of ee.keys())B.set(Oe,ee.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(B.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),Ae=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ya,I,void 0))||ee||Ae||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,st]of B)this.g.setRequestHeader(Oe,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mo(this),this.u=!0,this.g.send(m),this.u=!1}catch(Oe){gs(this,Oe)}};function gs(m,I){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=I,m.m=5,Zo(m),Hi(m)}function Zo(m){m.A||(m.A=!0,Lt(m,"complete"),Lt(m,"error"))}r.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Lt(this,"complete"),Lt(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),ir.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},r.bb=function(){ea(this)};function ea(m){if(m.h&&typeof a<"u"&&(!m.v[1]||Li(m)!=4||m.Z()!=2)){if(m.u&&Li(m)==4)vt(m.Ea,0,m);else if(Lt(m,"readystatechange"),Li(m)==4){m.h=!1;try{const st=m.Z();e:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var B;if(!(B=I)){var ee;if(ee=st===0){var Ae=String(m.D).match(Rt)[1]||null;!Ae&&c.self&&c.self.location&&(Ae=c.self.location.protocol.slice(0,-1)),ee=!Al.test(Ae?Ae.toLowerCase():"")}B=ee}if(B)Lt(m,"complete"),Lt(m,"success");else{m.m=6;try{var Oe=2<Li(m)?m.g.statusText:""}catch{Oe=""}m.l=Oe+" ["+m.Z()+"]",Zo(m)}}finally{Hi(m)}}}}function Hi(m,I){if(m.g){mo(m);const B=m.g,ee=m.v[0]?()=>{}:null;m.g=null,m.v=null,I||Lt(m,"ready");try{B.onreadystatechange=ee}catch{}}}function mo(m){m.I&&(c.clearTimeout(m.I),m.I=null)}r.isActive=function(){return!!this.g};function Li(m){return m.g?m.g.readyState:0}r.Z=function(){try{return 2<Li(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(m){if(this.g){var I=this.g.responseText;return m&&I.indexOf(m)==0&&(I=I.substring(m.length)),Vn(I)}};function Ga(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function va(m){const I={};m=(m.g&&2<=Li(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<m.length;ee++){if(V(m[ee]))continue;var B=N(m[ee]);const Ae=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Oe=I[Ae]||[];I[Ae]=Oe,Oe.push(B)}W(I,function(ee){return ee.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(m,I,B){return B&&B.internalChannelParams&&B.internalChannelParams[m]||I}function eo(m){this.Aa=0,this.i=[],this.j=new ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ri("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ri("baseRetryDelayMs",5e3,m),this.cb=Ri("retryDelaySeedMs",1e4,m),this.Wa=Ri("forwardChannelMaxRetries",2,m),this.wa=Ri("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Xs(m&&m.concurrentRequestLimit),this.Da=new Do,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=eo.prototype,r.la=8,r.G=1,r.connect=function(m,I,B,ee){Hn(0),this.W=m,this.H=I||{},B&&ee!==void 0&&(this.H.OSID=B,this.H.OAID=ee),this.F=this.X,this.I=tr(this,null,this.W),_(this)};function di(m){if(ya(m),m.G==3){var I=m.U++,B=et(m.I);if(qt(B,"SID",m.K),qt(B,"RID",I),qt(B,"TYPE","terminate"),ve(m,B),I=new cr(m,m.j,I),I.L=2,I.v=_r(et(B)),B=!1,c.navigator&&c.navigator.sendBeacon)try{B=c.navigator.sendBeacon(I.v.toString(),"")}catch{}!B&&c.Image&&(new Image().src=I.v,B=!0),B||(I.g=qr(I.j,null),I.g.ea(I.v)),I.F=Date.now(),Un(I)}Rr(m)}function Wi(m){m.g&&(gt(m),m.g.cancel(),m.g=null)}function ya(m){Wi(m),m.u&&(c.clearTimeout(m.u),m.u=null),Xt(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function _(m){if(!Di(m.h)&&!m.s){m.s=!0;var I=m.Ga;me||de(),re||(me(),re=!0),ye.add(I,m),m.B=0}}function q(m,I){return Qo(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=I.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Cr(x(m.Ga,m,I),In(m,m.B)),m.B++,!0)}r.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Ae=new cr(this,this.j,m);let Oe=this.o;if(this.S&&(Oe?(Oe=O(Oe),j(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(Ae.H=Oe,Oe=null),this.P)e:{for(var I=0,B=0;B<this.i.length;B++){t:{var ee=this.i[B];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(I+=ee,4096<I){I=B;break e}if(I===4096||B===this.i.length-1){I=B+1;break e}}I=1e3}else I=1e3;I=Ce(this,Ae,I),B=et(this.I),qt(B,"RID",m),qt(B,"CVER",22),this.D&&qt(B,"X-HTTP-Session-Id",this.D),ve(this,B),Oe&&(this.O?I="headers="+encodeURIComponent(String(qi(Oe)))+"&"+I:this.m&&Jo(B,this.m,Oe)),ho(this.h,Ae),this.Ua&&qt(B,"TYPE","init"),this.P?(qt(B,"$req",I),qt(B,"SID","null"),Ae.T=!0,As(Ae,B,null)):As(Ae,B,I),this.G=2}}else this.G==3&&(m?le(this,m):this.i.length==0||Di(this.h)||le(this))};function le(m,I){var B;I?B=I.l:B=m.U++;const ee=et(m.I);qt(ee,"SID",m.K),qt(ee,"RID",B),qt(ee,"AID",m.T),ve(m,ee),m.m&&m.o&&Jo(ee,m.m,m.o),B=new cr(m,m.j,B,m.B+1),m.m===null&&(B.H=m.o),I&&(m.i=I.D.concat(m.i)),I=Ce(m,B,1e3),B.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ho(m.h,B),As(B,ee,I)}function ve(m,I){m.H&&ce(m.H,function(B,ee){qt(I,ee,B)}),m.l&&Qe({},function(B,ee){qt(I,ee,B)})}function Ce(m,I,B){B=Math.min(m.i.length,B);var ee=m.l?x(m.l.Na,m.l,m):null;e:{var Ae=m.i;let Oe=-1;for(;;){const st=["count="+B];Oe==-1?0<B?(Oe=Ae[0].g,st.push("ofs="+Oe)):Oe=0:st.push("ofs="+Oe);let Dn=!0;for(let Or=0;Or<B;Or++){let Nn=Ae[Or].g;const zn=Ae[Or].map;if(Nn-=Oe,0>Nn)Oe=Math.max(0,Ae[Or].g-100),Dn=!1;else try{fc(zn,st,"req"+Nn+"_")}catch{ee&&ee(zn)}}if(Dn){ee=st.join("&");break e}}}return m=m.i.splice(0,B),I.D=m,ee}function He(m){if(!m.g&&!m.u){m.Y=1;var I=m.Fa;me||de(),re||(me(),re=!0),ye.add(I,m),m.v=0}}function Ke(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Cr(x(m.Fa,m),In(m,m.v)),m.v++,!0)}r.Fa=function(){if(this.u=null,Ct(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Cr(x(this.ab,this),m)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Hn(10),Wi(this),Ct(this))};function gt(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Ct(m){m.g=new cr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var I=et(m.qa);qt(I,"RID","rpc"),qt(I,"SID",m.K),qt(I,"AID",m.T),qt(I,"CI",m.F?"0":"1"),!m.F&&m.ja&&qt(I,"TO",m.ja),qt(I,"TYPE","xmlhttp"),ve(m,I),m.m&&m.o&&Jo(I,m.m,m.o),m.L&&(m.g.I=m.L);var B=m.g;m=m.ia,B.L=1,B.v=_r(et(I)),B.m=null,B.P=!0,Is(B,m)}r.Za=function(){this.C!=null&&(this.C=null,Wi(this),Ke(this),Hn(19))};function Xt(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function on(m,I){var B=null;if(m.g==I){Xt(m),gt(m),m.g=null;var ee=2}else if(xr(m.h,I))B=I.D,Wa(m.h,I),ee=1;else return;if(m.G!=0){if(I.o)if(ee==1){B=I.m?I.m.length:0,I=Date.now()-I.F;var Ae=m.B;ee=rn(),Lt(ee,new ts(ee,B)),_(m)}else He(m);else if(Ae=I.s,Ae==3||Ae==0&&0<I.X||!(ee==1&&q(m,I)||ee==2&&Ke(m)))switch(B&&0<B.length&&(I=m.h,I.i=I.i.concat(B)),Ae){case 1:Wn(m,5);break;case 4:Wn(m,10);break;case 3:Wn(m,6);break;default:Wn(m,2)}}}function In(m,I){let B=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(B*=2),B*I}function Wn(m,I){if(m.j.info("Error code "+I),I==2){var B=x(m.fb,m),ee=m.Xa;const Ae=!ee;ee=new Gt(ee||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Sn(ee,"https"),_r(ee),Ae?du(ee.toString(),B):hc(ee.toString(),B)}else Hn(2);m.G=0,m.l&&m.l.sa(I),Rr(m),ya(m)}r.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Hn(2)):(this.j.info("Failed to ping google.com"),Hn(1))};function Rr(m){if(m.G=0,m.ka=[],m.l){const I=$(m.h);(I.length!=0||m.i.length!=0)&&(P(m.ka,I),P(m.ka,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.ra()}}function tr(m,I,B){var ee=B instanceof Gt?et(B):new Gt(B);if(ee.g!="")I&&(ee.g=I+"."+ee.g),yn(ee,ee.s);else{var Ae=c.location;ee=Ae.protocol,I=I?I+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;var Oe=new Gt(null);ee&&Sn(Oe,ee),I&&(Oe.g=I),Ae&&yn(Oe,Ae),B&&(Oe.l=B),ee=Oe}return B=m.D,I=m.ya,B&&I&&qt(ee,B,I),qt(ee,"VER",m.la),ve(m,ee),ee}function qr(m,I,B){if(I&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=m.Ca&&!m.pa?new ir(new Lo({eb:B})):new ir(m.pa),I.Ha(m.J),I}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tr(){}r=Tr.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Hr(){}Hr.prototype.g=function(m,I){return new Mr(m,I)};function Mr(m,I){_t.call(this),this.g=new eo(I),this.l=m,this.h=I&&I.messageUrlParams||null,m=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(m?m["X-WebChannel-Content-Type"]=I.messageContentType:m={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(m?m["X-WebChannel-Client-Profile"]=I.va:m={"X-WebChannel-Client-Profile":I.va}),this.g.S=m,(m=I&&I.Sb)&&!V(m)&&(this.g.m=m),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!V(I)&&(this.g.D=I,m=this.h,m!==null&&I in m&&(m=this.h,I in m&&delete m[I])),this.j=new Ps(this)}A(Mr,_t),Mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mr.prototype.close=function(){di(this.g)},Mr.prototype.o=function(m){var I=this.g;if(typeof m=="string"){var B={};B.__data__=m,m=B}else this.u&&(B={},B.__data__=ft(m),m=B);I.i.push(new ps(I.Ya++,m)),I.G==3&&_(I)},Mr.prototype.N=function(){this.g.l=null,delete this.j,di(this.g),delete this.g,Mr.aa.N.call(this)};function Ts(m){Qt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var I=m.__sm__;if(I){e:{for(const B in I){m=B;break e}m=void 0}(this.i=m)&&(m=this.i,I=I!==null&&m in I?I[m]:void 0),this.data=I}else this.data=m}A(Ts,Qt);function go(){bt.call(this),this.status=1}A(go,bt);function Ps(m){this.g=m}A(Ps,Tr),Ps.prototype.ua=function(){Lt(this.g,"a")},Ps.prototype.ta=function(m){Lt(this.g,new Ts(m))},Ps.prototype.sa=function(m){Lt(this.g,new go)},Ps.prototype.ra=function(){Lt(this.g,"b")},Hr.prototype.createWebChannel=Hr.prototype.g,Mr.prototype.send=Mr.prototype.o,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,D_=function(){return new Hr},P_=function(){return rn()},T_=vn,zv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ti.NO_ERROR=0,Ti.TIMEOUT=8,Ti.HTTP_ERROR=6,fm=Ti,fs.COMPLETE="complete",I_=fs,Jt.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,ff=Jt,ir.prototype.listenOnce=ir.prototype.L,ir.prototype.getLastError=ir.prototype.Ka,ir.prototype.getLastErrorCode=ir.prototype.Ba,ir.prototype.getStatus=ir.prototype.Z,ir.prototype.getResponseJson=ir.prototype.Oa,ir.prototype.getResponseText=ir.prototype.oa,ir.prototype.send=ir.prototype.ea,ir.prototype.setWithCredentials=ir.prototype.Ha,A_=ir}).apply(typeof Vp<"u"?Vp:typeof self<"u"?self:typeof window<"u"?window:{});const Tw="@firebase/firestore";class Ys{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ys.UNAUTHENTICATED=new Ys(null),Ys.GOOGLE_CREDENTIALS=new Ys("google-credentials-uid"),Ys.FIRST_PARTY=new Ys("first-party-uid"),Ys.MOCK_USER=new Ys("mock-user");let Ch="10.14.0";const Qu=new C1("@firebase/firestore");function rf(){return Qu.logLevel}function Ot(r,...e){if(Qu.logLevel<=Fn.DEBUG){const t=e.map(B1);Qu.debug(`Firestore (${Ch}): ${r}`,...t)}}function oc(r,...e){if(Qu.logLevel<=Fn.ERROR){const t=e.map(B1);Qu.error(`Firestore (${Ch}): ${r}`,...t)}}function lh(r,...e){if(Qu.logLevel<=Fn.WARN){const t=e.map(B1);Qu.warn(`Firestore (${Ch}): ${r}`,...t)}}function B1(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function fn(r="Unexpected state"){const e=`FIRESTORE (${Ch}) INTERNAL ASSERTION FAILED: `+r;throw oc(e),new Error(e)}function yr(r,e){r||fn()}function _n(r,e){return r}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yt extends uc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class L_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ys.UNAUTHENTICATED)))}shutdown(){}}class CI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class AI{constructor(e){this.t=e,this.currentUser=Ys.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){yr(this.o===void 0);let n=this.i;const i=u=>this.i!==n?(n=this.i,t(u)):Promise.resolve();let s=new Hu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hu,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hu)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(yr(typeof n.accessToken=="string"),new L_(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yr(e===null||typeof e=="string"),new Ys(e)}}class II{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ys.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class TI{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new II(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ys.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){yr(this.o===void 0);const n=s=>{s.error!=null&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Ot("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(yr(typeof t.token=="string"),this.R=t.token,new PI(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}class R_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=LI(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<t&&(n+=e.charAt(i[s]%e.length))}return n}}function Zn(r,e){return r<e?-1:r>e?1:0}function ch(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}class Zi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Yt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Yt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Yt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zi.fromMillis(Date.now())}static fromDate(e){return Zi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Zi(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zn(this.nanoseconds,e.nanoseconds):Zn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xn(e)}static min(){return new xn(new Zi(0,0))}static max(){return new xn(new Zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tf{constructor(e,t,n){t===void 0?t=0:t>e.length&&fn(),n===void 0?n=e.length-t:n>e.length-t&&fn(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Tf.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tf?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xr extends Tf{construct(e,t,n){return new Xr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Yt(tt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new Xr(t)}static emptyPath(){return new Xr([])}}const RI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _s extends Tf{construct(e,t,n){return new _s(e,t,n)}static isValidIdentifier(e){return RI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_s.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _s(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Yt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Yt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Yt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(n+=c,i++):(s(),i++)}if(s(),a)throw new Yt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _s(t)}static emptyPath(){return new _s([])}}class tn{constructor(e){this.path=e}static fromPath(e){return new tn(Xr.fromString(e))}static fromName(e){return new tn(Xr.fromString(e).popFirst(5))}static empty(){return new tn(Xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new Xr(e.slice()))}}function MI(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=xn.fromTimestamp(n===1e9?new Zi(t+1,0):new Zi(t,n));return new nu(i,tn.empty(),e)}function OI(r){return new nu(r.readTime,r.key,-1)}class nu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new nu(xn.min(),tn.empty(),-1)}static max(){return new nu(xn.max(),tn.empty(),-1)}}function jI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=tn.comparator(r.documentKey,e.documentKey),t!==0?t:Zn(r.largestBatchId,e.largestBatchId))}const FI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yf(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==FI)throw r;Ot("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.reject(t)}static resolve(e){return new nt(((t,n)=>{t(e)}))}static reject(e){return new nt(((t,n)=>{n(e)}))}static waitFor(e){return new nt(((t,n)=>{let i=0,s=0,a=!1;e.forEach((c=>{++i,c.next((()=>{++s,a&&s===i&&t()}),(u=>n(u)))})),a=!0,s===i&&t()}))}static or(e){let t=nt.resolve(!1);for(const n of e)t=t.next((i=>i?nt.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,s)=>{n.push(t.call(this,i,s))})),this.waitFor(n)}static mapArray(e,t){return new nt(((n,i)=>{const s=e.length,a=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;t(e[d]).next((f=>{a[d]=f,++c,c===s&&n(a)}),(f=>i(f)))}}))}static doWhile(e,t){return new nt(((n,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):n()};s()}))}}function VI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gf(r){return r.name==="IndexedDbTransactionError"}class V1{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}V1.oe=-1;function v0(r){return r==null}function Fm(r){return r===0&&1/r==-1/0}function UI(r){return typeof r=="number"&&Number.isInteger(r)&&!Fm(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Pw(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function sd(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function M_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class li{constructor(e,t){this.comparator=e,this.root=t||xs.EMPTY}insert(e,t){return new li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(e){return new li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Up(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Up(this.root,e,this.comparator,!1)}getReverseIterator(){return new Up(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Up(this.root,e,this.comparator,!0)}}class Up{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xs{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=n??xs.RED,this.left=i??xs.EMPTY,this.right=s??xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new xs(e??this.key,t??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return xs.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fn();const e=this.left.check();if(e!==this.right.check())throw fn();return e+(this.isRed()?0:1)}}xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1;xs.EMPTY=new class{constructor(){this.size=0}get key(){throw fn()}get value(){throw fn()}get color(){throw fn()}get left(){throw fn()}get right(){throw fn()}copy(e,t,n,i,s){return this}insert(e,t,n){return new xs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ss{constructor(e){this.comparator=e,this.data=new li(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dw(this.data.getIterator())}getIteratorFrom(e){return new Dw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Ss)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ss(this.comparator);return t.data=e,t}}class Dw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ho{constructor(e){this.fields=e,e.sort(_s.comparator)}static empty(){return new Ho([])}unionWith(e){let t=new Ss(_s.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ho(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ch(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class O_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ks{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new O_("Invalid base64 string: "+s):s}})(e);return new ks(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new ks(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ks.EMPTY_BYTE_STRING=new ks("");const zI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ru(r){if(yr(!!r),typeof r=="string"){let e=0;const t=zI.exec(r);if(yr(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Si(r.seconds),nanos:Si(r.nanos)}}function Si(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xu(r){return typeof r=="string"?ks.fromBase64String(r):ks.fromUint8Array(r)}function U1(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function z1(r){const e=r.mapValue.fields.__previous_value__;return U1(e)?z1(e):e}function Pf(r){const e=ru(r.mapValue.fields.__local_write_time__.timestampValue);return new Zi(e.seconds,e.nanos)}class qI{constructor(e,t,n,i,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}class Df{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Df("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Df&&e.projectId===this.projectId&&e.database===this.database}}const zp={mapValue:{}};function Ju(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?U1(r)?4:WI(r)?9007199254740991:HI(r)?10:11:fn()}function _l(r,e){if(r===e)return!0;const t=Ju(r);if(t!==Ju(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Pf(r).isEqual(Pf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ru(i.timestampValue),c=ru(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,s){return Xu(i.bytesValue).isEqual(Xu(s.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,s){return Si(i.geoPointValue.latitude)===Si(s.geoPointValue.latitude)&&Si(i.geoPointValue.longitude)===Si(s.geoPointValue.longitude)})(r,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Si(i.integerValue)===Si(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Si(i.doubleValue),c=Si(s.doubleValue);return a===c?Fm(a)===Fm(c):isNaN(a)&&isNaN(c)}return!1})(r,e);case 9:return ch(r.arrayValue.values||[],e.arrayValue.values||[],_l);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Pw(a)!==Pw(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!_l(a[u],c[u])))return!1;return!0})(r,e);default:return fn()}}function Lf(r,e){return(r.values||[]).find((t=>_l(t,e)))!==void 0}function uh(r,e){if(r===e)return 0;const t=Ju(r),n=Ju(e);if(t!==n)return Zn(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zn(r.booleanValue,e.booleanValue);case 2:return(function(s,a){const c=Si(s.integerValue||s.doubleValue),u=Si(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(r,e);case 3:return Lw(r.timestampValue,e.timestampValue);case 4:return Lw(Pf(r),Pf(e));case 5:return Zn(r.stringValue,e.stringValue);case 6:return(function(s,a){const c=Xu(s),u=Xu(a);return c.compareTo(u)})(r.bytesValue,e.bytesValue);case 7:return(function(s,a){const c=s.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=Zn(c[d],u[d]);if(f!==0)return f}return Zn(c.length,u.length)})(r.referenceValue,e.referenceValue);case 8:return(function(s,a){const c=Zn(Si(s.latitude),Si(a.latitude));return c!==0?c:Zn(Si(s.longitude),Si(a.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Rw(r.arrayValue,e.arrayValue);case 10:return(function(s,a){var c,u,d,f;const w=s.fields||{},x=a.fields||{},g=(c=w.value)===null||c===void 0?void 0:c.arrayValue,A=(u=x.value)===null||u===void 0?void 0:u.arrayValue,R=Zn(((d=g?.values)===null||d===void 0?void 0:d.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:Rw(g,A)})(r.mapValue,e.mapValue);case 11:return(function(s,a){if(s===zp.mapValue&&a===zp.mapValue)return 0;if(s===zp.mapValue)return 1;if(a===zp.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let w=0;w<u.length&&w<f.length;++w){const x=Zn(u[w],f[w]);if(x!==0)return x;const g=uh(c[u[w]],d[f[w]]);if(g!==0)return g}return Zn(u.length,f.length)})(r.mapValue,e.mapValue);default:throw fn()}}function Lw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Zn(r,e);const t=ru(r),n=ru(e),i=Zn(t.seconds,n.seconds);return i!==0?i:Zn(t.nanos,n.nanos)}function Rw(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const s=uh(t[i],n[i]);if(s)return s}return Zn(t.length,n.length)}function dh(r){return qv(r)}function qv(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=ru(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Xu(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return tn.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const s of t.values||[])i?i=!1:n+=",",n+=qv(s);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${qv(t.fields[a])}`;return i+"}"})(r.mapValue):fn()}function Hv(r){return!!r&&"integerValue"in r}function q1(r){return!!r&&"arrayValue"in r}function Mw(r){return!!r&&"nullValue"in r}function Ow(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function pm(r){return!!r&&"mapValue"in r}function HI(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function bf(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return sd(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=bf(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bf(r.arrayValue.values[t]);return e}return Object.assign({},r)}function WI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Ao{constructor(e){this.value=e}static empty(){return new Ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!pm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bf(t)}setAll(e){let t=_s.emptyPath(),n={},i=[];e.forEach(((a,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,n,i),n={},i=[],t=c.popLast()}a?n[c.lastSegment()]=bf(a):i.push(c.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());pm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _l(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){sd(t,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new Ao(bf(this.value))}}function j_(r){const e=[];return sd(r.fields,((t,n)=>{const i=new _s([t]);if(pm(n)){const s=j_(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Ho(e)}class Gs{constructor(e,t,n,i,s,a,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Gs(e,0,xn.min(),xn.min(),xn.min(),Ao.empty(),0)}static newFoundDocument(e,t,n,i){return new Gs(e,1,t,xn.min(),n,i,0)}static newNoDocument(e,t){return new Gs(e,2,t,xn.min(),xn.min(),Ao.empty(),0)}static newUnknownDocument(e,t){return new Gs(e,3,t,xn.min(),xn.min(),Ao.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bm{constructor(e,t){this.position=e,this.inclusive=t}}function jw(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const s=e[i],a=r.position[i];if(s.field.isKeyField()?n=tn.comparator(tn.fromName(a.referenceValue),t.key):n=uh(a,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Fw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!_l(r.position[t],e.position[t]))return!1;return!0}class Vm{constructor(e,t="asc"){this.field=e,this.dir=t}}function $I(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}let F_=class{};class Xi extends F_{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new GI(e,t,n):t==="array-contains"?new XI(e,n):t==="in"?new JI(e,n):t==="not-in"?new ZI(e,n):t==="array-contains-any"?new e3(e,n):new Xi(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new KI(e,n):new QI(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(uh(t,this.value)):t!==null&&Ju(this.value)===Ju(t)&&this.matchesComparison(uh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sl extends F_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Sl(e,t)}matches(e){return B_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function B_(r){return r.op==="and"}function V_(r){return YI(r)&&B_(r)}function YI(r){for(const e of r.filters)if(e instanceof Sl)return!1;return!0}function Wv(r){if(r instanceof Xi)return r.field.canonicalString()+r.op.toString()+dh(r.value);if(V_(r))return r.filters.map((e=>Wv(e))).join(",");{const e=r.filters.map((t=>Wv(t))).join(",");return`${r.op}(${e})`}}function U_(r,e){return r instanceof Xi?(function(n,i){return i instanceof Xi&&n.op===i.op&&n.field.isEqual(i.field)&&_l(n.value,i.value)})(r,e):r instanceof Sl?(function(n,i){return i instanceof Sl&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,a,c)=>s&&U_(a,i.filters[c])),!0):!1})(r,e):void fn()}function z_(r){return r instanceof Xi?(function(t){return`${t.field.canonicalString()} ${t.op} ${dh(t.value)}`})(r):r instanceof Sl?(function(t){return t.op.toString()+" {"+t.getFilters().map(z_).join(" ,")+"}"})(r):"Filter"}class GI extends Xi{constructor(e,t,n){super(e,t,n),this.key=tn.fromName(n.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.matchesComparison(t)}}class KI extends Xi{constructor(e,t){super(e,"in",t),this.keys=q_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class QI extends Xi{constructor(e,t){super(e,"not-in",t),this.keys=q_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function q_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((n=>tn.fromName(n.referenceValue)))}class XI extends Xi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return q1(t)&&Lf(t.arrayValue,this.value)}}class JI extends Xi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Lf(this.value.arrayValue,t)}}class ZI extends Xi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Lf(this.value.arrayValue,t)}}class e3 extends Xi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!q1(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Lf(this.value.arrayValue,n)))}}class t3{constructor(e,t=null,n=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}}function Bw(r,e=null,t=[],n=[],i=null,s=null,a=null){return new t3(r,e,t,n,i,s,a)}function H1(r){const e=_n(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Wv(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),v0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>dh(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>dh(n))).join(",")),e.ue=t}return e.ue}function W1(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!$I(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!U_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Fw(r.startAt,e.startAt)&&Fw(r.endAt,e.endAt)}function $v(r){return tn.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class y0{constructor(e,t=null,n=[],i=[],s=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function n3(r,e,t,n,i,s,a,c){return new y0(r,e,t,n,i,s,a,c)}function $1(r){return new y0(r)}function Vw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function r3(r){return r.collectionGroup!==null}function xf(r){const e=_n(r);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Ss(_s.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Vm(s,n))})),t.has(_s.keyField().canonicalString())||e.ce.push(new Vm(_s.keyField(),n))}return e.ce}function yl(r){const e=_n(r);return e.le||(e.le=i3(e,xf(r))),e.le}function i3(r,e){if(r.limitType==="F")return Bw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Vm(i.field,s)}));const t=r.endAt?new Bm(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Bm(r.startAt.position,r.startAt.inclusive):null;return Bw(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Yv(r,e,t){return new y0(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function w0(r,e){return W1(yl(r),yl(e))&&r.limitType===e.limitType}function H_(r){return`${H1(yl(r))}|lt:${r.limitType}`}function Fd(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>z_(i))).join(", ")}]`),v0(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>dh(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>dh(i))).join(",")),`Target(${n})`})(yl(r))}; limitType=${r.limitType})`}function b0(r,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):tn.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(r,e)&&(function(n,i){for(const s of xf(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(a,c,u){const d=jw(a,c,u);return a.inclusive?d<=0:d<0})(n.startAt,xf(n),i)||n.endAt&&!(function(a,c,u){const d=jw(a,c,u);return a.inclusive?d>=0:d>0})(n.endAt,xf(n),i))})(r,e)}function s3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function W_(r){return(e,t)=>{let n=!1;for(const i of xf(r)){const s=o3(i,e,t);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function o3(r,e,t){const n=r.field.isKeyField()?tn.comparator(e.key,t.key):(function(s,a,c){const u=a.data.field(s),d=c.data.field(s);return u!==null&&d!==null?uh(u,d):fn()})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return fn()}}class Ah{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sd(this.inner,((t,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return M_(this.inner)}size(){return this.innerSize}}const a3=new li(tn.comparator);function ac(){return a3}const $_=new li(tn.comparator);function pf(...r){let e=$_;for(const t of r)e=e.insert(t.key,t);return e}function Y_(r){let e=$_;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function ju(){return _f()}function G_(){return _f()}function _f(){return new Ah((r=>r.toString()),((r,e)=>r.isEqual(e)))}const l3=new li(tn.comparator),c3=new Ss(tn.comparator);function jn(...r){let e=c3;for(const t of r)e=e.add(t);return e}const u3=new Ss(Zn);function d3(){return u3}function Y1(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fm(e)?"-0":e}}function K_(r){return{integerValue:""+r}}function h3(r,e){return UI(e)?K_(e):Y1(r,e)}class x0{constructor(){this._=void 0}}function f3(r,e,t){return r instanceof Um?(function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&U1(s)&&(s=z1(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}})(t,e):r instanceof Rf?X_(r,e):r instanceof Mf?J_(r,e):(function(i,s){const a=Q_(i,s),c=Uw(a)+Uw(i.Pe);return Hv(a)&&Hv(i.Pe)?K_(c):Y1(i.serializer,c)})(r,e)}function p3(r,e,t){return r instanceof Rf?X_(r,e):r instanceof Mf?J_(r,e):t}function Q_(r,e){return r instanceof zm?(function(n){return Hv(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class Um extends x0{}class Rf extends x0{constructor(e){super(),this.elements=e}}function X_(r,e){const t=Z_(e);for(const n of r.elements)t.some((i=>_l(i,n)))||t.push(n);return{arrayValue:{values:t}}}class Mf extends x0{constructor(e){super(),this.elements=e}}function J_(r,e){let t=Z_(e);for(const n of r.elements)t=t.filter((i=>!_l(i,n)));return{arrayValue:{values:t}}}class zm extends x0{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Uw(r){return Si(r.integerValue||r.doubleValue)}function Z_(r){return q1(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function m3(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof Rf&&i instanceof Rf||n instanceof Mf&&i instanceof Mf?ch(n.elements,i.elements,_l):n instanceof zm&&i instanceof zm?_l(n.Pe,i.Pe):n instanceof Um&&i instanceof Um})(r.transform,e.transform)}class g3{constructor(e,t){this.version=e,this.transformResults=t}}class $o{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $o}static exists(e){return new $o(void 0,e)}static updateTime(e){return new $o(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mm(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _0{}function eS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new S0(r.key,$o.none()):new Kf(r.key,r.data,$o.none());{const t=r.data,n=Ao.empty();let i=new Ss(_s.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new uu(r.key,n,new Ho(i.toArray()),$o.none())}}function v3(r,e,t){r instanceof Kf?(function(i,s,a){const c=i.value.clone(),u=qw(i.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(r,e,t):r instanceof uu?(function(i,s,a){if(!mm(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=qw(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(tS(i)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(r,e,t):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function Sf(r,e,t,n){return r instanceof Kf?(function(s,a,c,u){if(!mm(s.precondition,a))return c;const d=s.value.clone(),f=Hw(s.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(r,e,t,n):r instanceof uu?(function(s,a,c,u){if(!mm(s.precondition,a))return c;const d=Hw(s.fieldTransforms,u,a),f=a.data;return f.setAll(tS(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((w=>w.field)))})(r,e,t,n):(function(s,a,c){return mm(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(r,e,t)}function y3(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),s=Q_(n.transform,i||null);s!=null&&(t===null&&(t=Ao.empty()),t.set(n.field,s))}return t||null}function zw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ch(n,i,((s,a)=>m3(s,a)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Kf extends _0{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uu extends _0{constructor(e,t,n,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tS(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function qw(r,e,t){const n=new Map;yr(r.length===t.length);for(let i=0;i<t.length;i++){const s=r[i],a=s.transform,c=e.data.field(s.field);n.set(s.field,p3(a,c,t[i]))}return n}function Hw(r,e,t){const n=new Map;for(const i of r){const s=i.transform,a=t.data.field(i.field);n.set(i.field,f3(s,a,e))}return n}class S0 extends _0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w3 extends _0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class b3{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&v3(s,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Sf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Sf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=G_();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=t.has(i.key)?null:c;const u=eS(a,c);u!==null&&n.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(xn.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),jn())}isEqual(e){return this.batchId===e.batchId&&ch(this.mutations,e.mutations,((t,n)=>zw(t,n)))&&ch(this.baseMutations,e.baseMutations,((t,n)=>zw(t,n)))}}class G1{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){yr(e.mutations.length===n.length);let i=(function(){return l3})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new G1(e,t,n,i)}}class x3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _3{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vi,qn;function S3(r){switch(r){default:return fn();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function nS(r){if(r===void 0)return oc("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Vi.OK:return tt.OK;case Vi.CANCELLED:return tt.CANCELLED;case Vi.UNKNOWN:return tt.UNKNOWN;case Vi.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Vi.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Vi.INTERNAL:return tt.INTERNAL;case Vi.UNAVAILABLE:return tt.UNAVAILABLE;case Vi.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Vi.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Vi.NOT_FOUND:return tt.NOT_FOUND;case Vi.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Vi.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Vi.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Vi.ABORTED:return tt.ABORTED;case Vi.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Vi.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Vi.DATA_LOSS:return tt.DATA_LOSS;default:return fn()}}(qn=Vi||(Vi={}))[qn.OK=0]="OK",qn[qn.CANCELLED=1]="CANCELLED",qn[qn.UNKNOWN=2]="UNKNOWN",qn[qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qn[qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qn[qn.NOT_FOUND=5]="NOT_FOUND",qn[qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",qn[qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",qn[qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",qn[qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qn[qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qn[qn.ABORTED=10]="ABORTED",qn[qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",qn[qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",qn[qn.INTERNAL=13]="INTERNAL",qn[qn.UNAVAILABLE=14]="UNAVAILABLE",qn[qn.DATA_LOSS=15]="DATA_LOSS";function k3(){return new TextEncoder}const E3=new qu([4294967295,4294967295],0);function Ww(r){const e=k3().encode(r),t=new C_;return t.update(e),new Uint8Array(t.digest())}function $w(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qu([t,n],0),new qu([i,s],0)]}class K1{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new mf(`Invalid padding: ${t}`);if(n<0)throw new mf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new mf(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new mf(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=qu.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(qu.fromNumber(n)));return i.compare(E3)===1&&(i=new qu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Ww(e),[n,i]=$w(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new K1(s,i,t);return n.forEach((c=>a.insert(c))),a}insert(e){if(this.Ie===0)return;const t=Ww(e),[n,i]=$w(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class k0{constructor(e,t,n,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Qf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new k0(xn.min(),i,new li(Zn),ac(),jn())}}class Qf{constructor(e,t,n,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Qf(n,t,jn(),jn(),jn())}}class gm{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class rS{constructor(e,t){this.targetId=e,this.me=t}}class iS{constructor(e,t,n=ks.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class Yw{constructor(){this.fe=0,this.ge=Kw(),this.pe=ks.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=jn(),t=jn(),n=jn();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:fn()}})),new Qf(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Kw()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,yr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class N3{constructor(e){this.Le=e,this.Be=new Map,this.ke=ac(),this.qe=Gw(),this.Qe=new li(Zn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:fn()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((n,i)=>{this.ze(i)&&t(i)}))}He(e){const t=e.targetId,n=e.me.count,i=this.Je(t);if(i){const s=i.target;if($v(s))if(n===0){const a=new tn(s.path);this.Ue(t,a,Gs.newNoDocument(a,xn.min()))}else yr(n===1);else{const a=this.Ye(t);if(a!==n){const c=this.Ze(e),u=c?this.Xe(c,e,a):1;if(u!==0){this.je(t);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=t;let a,c;try{a=Xu(n).toUint8Array()}catch(u){if(u instanceof O_)return lh("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new K1(a,i,s)}catch(u){return lh(u instanceof mf?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach((s=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),i++)})),i}rt(e){const t=new Map;this.Be.forEach(((s,a)=>{const c=this.Je(a);if(c){if(s.current&&$v(c.target)){const u=new tn(c.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,Gs.newNoDocument(u,e))}s.be&&(t.set(a,s.ve()),s.Ce())}}));let n=jn();this.qe.forEach(((s,a)=>{let c=!0;a.forEachWhile((u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(s))})),this.ke.forEach(((s,a)=>a.setReadTime(e)));const i=new k0(e,t,this.Qe,this.ke,n);return this.ke=ac(),this.qe=Gw(),this.Qe=new li(Zn),i}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Yw,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ss(Zn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||Ot("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Yw),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Gw(){return new li(tn.comparator)}function Kw(){return new li(tn.comparator)}const C3={asc:"ASCENDING",desc:"DESCENDING"},A3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I3={and:"AND",or:"OR"};class T3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gv(r,e){return r.useProto3Json||v0(e)?e:{value:e}}function qm(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function P3(r,e){return qm(r,e.toTimestamp())}function wl(r){return yr(!!r),xn.fromTimestamp((function(t){const n=ru(t);return new Zi(n.seconds,n.nanos)})(r))}function Q1(r,e){return Kv(r,e).canonicalString()}function Kv(r,e){const t=(function(i){return new Xr(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function oS(r){const e=Xr.fromString(r);return yr(dS(e)),e}function Qv(r,e){return Q1(r.databaseId,e.path)}function qg(r,e){const t=oS(e);if(t.get(1)!==r.databaseId.projectId)throw new Yt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Yt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new tn(lS(t))}function aS(r,e){return Q1(r.databaseId,e)}function D3(r){const e=oS(r);return e.length===4?Xr.emptyPath():lS(e)}function Xv(r){return new Xr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lS(r){return yr(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Qw(r,e,t){return{name:Qv(r,e),fields:t.value.mapValue.fields}}function L3(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:fn()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(yr(f===void 0||typeof f=="string"),ks.fromBase64String(f||"")):(yr(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ks.fromUint8Array(f||new Uint8Array))})(r,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(d){const f=d.code===void 0?tt.UNKNOWN:nS(d.code);return new Yt(f,d.message||"")})(a);t=new iS(n,i,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=qg(r,n.document.name),s=wl(n.document.updateTime),a=n.document.createTime?wl(n.document.createTime):xn.min(),c=new Ao({mapValue:{fields:n.document.fields}}),u=Gs.newFoundDocument(i,s,a,c),d=n.targetIds||[],f=n.removedTargetIds||[];t=new gm(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=qg(r,n.document),s=n.readTime?wl(n.readTime):xn.min(),a=Gs.newNoDocument(i,s),c=n.removedTargetIds||[];t=new gm([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=qg(r,n.document),s=n.removedTargetIds||[];t=new gm([],s,i,null)}else{if(!("filter"in e))return fn();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new _3(i,s),c=n.targetId;t=new rS(c,a)}}return t}function R3(r,e){let t;if(e instanceof Kf)t={update:Qw(r,e.key,e.value)};else if(e instanceof S0)t={delete:Qv(r,e.key)};else if(e instanceof uu)t={update:Qw(r,e.key,e.data),updateMask:q3(e.fieldMask)};else{if(!(e instanceof w3))return fn();t={verify:Qv(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(s,a){const c=a.transform;if(c instanceof Um)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Rf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Mf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zm)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw fn()})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:P3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fn()})(r,e.precondition)),t}function M3(r,e){return r&&r.length>0?(yr(e!==void 0),r.map((t=>(function(i,s){let a=i.updateTime?wl(i.updateTime):wl(s);return a.isEqual(xn.min())&&(a=wl(s)),new g3(a,i.transformResults||[])})(t,e)))):[]}function O3(r,e){return{documents:[aS(r,e.path)]}}function j3(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=aS(r,i);const s=(function(d){if(d.length!==0)return uS(Sl.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(d){if(d.length!==0)return d.map((f=>(function(x){return{field:Bd(x.field),direction:V3(x.dir)}})(f)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=Gv(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{_t:t,parent:i}}function F3(r){let e=D3(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){yr(n===1);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=(function(w){const x=cS(w);return x instanceof Sl&&V_(x)?x.getFilters():[x]})(t.where));let a=[];t.orderBy&&(a=(function(w){return w.map((x=>(function(A){return new Vm(Vd(A.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(x)))})(t.orderBy));let c=null;t.limit&&(c=(function(w){let x;return x=typeof w=="object"?w.value:w,v0(x)?null:x})(t.limit));let u=null;t.startAt&&(u=(function(w){const x=!!w.before,g=w.values||[];return new Bm(g,x)})(t.startAt));let d=null;return t.endAt&&(d=(function(w){const x=!w.before,g=w.values||[];return new Bm(g,x)})(t.endAt)),n3(e,i,a,s,c,"F",u,d)}function B3(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fn()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cS(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Vd(t.unaryFilter.field);return Xi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Vd(t.unaryFilter.field);return Xi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vd(t.unaryFilter.field);return Xi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Vd(t.unaryFilter.field);return Xi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return fn()}})(r):r.fieldFilter!==void 0?(function(t){return Xi.create(Vd(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fn()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Sl.create(t.compositeFilter.filters.map((n=>cS(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fn()}})(t.compositeFilter.op))})(r):fn()}function V3(r){return C3[r]}function U3(r){return A3[r]}function z3(r){return I3[r]}function Bd(r){return{fieldPath:r.canonicalString()}}function Vd(r){return _s.fromServerFormat(r.fieldPath)}function uS(r){return r instanceof Xi?(function(t){if(t.op==="=="){if(Ow(t.value))return{unaryFilter:{field:Bd(t.field),op:"IS_NAN"}};if(Mw(t.value))return{unaryFilter:{field:Bd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ow(t.value))return{unaryFilter:{field:Bd(t.field),op:"IS_NOT_NAN"}};if(Mw(t.value))return{unaryFilter:{field:Bd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bd(t.field),op:U3(t.op),value:t.value}}})(r):r instanceof Sl?(function(t){const n=t.getFilters().map((i=>uS(i)));return n.length===1?n[0]:{compositeFilter:{op:z3(t.op),filters:n}}})(r):fn()}function q3(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function dS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Wc{constructor(e,t,n,i,s=xn.min(),a=xn.min(),c=ks.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Wc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H3{constructor(e){this.ct=e}}function W3(r){const e=F3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Yv(e,e.limit,"L"):e}class $3{constructor(){this.un=new Y3}addToCollectionParentIndex(e,t){return this.un.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return nt.resolve()}deleteFieldIndex(e,t){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,t){return nt.resolve()}getDocumentsMatchingTarget(e,t){return nt.resolve(null)}getIndexType(e,t){return nt.resolve(0)}getFieldIndexes(e,t){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,t){return nt.resolve(nu.min())}getMinOffsetFromCollectionGroup(e,t){return nt.resolve(nu.min())}updateCollectionGroup(e,t,n){return nt.resolve()}updateIndexEntries(e,t){return nt.resolve()}}class Y3{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Ss(Xr.comparator),s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ss(Xr.comparator)).toArray()}}class hh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new hh(0)}static kn(){return new hh(-1)}}class G3{constructor(){this.changes=new Ah((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?nt.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class K3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Q3{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&Sf(n.mutation,i,Ho.empty(),Zi.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,jn()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=jn()){const i=ju();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((s=>{let a=pf();return s.forEach(((c,u)=>{a=a.insert(c,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const n=ju();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,jn())))}populateOverlays(e,t,n){const i=[];return n.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,c)=>{t.set(a,c)}))}))}computeViews(e,t,n,i){let s=ac();const a=_f(),c=(function(){return _f()})();return t.forEach(((u,d)=>{const f=n.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof uu)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),Sf(f.mutation,d,f.mutation.getFieldMask(),Zi.now())):a.set(d.key,Ho.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((d,f)=>a.set(d,f))),t.forEach(((d,f)=>{var w;return c.set(d,new K3(f,(w=a.get(d))!==null&&w!==void 0?w:null))})),c)))}recalculateAndSaveOverlays(e,t){const n=_f();let i=new li(((a,c)=>a-c)),s=jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const c of a)c.keys().forEach((u=>{const d=t.get(u);if(d===null)return;let f=n.get(u)||Ho.empty();f=c.applyToLocalView(d,f),n.set(u,f);const w=(i.get(c.batchId)||jn()).add(u);i=i.insert(c.batchId,w)}))})).next((()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,w=G_();f.forEach((x=>{if(!s.has(x)){const g=eS(t.get(x),n.get(x));g!==null&&w.set(x,g),s=s.add(x)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,w))}return nt.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(a){return tn.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):r3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):nt.resolve(ju());let c=-1,u=s;return a.next((d=>nt.forEach(d,((f,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),s.get(f)?nt.resolve():this.remoteDocumentCache.getEntry(e,f).next((x=>{u=u.insert(f,x)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,u,d,jn()))).next((f=>({batchId:c,changes:Y_(f)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next((n=>{let i=pf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=t.collectionGroup;let a=pf();return this.indexManager.getCollectionParents(e,s).next((c=>nt.forEach(c,(u=>{const d=(function(w,x){return new y0(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((f=>{f.forEach(((w,x)=>{a=a.insert(w,x)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i)))).next((a=>{s.forEach(((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,Gs.newInvalidDocument(f)))}));let c=pf();return a.forEach(((u,d)=>{const f=s.get(u);f!==void 0&&Sf(f.mutation,d,Ho.empty(),Zi.now()),b0(t,d)&&(c=c.insert(u,d))})),c}))}}class X3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return nt.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:wl(i.createTime)}})(t)),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(i){return{name:i.name,query:W3(i.bundledQuery),readTime:wl(i.readTime)}})(t)),nt.resolve()}}class J3{constructor(){this.overlays=new li(tn.comparator),this.Ir=new Map}getOverlay(e,t){return nt.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ju();return nt.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,s)=>{this.ht(e,t,s)})),nt.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(n)),nt.resolve()}getOverlaysForCollection(e,t,n){const i=ju(),s=t.length+1,a=new tn(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>n&&i.set(u.getKey(),u)}return nt.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let s=new li(((d,f)=>d-f));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let f=s.get(d.largestBatchId);f===null&&(f=ju(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=ju(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>c.set(d,f))),!(c.size()>=i)););return nt.resolve(c)}ht(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new x3(t,n));let s=this.Ir.get(t);s===void 0&&(s=jn(),this.Ir.set(t,s)),this.Ir.set(t,s.add(n.key))}}class Z3{constructor(){this.sessionToken=ks.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,nt.resolve()}}class X1{constructor(){this.Tr=new Ss(us.Er),this.dr=new Ss(us.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new us(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Vr(new us(e,t))}mr(e,t){e.forEach((n=>this.removeReference(n,t)))}gr(e){const t=new tn(new Xr([])),n=new us(t,e),i=new us(t,e+1),s=[];return this.dr.forEachInRange([n,i],(a=>{this.Vr(a),s.push(a.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new tn(new Xr([])),n=new us(t,e),i=new us(t,e+1);let s=jn();return this.dr.forEachInRange([n,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new us(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class us{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return tn.comparator(e.key,t.key)||Zn(e.wr,t.wr)}static Ar(e,t){return Zn(e.wr,t.wr)||tn.comparator(e.key,t.key)}}class eT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ss(us.Er)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new b3(s,t,n,i);this.mutationQueue.push(a);for(const c of i)this.br=this.br.add(new us(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return nt.resolve(a)}lookupMutationBatch(e,t){return nt.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.vr(n),s=i<0?0:i;return nt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new us(t,0),i=new us(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],(a=>{const c=this.Dr(a.wr);s.push(c)})),nt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ss(Zn);return t.forEach((i=>{const s=new us(i,0),a=new us(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],(c=>{n=n.add(c.wr)}))})),nt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let s=n;tn.isDocumentKey(s)||(s=s.child(""));const a=new us(new tn(s),0);let c=new Ss(Zn);return this.br.forEachWhile((u=>{const d=u.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)}),a),nt.resolve(this.Cr(c))}Cr(e){const t=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){yr(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return nt.forEach(t.mutations,(i=>{const s=new us(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new us(t,0),i=this.br.firstAfterOrEqual(n);return nt.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tT{constructor(e){this.Mr=e,this.docs=(function(){return new li(tn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return nt.resolve(n?n.document.mutableCopy():Gs.newInvalidDocument(t))}getEntries(e,t){let n=ac();return t.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Gs.newInvalidDocument(i))})),nt.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=ac();const a=t.path,c=new tn(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||jI(OI(f),n)<=0||(i.has(f.key)||b0(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return nt.resolve(s)}getAllFromCollectionGroup(e,t,n,i){fn()}Or(e,t){return nt.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new nT(this)}getSize(e){return nt.resolve(this.size)}}class nT extends G3{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),nt.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class rT{constructor(e){this.persistence=e,this.Nr=new Ah((t=>H1(t)),W1),this.lastRemoteSnapshotVersion=xn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new X1,this.targetCount=0,this.kr=hh.Bn()}forEachTarget(e,t){return this.Nr.forEach(((n,i)=>t(i))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),nt.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new hh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.Kn(t),nt.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,n){let i=0;const s=[];return this.Nr.forEach(((a,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),nt.waitFor(s).next((()=>i))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return nt.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),nt.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),nt.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return nt.resolve(n)}containsKey(e,t){return nt.resolve(this.Br.containsKey(t))}}class iT{constructor(e,t){this.qr={},this.overlays={},this.Qr=new V1(0),this.Kr=!1,this.Kr=!0,this.$r=new Z3,this.referenceDelegate=e(this),this.Ur=new rT(this),this.indexManager=new $3,this.remoteDocumentCache=(function(i){return new tT(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new H3(t),this.Gr=new X3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new J3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new eT(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Ot("MemoryPersistence","Starting transaction:",e);const i=new sT(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,t){return nt.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class sT extends BI{constructor(e){super(),this.currentSequenceNumber=e}}class J1{constructor(e){this.persistence=e,this.Jr=new X1,this.Yr=null}static Zr(e){return new J1(e)}get Xr(){if(this.Yr)return this.Yr;throw fn()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),nt.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),nt.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.Xr,(n=>{const i=tn.fromPath(n);return this.ei(e,i).next((s=>{s||t.removeEntry(i,xn.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return nt.or([()=>nt.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Z1{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=i}static Wi(e,t){let n=jn(),i=jn();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Z1(e,t.fromCache,n,i)}}class oT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aT{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return K4()?8:VI(Ks())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.Yi(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.Zi(e,t,i,n).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new oT;return this.Xi(e,t,a).next((c=>{if(s.result=c,this.zi)return this.es(e,t,a,c.size)}))})).next((()=>s.result))}es(e,t,n,i){return n.documentReadCount<this.ji?(rf()<=Fn.DEBUG&&Ot("QueryEngine","SDK will not create cache indexes for query:",Fd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),nt.resolve()):(rf()<=Fn.DEBUG&&Ot("QueryEngine","Query:",Fd(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(rf()<=Fn.DEBUG&&Ot("QueryEngine","The SDK decides to create cache indexes for query:",Fd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yl(t))):nt.resolve())}Yi(e,t){if(Vw(t))return nt.resolve(null);let n=yl(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Yv(t,null,"F"),n=yl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const a=jn(...s);return this.Ji.getDocuments(e,a).next((c=>this.indexManager.getMinOffset(e,n).next((u=>{const d=this.ts(t,c);return this.ns(t,d,a,u.readTime)?this.Yi(e,Yv(t,null,"F")):this.rs(e,d,t,u)}))))})))))}Zi(e,t,n,i){return Vw(t)||i.isEqual(xn.min())?nt.resolve(null):this.Ji.getDocuments(e,n).next((s=>{const a=this.ts(t,s);return this.ns(t,a,n,i)?nt.resolve(null):(rf()<=Fn.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fd(t)),this.rs(e,a,t,MI(i,-1)).next((c=>c)))}))}ts(e,t){let n=new Ss(W_(e));return t.forEach(((i,s)=>{b0(e,s)&&(n=n.add(s))})),n}ns(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,n){return rf()<=Fn.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",Fd(t)),this.Ji.getDocumentsMatchingQuery(e,t,nu.min(),n)}rs(e,t,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}class lT{constructor(e,t,n,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new li(Zn),this._s=new Ah((s=>H1(s)),W1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function cT(r,e,t,n){return new lT(r,e,t,n)}async function hS(r,e){const t=_n(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(n)))).next((s=>{const a=[],c=[];let u=jn();for(const d of i){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(n,u).next((d=>({hs:d,removedBatchIds:a,addedBatchIds:c})))}))}))}function uT(r,e){const t=_n(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return(function(c,u,d,f){const w=d.batch,x=w.keys();let g=nt.resolve();return x.forEach((A=>{g=g.next((()=>f.getEntry(u,A))).next((R=>{const P=d.docVersions.get(A);yr(P!==null),R.version.compareTo(P)<0&&(w.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),f.addEntry(R)))}))})),g.next((()=>c.mutationQueue.removeMutationBatch(u,w)))})(t,n,e,s).next((()=>s.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let u=jn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function fS(r){const e=_n(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function dT(r,e){const t=_n(r),n=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const c=[];e.targetChanges.forEach(((f,w)=>{const x=i.get(w);if(!x)return;c.push(t.Ur.removeMatchingKeys(s,f.removedDocuments,w).next((()=>t.Ur.addMatchingKeys(s,f.addedDocuments,w))));let g=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(w)!==null?g=g.withResumeToken(ks.EMPTY_BYTE_STRING,xn.min()).withLastLimboFreeSnapshotVersion(xn.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,n)),i=i.insert(w,g),(function(R,P,L){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(x,g,f)&&c.push(t.Ur.updateTargetData(s,g))}));let u=ac(),d=jn();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))})),c.push(hT(s,a,e.documentUpdates).next((f=>{u=f.Ps,d=f.Is}))),!n.isEqual(xn.min())){const f=t.Ur.getLastRemoteSnapshotVersion(s).next((w=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n)));c.push(f)}return nt.waitFor(c).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,u,d))).next((()=>u))})).then((s=>(t.os=i,s)))}function hT(r,e,t){let n=jn(),i=jn();return t.forEach((s=>n=n.add(s))),e.getEntries(r,n).next((s=>{let a=ac();return t.forEach(((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(xn.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):Ot("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)})),{Ps:a,Is:i}}))}function fT(r,e){const t=_n(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function pT(r,e){const t=_n(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.Ur.getTargetData(n,e).next((s=>s?(i=s,nt.resolve(i)):t.Ur.allocateTargetId(n).next((a=>(i=new Wc(e,a,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n}))}async function Jv(r,e,t){const n=_n(r),i=n.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,(a=>n.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Gf(a))throw a;Ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function Xw(r,e,t){const n=_n(r);let i=xn.min(),s=jn();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,d,f){const w=_n(u),x=w._s.get(f);return x!==void 0?nt.resolve(w.os.get(x)):w.Ur.getTargetData(d,f)})(n,a,yl(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,c.targetId).next((u=>{s=u}))})).next((()=>n.ss.getDocumentsMatchingQuery(a,e,t?i:xn.min(),t?s:jn()))).next((c=>(mT(n,s3(e),c),{documents:c,Ts:s})))))}function mT(r,e,t){let n=r.us.get(e)||xn.min();t.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),r.us.set(e,n)}class Jw{constructor(){this.activeTargetIds=d3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gT{constructor(){this.so=new Jw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Jw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vT{_o(e){}shutdown(){}}class Zw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qp=null;function Hg(){return qp===null?qp=(function(){return 268435456+Math.round(2147483648*Math.random())})():qp++,"0x"+qp.toString(16)}const yT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wT{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Vs="WebChannelConnection";class bT extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,n,i,s,a){const c=Hg(),u=this.xo(t,n.toUriEncodedString());Ot("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,a),this.No(t,u,d,i).then((f=>(Ot("RestConnection",`Received RPC '${t}' ${c}: `,f),f)),(f=>{throw lh("RestConnection",`RPC '${t}' ${c} failed with error: `,f,"url: ",u,"request:",i),f}))}Lo(t,n,i,s,a,c){return this.Mo(t,n,i,s,a)}Oo(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ch})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>t[a]=s)),i&&i.headers.forEach(((s,a)=>t[a]=s))}xo(t,n){const i=yT[t];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,i){const s=Hg();return new Promise(((a,c)=>{const u=new A_;u.setWithCredentials(!0),u.listenOnce(I_.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case fm.NO_ERROR:const f=u.getResponseJson();Ot(Vs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case fm.TIMEOUT:Ot(Vs,`RPC '${e}' ${s} timed out`),c(new Yt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case fm.HTTP_ERROR:const w=u.getStatus();if(Ot(Vs,`RPC '${e}' ${s} failed with status:`,w,"response text:",u.getResponseText()),w>0){let x=u.getResponseJson();Array.isArray(x)&&(x=x[0]);const g=x?.error;if(g&&g.status&&g.message){const A=(function(P){const L=P.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(L)>=0?L:tt.UNKNOWN})(g.status);c(new Yt(A,g.message))}else c(new Yt(tt.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Yt(tt.UNAVAILABLE,"Connection failed."));break;default:fn()}}finally{Ot(Vs,`RPC '${e}' ${s} completed.`)}}));const d=JSON.stringify(i);Ot(Vs,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,n,15)}))}Bo(e,t,n){const i=Hg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=D_(),c=P_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const f=s.join("");Ot(Vs,`Creating RPC '${e}' stream ${i}: ${f}`,u);const w=a.createWebChannel(f,u);let x=!1,g=!1;const A=new wT({Io:P=>{g?Ot(Vs,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(x||(Ot(Vs,`Opening RPC '${e}' stream ${i} transport.`),w.open(),x=!0),Ot(Vs,`RPC '${e}' stream ${i} sending:`,P),w.send(P))},To:()=>w.close()}),R=(P,L,V)=>{P.listen(L,(U=>{try{V(U)}catch(z){setTimeout((()=>{throw z}),0)}}))};return R(w,ff.EventType.OPEN,(()=>{g||(Ot(Vs,`RPC '${e}' stream ${i} transport opened.`),A.yo())})),R(w,ff.EventType.CLOSE,(()=>{g||(g=!0,Ot(Vs,`RPC '${e}' stream ${i} transport closed`),A.So())})),R(w,ff.EventType.ERROR,(P=>{g||(g=!0,lh(Vs,`RPC '${e}' stream ${i} transport errored:`,P),A.So(new Yt(tt.UNAVAILABLE,"The operation could not be completed")))})),R(w,ff.EventType.MESSAGE,(P=>{var L;if(!g){const V=P.data[0];yr(!!V);const U=V,z=U.error||((L=U[0])===null||L===void 0?void 0:L.error);if(z){Ot(Vs,`RPC '${e}' stream ${i} received error:`,z);const ne=z.status;let ce=(function(C){const j=Vi[C];if(j!==void 0)return nS(j)})(ne),W=z.message;ce===void 0&&(ce=tt.INTERNAL,W="Unknown error status: "+ne+" with message "+z.message),g=!0,A.So(new Yt(ce,W)),w.close()}else Ot(Vs,`RPC '${e}' stream ${i} received:`,V),A.bo(V)}})),R(c,T_.STAT_EVENT,(P=>{P.stat===zv.PROXY?Ot(Vs,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===zv.NOPROXY&&Ot(Vs,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.wo()}),0),A}}function Wg(){return typeof document<"u"?document:null}function E0(r){return new T3(r,!0)}class pS{constructor(e,t,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-n);i>0&&Ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class mS{constructor(e,t,n,i,s,a,c,u){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pS(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(oc(t.toString()),oc("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===t&&this.P_(n,i)}),(n=>{e((()=>{const i=new Yt(tt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xT extends mS{constructor(e,t,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=L3(this.serializer,e),n=(function(s){if(!("targetChange"in s))return xn.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?xn.min():a.readTime?wl(a.readTime):xn.min()})(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Xv(this.serializer),t.addTarget=(function(s,a){let c;const u=a.target;if(c=$v(u)?{documents:O3(s,u)}:{query:j3(s,u)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=sS(s,a.resumeToken);const d=Gv(s,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(xn.min())>0){c.readTime=qm(s,a.snapshotVersion.toTimestamp());const d=Gv(s,a.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const n=B3(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Xv(this.serializer),t.removeTarget=e,this.a_(t)}}class _T extends mS{constructor(e,t,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return yr(!!e.streamToken),this.lastStreamToken=e.streamToken,yr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){yr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=M3(e.writeResults,e.commitTime),n=wl(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Xv(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>R3(this.serializer,n)))};this.a_(t)}}class ST extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Yt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Mo(e,Kv(t,n),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Yt(tt.UNKNOWN,s.toString())}))}Lo(e,t,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Lo(e,Kv(t,n),i,a,c,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Yt(tt.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class kT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(oc(t),this.D_=!1):Ot("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class ET{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((a=>{n.enqueueAndForget((async()=>{od(this)&&(Ot("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const d=_n(u);d.L_.add(4),await Xf(d),d.q_.set("Unknown"),d.L_.delete(4),await N0(d)})(this))}))})),this.q_=new kT(n,i)}}async function N0(r){if(od(r))for(const e of r.B_)await e(!0)}async function Xf(r){for(const e of r.B_)await e(!1)}function gS(r,e){const t=_n(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),ry(t)?ny(t):Ih(t).r_()&&ty(t,e))}function ey(r,e){const t=_n(r),n=Ih(t);t.N_.delete(e),n.r_()&&vS(t,e),t.N_.size===0&&(n.r_()?n.o_():od(t)&&t.q_.set("Unknown"))}function ty(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ih(r).A_(e)}function vS(r,e){r.Q_.xe(e),Ih(r).R_(e)}function ny(r){r.Q_=new N3({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Ih(r).start(),r.q_.v_()}function ry(r){return od(r)&&!Ih(r).n_()&&r.N_.size>0}function od(r){return _n(r).L_.size===0}function yS(r){r.Q_=void 0}async function NT(r){r.q_.set("Online")}async function CT(r){r.N_.forEach(((e,t)=>{ty(r,e)}))}async function AT(r,e){yS(r),ry(r)?(r.q_.M_(e),ny(r)):r.q_.set("Unknown")}async function IT(r,e,t){if(r.q_.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const c of s.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.N_.delete(c),i.Q_.removeTarget(c))})(r,e)}catch(n){Ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Hm(r,n)}else if(e instanceof gm?r.Q_.Ke(e):e instanceof rS?r.Q_.He(e):r.Q_.We(e),!t.isEqual(xn.min()))try{const n=await fS(r.localStore);t.compareTo(n)>=0&&await(function(s,a){const c=s.Q_.rt(a);return c.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(d);f&&s.N_.set(d,f.withResumeToken(u.resumeToken,a))}})),c.targetMismatches.forEach(((u,d)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(ks.EMPTY_BYTE_STRING,f.snapshotVersion)),vS(s,u);const w=new Wc(f.target,u,d,f.sequenceNumber);ty(s,w)})),s.remoteSyncer.applyRemoteEvent(c)})(r,t)}catch(n){Ot("RemoteStore","Failed to raise snapshot:",n),await Hm(r,n)}}async function Hm(r,e,t){if(!Gf(e))throw e;r.L_.add(1),await Xf(r),r.q_.set("Offline"),t||(t=()=>fS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ot("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await N0(r)}))}function wS(r,e){return e().catch((t=>Hm(r,t,e)))}async function C0(r){const e=_n(r),t=iu(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;TT(e);)try{const i=await fT(e.localStore,n);if(i===null){e.O_.length===0&&t.o_();break}n=i.batchId,PT(e,i)}catch(i){await Hm(e,i)}bS(e)&&xS(e)}function TT(r){return od(r)&&r.O_.length<10}function PT(r,e){r.O_.push(e);const t=iu(r);t.r_()&&t.V_&&t.m_(e.mutations)}function bS(r){return od(r)&&!iu(r).n_()&&r.O_.length>0}function xS(r){iu(r).start()}async function DT(r){iu(r).p_()}async function LT(r){const e=iu(r);for(const t of r.O_)e.m_(t.mutations)}async function RT(r,e,t){const n=r.O_.shift(),i=G1.from(n,e,t);await wS(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await C0(r)}async function MT(r,e){e&&iu(r).V_&&await(async function(n,i){if((function(a){return S3(a)&&a!==tt.ABORTED})(i.code)){const s=n.O_.shift();iu(n).s_(),await wS(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await C0(n)}})(r,e),bS(r)&&xS(r)}async function e5(r,e){const t=_n(r);t.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const n=od(t);t.L_.add(3),await Xf(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await N0(t)}async function OT(r,e){const t=_n(r);e?(t.L_.delete(2),await N0(t)):e||(t.L_.add(2),await Xf(t),t.q_.set("Unknown"))}function Ih(r){return r.K_||(r.K_=(function(t,n,i){const s=_n(t);return s.w_(),new xT(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(r.datastore,r.asyncQueue,{Eo:NT.bind(null,r),Ro:CT.bind(null,r),mo:AT.bind(null,r),d_:IT.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),ry(r)?ny(r):r.q_.set("Unknown")):(await r.K_.stop(),yS(r))}))),r.K_}function iu(r){return r.U_||(r.U_=(function(t,n,i){const s=_n(t);return s.w_(),new _T(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:DT.bind(null,r),mo:MT.bind(null,r),f_:LT.bind(null,r),g_:RT.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await C0(r)):(await r.U_.stop(),r.O_.length>0&&(Ot("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class iy{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Hu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const a=Date.now()+n,c=new iy(e,t,a,i,s);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Yt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sy(r,e){if(oc("AsyncQueue",`${e}: ${r}`),Gf(r))return new Yt(tt.UNAVAILABLE,`${e}: ${r}`);throw r}class Xd{constructor(e){this.comparator=e?(t,n)=>e(t,n)||tn.comparator(t.key,n.key):(t,n)=>tn.comparator(t.key,n.key),this.keyedMap=pf(),this.sortedSet=new li(this.comparator)}static emptySet(e){return new Xd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Xd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class t5{constructor(){this.W_=new li(tn.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):fn():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class fh{constructor(e,t,n,i,s,a,c,u,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,i,s){const a=[];return t.forEach((c=>{a.push({type:0,doc:c})})),new fh(e,t,Xd.emptySet(t),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&w0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class jT{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class FT{constructor(){this.queries=n5(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const i=_n(t),s=i.queries;i.queries=n5(),s.forEach(((a,c)=>{for(const u of c.j_)u.onError(n)}))})(this,new Yt(tt.ABORTED,"Firestore shutting down"))}}function n5(){return new Ah((r=>H_(r)),w0)}async function BT(r,e){const t=_n(r);let n=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new jT,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const c=sy(a,`Initialization of query '${Fd(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&oy(t)}async function VT(r,e){const t=_n(r),n=e.query;let i=3;const s=t.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function UT(r,e){const t=_n(r);let n=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const c of a.j_)c.X_(i)&&(n=!0);a.z_=i}}n&&oy(t)}function zT(r,e,t){const n=_n(r),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(t);n.queries.delete(e)}function oy(r){r.Y_.forEach((e=>{e.next()}))}var Zv,r5;(r5=Zv||(Zv={})).ea="default",r5.Cache="cache";class qT{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new fh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=fh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zv.Cache}}class _S{constructor(e){this.key=e}}class SS{constructor(e){this.key=e}}class HT{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=jn(),this.mutatedKeys=jn(),this.Aa=W_(e),this.Ra=new Xd(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new t5,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,w)=>{const x=i.get(f),g=b0(this.query,w)?w:null,A=!!x&&this.mutatedKeys.has(x.key),R=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;x&&g?x.data.isEqual(g.data)?A!==R&&(n.track({type:3,doc:g}),P=!0):this.ga(x,g)||(n.track({type:2,doc:g}),P=!0,(u&&this.Aa(g,u)>0||d&&this.Aa(g,d)<0)&&(c=!0)):!x&&g?(n.track({type:0,doc:g}),P=!0):x&&!g&&(n.track({type:1,doc:x}),P=!0,(u||d)&&(c=!0)),P&&(g?(a=a.add(g),s=R?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{Ra:a,fa:n,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort(((f,w)=>(function(g,A){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fn()}};return R(g)-R(A)})(f.type,w.type)||this.Aa(f.doc,w.doc))),this.pa(n),i=i!=null&&i;const c=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,a.length!==0||d?{snapshot:new fh(this.query,e.Ra,s,a,e.mutatedKeys,u===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new t5,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=jn(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const t=[];return e.forEach((n=>{this.da.has(n)||t.push(new SS(n))})),this.da.forEach((n=>{e.has(n)||t.push(new _S(n))})),t}ba(e){this.Ta=e.Ts,this.da=jn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return fh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class WT{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class $T{constructor(e){this.key=e,this.va=!1}}class YT{constructor(e,t,n,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ah((c=>H_(c)),w0),this.Ma=new Map,this.xa=new Set,this.Oa=new li(tn.comparator),this.Na=new Map,this.La=new X1,this.Ba={},this.ka=new Map,this.qa=hh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function GT(r,e,t=!0){const n=IS(r);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await kS(n,e,t,!0),i}async function KT(r,e){const t=IS(r);await kS(t,e,!0,!1)}async function kS(r,e,t,n){const i=await pT(r.localStore,yl(e)),s=i.targetId,a=r.sharedClientState.addLocalQueryTarget(s,t);let c;return n&&(c=await QT(r,e,s,a==="current",i.resumeToken)),r.isPrimaryClient&&t&&gS(r.remoteStore,i),c}async function QT(r,e,t,n,i){r.Ka=(w,x,g)=>(async function(R,P,L,V){let U=P.view.ma(L);U.ns&&(U=await Xw(R.localStore,P.query,!1).then((({documents:W})=>P.view.ma(W,U))));const z=V&&V.targetChanges.get(P.targetId),ne=V&&V.targetMismatches.get(P.targetId)!=null,ce=P.view.applyChanges(U,R.isPrimaryClient,z,ne);return s5(R,P.targetId,ce.wa),ce.snapshot})(r,w,x,g);const s=await Xw(r.localStore,e,!0),a=new HT(e,s.Ts),c=a.ma(s.documents),u=Qf.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),d=a.applyChanges(c,r.isPrimaryClient,u);s5(r,t,d.wa);const f=new WT(e,t,a);return r.Fa.set(e,f),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),d.snapshot}async function XT(r,e,t){const n=_n(r),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter((a=>!w0(a,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Jv(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&ey(n.remoteStore,i.targetId),e1(n,i.targetId)})).catch(Yf)):(e1(n,i.targetId),await Jv(n.localStore,i.targetId,!0))}async function JT(r,e){const t=_n(r),n=t.Fa.get(e),i=t.Ma.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),ey(t.remoteStore,n.targetId))}async function ZT(r,e,t){const n=oP(r);try{const i=await(function(a,c){const u=_n(a),d=Zi.now(),f=c.reduce(((g,A)=>g.add(A.key)),jn());let w,x;return u.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let A=ac(),R=jn();return u.cs.getEntries(g,f).next((P=>{A=P,A.forEach(((L,V)=>{V.isValidDocument()||(R=R.add(L))}))})).next((()=>u.localDocuments.getOverlayedDocuments(g,A))).next((P=>{w=P;const L=[];for(const V of c){const U=y3(V,w.get(V.key).overlayedDocument);U!=null&&L.push(new uu(V.key,U,j_(U.value.mapValue),$o.exists(!0)))}return u.mutationQueue.addMutationBatch(g,d,L,c)})).next((P=>{x=P;const L=P.applyToLocalDocumentSet(w,R);return u.documentOverlayCache.saveOverlays(g,P.batchId,L)}))})).then((()=>({batchId:x.batchId,changes:Y_(w)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(a,c,u){let d=a.Ba[a.currentUser.toKey()];d||(d=new li(Zn)),d=d.insert(c,u),a.Ba[a.currentUser.toKey()]=d})(n,i.batchId,t),await Jf(n,i.changes),await C0(n.remoteStore)}catch(i){const s=sy(i,"Failed to persist write");t.reject(s)}}async function ES(r,e){const t=_n(r);try{const n=await dT(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=t.Na.get(s);a&&(yr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?yr(a.va):i.removedDocuments.size>0&&(yr(a.va),a.va=!1))})),await Jf(t,n,e)}catch(n){await Yf(n)}}function i5(r,e,t){const n=_n(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Fa.forEach(((s,a)=>{const c=a.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(a,c){const u=_n(a);u.onlineState=c;let d=!1;u.queries.forEach(((f,w)=>{for(const x of w.j_)x.Z_(c)&&(d=!0)})),d&&oy(u)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function eP(r,e,t){const n=_n(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new li(tn.comparator);a=a.insert(s,Gs.newNoDocument(s,xn.min()));const c=jn().add(s),u=new k0(xn.min(),new Map,new li(Zn),a,c);await ES(n,u),n.Oa=n.Oa.remove(s),n.Na.delete(e),ay(n)}else await Jv(n.localStore,e,!1).then((()=>e1(n,e,t))).catch(Yf)}async function tP(r,e){const t=_n(r),n=e.batch.batchId;try{const i=await uT(t.localStore,e);CS(t,n,null),NS(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Jf(t,i)}catch(i){await Yf(i)}}async function nP(r,e,t){const n=_n(r);try{const i=await(function(a,c){const u=_n(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next((w=>(yr(w!==null),f=w.keys(),u.mutationQueue.removeMutationBatch(d,w)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(n.localStore,e);CS(n,e,t),NS(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Jf(n,i)}catch(i){await Yf(i)}}function NS(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function CS(r,e,t){const n=_n(r);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function e1(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((n=>{r.La.containsKey(n)||AS(r,n)}))}function AS(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(ey(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),ay(r))}function s5(r,e,t){for(const n of t)n instanceof _S?(r.La.addReference(n.key,e),rP(r,n)):n instanceof SS?(Ot("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||AS(r,n.key)):fn()}function rP(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(Ot("SyncEngine","New document in limbo: "+t),r.xa.add(n),ay(r))}function ay(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new tn(Xr.fromString(e)),n=r.qa.next();r.Na.set(n,new $T(t)),r.Oa=r.Oa.insert(t,n),gS(r.remoteStore,new Wc(yl($1(t.path)),n,"TargetPurposeLimboResolution",V1.oe))}}async function Jf(r,e,t){const n=_n(r),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach(((c,u)=>{a.push(n.Ka(u,e,t).then((d=>{var f;if((d||t)&&n.isPrimaryClient){const w=d?!d.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;n.sharedClientState.updateQueryState(u.targetId,w?"current":"not-current")}if(d){i.push(d);const w=Z1.Wi(u.targetId,d);s.push(w)}})))})),await Promise.all(a),n.Ca.d_(i),await(async function(u,d){const f=_n(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>nt.forEach(d,(x=>nt.forEach(x.$i,(g=>f.persistence.referenceDelegate.addReference(w,x.targetId,g))).next((()=>nt.forEach(x.Ui,(g=>f.persistence.referenceDelegate.removeReference(w,x.targetId,g)))))))))}catch(w){if(!Gf(w))throw w;Ot("LocalStore","Failed to update sequence numbers: "+w)}for(const w of d){const x=w.targetId;if(!w.fromCache){const g=f.os.get(x),A=g.snapshotVersion,R=g.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(x,R)}}})(n.localStore,s))}async function iP(r,e){const t=_n(r);if(!t.currentUser.isEqual(e)){Ot("SyncEngine","User change. New user:",e.toKey());const n=await hS(t.localStore,e);t.currentUser=e,(function(s,a){s.ka.forEach((c=>{c.forEach((u=>{u.reject(new Yt(tt.CANCELLED,a))}))})),s.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Jf(t,n.hs)}}function sP(r,e){const t=_n(r),n=t.Na.get(e);if(n&&n.va)return jn().add(n.key);{let i=jn();const s=t.Ma.get(e);if(!s)return i;for(const a of s){const c=t.Fa.get(a);i=i.unionWith(c.view.Va)}return i}}function IS(r){const e=_n(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eP.bind(null,e),e.Ca.d_=UT.bind(null,e.eventManager),e.Ca.$a=zT.bind(null,e.eventManager),e}function oP(r){const e=_n(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nP.bind(null,e),e}class Wm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=E0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return cT(this.persistence,new aT,e.initialUser,this.serializer)}Ga(e){return new iT(J1.Zr,this.serializer)}Wa(e){return new gT}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wm.provider={build:()=>new Wm};class t1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>i5(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=iP.bind(null,this.syncEngine),await OT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FT})()}createDatastore(e){const t=E0(e.databaseInfo.databaseId),n=(function(s){return new bT(s)})(e.databaseInfo);return(function(s,a,c,u){return new ST(s,a,c,u)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,s,a,c){return new ET(n,i,s,a,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>i5(this.syncEngine,t,0)),(function(){return Zw.D()?new Zw:new vT})())}createSyncEngine(e,t){return(function(i,s,a,c,u,d,f){const w=new YT(i,s,a,c,u,d);return f&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const s=_n(i);Ot("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Xf(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}t1.provider={build:()=>new t1};class aP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):oc("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class lP{constructor(e,t,n,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Ys.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async a=>{Ot("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(Ot("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=sy(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function $g(r,e){r.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await hS(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function o5(r,e){r.asyncQueue.verifyOperationInProgress();const t=await cP(r);Ot("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>e5(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>e5(e.remoteStore,i))),r._onlineComponents=e}async function cP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ot("FirestoreClient","Using user provided OfflineComponentProvider");try{await $g(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===tt.FAILED_PRECONDITION||i.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;lh("Error using user provided cache. Falling back to memory cache: "+t),await $g(r,new Wm)}}else Ot("FirestoreClient","Using default OfflineComponentProvider"),await $g(r,new Wm);return r._offlineComponents}async function TS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ot("FirestoreClient","Using user provided OnlineComponentProvider"),await o5(r,r._uninitializedComponentsProvider._online)):(Ot("FirestoreClient","Using default OnlineComponentProvider"),await o5(r,new t1))),r._onlineComponents}function uP(r){return TS(r).then((e=>e.syncEngine))}async function a5(r){const e=await TS(r),t=e.eventManager;return t.onListen=GT.bind(null,e.syncEngine),t.onUnlisten=XT.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KT.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JT.bind(null,e.syncEngine),t}function PS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const l5=new Map;function DS(r,e,t){if(!t)throw new Yt(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function dP(r,e,t,n){if(e===!0&&n===!0)throw new Yt(tt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function c5(r){if(!tn.isDocumentKey(r))throw new Yt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function u5(r){if(tn.isDocumentKey(r))throw new Yt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ly(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":fn()}function Jc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Yt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ly(r);throw new Yt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class d5{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Yt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Yt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PS((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Yt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Yt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Yt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class A0{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d5({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Yt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Yt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d5(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new NI;switch(n.type){case"firstParty":return new TI(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Yt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=l5.get(t);n&&(Ot("ComponentProvider","Removing Datastore"),l5.delete(t),n.terminate())})(this),Promise.resolve()}}function hP(r,e,t,n={}){var i;const s=(r=Jc(r,A0))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&lh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let c,u;if(typeof n.mockUserToken=="string")c=n.mockUserToken,u=Ys.MOCK_USER;else{c=z4(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new Yt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ys(d)}r._authCredentials=new CI(new L_(c,u))}}class I0{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new I0(this.firestore,e,this._query)}}class Yo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yo(this.firestore,e,this._key)}}class Zc extends I0{constructor(e,t,n){super(e,t,$1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yo(this.firestore,null,new tn(e))}withConverter(e){return new Zc(this.firestore,e,this._path)}}function Yg(r,e,...t){if(r=es(r),DS("collection","path",e),r instanceof A0){const n=Xr.fromString(e,...t);return u5(n),new Zc(r,null,n)}{if(!(r instanceof Yo||r instanceof Zc))throw new Yt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Xr.fromString(e,...t));return u5(n),new Zc(r.firestore,null,n)}}function ph(r,e,...t){if(r=es(r),arguments.length===1&&(e=R_.newId()),DS("doc","path",e),r instanceof A0){const n=Xr.fromString(e,...t);return c5(n),new Yo(r,null,new tn(n))}{if(!(r instanceof Yo||r instanceof Zc))throw new Yt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Xr.fromString(e,...t));return c5(n),new Yo(r.firestore,r instanceof Zc?r.converter:null,new tn(n))}}class h5{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pS(this,"async_queue_retry"),this.Vu=()=>{const n=Wg();n&&Ot("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=Wg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Wg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Hu;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Gf(e))throw e;Ot("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c})(n);throw oc("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=iy.createAndSchedule(this,e,t,n,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&fn()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function f5(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(r,["next","error","complete"])}class mh extends A0{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new h5,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h5(e),this._firestoreClient=void 0,await e}}}function fP(r,e){const t=typeof r=="object"?r:Wx(),n=typeof r=="string"?r:"(default)",i=I1(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=V4("firestore");s&&hP(i,...s)}return i}function cy(r){if(r._terminated)throw new Yt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pP(r),r._firestoreClient}function pP(r){var e,t,n;const i=r._freezeSettings(),s=(function(c,u,d,f){return new qI(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,PS(f.experimentalLongPollingOptions),f.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new lP(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&(function(c){const u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(r._componentsProvider))}class gh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gh(ks.fromBase64String(e))}catch(t){throw new Yt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gh(ks.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class T0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Yt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _s(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uy{constructor(e){this._methodName=e}}class dy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Yt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Yt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zn(this._lat,e._lat)||Zn(this._long,e._long)}}class hy{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}}const mP=/^__.*__$/;class gP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new uu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kf(e,this.data,t,this.fieldTransforms)}}class LS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new uu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function RS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fn()}}class fy{constructor(e,t,n,i,s,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $m(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(RS(this.Cu)&&mP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class vP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||E0(e)}Qu(e,t,n,i=!1){return new fy({Cu:e,methodName:t,qu:n,path:_s.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MS(r){const e=r._freezeSettings(),t=E0(r._databaseId);return new vP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function OS(r,e,t,n,i,s={}){const a=r.Qu(s.merge||s.mergeFields?2:0,e,t,i);py("Data must be an object, but it was:",a,n);const c=jS(n,a);let u,d;if(s.merge)u=new Ho(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const w of s.mergeFields){const x=n1(e,w,t);if(!a.contains(x))throw new Yt(tt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);BS(f,x)||f.push(x)}u=new Ho(f),d=a.fieldTransforms.filter((w=>u.covers(w.field)))}else u=null,d=a.fieldTransforms;return new gP(new Ao(c),u,d)}class P0 extends uy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof P0}}function yP(r,e,t,n){const i=r.Qu(1,e,t);py("Data must be an object, but it was:",i,n);const s=[],a=Ao.empty();sd(n,((u,d)=>{const f=my(e,u,t);d=es(d);const w=i.Nu(f);if(d instanceof P0)s.push(f);else{const x=D0(d,w);x!=null&&(s.push(f),a.set(f,x))}}));const c=new Ho(s);return new LS(a,c,i.fieldTransforms)}function wP(r,e,t,n,i,s){const a=r.Qu(1,e,t),c=[n1(e,n,t)],u=[i];if(s.length%2!=0)throw new Yt(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)c.push(n1(e,s[x])),u.push(s[x+1]);const d=[],f=Ao.empty();for(let x=c.length-1;x>=0;--x)if(!BS(d,c[x])){const g=c[x];let A=u[x];A=es(A);const R=a.Nu(g);if(A instanceof P0)d.push(g);else{const P=D0(A,R);P!=null&&(d.push(g),f.set(g,P))}}const w=new Ho(d);return new LS(f,w,a.fieldTransforms)}function D0(r,e){if(FS(r=es(r)))return py("Unsupported field value:",e,r),jS(r,e);if(r instanceof uy)return(function(n,i){if(!RS(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const s=[];let a=0;for(const c of n){let u=D0(c,i.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}})(r,e)}return(function(n,i){if((n=es(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return h3(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Zi.fromDate(n);return{timestampValue:qm(i.serializer,s)}}if(n instanceof Zi){const s=new Zi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qm(i.serializer,s)}}if(n instanceof dy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof gh)return{bytesValue:sS(i.serializer,n._byteString)};if(n instanceof Yo){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Q1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof hy)return(function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Y1(c.serializer,u)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${ly(n)}`)})(r,e)}function jS(r,e){const t={};return M_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sd(r,((n,i)=>{const s=D0(i,e.Mu(n));s!=null&&(t[n]=s)})),{mapValue:{fields:t}}}function FS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Zi||r instanceof dy||r instanceof gh||r instanceof Yo||r instanceof uy||r instanceof hy)}function py(r,e,t){if(!FS(t)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(t)){const n=ly(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function n1(r,e,t){if((e=es(e))instanceof T0)return e._internalPath;if(typeof e=="string")return my(r,e);throw $m("Field path arguments must be of type string or ",r,!1,void 0,t)}const bP=new RegExp("[~\\*/\\[\\]]");function my(r,e,t){if(e.search(bP)>=0)throw $m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new T0(...e.split("."))._internalPath}catch{throw $m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function $m(r,e,t,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${n}`),a&&(u+=` in document ${i}`),u+=")"),new Yt(tt.INVALID_ARGUMENT,c+r+u)}function BS(r,e){return r.some((t=>t.isEqual(e)))}class VS{constructor(e,t,n,i,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(US("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xP extends VS{data(){return super.data()}}function US(r,e){return typeof e=="string"?my(r,e):e instanceof T0?e._internalPath:e._delegate._internalPath}function _P(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Yt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SP{convertValue(e,t="none"){switch(Ju(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return sd(e,((i,s)=>{n[i]=this.convertValue(s,t)})),n}convertVectorValue(e){var t,n,i;const s=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((a=>Si(a.doubleValue)));return new hy(s)}convertGeoPoint(e){return new dy(Si(e.latitude),Si(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=z1(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pf(e));default:return null}}convertTimestamp(e){const t=ru(e);return new Zi(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Xr.fromString(e);yr(dS(n));const i=new Df(n.get(1),n.get(3)),s=new tn(n.popFirst(5));return i.isEqual(t)||oc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function zS(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class gf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qS extends VS{constructor(e,t,n,i,s,a){super(e,t,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(US("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vm extends qS{data(e={}){return super.data(e)}}class kP{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new gf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new vm(this._firestore,this._userDataWriter,n.key,n,new gf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Yt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((c=>{const u=new vm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const u=new vm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),f=a.indexOf(c.doc.key)),{type:EP(c.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function EP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fn()}}class HS extends SP{constructor(e){super(),this.firestore=e}convertBytes(e){return new gh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yo(this.firestore,null,t)}}function gy(r,e,t){r=Jc(r,Yo);const n=Jc(r.firestore,mh),i=zS(r.converter,e,t);return vy(n,[OS(MS(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,$o.none())])}function NP(r){return vy(Jc(r.firestore,mh),[new S0(r._key,$o.none())])}function Hp(r,...e){var t,n,i;r=es(r);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||f5(e[a])||(s=e[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(f5(e[a])){const w=e[a];e[a]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[a+1]=(n=w.error)===null||n===void 0?void 0:n.bind(w),e[a+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}let u,d,f;if(r instanceof Yo)d=Jc(r.firestore,mh),f=$1(r._key.path),u={next:w=>{e[a]&&e[a](CP(d,r,w))},error:e[a+1],complete:e[a+2]};else{const w=Jc(r,I0);d=Jc(w.firestore,mh),f=w._query;const x=new HS(d);u={next:g=>{e[a]&&e[a](new kP(d,x,w,g))},error:e[a+1],complete:e[a+2]},_P(r._query)}return(function(x,g,A,R){const P=new aP(R),L=new qT(g,P,A);return x.asyncQueue.enqueueAndForget((async()=>BT(await a5(x),L))),()=>{P.Za(),x.asyncQueue.enqueueAndForget((async()=>VT(await a5(x),L)))}})(cy(d),f,c,u)}function vy(r,e){return(function(n,i){const s=new Hu;return n.asyncQueue.enqueueAndForget((async()=>ZT(await uP(n),i,s))),s.promise})(cy(r),e)}function CP(r,e,t){const n=t.docs.get(e._key),i=new HS(r);return new qS(r,i,e._key,n,new gf(t.hasPendingWrites,t.fromCache),e.converter)}class AP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=MS(e)}set(e,t,n){this._verifyNotCommitted();const i=Gg(e,this._firestore),s=zS(i.converter,t,n),a=OS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,$o.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const s=Gg(e,this._firestore);let a;return a=typeof(t=es(t))=="string"||t instanceof T0?wP(this._dataReader,"WriteBatch.update",s._key,t,n,i):yP(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,$o.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gg(e,this._firestore);return this._mutations=this._mutations.concat(new S0(t._key,$o.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Yt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gg(r,e){if((r=es(r)).firestore!==e)throw new Yt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function IP(r){return cy(r=Jc(r,mh)),new AP(r,(e=>vy(r,e)))}(function(e,t=!0){(function(i){Ch=i})(kh),oh(new Gu("firestore",((n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),c=new mh(new AI(n.getProvider("auth-internal")),new DI(n.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Yt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(d.options.projectId,f)})(a,i),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Qc(Tw,"4.7.3",e),Qc(Tw,"4.7.3","esm2017")})();const p5={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyBaZA4J1Tqnd_iFnB3ouRRZOIoVmw1fUoU",VITE_FIREBASE_APP_ID:"1:708593597740:web:c9710d663c611cba098089",VITE_FIREBASE_AUTH_DOMAIN:"cuepack-facf6.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"708593597740",VITE_FIREBASE_PROJECT_ID:"cuepack-facf6",VITE_FIREBASE_STORAGE_BUCKET:"cuepack-facf6.firebasestorage.app"},Pd=r=>{if(typeof import.meta<"u"&&p5)return p5[r]},TP={apiKey:Pd("VITE_FIREBASE_API_KEY"),authDomain:Pd("VITE_FIREBASE_AUTH_DOMAIN"),projectId:Pd("VITE_FIREBASE_PROJECT_ID"),storageBucket:Pd("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:Pd("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:Pd("VITE_FIREBASE_APP_ID")},WS=Hx(TP),cl=fP(WS),yy=_I(WS),Ra="inventory",Jd="kits",Ma="packing_lists",r1="checklist_config",hs=async(r,e)=>{try{const t=ph(cl,r,e.id);await gy(t,e)}catch(t){throw console.error(`Error writing to ${r}:`,t),t}},wy=async(r,e)=>{try{await NP(ph(cl,r,e))}catch(t){throw console.error(`Error deleting from ${r}:`,t),t}},Ym=async(r,e)=>{const t=IP(cl);e.forEach(n=>{const i=ph(cl,r,n.id);t.set(i,n)}),await t.commit()};var PP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DP=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ln=(r,e)=>{const t=Se.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:c="",children:u,...d},f)=>Se.createElement("svg",{ref:f,...PP,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${DP(r)}`,c].join(" "),...d},[...e.map(([w,x])=>Se.createElement(w,x)),...Array.isArray(u)?u:[u]]));return t.displayName=`${r}`,t};const $S=ln("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Kg=ln("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Fu=ln("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const LP=ln("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const m5=ln("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const by=ln("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const RP=ln("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const Ud=ln("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const MP=ln("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const da=ln("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);const OP=ln("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const jP=ln("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const xy=ln("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const g5=ln("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);const FP=ln("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const BP=ln("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);const YS=ln("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const VP=ln("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const UP=ln("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Qg=ln("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const v5=ln("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const GS=ln("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const zP=ln("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const qP=ln("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const HP=ln("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const y5=ln("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const hl=ln("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const i1=ln("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const WP=ln("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const _y=ln("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const $P=ln("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const w5=ln("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const ym=ln("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const b5=ln("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Xg=ln("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const Of=ln("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const Bu=ln("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const Qi=ln("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const YP=ln("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const KS=ln("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const GP=ln("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);const Zu=ln("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ha=ln("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const Jg=ln("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);const Oa=ln("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const QS=ln("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const KP=ln("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const QP=ln("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const su=ln("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var pe=(r=>(r.AUDIO="Audio",r.LIGHTS="Luci",r.VIDEO="Video",r.STRUCTURE="Strutture",r.CABLES="Cablaggi",r.REGIA="Regia",r.TOOLS="Attrezzi",r.OTHER="Altro",r))(pe||{});const ja=({isOpen:r,onClose:e,title:t,children:n,size:i="md"})=>{if(!r)return null;const s={md:"max-w-md",lg:"max-w-2xl",xl:"max-w-6xl"};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:y.jsxs("div",{className:`bg-slate-900 border border-slate-700 rounded-xl shadow-2xl w-full ${s[i]} max-h-[90vh] flex flex-col`,children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-700",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:t}),y.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:y.jsx(su,{size:24})})]}),y.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:n})]})})},Sy=({isOpen:r,onClose:e,onSave:t,initialData:n,inventory:i=[],onCreateAccessory:s,title:a})=>{const[c,u]=Se.useState({}),[d,f]=Se.useState("0"),[w,x]=Se.useState("0"),[g,A]=Se.useState(""),[R,P]=Se.useState(!1),[L,V]=Se.useState([]),[U,z]=Se.useState({}),[ne,ce]=Se.useState("0"),[W,O]=Se.useState("0");Se.useEffect(()=>{r&&(n?(u({...n}),f(n.weight?.toString()||"0"),x(n.powerConsumption?.toString()||"0")):(u({category:pe.AUDIO,inStock:0,weight:0,powerConsumption:0,name:"",description:"",accessories:[]}),f("0"),x("0")),A(""),P(!1),V([]))},[n,r]);const C=(de,Z,F,Q)=>{const se=de.target.value;Z(se);const he=parseFloat(se);isNaN(he)||Q(we=>({...we,[F]:he}))},j=()=>{c.name&&c.category&&(t(c),e())},N=de=>{const Z=c.accessories||[],F=Z.find(se=>se.itemId===de.id);let Q;F?Q=Z.map(se=>se.itemId===de.id?{...se,quantity:se.quantity+1}:se):Q=[...Z,{itemId:de.id,quantity:1}],u(se=>({...se,accessories:Q})),A("")},k=de=>{u(Z=>({...Z,accessories:(Z.accessories||[]).filter(F=>F.itemId!==de)}))},D=(de,Z)=>{Z<1||u(F=>({...F,accessories:(F.accessories||[]).map(Q=>Q.itemId===de?{...Q,quantity:Z}:Q)}))},X=()=>{z({name:g,category:pe.CABLES,inStock:0,weight:0,powerConsumption:0,description:""}),ce("0"),O("0"),P(!0)},ue=()=>{if(!U.name?.trim()||!s)return;const de={id:crypto.randomUUID(),name:U.name.trim(),category:U.category||pe.CABLES,inStock:U.inStock||0,weight:U.weight||0,powerConsumption:U.powerConsumption||0,description:U.description||"",accessories:[]};V(Z=>[...Z,de]),s(de),N(de),P(!1),A("")},ge=Se.useMemo(()=>{const de=g.trim().toLowerCase().split(/\s+/).filter(Z=>Z.length>0);return de.length===0?[]:i.filter(Z=>{if(Z.id===n?.id)return!1;const F=`${Z.name} ${Z.category} ${Z.description||""}`.toLowerCase();return de.every(Q=>F.includes(Q))})},[i,g,n]),me=()=>{const de=c.accessories||[];return de.length===0?y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-600 p-4 text-center",children:[y.jsx(i1,{size:32,className:"mb-2 opacity-20"}),y.jsx("p",{className:"text-sm",children:"Nessun accessorio collegato."}),y.jsx("p",{className:"text-xs mt-1 opacity-50",children:"Cerca qui sopra per aggiungerne uno."})]}):y.jsx("div",{className:"space-y-2",children:de.map((Z,F)=>{const Q=i.find(he=>he.id===Z.itemId)||L.find(he=>he.id===Z.itemId),se=Q?Q.name:"Caricamento...";return y.jsxs("div",{className:"flex justify-between items-center bg-slate-900 p-2 rounded border border-slate-800/50 group",children:[y.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[y.jsx("div",{className:"text-sm text-slate-200 truncate",children:se}),y.jsx("div",{className:"text-[10px] text-slate-500",children:"Accessorio collegato"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",min:"1",className:"w-10 bg-slate-800 border border-slate-700 rounded px-1 py-0.5 text-center text-white text-xs outline-none focus:border-blue-500",value:Z.quantity,onChange:he=>D(Z.itemId,parseInt(he.target.value))}),y.jsx("button",{onClick:()=>k(Z.itemId),className:"text-slate-600 hover:text-rose-500 p-1",children:y.jsx(su,{size:14})})]})]},F)})})},re=()=>y.jsx("div",{className:"space-y-1",children:ge.length>0?ge.map(de=>y.jsxs("button",{onClick:()=>N(de),className:"w-full text-left p-2 hover:bg-blue-900/20 border border-transparent hover:border-blue-500/30 rounded-lg flex justify-between items-center group transition-colors",children:[y.jsxs("div",{className:"min-w-0",children:[y.jsx("div",{className:"text-sm text-slate-200 truncate font-medium group-hover:text-blue-300",children:de.name}),y.jsx("div",{className:"text-xs text-slate-500",children:de.category})]}),y.jsx(Qi,{size:16,className:"text-slate-600 group-hover:text-blue-400"})]},de.id)):y.jsxs("div",{className:"text-center py-8",children:[y.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:['Nessun risultato per "',g,'"']}),s&&y.jsxs("button",{onClick:X,className:"text-xs bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded-full inline-flex items-center gap-1",children:[y.jsx(Qi,{size:12}),' Crea "',g,'"']})]})}),ye=()=>y.jsxs("div",{className:"absolute inset-0 z-20 bg-slate-900 flex flex-col animate-in fade-in zoom-in-95 rounded-xl",children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:()=>P(!1),className:"text-slate-400 hover:text-white mr-2",children:y.jsx(by,{size:20})}),y.jsx("h2",{className:"text-xl font-bold text-white",children:"Nuovo Accessorio"})]}),y.jsx("button",{onClick:()=>P(!1),className:"text-slate-400 hover:text-white",children:y.jsx(su,{size:24})})]}),y.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-1",children:y.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Nome"}),y.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:U.name,onChange:de=>z({...U,name:de.target.value}),placeholder:"Es. Gancio Aliscaf",autoFocus:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Categoria"}),y.jsx("select",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:U.category,onChange:de=>z({...U,category:de.target.value}),children:Object.values(pe).map(de=>y.jsx("option",{value:de,children:de},de))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Stock Totale"}),y.jsx("input",{type:"number",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none text-right",value:U.inStock,onChange:de=>z({...U,inStock:parseInt(de.target.value)||0})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Peso (kg)"}),y.jsx("input",{type:"number",step:"0.01",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:ne,onChange:de=>C(de,ce,"weight",z)})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Consumo (W)"}),y.jsx("input",{type:"number",step:"1",min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:W,onChange:de=>C(de,O,"powerConsumption",z),placeholder:"0 se non elettrico"})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Descrizione"}),y.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none h-24 resize-none",value:U.description,onChange:de=>z({...U,description:de.target.value}),placeholder:"Dettagli aggiuntivi..."})]})]})}),y.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-800 bg-slate-900 rounded-b-xl",children:[y.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:"Annulla"}),y.jsx("button",{onClick:ue,disabled:!U.name,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded-lg font-medium transition-colors",children:"Crea Accessorio"})]})]});return y.jsxs(ja,{isOpen:r,onClose:e,title:a,size:"xl",children:[y.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 relative",children:[y.jsxs("div",{className:"flex-1 space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Nome"}),y.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none placeholder-slate-700",value:c.name||"",onChange:de=>u({...c,name:de.target.value}),placeholder:"Es. Cavo XLR 5mt",autoFocus:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Categoria"}),y.jsx("select",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:c.category,onChange:de=>u({...c,category:de.target.value}),children:Object.values(pe).map(de=>y.jsx("option",{value:de,children:de},de))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Stock Totale"}),y.jsx("input",{type:"number",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none text-right",value:c.inStock,onChange:de=>u({...c,inStock:parseInt(de.target.value)||0})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Peso (kg)"}),y.jsx("input",{type:"number",step:"0.01",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:d,onChange:de=>C(de,f,"weight",u)})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Consumo (W)"}),y.jsx("input",{type:"number",step:"1",min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:w,onChange:de=>C(de,x,"powerConsumption",u),placeholder:"0 se non elettrico"})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Descrizione"}),y.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none h-24 resize-none placeholder-slate-700",value:c.description||"",onChange:de=>u({...c,description:de.target.value}),placeholder:"Dettagli aggiuntivi..."})]})]}),y.jsx("div",{className:"hidden lg:block w-px bg-slate-800"}),y.jsxs("div",{className:"w-full lg:w-[400px] flex flex-col h-[500px] lg:h-auto",children:[y.jsxs("div",{className:"mb-3",children:[y.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[y.jsx(i1,{size:16,className:"text-blue-500"})," Accessori Predefiniti"]}),y.jsx("p",{className:"text-xs text-slate-500 mt-1 leading-snug",children:"Oggetti aggiunti automaticamente in lista quando selezioni questo articolo (es. Cavi, Ganci)."})]}),y.jsxs("div",{className:"flex gap-2 mb-3",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(Zu,{className:"absolute left-3 top-2.5 text-slate-500",size:16}),y.jsx("input",{type:"text",placeholder:"Cerca accessorio nell'inventario...",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-9 pr-3 py-2 text-sm text-white outline-none focus:border-blue-500 placeholder-slate-600",value:g,onChange:de=>A(de.target.value)})]}),s&&y.jsx("button",{onClick:X,className:"bg-slate-800 hover:bg-blue-600 hover:text-white text-slate-300 border border-slate-700 rounded-lg w-10 flex items-center justify-center transition-colors",title:"Crea nuovo accessorio se non esiste",children:y.jsx(Qi,{size:20})})]}),y.jsx("div",{className:"flex-1 bg-slate-950 border border-slate-800 rounded-xl p-2 overflow-y-auto custom-scrollbar relative",children:g?re():me()})]}),R&&ye()]}),y.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-800 mt-2",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:"Annulla"}),y.jsx("button",{onClick:j,disabled:!c.name,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors shadow-lg shadow-blue-900/20",children:"Salva"})]})]})},$d=({isOpen:r,onClose:e,onConfirm:t,title:n,message:i})=>r?y.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:y.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl max-w-md w-full p-6 animate-in fade-in zoom-in-95 duration-200",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("div",{className:"p-3 bg-rose-900/30 rounded-full text-rose-500",children:y.jsx(Fu,{size:24})}),y.jsx("h2",{className:"text-xl font-bold text-white",children:n})]}),y.jsx("p",{className:"text-slate-300 mb-6 leading-relaxed",children:i}),y.jsxs("div",{className:"flex justify-end gap-3",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all",children:"Annulla"}),y.jsx("button",{onClick:()=>{t(),e()},className:"px-6 py-2 bg-rose-600 hover:bg-rose-500 text-white rounded-lg font-medium shadow-lg shadow-rose-900/20 transition-all",children:"Elimina"})]})]})}):null,XP=({items:r,packingLists:e})=>{const[t,n]=Se.useState(""),[i,s]=Se.useState("All"),[a,c]=Se.useState(!1),[u,d]=Se.useState(null),[f,w]=Se.useState(null),[x,g]=Se.useState(""),A=Se.useRef(null),[R,P]=Se.useState(null),L=Se.useMemo(()=>{if(!r||!Array.isArray(r))return[];const k=(t||"").toLowerCase().split(" ").filter(X=>X.trim()!=="");return r.map(X=>{const ue=(X.name||"").toLowerCase(),ge=(X.category||"").toLowerCase(),me=(X.description||"").toLowerCase(),re=`${ue} ${ge} ${me}`;if(!k.every(Q=>re.includes(Q)))return{item:X,score:-1,nameMatches:0};let de=0,Z=0;return k.length===0?de=1:k.forEach(Q=>{ue.includes(Q)&&(Z++,ue===Q?de+=1e3:ue.startsWith(Q)?de+=500:ue.includes(" "+Q)?de+=200:de+=100),ge.includes(Q)&&(de+=10),me.includes(Q)&&(de+=1)}),i==="All"||X.category===i?{item:X,score:de,nameMatches:Z}:{item:X,score:-1,nameMatches:0}}).filter(X=>X.score>-1).sort((X,ue)=>ue.nameMatches!==X.nameMatches?ue.nameMatches-X.nameMatches:ue.score!==X.score?ue.score-X.score:(X.item.name||"").localeCompare(ue.item.name||"")).map(X=>X.item)},[r,t,i]);Se.useEffect(()=>{f&&A.current&&A.current.focus()},[f]);const V=k=>{d(k||null),c(!0)},U=async k=>{await hs(Ra,k)},z=async k=>{const D=[];e.forEach(X=>{let ue=!1;const ge=me=>me.map(re=>{if(re.type==="item"&&re.referenceId===k.id){let ye=!1;re.name!==k.name&&(re.name=k.name,ye=!0),re.category!==k.category&&(re.category=k.category,ye=!0);const de=(k.accessories||[]).map(Z=>{const F=r.find(Q=>Q.id===Z.itemId);return{itemId:Z.itemId,name:F?.name||"?",quantity:Z.quantity,category:F?.category||"Altro"}});return JSON.stringify(re.contents)!==JSON.stringify(de)&&(re.contents=de,ye=!0),ye&&(ue=!0),{...re}}return re});if(X.zones){const me=X.zones.map(re=>({...re,sections:re.sections.map(ye=>({...ye,components:ge(ye.components)}))}));ue&&D.push({...X,zones:me})}else if(X.sections){const me=X.sections.map(re=>({...re,components:ge(re.components)}));ue&&D.push({...X,sections:me})}}),D.length>0&&(console.log(`Propagating updates to ${D.length} lists...`),await Promise.all(D.map(X=>hs(Ma,X))))},ne=async k=>{const D=k.name.trim().toLowerCase(),X=r.find(ge=>ge.name.trim().toLowerCase()===D&&(!u||ge.id!==u.id));let ue;if(X)ue={...k,id:X.id};else{const ge=u?u.id:crypto.randomUUID();ue={...k,id:ge}}await hs(Ra,ue),await z(ue),c(!1)},ce=(k,D)=>{w({itemId:k.id,field:D}),g(k[D])},W=()=>{w(null),g("")},O=async()=>{if(!f)return;const{itemId:k,field:D}=f,X=r.find(ue=>ue.id===k);if(X){const ue={...X,[D]:x},ge=JSON.parse(JSON.stringify(ue));await hs(Ra,ge),(D==="name"||D==="category")&&await z(ge)}w(null),g("")},C=k=>{k.key==="Enter"?O():k.key==="Escape"&&W()},j=async()=>{R&&(await wy(Ra,R),P(null))},N=async k=>{const D={...k,id:crypto.randomUUID(),name:`${k.name} (Copia)`};await hs(Ra,D),V(D)};return y.jsxs("div",{className:"h-full flex flex-col p-6 space-y-4",children:[y.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Inventario Materiale"}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-2 w-full xl:w-auto",children:[y.jsxs("div",{className:"relative flex-grow md:w-64",children:[y.jsx(Zu,{className:"absolute left-3 top-2.5 text-slate-400",size:20}),y.jsx("input",{type:"text",placeholder:"Cerca materiale... (es. 'cavo 10')",className:"w-full bg-slate-800 border border-slate-700 text-white pl-10 pr-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:t,onChange:k=>n(k.target.value)})]}),y.jsxs("div",{className:"relative min-w-[180px]",children:[y.jsx("div",{className:"absolute left-3 top-2.5 pointer-events-none text-slate-400",children:y.jsx(GS,{size:18})}),y.jsxs("select",{value:i,onChange:k=>s(k.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white pl-10 pr-8 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none appearance-none cursor-pointer",children:[y.jsx("option",{value:"All",children:"Tutte le Categorie"}),Object.values(pe).map(k=>y.jsx("option",{value:k,children:k},k))]}),y.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:y.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),y.jsxs("button",{onClick:()=>V(),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 font-medium transition-colors whitespace-nowrap",children:[y.jsx(Qi,{size:20}),y.jsx("span",{children:"Nuovo"})]})]})]}),y.jsx("div",{className:"flex-1 bg-slate-900 border border-slate-800 rounded-xl overflow-hidden flex flex-col",children:y.jsx("div",{className:"overflow-auto flex-1 custom-scrollbar",children:y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{className:"bg-slate-800 text-slate-300 sticky top-0 z-10 shadow-sm",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-4 font-semibold text-sm uppercase tracking-wider",children:"Nome"}),y.jsx("th",{className:"p-4 font-semibold text-sm uppercase tracking-wider",children:"Categoria"}),y.jsx("th",{className:"p-4 font-semibold text-right text-sm uppercase tracking-wider",children:"Peso (kg)"}),y.jsx("th",{className:"p-4 font-semibold text-right text-sm uppercase tracking-wider",children:"Consumo (W)"}),y.jsx("th",{className:"p-4 font-semibold text-right text-sm uppercase tracking-wider",children:"Stock"}),y.jsx("th",{className:"p-4 font-semibold text-center text-sm uppercase tracking-wider",children:"Azioni"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-800",children:L.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:6,className:"p-8 text-center text-slate-500",children:"Nessun materiale trovato."})}):L.map(k=>y.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors group",children:[y.jsxs("td",{className:"p-4",onDoubleClick:D=>{D.stopPropagation(),ce(k,"name")},children:[f?.itemId===k.id&&f?.field==="name"?y.jsx("input",{ref:A,type:"text",className:"w-full bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none",value:x,onChange:D=>g(D.target.value),onBlur:O,onKeyDown:C}):y.jsxs("div",{className:"flex items-center gap-2 cursor-text",title:"Doppio click per rinominare",children:[y.jsx("div",{className:"font-medium text-white",children:k.name}),k.accessories&&k.accessories.length>0&&y.jsx("span",{title:`${k.accessories.length} accessori collegati`,children:y.jsx(i1,{size:14,className:"text-slate-500"})})]}),(!f||f.itemId!==k.id||f?.field!=="name")&&y.jsx("div",{className:"text-sm text-slate-500 truncate max-w-xs cursor-text",onDoubleClick:D=>{D.stopPropagation(),ce(k,"description")},children:k.description})]}),y.jsx("td",{className:"p-4",onDoubleClick:D=>{D.stopPropagation(),ce(k,"category")},children:f?.itemId===k.id&&f?.field==="category"?y.jsx("select",{ref:A,className:"bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none text-sm",value:x,onChange:D=>g(D.target.value),onBlur:O,onKeyDown:C,children:Object.values(pe).map(D=>y.jsx("option",{value:D,children:D},D))}):y.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border cursor-pointer
                            ${k.category===pe.AUDIO?"bg-amber-900/20 text-amber-500 border-amber-900/30":k.category===pe.LIGHTS?"bg-purple-900/20 text-purple-500 border-purple-900/30":k.category===pe.VIDEO?"bg-blue-900/20 text-blue-500 border-blue-900/30":k.category===pe.REGIA?"bg-teal-900/20 text-teal-500 border-teal-900/30":"bg-slate-800 text-slate-400 border-slate-700"}`,title:"Doppio click per cambiare categoria",children:k.category})}),y.jsx("td",{className:"p-4 text-right",onDoubleClick:D=>{D.stopPropagation(),ce(k,"weight")},children:f?.itemId===k.id&&f?.field==="weight"?y.jsx("input",{ref:A,type:"number",step:"0.1",className:"w-20 bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none text-right font-mono",value:x,onChange:D=>g(Number(D.target.value)),onBlur:O,onKeyDown:C}):y.jsx("span",{className:"text-slate-300 font-mono cursor-pointer",title:"Doppio click per modificare peso",children:k.weight})}),y.jsx("td",{className:"p-4 text-right",onDoubleClick:D=>{D.stopPropagation(),ce(k,"powerConsumption")},children:f?.itemId===k.id&&f?.field==="powerConsumption"?y.jsx("input",{ref:A,type:"number",min:"0",className:"w-20 bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none text-right font-mono",value:x,onChange:D=>g(Number(D.target.value)),onBlur:O,onKeyDown:C}):y.jsx("span",{className:`font-mono cursor-pointer ${(k.powerConsumption||0)>0?"text-yellow-400":"text-slate-500"}`,title:"Doppio click per modificare consumo",children:k.powerConsumption||0})}),y.jsx("td",{className:"p-4 text-right",onDoubleClick:D=>{D.stopPropagation(),ce(k,"inStock")},children:f?.itemId===k.id&&f?.field==="inStock"?y.jsx("input",{ref:A,type:"number",className:"w-20 bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none text-right font-mono font-bold",value:x,onChange:D=>g(Number(D.target.value)),onBlur:O,onKeyDown:C}):y.jsx("span",{className:`font-mono font-bold cursor-pointer ${k.inStock>0?"text-emerald-400":"text-rose-400"}`,title:"Doppio click per modificare stock",children:k.inStock})}),y.jsx("td",{className:"p-4",children:y.jsxs("div",{className:"flex justify-center gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:D=>{D.stopPropagation(),V(k)},className:"p-2 text-blue-400 hover:text-blue-300 rounded-lg hover:bg-slate-800",title:"Modifica completa",children:y.jsx(Bu,{size:16})}),y.jsx("button",{onClick:D=>{D.stopPropagation(),N(k)},className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-800",title:"Duplica",children:y.jsx(YS,{size:16})}),y.jsx("button",{onClick:D=>{D.stopPropagation(),P(k.id)},className:"p-2 text-rose-400 hover:text-rose-300 rounded-lg hover:bg-slate-800",title:"Elimina",children:y.jsx(Oa,{size:16})})]})})]},k.id))})]})})}),y.jsx(Sy,{isOpen:a,onClose:()=>c(!1),onSave:ne,initialData:u,inventory:r,onCreateAccessory:U,title:u?"Modifica Materiale":"Nuovo Materiale"}),y.jsx($d,{isOpen:!!R,onClose:()=>P(null),onConfirm:j,title:"Elimina Materiale",message:"Sei sicuro di voler eliminare questo materiale dall'inventario?"})]})},JP=({isOpen:r,onClose:e,onSave:t,initialData:n,inventory:i,title:s})=>{const[a,c]=Se.useState({items:[]}),[u,d]=Se.useState(""),[f,w]=Se.useState(!1),x=Se.useRef({}),[g,A]=Se.useState(null),[R,P]=Se.useState(""),[L,V]=Se.useState(!1);Se.useEffect(()=>{c(n?{...n,items:n.items||[],reminders:n.reminders||[]}:{name:"",description:"",items:[],reminders:[],category:pe.OTHER}),d(""),P("")},[n,r]),Se.useEffect(()=>{g&&x.current[g]&&(x.current[g]?.focus(),x.current[g]?.select(),A(null))},[a.items,g]);const U=()=>{if(!a.name)return;const N=a.items&&Array.isArray(a.items)?a.items:[],k={...a,id:n?.id||crypto.randomUUID(),category:a.category||pe.OTHER,items:N,reminders:a.reminders||[]};t(k)},z=()=>{R.trim()&&(c({...a,reminders:[...a.reminders||[],R.trim()]}),P(""))},ne=N=>{const k=[...a.reminders||[]];k.splice(N,1),c({...a,reminders:k})},ce=N=>{const k=[{itemId:N.id,quantity:1}];N.accessories?.length&&N.accessories.forEach(X=>k.push({itemId:X.itemId,quantity:X.quantity}));let D=[...a.items||[]];k.forEach(X=>{const ue=D.findIndex(ge=>ge.itemId===X.itemId);ue>=0?D[ue].quantity+=X.quantity:D.push(X)}),c({...a,items:D}),A(N.id)},W=N=>{c({...a,items:a.items?.filter(k=>k.itemId!==N)})},O=(N,k)=>{k<1||c({...a,items:a.items?.map(D=>D.itemId===N?{...D,quantity:k}:D)})},C=Se.useMemo(()=>{const N=u.toLowerCase().trim();return N?i.filter(k=>k.name.toLowerCase().includes(N)||k.category.toLowerCase().includes(N)):i.slice(0,50)},[i,u]),j=N=>i.find(k=>k.id===N)?.name||"Unknown Item";return y.jsxs(ja,{isOpen:r,onClose:e,title:s,size:"xl",children:[y.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[60vh]",children:[y.jsx("div",{className:"flex-1 flex flex-col gap-4 min-h-0",children:y.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4 pr-2",children:[y.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Nome Kit"}),y.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2 text-white outline-none focus:border-purple-500",value:a.name||"",onChange:N=>c({...a,name:N.target.value}),placeholder:"Es. Kit Regia"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Categoria"}),y.jsx("select",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2 text-white outline-none focus:border-purple-500",value:a.category||pe.OTHER,onChange:N=>c({...a,category:N.target.value}),children:Object.values(pe).map(N=>y.jsx("option",{value:N,children:N},N))})]})]}),y.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2 text-white outline-none h-16 resize-none",value:a.description||"",onChange:N=>c({...a,description:N.target.value}),placeholder:"Descrizione kit..."}),y.jsxs("div",{className:"bg-slate-950 rounded-lg border border-slate-800 p-4 flex flex-col",children:[y.jsx("h4",{className:"text-sm font-semibold text-purple-400 mb-2 uppercase tracking-wider",children:"Contenuto Kit"}),y.jsxs("div",{className:"space-y-2",children:[a.items?.length===0&&y.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Il kit  vuoto. Aggiungi materiale dalla destra."}),a.items?.map((N,k)=>y.jsxs("div",{className:"flex justify-between items-center bg-slate-900 p-2 rounded border border-slate-800",children:[y.jsx("span",{className:"text-slate-300 text-sm truncate flex-1 mr-2",children:j(N.itemId)}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("input",{ref:D=>{x.current[N.itemId]=D},type:"number",className:"w-16 bg-slate-800 border border-slate-700 rounded px-2 py-1 text-center text-white text-sm outline-none",value:N.quantity,onChange:D=>O(N.itemId,Number(D.target.value))}),y.jsx("button",{onClick:()=>W(N.itemId),className:"text-rose-500",children:y.jsx(su,{size:16})})]})]},k))]})]})]})}),y.jsxs("div",{className:"w-full lg:w-96 bg-slate-800 rounded-lg p-4 flex flex-col border border-slate-700 h-full",children:[y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[y.jsx("h4",{className:"font-semibold text-white text-sm",children:"Aggiungi Materiale"}),y.jsx("button",{onClick:()=>w(!0),className:"p-1.5 bg-slate-700 rounded text-slate-200",children:y.jsx(Qi,{size:14})})]}),y.jsxs("div",{className:"relative mb-3",children:[y.jsx(Zu,{className:"absolute left-3 top-2.5 text-slate-400",size:16}),y.jsx("input",{type:"text",placeholder:"Cerca materiale...",className:"w-full bg-slate-900 border border-slate-700 text-white pl-9 pr-3 py-2 rounded-lg text-sm outline-none",value:u,onChange:N=>d(N.target.value)})]}),y.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-1",children:C.map(N=>y.jsxs("button",{onClick:()=>ce(N),className:"w-full text-left p-2 hover:bg-slate-700 rounded flex justify-between items-center group",children:[y.jsx("span",{className:"text-xs text-slate-300 truncate",children:N.name}),y.jsx(Qi,{size:14,className:"text-slate-500 group-hover:text-purple-400"})]},N.id))})]})]}),y.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-slate-800",children:[y.jsxs("button",{onClick:()=>V(!0),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${a.reminders&&a.reminders.length>0?"bg-yellow-900/20 text-yellow-400 border border-yellow-900/30 shadow-lg shadow-yellow-900/20":"bg-slate-800 text-slate-400 border border-slate-700 hover:text-yellow-400"}`,children:[y.jsx(hl,{size:18,className:a.reminders&&a.reminders.length>0?"fill-current":""}),y.jsxs("span",{className:"text-sm font-bold uppercase tracking-wider",children:["Promemoria Kit ",a.reminders&&a.reminders.length>0?`(${a.reminders.length})`:""]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-400",children:"Annulla"}),y.jsx("button",{onClick:U,className:"px-6 py-2 bg-purple-600 text-white rounded-lg font-bold",children:"Salva Kit"})]})]}),y.jsx(Sy,{isOpen:f,onClose:()=>w(!1),onSave:async N=>{const k={...N,id:crypto.randomUUID(),accessories:N.accessories||[]};await hs(Ra,k),ce(k)},title:"Nuovo Materiale",inventory:i}),y.jsx(ja,{isOpen:L,onClose:()=>V(!1),title:"Promemoria Kit",size:"md",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-sm text-slate-400",children:"Aggiungi note importanti che verranno mostrate quando userai questo kit."}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{className:"flex-1 bg-slate-950 border border-slate-700 rounded px-3 py-2 text-white focus:border-yellow-500 outline-none",placeholder:"Es. Controllare le batterie...",value:R,onChange:N=>P(N.target.value),onKeyDown:N=>N.key==="Enter"&&z(),autoFocus:!0}),y.jsxs("button",{onClick:z,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-black font-bold rounded flex items-center gap-2",children:[y.jsx(Qi,{size:18})," Aggiungi"]})]}),y.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar bg-slate-900 p-2 rounded border border-slate-800",children:[a.reminders?.map((N,k)=>y.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-3 rounded border border-slate-700",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(hl,{size:16,className:"text-yellow-500 shrink-0"}),y.jsx("span",{className:"text-sm text-slate-200",children:N})]}),y.jsx("button",{onClick:()=>ne(k),className:"text-slate-500 hover:text-rose-500 transition-colors",children:y.jsx(su,{size:18})})]},k)),(!a.reminders||a.reminders.length===0)&&y.jsxs("div",{className:"text-center py-8 text-slate-500 flex flex-col items-center gap-2",children:[y.jsx(hl,{size:32,className:"opacity-20"}),y.jsx("span",{children:"Nessun promemoria attivo"})]})]}),y.jsx("div",{className:"flex justify-end pt-2",children:y.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded",children:"Chiudi"})})]})})]})},ZP=({kits:r,inventory:e})=>{const[t,n]=Se.useState(""),[i,s]=Se.useState("All"),[a,c]=Se.useState(!1),[u,d]=Se.useState(null),[f,w]=Se.useState(null),x=Se.useMemo(()=>{const V=(t||"").toLowerCase().split(" ").filter(U=>U.trim()!=="");return r.map(U=>{const z=(U.name||"").toLowerCase(),ne=(U.category||"").toLowerCase(),ce=(U.description||"").toLowerCase(),W=`${z} ${ne} ${ce}`;if(!V.every(j=>W.includes(j)))return{kit:U,score:-1,nameMatches:0};if(i!=="All"&&U.category!==i)return{kit:U,score:-1,nameMatches:0};let O=0,C=0;return V.length===0?O=1:V.forEach(j=>{z.includes(j)&&(C++,z===j?O+=1e3:z.startsWith(j)?O+=500:z.includes(" "+j)?O+=200:O+=100),ne.includes(j)&&(O+=20),ce.includes(j)&&(O+=5)}),{kit:U,score:O,nameMatches:C}}).filter(U=>U.score>-1).sort((U,z)=>z.nameMatches!==U.nameMatches?z.nameMatches-U.nameMatches:z.score!==U.score?z.score-U.score:(U.kit.name||"").localeCompare(z.kit.name||"")).map(U=>U.kit)},[r,t,i]),g=V=>{d(V||null),c(!0)},A=async V=>{await hs(Jd,V),c(!1)},R=async()=>{f&&(await wy(Jd,f),w(null))},P=async V=>{const U={...V,id:crypto.randomUUID(),name:`${V.name} (Copia)`};await hs(Jd,U)},L=V=>e.find(U=>U.id===V)?.name||"Unknown Item";return y.jsxs("div",{className:"h-full flex flex-col p-6 space-y-4",children:[y.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gestione Kit"}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-2 w-full xl:w-auto",children:[y.jsxs("div",{className:"relative flex-grow md:w-64",children:[y.jsx(Zu,{className:"absolute left-3 top-2.5 text-slate-400",size:20}),y.jsx("input",{type:"text",placeholder:"Cerca kit... (es. 'totem 2m')",className:"w-full bg-slate-800 border border-slate-700 text-white pl-10 pr-4 py-2 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",value:t,onChange:V=>n(V.target.value)})]}),y.jsxs("div",{className:"relative min-w-[180px]",children:[y.jsx("div",{className:"absolute left-3 top-2.5 pointer-events-none text-slate-400",children:y.jsx(GS,{size:18})}),y.jsxs("select",{value:i,onChange:V=>s(V.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white pl-10 pr-8 py-2 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none appearance-none cursor-pointer",children:[y.jsx("option",{value:"All",children:"Tutte le Categorie"}),Object.values(pe).map(V=>y.jsx("option",{value:V,children:V},V))]}),y.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:y.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),y.jsxs("button",{onClick:()=>g(),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 font-medium transition-colors whitespace-nowrap",children:[y.jsx(Qi,{size:20}),y.jsx("span",{children:"Nuovo Kit"})]})]})]}),y.jsx("div",{className:"flex flex-col gap-2 overflow-y-auto pb-4 custom-scrollbar",children:x.length===0?y.jsx("div",{className:"text-center py-10 text-slate-500",children:"Nessun kit trovato."}):x.map(V=>y.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 flex flex-col md:flex-row gap-4 items-center hover:border-slate-700 transition-all group",children:[y.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[y.jsx("div",{className:"p-2 bg-purple-900/30 text-purple-400 rounded-lg shrink-0",children:y.jsx(Of,{size:20})}),y.jsxs("div",{className:"min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h3",{className:"text-base font-bold text-white leading-tight truncate",children:V.name}),y.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-semibold border uppercase tracking-wider shrink-0
                                  ${V.category===pe.AUDIO?"bg-amber-900/20 text-amber-500 border-amber-900/30":V.category===pe.LIGHTS?"bg-purple-900/20 text-purple-500 border-purple-900/30":V.category===pe.VIDEO?"bg-blue-900/20 text-blue-500 border-blue-900/30":V.category===pe.STRUCTURE?"bg-slate-700/30 text-slate-400 border-slate-600/30":"bg-slate-800 text-slate-400 border-slate-700"}`,children:V.category})]}),y.jsx("div",{className:"text-xs text-slate-500 truncate mt-0.5",children:V.description||"Nessuna descrizione."})]})]}),y.jsxs("div",{className:"hidden lg:flex flex-col w-1/3 min-w-0 px-4 border-l border-slate-800",children:[y.jsxs("span",{className:"text-[10px] uppercase text-slate-600 font-bold mb-1",children:["Contenuto (",V.items.length,")"]}),y.jsxs("div",{className:"text-xs text-slate-500 truncate",children:[V.items.slice(0,5).map(U=>L(U.itemId)).join(", ")," ",V.items.length>5?"...":""]})]}),y.jsxs("div",{className:"flex items-center gap-1 shrink-0 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>P(V),className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-800",title:"Duplica",children:y.jsx(YS,{size:16})}),y.jsx("button",{onClick:()=>g(V),className:"p-2 text-blue-400 hover:text-blue-300 rounded-lg hover:bg-slate-800",title:"Modifica",children:y.jsx(Bu,{size:16})}),y.jsx("button",{onClick:()=>w(V.id),className:"p-2 text-rose-400 hover:text-rose-300 rounded-lg hover:bg-slate-800",title:"Elimina",children:y.jsx(Oa,{size:16})})]})]},V.id))}),y.jsx(JP,{isOpen:a,onClose:()=>c(!1),onSave:A,initialData:u,inventory:e,title:u?"Modifica Kit":"Nuovo Kit"}),y.jsx($d,{isOpen:!!f,onClose:()=>w(null),onConfirm:R,title:"Elimina Kit",message:"Sei sicuro di voler eliminare questo kit? I materiali all'interno non verranno cancellati dall'inventario."})]})},x5=({isOpen:r,onClose:e,reminders:t,onUpdate:n,title:i})=>{const[s,a]=Se.useState(""),[c,u]=Se.useState(null),[d,f]=Se.useState("");if(!r)return null;const w=()=>{if(!s.trim())return;const L={id:crypto.randomUUID(),text:s.trim(),isCompleted:!1,createdAt:new Date().toISOString()};n([...t,L]),a("")},x=L=>{confirm("Eliminare questa nota?")&&n(t.filter(V=>V.id!==L))},g=L=>{n(t.map(V=>V.id===L?{...V,isCompleted:!V.isCompleted}:V))},A=L=>{u(L.id),f(L.text)},R=()=>{!c||!d.trim()||(n(t.map(L=>L.id===c?{...L,text:d.trim()}:L)),u(null),f(""))},P=[...t].sort((L,V)=>L.isCompleted===V.isCompleted?new Date(V.createdAt).getTime()-new Date(L.createdAt).getTime():L.isCompleted?1:-1);return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl w-full max-w-md flex flex-col max-h-[80vh]",children:[y.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-800 bg-slate-950/50 rounded-t-xl",children:[y.jsxs("div",{className:"flex items-center gap-2 text-yellow-500",children:[y.jsx(hl,{className:"fill-current",size:20}),y.jsx("h3",{className:"font-bold text-lg text-white",children:"Note & Promemoria"})]}),y.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white p-1 hover:bg-slate-800 rounded-full transition-colors",children:y.jsx(su,{size:20})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar space-y-3",children:[t.length===0&&y.jsxs("div",{className:"text-center py-8 text-slate-500 flex flex-col items-center gap-2",children:[y.jsx(hl,{size:32,className:"opacity-20"}),y.jsx("p",{children:"Nessuna nota presente."})]}),P.map(L=>y.jsxs("div",{className:`group flex items-center gap-3 p-3 rounded-lg border transition-all ${L.isCompleted?"bg-slate-900/50 border-slate-800 opacity-60":"bg-slate-800 border-slate-700"}`,children:[y.jsx("button",{onClick:()=>g(L.id),className:`shrink-0 transition-colors ${L.isCompleted?"text-emerald-500":"text-slate-400 hover:text-white"}`,children:L.isCompleted?y.jsx(da,{size:20}):y.jsx(ha,{size:20})}),c===L.id?y.jsxs("div",{className:"flex-1 flex gap-2",children:[y.jsx("input",{type:"text",className:"flex-1 bg-slate-950 border border-blue-500 rounded px-2 py-1 text-sm text-white outline-none",value:d,onChange:V=>f(V.target.value),autoFocus:!0,onKeyDown:V=>V.key==="Enter"&&R()}),y.jsx("button",{onClick:R,className:"p-1 text-emerald-500 hover:bg-slate-700 rounded",children:y.jsx(OP,{size:16})})]}):y.jsx("span",{className:`flex-1 text-sm ${L.isCompleted?"line-through text-slate-500":"text-slate-200"}`,children:L.text}),y.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[c!==L.id&&!L.isCompleted&&y.jsx("button",{onClick:()=>A(L),className:"p-1.5 text-slate-400 hover:text-blue-400 hover:bg-slate-700 rounded",children:y.jsx(Bu,{size:14})}),y.jsx("button",{onClick:()=>x(L.id),className:"p-1.5 text-slate-400 hover:text-rose-400 hover:bg-slate-700 rounded",children:y.jsx(Oa,{size:14})})]})]},L.id))]}),y.jsx("div",{className:"p-4 border-t border-slate-800 bg-slate-950/50 rounded-b-xl",children:y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",placeholder:"Aggiungi una nota...",className:"flex-1 bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:border-yellow-500 outline-none transition-colors",value:s,onChange:L=>a(L.target.value),onKeyDown:L=>L.key==="Enter"&&w()}),y.jsxs("button",{onClick:w,disabled:!s.trim(),className:"bg-yellow-600 hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed text-white px-3 py-2 rounded-lg flex items-center gap-1 font-medium transition-colors",children:[y.jsx(Qi,{size:16}),y.jsx(hl,{size:16,className:"fill-current"})]})]})})]})})};function XS(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=XS(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Ji(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=XS(r))&&(n&&(n+=" "),n+=e);return n}const JS=6048e5,eD=864e5,L0=6e4,R0=36e5,tD=1e3,_5=Symbol.for("constructDateFrom");function wr(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&_5 in r?r[_5](e):r instanceof Date?new r.constructor(e):new Date(e)}function Bt(r,e){return wr(e||r,r)}function Fa(r,e,t){const n=Bt(r,t?.in);return isNaN(e)?wr(t?.in||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ua(r,e,t){const n=Bt(r,t?.in);if(isNaN(e))return wr(r,NaN);if(!e)return n;const i=n.getDate(),s=wr(r,n.getTime());s.setMonth(n.getMonth()+e+1,0);const a=s.getDate();return i>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function ZS(r,e,t){return wr(r,+Bt(r)+e)}function nD(r,e,t){return ZS(r,e*R0)}let rD={};function ad(){return rD}function lc(r,e){const t=ad(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Bt(r,e?.in),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function vh(r,e){return lc(r,{...e,weekStartsOn:1})}function ek(r,e){const t=Bt(r,e?.in),n=t.getFullYear(),i=wr(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=vh(i),a=wr(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const c=vh(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function Gm(r){const e=Bt(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function dc(r,...e){const t=wr.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function ed(r,e){const t=Bt(r,e?.in);return t.setHours(0,0,0,0),t}function yh(r,e,t){const[n,i]=dc(t?.in,r,e),s=ed(n),a=ed(i),c=+s-Gm(s),u=+a-Gm(a);return Math.round((c-u)/eD)}function iD(r,e){const t=ek(r,e),n=wr(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),vh(n)}function jf(r,e,t){const n=Bt(r,t?.in);return n.setTime(n.getTime()+e*L0),n}function ky(r,e,t){return Ua(r,e*3,t)}function sD(r,e,t){return ZS(r,e*1e3)}function Km(r,e,t){return Fa(r,e*7,t)}function Ba(r,e,t){return Ua(r,e*12,t)}function S5(r,e){let t,n=e?.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=wr.bind(null,i));const s=Bt(i,n);(!t||t<s||isNaN(+s))&&(t=s)}),wr(n,t||NaN)}function k5(r,e){let t,n=e?.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=wr.bind(null,i));const s=Bt(i,n);(!t||t>s||isNaN(+s))&&(t=s)}),wr(n,t||NaN)}function oD(r,e,t){const[n,i]=dc(t?.in,r,e);return+ed(n)==+ed(i)}function bl(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function wh(r){return!(!bl(r)&&typeof r!="number"||isNaN(+Bt(r)))}function Qm(r,e,t){const[n,i]=dc(t?.in,r,e),s=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return s*12+a}function $c(r,e){const t=Bt(r,e?.in);return Math.trunc(t.getMonth()/3)+1}function Xm(r,e,t){const[n,i]=dc(t?.in,r,e),s=n.getFullYear()-i.getFullYear(),a=$c(n)-$c(i);return s*4+a}function Jm(r,e,t){const[n,i]=dc(t?.in,r,e);return n.getFullYear()-i.getFullYear()}function aD(r,e,t){const[n,i]=dc(t?.in,r,e),s=E5(n,i),a=Math.abs(yh(n,i));n.setDate(n.getDate()-s*a);const c=+(E5(n,i)===-s),u=s*(a-c);return u===0?0:u}function E5(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function tk(r,e){const t=Bt(r,e?.in);return t.setHours(23,59,59,999),t}function nk(r,e){const t=Bt(r,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function s1(r,e){const t=Bt(r,e?.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function rk(r,e){const t=Bt(r,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function ik(r,e){const t=Bt(r,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function M0(r,e){const t=Bt(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function lD(r,e){const t=ad(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Bt(r,e?.in),s=i.getDay(),a=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}const cD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uD=(r,e,t)=>{let n;const i=cD[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Zg(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const dD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pD={date:Zg({formats:dD,defaultWidth:"full"}),time:Zg({formats:hD,defaultWidth:"full"}),dateTime:Zg({formats:fD,defaultWidth:"full"})},mD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gD=(r,e,t,n)=>mD[r];function sf(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,c=t?.width?String(t.width):a;i=r.formattingValues[c]||r.formattingValues[a]}else{const a=r.defaultWidth,c=t?.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[a]}const s=r.argumentCallback?r.argumentCallback(e):e;return i[s]}}const vD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_D={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SD=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},kD={ordinalNumber:SD,era:sf({values:vD,defaultWidth:"wide"}),quarter:sf({values:yD,defaultWidth:"wide",argumentCallback:r=>r-1}),month:sf({values:wD,defaultWidth:"wide"}),day:sf({values:bD,defaultWidth:"wide"}),dayPeriod:sf({values:xD,defaultWidth:"wide",formattingValues:_D,defaultFormattingWidth:"wide"})};function of(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],u=Array.isArray(c)?ND(c,w=>w.test(a)):ED(c,w=>w.test(a));let d;d=r.valueCallback?r.valueCallback(u):u,d=t.valueCallback?t.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}function ED(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function ND(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function CD(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],s=e.match(r.parsePattern);if(!s)return null;let a=r.valueCallback?r.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const c=e.slice(i.length);return{value:a,rest:c}}}const AD=/^(\d+)(th|st|nd|rd)?/i,ID=/\d+/i,TD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PD={any:[/^b/i,/^(a|c)/i]},DD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LD={any:[/1/i,/2/i,/3/i,/4/i]},RD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VD={ordinalNumber:CD({matchPattern:AD,parsePattern:ID,valueCallback:r=>parseInt(r,10)}),era:of({matchPatterns:TD,defaultMatchWidth:"wide",parsePatterns:PD,defaultParseWidth:"any"}),quarter:of({matchPatterns:DD,defaultMatchWidth:"wide",parsePatterns:LD,defaultParseWidth:"any",valueCallback:r=>r+1}),month:of({matchPatterns:RD,defaultMatchWidth:"wide",parsePatterns:MD,defaultParseWidth:"any"}),day:of({matchPatterns:OD,defaultMatchWidth:"wide",parsePatterns:jD,defaultParseWidth:"any"}),dayPeriod:of({matchPatterns:FD,defaultMatchWidth:"any",parsePatterns:BD,defaultParseWidth:"any"})},sk={code:"en-US",formatDistance:uD,formatLong:pD,formatRelative:gD,localize:kD,match:VD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function UD(r,e){const t=Bt(r,e?.in);return yh(t,M0(t))+1}function Ey(r,e){const t=Bt(r,e?.in),n=+vh(t)-+iD(t);return Math.round(n/JS)+1}function Ny(r,e){const t=Bt(r,e?.in),n=t.getFullYear(),i=ad(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=wr(e?.in||r,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const c=lc(a,e),u=wr(e?.in||r,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const d=lc(u,e);return+t>=+c?n+1:+t>=+d?n:n-1}function zD(r,e){const t=ad(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=Ny(r,e),s=wr(e?.in||r,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),lc(s,e)}function ok(r,e){const t=Bt(r,e?.in),n=+lc(t,e)-+zD(t,e);return Math.round(n/JS)+1}function gr(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Fc={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return gr(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):gr(t+1,2)},d(r,e){return gr(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(r,e){return gr(r.getHours()%12||12,e.length)},H(r,e){return gr(r.getHours(),e.length)},m(r,e){return gr(r.getMinutes(),e.length)},s(r,e){return gr(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return gr(i,e.length)}},Dd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},N5={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return Fc.y(r,e)},Y:function(r,e,t,n){const i=Ny(r,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return gr(a,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):gr(s,e.length)},R:function(r,e){const t=ek(r);return gr(t,e.length)},u:function(r,e){const t=r.getFullYear();return gr(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return gr(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return gr(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Fc.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return gr(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=ok(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):gr(i,e.length)},I:function(r,e,t){const n=Ey(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):gr(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Fc.d(r,e)},D:function(r,e,t){const n=UD(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):gr(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return gr(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return gr(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return gr(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Dd.noon:n===0?i=Dd.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Dd.evening:n>=12?i=Dd.afternoon:n>=4?i=Dd.morning:i=Dd.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Fc.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Fc.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):gr(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):gr(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Fc.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Fc.s(r,e)},S:function(r,e){return Fc.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return A5(n);case"XXXX":case"XX":return Lu(n);default:return Lu(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return A5(n);case"xxxx":case"xx":return Lu(n);default:return Lu(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+C5(n,":");default:return"GMT"+Lu(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+C5(n,":");default:return"GMT"+Lu(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return gr(n,e.length)},T:function(r,e,t){return gr(+r,e.length)}};function C5(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),s=n%60;return s===0?t+String(i):t+String(i)+e+gr(s,2)}function A5(r,e){return r%60===0?(r>0?"-":"+")+gr(Math.abs(r)/60,2):Lu(r,e)}function Lu(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=gr(Math.trunc(n/60),2),s=gr(n%60,2);return t+i+e+s}const I5=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},ak=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},qD=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return I5(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",I5(n,e)).replace("{{time}}",ak(i,e))},o1={p:ak,P:qD},HD=/^D+$/,WD=/^Y+$/,$D=["D","DD","YY","YYYY"];function YD(r){return HD.test(r)}function GD(r){return WD.test(r)}function KD(r,e,t){const n=QD(r,e,t);if(console.warn(n),$D.includes(r))throw new RangeError(n)}function QD(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const XD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZD=/^'([^]*?)'?$/,e6=/''/g,t6=/[a-zA-Z]/;function T5(r,e,t){const n=ad(),i=t?.locale??n.locale??sk,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=Bt(r,t?.in);if(!wh(c))throw new RangeError("Invalid time value");let u=e.match(JD).map(f=>{const w=f[0];if(w==="p"||w==="P"){const x=o1[w];return x(f,i.formatLong)}return f}).join("").match(XD).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const w=f[0];if(w==="'")return{isToken:!1,value:n6(f)};if(N5[w])return{isToken:!0,value:f};if(w.match(t6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(f=>{if(!f.isToken)return f.value;const w=f.value;(!t?.useAdditionalWeekYearTokens&&GD(w)||!t?.useAdditionalDayOfYearTokens&&YD(w))&&KD(w,e,String(r));const x=N5[w[0]];return x(c,w,i.localize,d)}).join("")}function n6(r){const e=r.match(ZD);return e?e[1].replace(e6,"'"):r}function P5(r,e){return Bt(r,e?.in).getDate()}function r6(r,e){return Bt(r,e?.in).getDay()}function i6(r,e){const t=Bt(r,e?.in),n=t.getFullYear(),i=t.getMonth(),s=wr(t,0);return s.setFullYear(n,i+1,0),s.setHours(0,0,0,0),s.getDate()}function s6(){return Object.assign({},ad())}function Ws(r,e){return Bt(r,e?.in).getHours()}function o6(r,e){const t=Bt(r,e?.in).getDay();return t===0?7:t}function $s(r,e){return Bt(r,e?.in).getMinutes()}function Io(r,e){return Bt(r,e?.in).getMonth()}function eu(r){return Bt(r).getSeconds()}function a1(r){return+Bt(r)}function Rn(r,e){return Bt(r,e?.in).getFullYear()}function nc(r,e){return+Bt(r)>+Bt(e)}function fl(r,e){return+Bt(r)<+Bt(e)}function a6(r,e){return+Bt(r)==+Bt(e)}function l6(r,e){const t=c6(e)?new e(0):wr(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function c6(r){return typeof r=="function"&&r.prototype?.constructor===r}const u6=10;class lk{subPriority=0;validate(e,t){return!0}}class d6 extends lk{constructor(e,t,n,i,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class h6 extends lk{priority=u6;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>wr(t,n))}set(e,t){return t.timestampIsSet?e:wr(e,l6(e,this.context))}}class rr{run(e,t,n,i){const s=this.parse(e,t,n,i);return s?{setter:new d6(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}}class f6 extends rr{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Ci={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ul={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ai(r,e){return r&&{value:e(r.value),rest:r.rest}}function ai(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function dl(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:n*(i*R0+s*L0+a*tD),rest:e.slice(t[0].length)}}function ck(r){return ai(Ci.anyDigitsSigned,r)}function yi(r,e){switch(r){case 1:return ai(Ci.singleDigit,e);case 2:return ai(Ci.twoDigits,e);case 3:return ai(Ci.threeDigits,e);case 4:return ai(Ci.fourDigits,e);default:return ai(new RegExp("^\\d{1,"+r+"}"),e)}}function Zm(r,e){switch(r){case 1:return ai(Ci.singleDigitSigned,e);case 2:return ai(Ci.twoDigitsSigned,e);case 3:return ai(Ci.threeDigitsSigned,e);case 4:return ai(Ci.fourDigitsSigned,e);default:return ai(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Cy(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function uk(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const s=n+50,a=Math.trunc(s/100)*100,c=r>=s%100;i=r+a-(c?100:0)}return t?i:1-i}function dk(r){return r%400===0||r%4===0&&r%100!==0}class p6 extends rr{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const i=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return Ai(yi(4,e),i);case"yo":return Ai(n.ordinalNumber(e,{unit:"year"}),i);default:return Ai(yi(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const i=e.getFullYear();if(n.isTwoDigitYear){const a=uk(n.year,i);return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class m6 extends rr{priority=130;parse(e,t,n){const i=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Ai(yi(4,e),i);case"Yo":return Ai(n.ordinalNumber(e,{unit:"year"}),i);default:return Ai(yi(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,i){const s=Ny(e,i);if(n.isTwoDigitYear){const c=uk(n.year,s);return e.setFullYear(c,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),lc(e,i)}const a=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(a,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),lc(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class g6 extends rr{priority=130;parse(e,t){return Zm(t==="R"?4:t.length,e)}set(e,t,n){const i=wr(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),vh(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class v6 extends rr{priority=130;parse(e,t){return Zm(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class y6 extends rr{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return yi(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class w6 extends rr{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return yi(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class b6 extends rr{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const i=s=>s-1;switch(t){case"M":return Ai(ai(Ci.month,e),i);case"MM":return Ai(yi(2,e),i);case"Mo":return Ai(n.ordinalNumber(e,{unit:"month"}),i);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class x6 extends rr{priority=110;parse(e,t,n){const i=s=>s-1;switch(t){case"L":return Ai(ai(Ci.month,e),i);case"LL":return Ai(yi(2,e),i);case"Lo":return Ai(n.ordinalNumber(e,{unit:"month"}),i);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function _6(r,e,t){const n=Bt(r,t?.in),i=ok(n,t)-e;return n.setDate(n.getDate()-i*7),Bt(n,t?.in)}class S6 extends rr{priority=100;parse(e,t,n){switch(t){case"w":return ai(Ci.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return yi(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,i){return lc(_6(e,n,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function k6(r,e,t){const n=Bt(r,t?.in),i=Ey(n,t)-e;return n.setDate(n.getDate()-i*7),n}class E6 extends rr{priority=100;parse(e,t,n){switch(t){case"I":return ai(Ci.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return yi(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return vh(k6(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const N6=[31,28,31,30,31,30,31,31,30,31,30,31],C6=[31,29,31,30,31,30,31,31,30,31,30,31];class A6 extends rr{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return ai(Ci.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return yi(t.length,e)}}validate(e,t){const n=e.getFullYear(),i=dk(n),s=e.getMonth();return i?t>=1&&t<=C6[s]:t>=1&&t<=N6[s]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class I6 extends rr{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return ai(Ci.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return yi(t.length,e)}}validate(e,t){const n=e.getFullYear();return dk(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Ay(r,e,t){const n=ad(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Bt(r,t?.in),a=s.getDay(),u=(e%7+7)%7,d=7-i,f=e<0||e>6?e-(a+d)%7:(u+d)%7-(a+d)%7;return Fa(s,f,t)}class T6 extends rr{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=Ay(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class P6 extends rr{priority=90;parse(e,t,n,i){const s=a=>{const c=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+c};switch(t){case"e":case"ee":return Ai(yi(t.length,e),s);case"eo":return Ai(n.ordinalNumber(e,{unit:"day"}),s);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=Ay(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class D6 extends rr{priority=90;parse(e,t,n,i){const s=a=>{const c=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+c};switch(t){case"c":case"cc":return Ai(yi(t.length,e),s);case"co":return Ai(n.ordinalNumber(e,{unit:"day"}),s);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=Ay(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function L6(r,e,t){const n=Bt(r,t?.in),i=o6(n,t),s=e-i;return Fa(n,s,t)}class R6 extends rr{priority=90;parse(e,t,n){const i=s=>s===0?7:s;switch(t){case"i":case"ii":return yi(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Ai(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return Ai(n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Ai(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);default:return Ai(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=L6(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class M6 extends rr{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Cy(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class O6 extends rr{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Cy(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class j6 extends rr{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Cy(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class F6 extends rr{priority=70;parse(e,t,n){switch(t){case"h":return ai(Ci.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return yi(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const i=e.getHours()>=12;return i&&n<12?e.setHours(n+12,0,0,0):!i&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class B6 extends rr{priority=70;parse(e,t,n){switch(t){case"H":return ai(Ci.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return yi(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class V6 extends rr{priority=70;parse(e,t,n){switch(t){case"K":return ai(Ci.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return yi(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class U6 extends rr{priority=70;parse(e,t,n){switch(t){case"k":return ai(Ci.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return yi(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const i=n<=24?n%24:n;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class z6 extends rr{priority=60;parse(e,t,n){switch(t){case"m":return ai(Ci.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return yi(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class q6 extends rr{priority=50;parse(e,t,n){switch(t){case"s":return ai(Ci.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return yi(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class H6 extends rr{priority=30;parse(e,t){const n=i=>Math.trunc(i*Math.pow(10,-t.length+3));return Ai(yi(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class W6 extends rr{priority=10;parse(e,t){switch(t){case"X":return dl(ul.basicOptionalMinutes,e);case"XX":return dl(ul.basic,e);case"XXXX":return dl(ul.basicOptionalSeconds,e);case"XXXXX":return dl(ul.extendedOptionalSeconds,e);default:return dl(ul.extended,e)}}set(e,t,n){return t.timestampIsSet?e:wr(e,e.getTime()-Gm(e)-n)}incompatibleTokens=["t","T","x"]}class $6 extends rr{priority=10;parse(e,t){switch(t){case"x":return dl(ul.basicOptionalMinutes,e);case"xx":return dl(ul.basic,e);case"xxxx":return dl(ul.basicOptionalSeconds,e);case"xxxxx":return dl(ul.extendedOptionalSeconds,e);default:return dl(ul.extended,e)}}set(e,t,n){return t.timestampIsSet?e:wr(e,e.getTime()-Gm(e)-n)}incompatibleTokens=["t","T","X"]}class Y6 extends rr{priority=40;parse(e){return ck(e)}set(e,t,n){return[wr(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class G6 extends rr{priority=20;parse(e){return ck(e)}set(e,t,n){return[wr(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const K6={G:new f6,y:new p6,Y:new m6,R:new g6,u:new v6,Q:new y6,q:new w6,M:new b6,L:new x6,w:new S6,I:new E6,d:new A6,D:new I6,E:new T6,e:new P6,c:new D6,i:new R6,a:new M6,b:new O6,B:new j6,h:new F6,H:new B6,K:new V6,k:new U6,m:new z6,s:new q6,S:new H6,X:new W6,x:new $6,t:new Y6,T:new G6},Q6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J6=/^'([^]*?)'?$/,Z6=/''/g,eL=/\S/,tL=/[a-zA-Z]/;function nL(r,e,t,n){const i=()=>wr(n?.in||t,NaN),s=s6(),a=n?.locale??s.locale??sk,c=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!e)return r?i():Bt(t,n?.in);const d={firstWeekContainsDate:c,weekStartsOn:u,locale:a},f=[new h6(n?.in,t)],w=e.match(X6).map(P=>{const L=P[0];if(L in o1){const V=o1[L];return V(P,a.formatLong)}return P}).join("").match(Q6),x=[];for(let P of w){const L=P[0],V=K6[L];if(V){const{incompatibleTokens:U}=V;if(Array.isArray(U)){const ne=x.find(ce=>U.includes(ce.token)||ce.token===L);if(ne)throw new RangeError(`The format string mustn't contain \`${ne.fullToken}\` and \`${P}\` at the same time`)}else if(V.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);x.push({token:L,fullToken:P});const z=V.run(r,P,a.match,d);if(!z)return i();f.push(z.setter),r=z.rest}else{if(L.match(tL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(P==="''"?P="'":L==="'"&&(P=rL(P)),r.indexOf(P)===0)r=r.slice(P.length);else return i()}}if(r.length>0&&eL.test(r))return i();const g=f.map(P=>P.priority).sort((P,L)=>L-P).filter((P,L,V)=>V.indexOf(P)===L).map(P=>f.filter(L=>L.priority===P).sort((L,V)=>V.subPriority-L.subPriority)).map(P=>P[0]);let A=Bt(t,n?.in);if(isNaN(+A))return i();const R={};for(const P of g){if(!P.validate(A,d))return i();const L=P.set(A,R,d);Array.isArray(L)?(A=L[0],Object.assign(R,L[1])):A=L}return A}function rL(r){return r.match(J6)[1].replace(Z6,"'")}function iL(r,e,t){const[n,i]=dc(t?.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function sL(r,e,t){const[n,i]=dc(t?.in,r,e);return+s1(n)==+s1(i)}function oL(r,e,t){const[n,i]=dc(t?.in,r,e);return n.getFullYear()===i.getFullYear()}function Ff(r,e,t){const n=+Bt(r,t?.in),[i,s]=[+Bt(e.start,t?.in),+Bt(e.end,t?.in)].sort((a,c)=>a-c);return n>=i&&n<=s}function aL(r,e,t){return Fa(r,-1,t)}function lL(r,e){const t=()=>wr(e?.in,NaN),i=hL(r);let s;if(i.date){const d=fL(i.date,2);s=pL(d.restDateString,d.year)}if(!s||isNaN(+s))return t();const a=+s;let c=0,u;if(i.time&&(c=mL(i.time),isNaN(c)))return t();if(i.timezone){if(u=gL(i.timezone),isNaN(u))return t()}else{const d=new Date(a+c),f=Bt(0,e?.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return Bt(a+c+u,e?.in)}const Wp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uL=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hL(r){const e={},t=r.split(Wp.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Wp.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Wp.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=Wp.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function fL(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:r.slice((n[1]||n[2]).length)}}function pL(r,e){if(e===null)return new Date(NaN);const t=r.match(cL);if(!t)return new Date(NaN);const n=!!t[4],i=af(t[1]),s=af(t[2])-1,a=af(t[3]),c=af(t[4]),u=af(t[5])-1;if(n)return xL(e,c,u)?vL(e,c,u):new Date(NaN);{const d=new Date(0);return!wL(e,s,a)||!bL(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,a)),d)}}function af(r){return r?parseInt(r):1}function mL(r){const e=r.match(uL);if(!e)return NaN;const t=ev(e[1]),n=ev(e[2]),i=ev(e[3]);return _L(t,n,i)?t*R0+n*L0+i*1e3:NaN}function ev(r){return r&&parseFloat(r.replace(",","."))||0}function gL(r){if(r==="Z")return 0;const e=r.match(dL);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return SL(n,i)?t*(n*R0+i*L0):NaN}function vL(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const yL=[31,null,31,30,31,30,31,31,30,31,30,31];function hk(r){return r%400===0||r%4===0&&r%100!==0}function wL(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(yL[e]||(hk(r)?29:28))}function bL(r,e){return e>=1&&e<=(hk(r)?366:365)}function xL(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function _L(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function SL(r,e){return e>=0&&e<=59}function qo(r,e,t){const n=Bt(r,t?.in),i=n.getFullYear(),s=n.getDate(),a=wr(r,0);a.setFullYear(i,e,15),a.setHours(0,0,0,0);const c=i6(a);return n.setMonth(e,Math.min(s,c)),n}function wm(r,e,t){const n=Bt(r,t?.in);return n.setHours(e),n}function bm(r,e,t){const n=Bt(r,t?.in);return n.setMinutes(e),n}function zd(r,e,t){const n=Bt(r,t?.in),i=Math.trunc(n.getMonth()/3)+1,s=e-i;return qo(n,n.getMonth()+s*3)}function xm(r,e,t){const n=Bt(r,t?.in);return n.setSeconds(e),n}function al(r,e,t){const n=Bt(r,t?.in);return isNaN(+n)?wr(r,NaN):(n.setFullYear(e),n)}function Wu(r,e,t){return Ua(r,-e,t)}function fk(r,e,t){return ky(r,-1,t)}function D5(r,e,t){return Km(r,-1,t)}function ou(r,e,t){return Ba(r,-e,t)}function O0(){return typeof window<"u"}function Th(r){return pk(r)?(r.nodeName||"").toLowerCase():"#document"}function Go(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function El(r){var e;return(e=(pk(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function pk(r){return O0()?r instanceof Node||r instanceof Go(r).Node:!1}function lo(r){return O0()?r instanceof Element||r instanceof Go(r).Element:!1}function kl(r){return O0()?r instanceof HTMLElement||r instanceof Go(r).HTMLElement:!1}function L5(r){return!O0()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Go(r).ShadowRoot}const kL=new Set(["inline","contents"]);function Zf(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=pa(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!kL.has(i)}const EL=new Set(["table","td","th"]);function NL(r){return EL.has(Th(r))}const CL=[":popover-open",":modal"];function j0(r){return CL.some(e=>{try{return r.matches(e)}catch{return!1}})}const AL=["transform","translate","scale","rotate","perspective"],IL=["transform","translate","scale","rotate","perspective","filter"],TL=["paint","layout","strict","content"];function Iy(r){const e=Ty(),t=lo(r)?pa(r):r;return AL.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||IL.some(n=>(t.willChange||"").includes(n))||TL.some(n=>(t.contain||"").includes(n))}function PL(r){let e=au(r);for(;kl(e)&&!bh(e);){if(Iy(e))return e;if(j0(e))return null;e=au(e)}return null}function Ty(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DL=new Set(["html","body","#document"]);function bh(r){return DL.has(Th(r))}function pa(r){return Go(r).getComputedStyle(r)}function F0(r){return lo(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function au(r){if(Th(r)==="html")return r;const e=r.assignedSlot||r.parentNode||L5(r)&&r.host||El(r);return L5(e)?e.host:e}function mk(r){const e=au(r);return bh(e)?r.ownerDocument?r.ownerDocument.body:r.body:kl(e)&&Zf(e)?e:mk(e)}function Bf(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=mk(r),s=i===((n=r.ownerDocument)==null?void 0:n.body),a=Go(i);if(s){const c=l1(a);return e.concat(a,a.visualViewport||[],Zf(i)?i:[],c&&t?Bf(c):[])}return e.concat(i,Bf(i,[],t))}function l1(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const xh=Math.min,$u=Math.max,e0=Math.round,$p=Math.floor,xl=r=>({x:r,y:r}),LL={left:"right",right:"left",bottom:"top",top:"bottom"},RL={start:"end",end:"start"};function ML(r,e,t){return $u(r,xh(e,t))}function B0(r,e){return typeof r=="function"?r(e):r}function _h(r){return r.split("-")[0]}function ep(r){return r.split("-")[1]}function OL(r){return r==="x"?"y":"x"}function Py(r){return r==="y"?"height":"width"}const jL=new Set(["top","bottom"]);function Vu(r){return jL.has(_h(r))?"y":"x"}function Dy(r){return OL(Vu(r))}function FL(r,e,t){t===void 0&&(t=!1);const n=ep(r),i=Dy(r),s=Py(i);let a=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=t0(a)),[a,t0(a)]}function BL(r){const e=t0(r);return[c1(r),e,c1(e)]}function c1(r){return r.replace(/start|end/g,e=>RL[e])}const R5=["left","right"],M5=["right","left"],VL=["top","bottom"],UL=["bottom","top"];function zL(r,e,t){switch(r){case"top":case"bottom":return t?e?M5:R5:e?R5:M5;case"left":case"right":return e?VL:UL;default:return[]}}function qL(r,e,t,n){const i=ep(r);let s=zL(_h(r),t==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(c1)))),s}function t0(r){return r.replace(/left|right|bottom|top/g,e=>LL[e])}function HL(r){return{top:0,right:0,bottom:0,left:0,...r}}function gk(r){return typeof r!="number"?HL(r):{top:r,right:r,bottom:r,left:r}}function n0(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}var WL=typeof document<"u",$L=function(){},r0=WL?Se.useLayoutEffect:$L;const YL={...Rx},GL=YL.useInsertionEffect,KL=GL||(r=>r());function QL(r){const e=Se.useRef(()=>{});return KL(()=>{e.current=r}),Se.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var vk=Mx();const XL=E1(vk);function O5(r,e,t){let{reference:n,floating:i}=r;const s=Vu(e),a=Dy(e),c=Py(a),u=_h(e),d=s==="y",f=n.x+n.width/2-i.width/2,w=n.y+n.height/2-i.height/2,x=n[c]/2-i[c]/2;let g;switch(u){case"top":g={x:f,y:n.y-i.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:w};break;case"left":g={x:n.x-i.width,y:w};break;default:g={x:n.x,y:n.y}}switch(ep(e)){case"start":g[a]-=x*(t&&d?-1:1);break;case"end":g[a]+=x*(t&&d?-1:1);break}return g}const JL=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,c=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:r,floating:e,strategy:i}),{x:f,y:w}=O5(d,n,u),x=n,g={},A=0;for(let R=0;R<c.length;R++){const{name:P,fn:L}=c[R],{x:V,y:U,data:z,reset:ne}=await L({x:f,y:w,initialPlacement:n,placement:x,strategy:i,middlewareData:g,rects:d,platform:a,elements:{reference:r,floating:e}});f=V??f,w=U??w,g={...g,[P]:{...g[P],...z}},ne&&A<=50&&(A++,typeof ne=="object"&&(ne.placement&&(x=ne.placement),ne.rects&&(d=ne.rects===!0?await a.getElementRects({reference:r,floating:e,strategy:i}):ne.rects),{x:f,y:w}=O5(d,x,u)),R=-1)}return{x:f,y:w,placement:x,strategy:i,middlewareData:g}};async function ZL(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:c,strategy:u}=r,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:w="floating",altBoundary:x=!1,padding:g=0}=B0(e,r),A=gk(g),P=c[x?w==="floating"?"reference":"floating":w],L=n0(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(P)))==null||t?P:P.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),V=w==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,U=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),z=await(s.isElement==null?void 0:s.isElement(U))?await(s.getScale==null?void 0:s.getScale(U))||{x:1,y:1}:{x:1,y:1},ne=n0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:V,offsetParent:U,strategy:u}):V);return{top:(L.top-ne.top+A.top)/z.y,bottom:(ne.bottom-L.bottom+A.bottom)/z.y,left:(L.left-ne.left+A.left)/z.x,right:(ne.right-L.right+A.right)/z.x}}const eR=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:s,platform:a,elements:c,middlewareData:u}=e,{element:d,padding:f=0}=B0(r,e)||{};if(d==null)return{};const w=gk(f),x={x:t,y:n},g=Dy(i),A=Py(g),R=await a.getDimensions(d),P=g==="y",L=P?"top":"left",V=P?"bottom":"right",U=P?"clientHeight":"clientWidth",z=s.reference[A]+s.reference[g]-x[g]-s.floating[A],ne=x[g]-s.reference[g],ce=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let W=ce?ce[U]:0;(!W||!await(a.isElement==null?void 0:a.isElement(ce)))&&(W=c.floating[U]||s.floating[A]);const O=z/2-ne/2,C=W/2-R[A]/2-1,j=xh(w[L],C),N=xh(w[V],C),k=j,D=W-R[A]-N,X=W/2-R[A]/2+O,ue=ML(k,X,D),ge=!u.arrow&&ep(i)!=null&&X!==ue&&s.reference[A]/2-(X<k?j:N)-R[A]/2<0,me=ge?X<k?X-k:X-D:0;return{[g]:x[g]+me,data:{[g]:ue,centerOffset:X-ue-me,...ge&&{alignmentOffset:me}},reset:ge}}}),tR=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:c,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:w=!0,fallbackPlacements:x,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:R=!0,...P}=B0(r,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const L=_h(i),V=Vu(c),U=_h(c)===c,z=await(u.isRTL==null?void 0:u.isRTL(d.floating)),ne=x||(U||!R?[t0(c)]:BL(c)),ce=A!=="none";!x&&ce&&ne.push(...qL(c,R,A,z));const W=[c,...ne],O=await ZL(e,P),C=[];let j=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&C.push(O[L]),w){const X=FL(i,a,z);C.push(O[X[0]],O[X[1]])}if(j=[...j,{placement:i,overflows:C}],!C.every(X=>X<=0)){var N,k;const X=(((N=s.flip)==null?void 0:N.index)||0)+1,ue=W[X];if(ue&&(!(w==="alignment"?V!==Vu(ue):!1)||j.every(re=>Vu(re.placement)===V?re.overflows[0]>0:!0)))return{data:{index:X,overflows:j},reset:{placement:ue}};let ge=(k=j.filter(me=>me.overflows[0]<=0).sort((me,re)=>me.overflows[1]-re.overflows[1])[0])==null?void 0:k.placement;if(!ge)switch(g){case"bestFit":{var D;const me=(D=j.filter(re=>{if(ce){const ye=Vu(re.placement);return ye===V||ye==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(ye=>ye>0).reduce((ye,de)=>ye+de,0)]).sort((re,ye)=>re[1]-ye[1])[0])==null?void 0:D[0];me&&(ge=me);break}case"initialPlacement":ge=c;break}if(i!==ge)return{reset:{placement:ge}}}return{}}}},nR=new Set(["left","top"]);async function rR(r,e){const{placement:t,platform:n,elements:i}=r,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=_h(t),c=ep(t),u=Vu(t)==="y",d=nR.has(a)?-1:1,f=s&&u?-1:1,w=B0(e,r);let{mainAxis:x,crossAxis:g,alignmentAxis:A}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return c&&typeof A=="number"&&(g=c==="end"?A*-1:A),u?{x:g*f,y:x*d}:{x:x*d,y:g*f}}const iR=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:s,placement:a,middlewareData:c}=e,u=await rR(e,r);return a===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}};function yk(r){const e=pa(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=kl(r),s=i?r.offsetWidth:t,a=i?r.offsetHeight:n,c=e0(t)!==s||e0(n)!==a;return c&&(t=s,n=a),{width:t,height:n,$:c}}function Ly(r){return lo(r)?r:r.contextElement}function Zd(r){const e=Ly(r);if(!kl(e))return xl(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:s}=yk(e);let a=(s?e0(t.width):t.width)/n,c=(s?e0(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const sR=xl(0);function wk(r){const e=Go(r);return!Ty()||!e.visualViewport?sR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oR(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Go(r)?!1:e}function td(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),s=Ly(r);let a=xl(1);e&&(n?lo(n)&&(a=Zd(n)):a=Zd(r));const c=oR(s,t,n)?wk(s):xl(0);let u=(i.left+c.x)/a.x,d=(i.top+c.y)/a.y,f=i.width/a.x,w=i.height/a.y;if(s){const x=Go(s),g=n&&lo(n)?Go(n):n;let A=x,R=l1(A);for(;R&&n&&g!==A;){const P=Zd(R),L=R.getBoundingClientRect(),V=pa(R),U=L.left+(R.clientLeft+parseFloat(V.paddingLeft))*P.x,z=L.top+(R.clientTop+parseFloat(V.paddingTop))*P.y;u*=P.x,d*=P.y,f*=P.x,w*=P.y,u+=U,d+=z,A=Go(R),R=l1(A)}}return n0({width:f,height:w,x:u,y:d})}function V0(r,e){const t=F0(r).scrollLeft;return e?e.left+t:td(El(r)).left+t}function bk(r,e){const t=r.getBoundingClientRect(),n=t.left+e.scrollLeft-V0(r,t),i=t.top+e.scrollTop;return{x:n,y:i}}function aR(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const s=i==="fixed",a=El(n),c=e?j0(e.floating):!1;if(n===a||c&&s)return t;let u={scrollLeft:0,scrollTop:0},d=xl(1);const f=xl(0),w=kl(n);if((w||!w&&!s)&&((Th(n)!=="body"||Zf(a))&&(u=F0(n)),kl(n))){const g=td(n);d=Zd(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const x=a&&!w&&!s?bk(a,u):xl(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-u.scrollLeft*d.x+f.x+x.x,y:t.y*d.y-u.scrollTop*d.y+f.y+x.y}}function lR(r){return Array.from(r.getClientRects())}function cR(r){const e=El(r),t=F0(r),n=r.ownerDocument.body,i=$u(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=$u(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-t.scrollLeft+V0(r);const c=-t.scrollTop;return pa(n).direction==="rtl"&&(a+=$u(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:c}}const j5=25;function uR(r,e){const t=Go(r),n=El(r),i=t.visualViewport;let s=n.clientWidth,a=n.clientHeight,c=0,u=0;if(i){s=i.width,a=i.height;const f=Ty();(!f||f&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}const d=V0(n);if(d<=0){const f=n.ownerDocument,w=f.body,x=getComputedStyle(w),g=f.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,A=Math.abs(n.clientWidth-w.clientWidth-g);A<=j5&&(s-=A)}else d<=j5&&(s+=d);return{width:s,height:a,x:c,y:u}}const dR=new Set(["absolute","fixed"]);function hR(r,e){const t=td(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,s=kl(r)?Zd(r):xl(1),a=r.clientWidth*s.x,c=r.clientHeight*s.y,u=i*s.x,d=n*s.y;return{width:a,height:c,x:u,y:d}}function F5(r,e,t){let n;if(e==="viewport")n=uR(r,t);else if(e==="document")n=cR(El(r));else if(lo(e))n=hR(e,t);else{const i=wk(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return n0(n)}function xk(r,e){const t=au(r);return t===e||!lo(t)||bh(t)?!1:pa(t).position==="fixed"||xk(t,e)}function fR(r,e){const t=e.get(r);if(t)return t;let n=Bf(r,[],!1).filter(c=>lo(c)&&Th(c)!=="body"),i=null;const s=pa(r).position==="fixed";let a=s?au(r):r;for(;lo(a)&&!bh(a);){const c=pa(a),u=Iy(a);!u&&c.position==="fixed"&&(i=null),(s?!u&&!i:!u&&c.position==="static"&&!!i&&dR.has(i.position)||Zf(a)&&!u&&xk(r,a))?n=n.filter(f=>f!==a):i=c,a=au(a)}return e.set(r,n),n}function pR(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const a=[...t==="clippingAncestors"?j0(e)?[]:fR(e,this._c):[].concat(t),n],c=a[0],u=a.reduce((d,f)=>{const w=F5(e,f,i);return d.top=$u(w.top,d.top),d.right=xh(w.right,d.right),d.bottom=xh(w.bottom,d.bottom),d.left=$u(w.left,d.left),d},F5(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function mR(r){const{width:e,height:t}=yk(r);return{width:e,height:t}}function gR(r,e,t){const n=kl(e),i=El(e),s=t==="fixed",a=td(r,!0,s,e);let c={scrollLeft:0,scrollTop:0};const u=xl(0);function d(){u.x=V0(i)}if(n||!n&&!s)if((Th(e)!=="body"||Zf(i))&&(c=F0(e)),n){const g=td(e,!0,s,e);u.x=g.x+e.clientLeft,u.y=g.y+e.clientTop}else i&&d();s&&!n&&i&&d();const f=i&&!n&&!s?bk(i,c):xl(0),w=a.left+c.scrollLeft-u.x-f.x,x=a.top+c.scrollTop-u.y-f.y;return{x:w,y:x,width:a.width,height:a.height}}function tv(r){return pa(r).position==="static"}function B5(r,e){if(!kl(r)||pa(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return El(r)===t&&(t=t.ownerDocument.body),t}function _k(r,e){const t=Go(r);if(j0(r))return t;if(!kl(r)){let i=au(r);for(;i&&!bh(i);){if(lo(i)&&!tv(i))return i;i=au(i)}return t}let n=B5(r,e);for(;n&&NL(n)&&tv(n);)n=B5(n,e);return n&&bh(n)&&tv(n)&&!Iy(n)?t:n||PL(r)||t}const vR=async function(r){const e=this.getOffsetParent||_k,t=this.getDimensions,n=await t(r.floating);return{reference:gR(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function yR(r){return pa(r).direction==="rtl"}const wR={convertOffsetParentRelativeRectToViewportRelativeRect:aR,getDocumentElement:El,getClippingRect:pR,getOffsetParent:_k,getElementRects:vR,getClientRects:lR,getDimensions:mR,getScale:Zd,isElement:lo,isRTL:yR};function Sk(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function bR(r,e){let t=null,n;const i=El(r);function s(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const d=r.getBoundingClientRect(),{left:f,top:w,width:x,height:g}=d;if(c||e(),!x||!g)return;const A=$p(w),R=$p(i.clientWidth-(f+x)),P=$p(i.clientHeight-(w+g)),L=$p(f),U={rootMargin:-A+"px "+-R+"px "+-P+"px "+-L+"px",threshold:$u(0,xh(1,u))||1};let z=!0;function ne(ce){const W=ce[0].intersectionRatio;if(W!==u){if(!z)return a();W?a(!1,W):n=setTimeout(()=>{a(!1,1e-7)},1e3)}W===1&&!Sk(d,r.getBoundingClientRect())&&a(),z=!1}try{t=new IntersectionObserver(ne,{...U,root:i.ownerDocument})}catch{t=new IntersectionObserver(ne,U)}t.observe(r)}return a(!0),s}function xR(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=Ly(r),f=i||s?[...d?Bf(d):[],...Bf(e)]:[];f.forEach(L=>{i&&L.addEventListener("scroll",t,{passive:!0}),s&&L.addEventListener("resize",t)});const w=d&&c?bR(d,t):null;let x=-1,g=null;a&&(g=new ResizeObserver(L=>{let[V]=L;V&&V.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var U;(U=g)==null||U.observe(e)})),t()}),d&&!u&&g.observe(d),g.observe(e));let A,R=u?td(r):null;u&&P();function P(){const L=td(r);R&&!Sk(R,L)&&t(),R=L,A=requestAnimationFrame(P)}return t(),()=>{var L;f.forEach(V=>{i&&V.removeEventListener("scroll",t),s&&V.removeEventListener("resize",t)}),w?.(),(L=g)==null||L.disconnect(),g=null,u&&cancelAnimationFrame(A)}}const _R=iR,SR=tR,V5=eR,kR=(r,e,t)=>{const n=new Map,i={platform:wR,...t},s={...i.platform,_c:n};return JL(r,e,{...i,platform:s})};var ER=typeof document<"u",NR=function(){},_m=ER?Se.useLayoutEffect:NR;function i0(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!i0(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const s=i[n];if(!(s==="_owner"&&r.$$typeof)&&!i0(r[s],e[s]))return!1}return!0}return r!==r&&e!==e}function kk(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function U5(r,e){const t=kk(r);return Math.round(e*t)/t}function nv(r){const e=Se.useRef(r);return _m(()=>{e.current=r}),e}function CR(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:c=!0,whileElementsMounted:u,open:d}=r,[f,w]=Se.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,g]=Se.useState(n);i0(x,n)||g(n);const[A,R]=Se.useState(null),[P,L]=Se.useState(null),V=Se.useCallback(re=>{re!==ce.current&&(ce.current=re,R(re))},[]),U=Se.useCallback(re=>{re!==W.current&&(W.current=re,L(re))},[]),z=s||A,ne=a||P,ce=Se.useRef(null),W=Se.useRef(null),O=Se.useRef(f),C=u!=null,j=nv(u),N=nv(i),k=nv(d),D=Se.useCallback(()=>{if(!ce.current||!W.current)return;const re={placement:e,strategy:t,middleware:x};N.current&&(re.platform=N.current),kR(ce.current,W.current,re).then(ye=>{const de={...ye,isPositioned:k.current!==!1};X.current&&!i0(O.current,de)&&(O.current=de,vk.flushSync(()=>{w(de)}))})},[x,e,t,N,k]);_m(()=>{d===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,w(re=>({...re,isPositioned:!1})))},[d]);const X=Se.useRef(!1);_m(()=>(X.current=!0,()=>{X.current=!1}),[]),_m(()=>{if(z&&(ce.current=z),ne&&(W.current=ne),z&&ne){if(j.current)return j.current(z,ne,D);D()}},[z,ne,D,j,C]);const ue=Se.useMemo(()=>({reference:ce,floating:W,setReference:V,setFloating:U}),[V,U]),ge=Se.useMemo(()=>({reference:z,floating:ne}),[z,ne]),me=Se.useMemo(()=>{const re={position:t,left:0,top:0};if(!ge.floating)return re;const ye=U5(ge.floating,f.x),de=U5(ge.floating,f.y);return c?{...re,transform:"translate("+ye+"px, "+de+"px)",...kk(ge.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ye,top:de}},[t,c,ge.floating,f.x,f.y]);return Se.useMemo(()=>({...f,update:D,refs:ue,elements:ge,floatingStyles:me}),[f,D,ue,ge,me])}const AR=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?V5({element:n.current,padding:i}).fn(t):{}:n?V5({element:n,padding:i}).fn(t):{}}}},IR=(r,e)=>({..._R(r),options:[r,e]}),TR=(r,e)=>({...SR(r),options:[r,e]}),PR=(r,e)=>({...AR(r),options:[r,e]}),DR={...Rx};let z5=!1,LR=0;const q5=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+LR++;function RR(){const[r,e]=Se.useState(()=>z5?q5():void 0);return r0(()=>{r==null&&e(q5())},[]),Se.useEffect(()=>{z5=!0},[]),r}const MR=DR.useId,Ek=MR||RR,OR=Se.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:s,shift:a}},width:c=14,height:u=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:w,stroke:x,d:g,style:{transform:A,...R}={},...P}=e,L=Ek(),[V,U]=Se.useState(!1);if(r0(()=>{if(!i)return;pa(i).direction==="rtl"&&U(!0)},[i]),!i)return null;const[z,ne]=n.split("-"),ce=z==="top"||z==="bottom";let W=w;(ce&&a!=null&&a.x||!ce&&a!=null&&a.y)&&(W=null);const O=f*2,C=O/2,j=c/2*(d/-8+1),N=u/2*d/4,k=!!g,D=W&&ne==="end"?"bottom":"top";let X=W&&ne==="end"?"right":"left";W&&V&&(X=ne==="end"?"left":"right");const ue=s?.x!=null?W||s.x:"",ge=s?.y!=null?W||s.y:"",me=g||"M0,0"+(" H"+c)+(" L"+(c-j)+","+(u-N))+(" Q"+c/2+","+u+" "+j+","+(u-N))+" Z",re={top:k?"rotate(180deg)":"",left:k?"rotate(90deg)":"rotate(-90deg)",bottom:k?"":"rotate(180deg)",right:k?"rotate(-90deg)":"rotate(90deg)"}[z];return y.jsxs("svg",{...P,"aria-hidden":!0,ref:t,width:k?c:c+O,height:c,viewBox:"0 0 "+c+" "+(u>c?u:c),style:{position:"absolute",pointerEvents:"none",[X]:ue,[D]:ge,[z]:ce||k?"100%":"calc(100% - "+O/2+"px)",transform:[re,A].filter(ye=>!!ye).join(" "),...R},children:[O>0&&y.jsx("path",{clipPath:"url(#"+L+")",fill:"none",stroke:x,strokeWidth:O+(g?0:1),d:me}),y.jsx("path",{stroke:O&&!g?P.fill:"none",d:me}),y.jsx("clipPath",{id:L,children:y.jsx("rect",{x:-C,y:C*(k?-1:1),width:c+O,height:c})})]})});function jR(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const FR=Se.createContext(null),BR=Se.createContext(null),VR=()=>{var r;return((r=Se.useContext(FR))==null?void 0:r.id)||null},UR=()=>Se.useContext(BR);function zR(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=Ek(),s=Se.useRef({}),[a]=Se.useState(()=>jR()),c=VR()!=null,[u,d]=Se.useState(n.reference),f=QL((g,A,R)=>{s.current.openEvent=g?A:void 0,a.emit("openchange",{open:g,event:A,reason:R,nested:c}),t?.(g,A,R)}),w=Se.useMemo(()=>({setPositionReference:d}),[]),x=Se.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return Se.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:x,events:a,floatingId:i,refs:w}),[e,f,x,a,i,w])}function qR(r){r===void 0&&(r={});const{nodeId:e}=r,t=zR({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[s,a]=Se.useState(null),[c,u]=Se.useState(null),f=i?.domReference||s,w=Se.useRef(null),x=UR();r0(()=>{f&&(w.current=f)},[f]);const g=CR({...r,elements:{...i,...c&&{reference:c}}}),A=Se.useCallback(U=>{const z=lo(U)?{getBoundingClientRect:()=>U.getBoundingClientRect(),getClientRects:()=>U.getClientRects(),contextElement:U}:U;u(z),g.refs.setReference(z)},[g.refs]),R=Se.useCallback(U=>{(lo(U)||U===null)&&(w.current=U,a(U)),(lo(g.refs.reference.current)||g.refs.reference.current===null||U!==null&&!lo(U))&&g.refs.setReference(U)},[g.refs]),P=Se.useMemo(()=>({...g.refs,setReference:R,setPositionReference:A,domReference:w}),[g.refs,R,A]),L=Se.useMemo(()=>({...g.elements,domReference:f}),[g.elements,f]),V=Se.useMemo(()=>({...g,...n,refs:P,elements:L,nodeId:e}),[g,P,L,e,n]);return r0(()=>{n.dataRef.current.floatingContext=V;const U=x?.nodesRef.current.find(z=>z.id===e);U&&(U.context=V)}),Se.useMemo(()=>({...g,context:V,refs:P,elements:L}),[g,P,L,V])}var u1=function(e,t){return u1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},u1(e,t)};function Es(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u1(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var An=function(){return An=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},An.apply(this,arguments)};function pl(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))}var HR=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,s=r.className,a=r.children,c=r.inline,u=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return Be.createElement("div",{className:s,"aria-label":u,role:c?void 0:"dialog","aria-modal":c?void 0:"true",translate:"no"},a)},WR=function(r,e){var t=Se.useRef(null),n=Se.useRef(r);Se.useEffect(function(){n.current=r},[r]);var i=Se.useCallback(function(s){var a,c=s.composed&&s.composedPath&&s.composedPath().find(function(u){return u instanceof Node})||s.target;t.current&&!t.current.contains(c)&&(e&&c instanceof HTMLElement&&c.classList.contains(e)||(a=n.current)===null||a===void 0||a.call(n,s))},[e]);return Se.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},U0=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,s=r.style,a=r.ignoreClass,c=WR(t,a);return Be.createElement("div",{className:n,style:s,ref:function(u){c.current=u,i&&(i.current=u)}},e)},Yp=null,H5=!1;function Nk(){if(H5)return Yp;H5=!0;try{var r="date-fns-tz";Yp=require(r)}catch{Yp=null}return Yp}function W5(r,e){if(!e)return r;var t=Nk();return t?t.toZonedTime(r,e):r}function Wl(r,e){if(!e)return r;var t=Nk();return t?t.fromZonedTime(r,e):r}var ht;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(ht||(ht={}));function Ck(){var r=typeof window<"u"?window:globalThis;return r}var tp=12;function Qn(r){if(r==null)return new Date;var e=typeof r=="string"?lL(r):Bt(r);return Co(e)?e:new Date}function Pu(r,e,t,n,i){i===void 0&&(i=Qn());for(var s=Sh(t)||Sh(Ry()),a=Array.isArray(e)?e:[e],c=0,u=a;c<u.length;c++){var d=u[c],f=nL(r,d,i,{locale:s});if(Co(f)&&(!n||r===Br(f,d,t)))return f}if(!n&&r&&r.length>=8){var w=new Date(r);if(wh(w))return w}return null}function $R(r,e){if(e===void 0&&(e=Qn()),!r)return null;var t=r.match(/\b(1\d{3}|2\d{3})\b/);if(!t||!t[1])return null;var n=parseInt(t[1],10),i=r.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),s=i&&i[1]?parseInt(i[1],10)-1:e.getMonth();return new Date(n,s,1)}function Co(r){return wh(r)}function Uu(r){return r==null?null:bl(r)&&wh(r)?r:null}function Br(r,e,t){if(t==="en")return T5(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Sh(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Sh(Ry()),T5(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function No(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Br(r,i,n)||""}var Ak=" - ";function YR(r,e,t){if(!r&&!e)return"";var n=r?No(r,t):"",i=e?No(e,t):"",s=t.rangeSeparator||Ak;return"".concat(n).concat(s).concat(i)}function GR(r,e){if(!r?.length)return"";var t=r[0]?No(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=No(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function $l(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,s=i===void 0?0:i,a=e.second,c=a===void 0?0:a;return wm(bm(xm(r,c),s),n)}function KR(r){return Ey(r)}function QR(r,e){return Br(r,"ddd",e)}function vf(r){return ed(r)}function tu(r,e,t){var n=Sh(e||Ry());return lc(r,{locale:n,weekStartsOn:t})}function rc(r){return rk(r)}function yf(r){return M0(r)}function $5(r){return s1(r)}function Y5(){return ed(Qn())}function G5(r){return tk(r)}function XR(r){return lD(r)}function JR(r){return nk(r)}function ll(r,e){return r&&e?oL(r,e):!r&&!e}function ao(r,e){return r&&e?iL(r,e):!r&&!e}function s0(r,e){return r&&e?sL(r,e):!r&&!e}function On(r,e){return r&&e?oD(r,e):!r&&!e}function zu(r,e){return r&&e?a6(r,e):!r&&!e}function Ru(r,e,t){var n,i=ed(e),s=tk(t);try{n=Ff(r,{start:i,end:s})}catch{n=!1}return n}function Ry(){var r=Ck();return r.__localeId__}function Sh(r){if(typeof r=="string"){var e=Ck();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function ZR(r,e,t){return e(Br(r,"EEEE",t))}function eM(r,e){return Br(r,"EEEEEE",e)}function tM(r,e){return Br(r,"EEE",e)}function My(r,e){return Br(qo(Qn(),r),"LLLL",e)}function Ik(r,e){return Br(qo(Qn(),r),"LLL",e)}function nM(r,e){return Br(zd(Qn(),r),"QQQ",e)}function fa(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.excludeDateIntervals,c=t.includeDates,u=t.includeDateIntervals,d=t.filterDate,f=t.disabled;return f?!0:np(r,{minDate:n,maxDate:i})||s&&s.some(function(w){return w instanceof Date?On(r,w):On(r,w.date)})||a&&a.some(function(w){var x=w.start,g=w.end;return Ff(r,{start:x,end:g})})||c&&!c.some(function(w){return On(r,w)})||u&&!u.some(function(w){var x=w.start,g=w.end;return Ff(r,{start:x,end:g})})||d&&!d(Qn(r))||!1}function Oy(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var a=s.start,c=s.end;return Ff(r,{start:a,end:c})}):n&&n.some(function(s){var a;return s instanceof Date?On(r,s):On(r,(a=s.date)!==null&&a!==void 0?a:new Date)})||!1}function Tk(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,c=t.filterDate;return np(r,{minDate:n?rk(n):void 0,maxDate:i?nk(i):void 0})||s?.some(function(u){return ao(r,u instanceof Date?u:u.date)})||a&&!a.some(function(u){return ao(r,u)})||c&&!c(Qn(r))||!1}function Gp(r,e,t,n){var i=Rn(r),s=Io(r),a=Rn(e),c=Io(e),u=Rn(n);return i===a&&i===u?s<=t&&t<=c:i<a?u===i&&s<=t||u===a&&c>=t||u<a&&u>i:!1}function rM(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates;return np(r,{minDate:n,maxDate:i})||s&&s.some(function(c){return ao(c instanceof Date?c:c.date,r)})||a&&!a.some(function(c){return ao(c,r)})||!1}function Kp(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,c=t.filterDate,u=t.disabled;return u?!0:np(r,{minDate:n,maxDate:i})||s?.some(function(d){return s0(r,d instanceof Date?d:d.date)})||a&&!a.some(function(d){return s0(r,d)})||c&&!c(Qn(r))||!1}function Qp(r,e,t){if(!e||!t||!wh(e)||!wh(t))return!1;var n=Rn(e),i=Rn(t);return n<=r&&i>=r}function Sm(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,c=t.filterDate,u=t.disabled;if(u)return!0;var d=new Date(r,0,1);return np(d,{minDate:n?M0(n):void 0,maxDate:i?ik(i):void 0})||s?.some(function(f){return ll(d,f instanceof Date?f:f.date)})||a&&!a.some(function(f){return ll(d,f)})||c&&!c(Qn(d))||!1}function Xp(r,e,t,n){var i=Rn(r),s=$c(r),a=Rn(e),c=$c(e),u=Rn(n);return i===a&&i===u?s<=t&&t<=c:i<a?u===i&&s<=t||u===a&&c>=t||u<a&&u>i:!1}function np(r,e){var t,n=e===void 0?{}:e,i=n.minDate,s=n.maxDate;return(t=i&&yh(r,i)<0||s&&yh(r,s)>0)!==null&&t!==void 0?t:!1}function K5(r,e){return e.some(function(t){return Ws(t)===Ws(r)&&$s(t)===$s(r)&&eu(t)===eu(r)})}function Q5(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,s=t.filterTime;return n&&K5(r,n)||i&&!K5(r,i)||s&&!s(r)||!1}function X5(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=Qn();i=wm(i,Ws(r)),i=bm(i,$s(r)),i=xm(i,eu(r));var s=Qn();s=wm(s,Ws(t)),s=bm(s,$s(t)),s=xm(s,eu(t));var a=Qn();a=wm(a,Ws(n)),a=bm(a,$s(n)),a=xm(a,eu(n));var c;try{c=!Ff(i,{start:s,end:a})}catch{c=!1}return c}function J5(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,s=Wu(r,1);return n&&Qm(n,s)>0||i&&i.every(function(a){return Qm(a,s)>0})||!1}function Z5(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,s=Ua(r,1);return n&&Qm(s,n)>0||i&&i.every(function(a){return Qm(s,a)>0})||!1}function iM(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,s=M0(r),a=fk(s);return n&&Xm(n,a)>0||i&&i.every(function(c){return Xm(c,a)>0})||!1}function sM(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,s=ik(r),a=ky(s,1);return n&&Xm(a,n)>0||i&&i.every(function(c){return Xm(a,c)>0})||!1}function eb(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,s=ou(r,1);return n&&Jm(n,s)>0||i&&i.every(function(a){return Jm(a,s)>0})||!1}function oM(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,s=i===void 0?tp:i,a=yf(ou(r,s)),c=ec(a,s).endPeriod,u=n&&Rn(n);return u&&u>c||!1}function tb(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,s=Ba(r,1);return n&&Jm(s,n)>0||i&&i.every(function(a){return Jm(s,a)>0})||!1}function aM(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,s=i===void 0?tp:i,a=Ba(r,s),c=ec(a,s).startPeriod,u=n&&Rn(n);return u&&u<c||!1}function Pk(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return yh(i,e)>=0});return k5(n)}else return t?k5(t):e}function Dk(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return yh(i,e)<=0});return S5(n)}else return t?S5(t):e}function nb(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,s=r.length;i<s;i++){var a=r[i];if(bl(a)){var c=Br(a,"MM.dd.yyyy"),u=n.get(c)||[];u.includes(e)||(u.push(e),n.set(c,u))}else if(typeof a=="object"){var d=Object.keys(a),f=(t=d[0])!==null&&t!==void 0?t:"",w=a[f];if(typeof f=="string"&&Array.isArray(w))for(var x=0,g=w.length;x<g;x++){var A=w[x];if(A){var c=Br(A,"MM.dd.yyyy"),u=n.get(c)||[];u.includes(f)||(u.push(f),n.set(c,u))}}}}return n}function lM(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function cM(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,s=n.holidayName;if(bl(i)){var a=Br(i,"MM.dd.yyyy"),c=t.get(a)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&lM(c.holidayNames,[s]))){c.className=e;var u=c.holidayNames;c.holidayNames=u?pl(pl([],u,!0),[s],!1):[s],t.set(a,c)}}}),t}function uM(r,e,t,n,i){for(var s=i.length,a=[],c=0;c<s;c++){var u=r,d=i[c];d&&(u=nD(u,Ws(d)),u=jf(u,$s(d)),u=sD(u,eu(d)));var f=jf(r,(t+1)*n);nc(u,e)&&fl(u,f)&&d!=null&&a.push(d)}return a}function Ld(r){return r<10?"0".concat(r):"".concat(r)}function ec(r,e){e===void 0&&(e=tp);var t=Math.ceil(Rn(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function dM(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function rb(r){var e=r.getSeconds(),t=r.getMilliseconds();return Bt(r.getTime()-e*1e3-t)}function Lk(r,e){return rb(r).getTime()===rb(e).getTime()}function ib(r){if(!bl(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function rv(r,e){if(!bl(r)||!bl(e))throw new Error("Invalid date received");var t=ib(r),n=ib(e);return fl(t,n)}function Rk(r){return r.key===ht.Space}var iv=(function(r){Es(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=Be.createRef(),n.onTimeChange=function(i){var s,a;n.setState({time:i});var c=n.props.date,u=c instanceof Date&&!isNaN(+c),d=u?c:new Date;if(i?.includes(":")){var f=i.split(":"),w=f[0],x=f[1];d.setHours(Number(w)),d.setMinutes(Number(x))}(a=(s=n.props).onChange)===null||a===void 0||a.call(s,d)},n.renderTimeInput=function(){var i=n.state.time,s=n.props,a=s.date,c=s.timeString,u=s.customTimeInput;return u?Se.cloneElement(u,{date:a,value:i,onChange:n.onTimeChange}):Be.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){n.onTimeChange(d.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return Be.createElement("div",{className:"react-datepicker__input-time-container"},Be.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Be.createElement("div",{className:"react-datepicker-time__input-container"},Be.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(Se.Component),hM=(function(r){Es(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=Se.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,s,a=n.key;a===ht.Space&&(n.preventDefault(),n.key=ht.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,n)},t.isSameDay=function(n){return On(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),fa(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Oy(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return On(t.props.day,tu(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&On(n,tu(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,s=n.highlightDates;if(!s)return!1;var a=Br(i,"MM.dd.yyyy");return s.get(a)},t.getHolidaysClass=function(){var n,i=t.props,s=i.day,a=i.holidays;if(!a)return[void 0];var c=Br(s,"MM.dd.yyyy");return a.has(c)?[(n=a.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,s=n.startDate,a=n.endDate;return!s||!a?!1:Ru(i,s,a)},t.isInSelectingRange=function(){var n,i=t.props,s=i.day,a=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,d=i.selectsDisabledDaysInRange,f=i.startDate,w=i.swapRange,x=i.endDate,g=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;if(t.isAfterMonth()||t.isBeforeMonth()||!(a||c||u)||!g||!d&&t.isDisabled())return!1;if(a&&x&&(fl(g,x)||zu(g,x)))return Ru(s,g,x);if(c&&f&&(nc(g,f)||zu(g,f)))return Ru(s,f,g);if(u&&f&&!x){if(zu(g,f)||nc(g,f))return Ru(s,f,g);if(w&&fl(g,f))return Ru(s,g,f)}return!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.startDate,c=i.selectsStart,u=i.swapRange,d=i.selectsRange,f=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?On(s,f):d&&u&&a&&f?On(s,fl(f,a)?f:a):On(s,a)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.endDate,c=i.selectsEnd,u=i.selectsRange,d=i.swapRange,f=i.startDate,w=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?On(s,w):u&&d&&f&&w?On(s,fl(w,f)?f:w):u?On(s,w):On(s,a)},t.isRangeStart=function(){var n=t.props,i=n.day,s=n.startDate,a=n.endDate;return!s||!a?!1:On(s,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,s=n.startDate,a=n.endDate;return!s||!a?!1:On(a,i)},t.isWeekend=function(){var n=r6(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Io(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Io(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Qn())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return Ji("react-datepicker__day",i,"react-datepicker__day--"+QR(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,s=n.ariaLabelPrefixWhenEnabled,a=s===void 0?"Choose":s,c=n.ariaLabelPrefixWhenDisabled,u=c===void 0?"Not available":c,d=t.isDisabled()||t.isExcluded()?u:a;return"".concat(d," ").concat(Br(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,s=n.holidays,a=s===void 0?new Map:s,c=n.excludeDates,u=Br(i,"MM.dd.yyyy"),d=[];return a.has(u)&&d.push.apply(d,a.get(u).holidayNames),t.isExcluded()&&d.push(c?.filter(function(f){return f instanceof Date?On(f,i):On(f?.date,i)}).map(function(f){if(!(f instanceof Date))return f?.message})),d.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&On(i,n))?0:-1;return s},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(P5(t.props.day),t.props.day):P5(t.props.day)},t.render=function(){return Be.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Be.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(Se.Component),fM=(function(r){Es(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=Se.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,s,a=n.key;a===ht.Space&&(n.preventDefault(),n.key=ht.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!On(t.props.date,t.props.selected)&&On(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||On(t.props.date,t.props.selected)&&On(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!n?.isInputFocused&&On(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,s=t.ariaLabelPrefix,a=s===void 0?e.defaultProps.ariaLabelPrefix:s,c=t.onClick,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&On(this.props.date,this.props.selected)};return Be.createElement("div",{ref:this.weekNumberEl,className:Ji(u),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(Se.Component),pM=(function(r){Es(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return fa(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,s){for(var a,c,u,d=new Date(n),f=0;f<7;f++){var w=new Date(n);w.setDate(w.getDate()+f);var x=!t.isDisabled(w);if(x){d=w;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,s),t.props.showWeekPicker&&t.handleDayClick(d,s),((a=t.props.shouldCloseOnSelect)!==null&&a!==void 0?a:e.defaultProps.shouldCloseOnSelect)&&((u=(c=t.props).setOpen)===null||u===void 0||u.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):KR(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=Fa(n,6),s=new Date(n);s<=i;){if(!t.isDisabled(s))return!1;s=Fa(s,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],s=t.formatWeekNumber(n);if(t.props.showWeekNumber){var a=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,s):void 0;i.push(Be.createElement(fM,An({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:a})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var u=Fa(n,c);return Be.createElement(hM,An({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:t.handleDayClick.bind(t,u),onMouseEnter:t.handleDayMouseEnter.bind(t,u)}))}))},t.startOfWeek=function(){return tu(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!On(t.startOfWeek(),t.props.selected)&&On(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":On(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return Be.createElement("div",{className:Ji(t,n),role:"row"},this.renderDays())},e})(Se.Component),lf,mM=6,eh={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},sv=(lf={},lf[eh.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},lf[eh.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},lf[eh.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},lf),Jp=1;function sb(r,e){return r?eh.FOUR_COLUMNS:e?eh.TWO_COLUMNS:eh.THREE_COLUMNS}var gM=(function(r){Es(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=pl([],Array(12),!0).map(function(){return Se.createRef()}),t.QUARTER_REFS=pl([],Array(4),!0).map(function(){return Se.createRef()}),t.isDisabled=function(n){return fa(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(n){return Oy(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var s,a;(a=(s=t.props).onDayClick)===null||a===void 0||a.call(s,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,s;(s=(i=t.props).onDayMouseEnter)===null||s===void 0||s.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate;return!a||!c?!1:ao(qo(s,n),a)},t.isRangeStartQuarter=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate;return!a||!c?!1:s0(zd(s,n),a)},t.isRangeEndMonth=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate;return!a||!c?!1:ao(qo(s,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate;return!a||!c?!1:s0(zd(s,n),c)},t.isInSelectingRangeMonth=function(n){var i,s=t.props,a=s.day,c=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,f=s.startDate,w=s.endDate,x=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||u||d)||!x?!1:c&&w?Gp(x,w,n,a):u&&f||d&&f&&!w?Gp(f,x,n,a):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,a=s.day,c=s.startDate,u=s.selectsStart,d=qo(a,n),f=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u?ao(d,f):ao(d,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,a=s.day,c=s.endDate,u=s.selectsEnd,d=s.selectsRange,f=qo(a,n),w=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u||d?ao(f,w):ao(f,c)},t.isInSelectingRangeQuarter=function(n){var i,s=t.props,a=s.day,c=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,f=s.startDate,w=s.endDate,x=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||u||d)||!x?!1:c&&w?Xp(x,w,n,a):u&&f||d&&f&&!w?Xp(f,x,n,a):!1},t.isWeekInMonth=function(n){var i=t.props.day,s=Fa(n,6);return ao(n,i)||ao(s,i)},t.isCurrentMonth=function(n,i){return Rn(n)===Rn(Qn())&&i===Io(Qn())},t.isCurrentQuarter=function(n,i){return Rn(n)===Rn(Qn())&&i===$c(Qn())},t.isSelectedMonth=function(n,i,s){return Io(s)===i&&Rn(n)===Rn(s)},t.isSelectMonthInList=function(n,i,s){return s.some(function(a){return t.isSelectedMonth(n,i,a)})},t.isSelectedQuarter=function(n,i,s){return $c(s)===i&&Rn(n)===Rn(s)},t.isSelectQuarterInList=function(n,i,s){return s.some(function(a){return t.isSelectedQuarter(n,i,a)})},t.isMonthSelected=function(){var n=t.props,i=n.day,s=n.selected,a=n.selectedDates,c=n.selectsMultiple,u=Io(i);return c?a?.some(function(d){return t.isSelectedMonth(i,u,d)}):!!s&&t.isSelectedMonth(i,u,s)},t.isQuarterSelected=function(){var n=t.props,i=n.day,s=n.selected,a=n.selectedDates,c=n.selectsMultiple,u=$c(i);return c?a?.some(function(d){return t.isSelectedQuarter(i,u,d)}):!!s&&t.isSelectedQuarter(i,u,s)},t.renderWeeks=function(){if(!Co(t.props.day))return[];for(var n=[],i=t.props.fixedHeight,s=0,a=!1,c=tu(rc(t.props.day),t.props.locale,t.props.calendarStartDay),u=function(A){return t.props.showWeekPicker?tu(A,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(A){return t.props.showWeekPicker?tu(A,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,w=t.props.preSelection?u(t.props.preSelection):void 0;n.push(Be.createElement(pM,An({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:c,month:Io(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:w,showWeekNumber:t.props.showWeekNumbers}))),!a;){s++,c=Km(c,1);var x=i&&s>=mM,g=!i&&!t.isWeekInMonth(c);if(x||g)if(t.props.peekNextMonth)a=!0;else break}return n},t.onMonthClick=function(n,i){var s=t.isMonthDisabledForLabelDate(i),a=s.isDisabled,c=s.labelDate;a||t.handleDayClick(rc(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),s=i.isDisabled,a=i.labelDate;s||t.handleDayMouseEnter(rc(a))},t.handleMonthNavigation=function(n,i){var s,a,c,u;(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(u=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()},t.handleKeyboardNavigation=function(n,i,s){var a,c=t.props,u=c.selected,d=c.preSelection,f=c.setPreSelection,w=c.minDate,x=c.maxDate,g=c.showFourColumnMonthYearPicker,A=c.showTwoColumnMonthYearPicker;if(d){var R=sb(g,A),P=t.getVerticalOffset(R),L=(a=sv[R])===null||a===void 0?void 0:a.grid,V=function(W,O,C){var j,N,k=O,D=C;switch(W){case ht.ArrowRight:k=Ua(O,Jp),D=C===11?0:C+Jp;break;case ht.ArrowLeft:k=Wu(O,Jp),D=C===0?11:C-Jp;break;case ht.ArrowUp:k=Wu(O,P),D=!((j=L?.[0])===null||j===void 0)&&j.includes(C)?C+12-P:C-P;break;case ht.ArrowDown:k=Ua(O,P),D=!((N=L?.[L.length-1])===null||N===void 0)&&N.includes(C)?C-12+P:C+P;break}return{newCalculatedDate:k,newCalculatedMonth:D}},U=function(W,O,C){for(var j=40,N=W,k=!1,D=0,X=V(N,O,C),ue=X.newCalculatedDate,ge=X.newCalculatedMonth;!k;){if(D>=j){ue=O,ge=C;break}if(w&&ue<w){N=ht.ArrowRight;var me=V(N,ue,ge);ue=me.newCalculatedDate,ge=me.newCalculatedMonth}if(x&&ue>x){N=ht.ArrowLeft;var me=V(N,ue,ge);ue=me.newCalculatedDate,ge=me.newCalculatedMonth}if(rM(ue,t.props)){var me=V(N,ue,ge);ue=me.newCalculatedDate,ge=me.newCalculatedMonth}else k=!0;D++}return{newCalculatedDate:ue,newCalculatedMonth:ge}};if(i===ht.Enter){t.isMonthDisabled(s)||(t.onMonthClick(n,s),f?.(u));return}var z=U(i,d,s),ne=z.newCalculatedDate,ce=z.newCalculatedMonth;switch(i){case ht.ArrowRight:case ht.ArrowLeft:case ht.ArrowUp:case ht.ArrowDown:t.handleMonthNavigation(ce,ne);break}}},t.getVerticalOffset=function(n){var i,s;return(s=(i=sv[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(n,i){var s=t.props,a=s.disabledKeyboardNavigation,c=s.handleOnMonthKeyDown,u=n.key;u!==ht.Tab&&n.preventDefault(),a||t.handleKeyboardNavigation(n,u,i),c&&c(n)},t.onQuarterClick=function(n,i){var s=zd(t.props.day,i);Kp(s,t.props)||t.handleDayClick($5(s),n)},t.onQuarterMouseEnter=function(n){var i=zd(t.props.day,n);Kp(i,t.props)||t.handleDayMouseEnter($5(i))},t.handleQuarterNavigation=function(n,i){var s,a,c,u;t.isDisabled(i)||t.isExcluded(i)||((a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(u=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())},t.onQuarterKeyDown=function(n,i){var s,a,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case ht.Enter:t.onQuarterClick(n,i),(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,t.props.selected);break;case ht.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,ky(t.props.preSelection,1));break;case ht.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,fk(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,s=t.props,a=s.day,c=s.disabled,u=s.minDate,d=s.maxDate,f=s.excludeDates,w=s.includeDates,x=qo(a,n);return c?{isDisabled:!0,labelDate:qo(a,n)}:{isDisabled:(i=(u||d||f||w)&&Tk(x,t.props))!==null&&i!==void 0?i:!1,labelDate:x}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate,u=i.preSelection,d=i.monthClassName,f=d?d(qo(s,n)):void 0,w=t.getSelection();return Ji("react-datepicker__month-text","react-datepicker__month-".concat(n),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":w?t.isSelectMonthInList(s,n,w):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&u&&t.isSelectedMonth(s,n,u)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":a&&c?Gp(a,c,n,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(s,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Io(t.props.preSelection),s=t.isMonthDisabledForLabelDate(i).isDisabled,a=n===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=$c(t.props.preSelection),s=Kp(t.props.day,t.props),a=n===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getAriaLabel=function(n){var i=t.props,s=i.chooseDayAriaLabelPrefix,a=s===void 0?"Choose":s,c=i.disabledDayAriaLabelPrefix,u=c===void 0?"Not available":c,d=i.day,f=i.locale,w=qo(d,n),x=t.isDisabled(w)||t.isExcluded(w)?u:a;return"".concat(x," ").concat(Br(w,"MMMM yyyy",f))},t.getQuarterClassNames=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate,u=i.minDate,d=i.maxDate,f=i.excludeDates,w=i.includeDates,x=i.filterDate,g=i.preSelection,A=i.disabledKeyboardNavigation,R=i.disabled,P=(u||d||f||w||x||R)&&Kp(zd(s,n),t.props),L=t.getSelection();return Ji("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":P,"react-datepicker__quarter-text--selected":L?t.isSelectQuarterInList(s,n,L):void 0,"react-datepicker__quarter-text--keyboard-selected":!A&&g&&t.isSelectedQuarter(s,n,g)&&!t.isQuarterSelected()&&!P,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":a&&c?Xp(a,c,n,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,n)})},t.getMonthContent=function(n){var i=t.props,s=i.showFullMonthYearPicker,a=i.renderMonthContent,c=i.locale,u=i.day,d=Ik(n,c),f=My(n,c);return a?a(n,d,f,u):s?f:d},t.getQuarterContent=function(n){var i,s=t.props,a=s.renderQuarterContent,c=s.locale,u=nM(n,c);return(i=a?.(n,u))!==null&&i!==void 0?i:u},t.renderMonths=function(){var n,i=t.props,s=i.showTwoColumnMonthYearPicker,a=i.showFourColumnMonthYearPicker,c=i.day,u=i.selected,d=(n=sv[sb(a,s)])===null||n===void 0?void 0:n.grid;return d?.map(function(f,w){return Be.createElement("div",{className:"react-datepicker__month-wrapper",key:w},f.map(function(x,g){return Be.createElement("div",{ref:t.MONTH_REFS[x],key:g,onClick:function(A){t.onMonthClick(A,x)},onKeyDown:function(A){Rk(A)&&(A.preventDefault(),A.key=ht.Enter),t.onMonthKeyDown(A,x)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(x)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(x)}:void 0,tabIndex:Number(t.getTabIndex(x)),className:t.getMonthClassNames(x),"aria-disabled":t.isMonthDisabled(x),role:"option","aria-label":t.getAriaLabel(x),"aria-current":t.isCurrentMonth(c,x)?"date":void 0,"aria-selected":u?t.isSelectedMonth(c,x,u):void 0},t.getMonthContent(x))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,s=n.selected,a=[1,2,3,4];return Be.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(c,u){return Be.createElement("div",{key:u,ref:t.QUARTER_REFS[u],role:"option",onClick:function(d){t.onQuarterClick(d,c)},onKeyDown:function(d){t.onQuarterKeyDown(d,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":s?t.isSelectedQuarter(i,c,s):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,s=n.selectsStart,a=n.selectsEnd,c=n.showMonthYearPicker,u=n.showQuarterYearPicker,d=n.showWeekPicker;return Ji("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||a)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":d})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,s=t.selectsMultiple;if(s)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,s=t.day,a=t.ariaLabelPrefix,c=a===void 0?"Month ":a,u=c?c.trim()+" ":"",d=Co(s)?"".concat(u).concat(Br(s,"MMMM, yyyy",this.props.locale)):"",f=n||i;return f?Be.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":d,role:"listbox"},n?this.renderMonths():this.renderQuarters()):Be.createElement("div",{role:"table"},this.props.dayNamesHeader&&Be.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&Be.createElement("div",{role:"rowgroup"},this.props.monthHeader),Be.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":d,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&Be.createElement("div",{role:"rowgroup"},this.props.monthFooter))},e})(Se.Component),vM=(function(r){Es(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(n){return t.props.month===n},t.handleOptionKeyDown=function(n,i){var s;switch(i.key){case"Enter":i.preventDefault(),t.onChange(n);break;case"Escape":i.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var a=(n+(i.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(s=t.monthOptionButtonsRef[a])===null||s===void 0||s.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(n,i){return Be.createElement("div",{ref:function(s){t.monthOptionButtonsRef[i]=s,t.isSelectedMonth(i)&&s?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),onKeyDown:t.handleOptionKeyDown.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?Be.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return Be.createElement(U0,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(Se.Component),yM=(function(r){Es(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,s){return Be.createElement("option",{key:i,value:s},i)})},t.renderSelectMode=function(n){return Be.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return Be.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Be.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Be.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return Be.createElement(vM,An({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,s=[t.renderReadView(!i,n)];return i&&s.unshift(t.renderDropdown(n)),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return Ik(s,t.props.locale)}:function(s){return My(s,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return Be.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e})(Se.Component),ob=5;function wM(r,e,t){for(var n=[],i=r??ou(t,ob),s=e??Ba(t,ob),a=rc(i),c=rc(s);!nc(a,c);)n.push(Qn(a)),a=Ua(a,1);return n}var bM=(function(r){Es(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var s=a1(i),a=ll(n.props.date,i)&&ao(n.props.date,i);return Be.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":a?"true":void 0},a?Be.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Br(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:wM(n.props.minDate,n.props.maxDate,n.props.date)},n}return e.prototype.render=function(){var t=Ji({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Be.createElement(U0,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(Se.Component),ab=5,xM=(function(r){Es(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n,i,s=(n=t.props.minDate)!==null&&n!==void 0?n:ou(t.props.date,ab),a=(i=t.props.maxDate)!==null&&i!==void 0?i:Ba(t.props.date,ab),c=rc(s),u=rc(a),d=[];!nc(c,u);){var f=a1(c);d.push(Be.createElement("option",{key:f,value:f},Br(c,t.props.dateFormat,t.props.locale))),c=Ua(c,1)}return d},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return Be.createElement("select",{value:a1(rc(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=Br(t.props.date,t.props.dateFormat,t.props.locale);return Be.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Be.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Be.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return Be.createElement(bM,An({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=Qn(n);ll(t.props.date,i)&&ao(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Be.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(Se.Component),_M=(function(r){Es(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(n){var i,s;(t.props.minTime||t.props.maxTime)&&X5(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Q5(n,t.props)||(s=(i=t.props).onChange)===null||s===void 0||s.call(i,n)},t.isSelectedTime=function(n){var i=Uu(t.props.selected);return i&&Lk(i,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&X5(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Q5(n,t.props)},t.liClasses=function(n){var i,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Ws(n)*3600+$s(n)*60+eu(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(n,i){var s,a;n.key===ht.Space&&(n.preventDefault(),n.key=ht.Enter),(n.key===ht.ArrowUp||n.key===ht.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ht.ArrowDown||n.key===ht.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ht.Enter&&t.handleClick(i),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,n)},t.renderTimes=function(){for(var n,i=[],s=typeof t.props.format=="string"?t.props.format:"p",a=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=Uu(t.props.selected)||Uu(t.props.openToDate)||Qn(),u=vf(c),d=t.props.injectTimes&&t.props.injectTimes.sort(function(P,L){return P.getTime()-L.getTime()}),f=60*dM(c),w=f/a,x=0;x<w;x++){var g=jf(u,x*a);if(i.push(g),d){var A=uM(u,g,x,a,d);i=i.concat(A)}}var R=i.reduce(function(P,L){return L.getTime()<=c.getTime()?L:P},i[0]);return i.map(function(P){return Be.createElement("li",{key:P.valueOf(),onClick:t.handleClick.bind(t,P),className:t.liClasses(P),ref:function(L){P===R&&(t.centerLi=L)},onKeyDown:function(L){t.handleOnKeyDown(L,P)},tabIndex:P===R?0:-1,role:"option","aria-selected":t.isSelectedTime(P)?"true":void 0,"aria-disabled":t.isDisabledTime(P)?"true":void 0},Br(P,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Be.createElement(Be.Fragment,null):Be.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},Be.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var t=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==t&&this.setState({height:t})}},e.prototype.render=function(){var t=this,n,i=this.state.height;return Be.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Be.createElement("div",{className:"react-datepicker__time"},Be.createElement("div",{className:"react-datepicker__time-box"},Be.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e})(Se.Component),lb=3,SM=(function(r){Es(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=pl([],Array(n.props.yearItemNumber),!0).map(function(){return Se.createRef()}),n.isDisabled=function(i){return fa(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return Oy(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var s=function(){var a,c;(c=(a=n.YEAR_REFS[i])===null||a===void 0?void 0:a.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(i,s){n.props.onDayClick&&n.props.onDayClick(i,s)},n.handleYearNavigation=function(i,s){var a,c,u,d,f=n.props,w=f.date,x=f.yearItemNumber;if(!(w===void 0||x===void 0)){var g=ec(w,x).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((c=(a=n.props).setPreSelection)===null||c===void 0||c.call(a,s),i-g<0?n.updateFocusOnPaginate(x-(g-i)):i-g>=x?n.updateFocusOnPaginate(Math.abs(x-(i-g))):(d=(u=n.YEAR_REFS[i-g])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())}},n.isSameDay=function(i,s){return On(i,s)},n.isCurrentYear=function(i){return i===Rn(Qn())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&ll(al(Qn(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&ll(al(Qn(),i),n.props.endDate)},n.isInRange=function(i){return Qp(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var s=n.props,a=s.selectsStart,c=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate;return!(a||c||u)||!n.selectingDate()?!1:a&&f?Qp(i,n.selectingDate(),f):c&&d||u&&d&&!f?Qp(i,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var s;if(!n.isInSelectingRange(i))return!1;var a=n.props,c=a.startDate,u=a.selectsStart,d=al(Qn(),i);return u?ll(d,(s=n.selectingDate())!==null&&s!==void 0?s:null):ll(d,c??null)},n.isSelectingRangeEnd=function(i){var s;if(!n.isInSelectingRange(i))return!1;var a=n.props,c=a.endDate,u=a.selectsEnd,d=a.selectsRange,f=al(Qn(),i);return u||d?ll(f,(s=n.selectingDate())!==null&&s!==void 0?s:null):ll(f,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var s=n.props,a=s.minDate,c=s.maxDate,u=s.excludeDates,d=s.includeDates,f=s.filterDate,w=s.selected,x=yf(al(n.props.date,i)),g=(a||c||u||d||f)&&Sm(i,n.props),A=!!w&&On(x,yf(w)),R=On(x,yf(n.props.preSelection));return!n.props.inline&&!A&&R&&!g}},n.isSelectedYear=function(i){var s=n.props,a=s.selectsMultiple,c=s.selected,u=s.selectedDates;return a?u?.some(function(d){return i===Rn(d)}):!!c&&i===Rn(c)},n.onYearClick=function(i,s){var a=n.props.date;a!==void 0&&n.handleYearClick(yf(al(a,s)),i)},n.onYearKeyDown=function(i,s){var a,c,u=i.key,d=n.props,f=d.date,w=d.yearItemNumber,x=d.handleOnKeyDown;if(u!==ht.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(u){case ht.Enter:if(n.props.selected==null)break;n.onYearClick(i,s),(c=(a=n.props).setPreSelection)===null||c===void 0||c.call(a,n.props.selected);break;case ht.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,Ba(n.props.preSelection,1));break;case ht.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,ou(n.props.preSelection,1));break;case ht.ArrowUp:{if(f===void 0||w===void 0||n.props.preSelection==null)break;var g=ec(f,w).startPeriod,A=lb,R=s-A;if(R<g){var P=w%A;s>=g&&s<g+P?A=P:A+=P,R=s-A}n.handleYearNavigation(R,ou(n.props.preSelection,A));break}case ht.ArrowDown:{if(f===void 0||w===void 0||n.props.preSelection==null)break;var L=ec(f,w).endPeriod,A=lb,R=s+A;if(R>L){var P=w%A;s<=L&&s>L-P?A=P:A+=P,R=s+A}n.handleYearNavigation(R,Ba(n.props.preSelection,A));break}}x&&x(i)},n.getYearClassNames=function(i){var s=n.props,a=s.date,c=s.disabled,u=s.minDate,d=s.maxDate,f=s.excludeDates,w=s.includeDates,x=s.filterDate,g=s.yearClassName;return Ji("react-datepicker__year-text","react-datepicker__year-".concat(i),a?g?.(al(a,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(u||d||f||w||x||c)&&Sm(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=Rn(n.props.preSelection),a=Sm(i,n.props);return i===s&&!a?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,s=i.date,a=i.yearItemNumber,c=i.onYearMouseEnter,u=i.onYearMouseLeave;if(s===void 0)return null;for(var d=ec(s,a),f=d.startPeriod,w=d.endPeriod,x=function(R){n.push(Be.createElement("div",{ref:g.YEAR_REFS[R-f],onClick:function(P){t.onYearClick(P,R)},onKeyDown:function(P){Rk(P)&&(P.preventDefault(),P.key=ht.Enter),t.onYearKeyDown(P,R)},tabIndex:Number(g.getYearTabIndex(R)),className:g.getYearClassNames(R),onMouseEnter:g.props.usePointerEvent?void 0:function(P){return c(P,R)},onPointerEnter:g.props.usePointerEvent?function(P){return c(P,R)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(P){return u(P,R)},onPointerLeave:g.props.usePointerEvent?function(P){return u(P,R)}:void 0,key:R,"aria-current":g.isCurrentYear(R)?"date":void 0},g.getYearContent(R)))},g=this,A=f;A<=w;A++)x(A);return Be.createElement("div",{className:"react-datepicker__year"},Be.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(Se.Component);function kM(r,e,t,n){for(var i=[],s=0;s<2*e+1;s++){var a=r+e-s,c=!0;t&&(c=Rn(t)<=a),n&&c&&(c=Rn(n)>=a),c&&i.push(a)}return i}var EM=(function(r){Es(e,r);function e(t){var n=r.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(c,u){var d;switch(u.key){case"Enter":u.preventDefault(),n.onChange(c);break;case"Escape":u.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{u.preventDefault();var f=c+(u.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[f]&&((d=n.yearOptionButtonsRef[f])===null||d===void 0||d.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var c=n.props.year,u=n.state.yearsList.map(function(w){return Be.createElement("div",{ref:function(x){n.yearOptionButtonsRef[w]=x,w===c&&x?.focus()},role:"button",tabIndex:0,className:c===w?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:w,onClick:n.onChange.bind(n,w),onKeyDown:n.handleOptionKeyDown.bind(n,w),"aria-selected":c===w?"true":void 0},c===w?Be.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",w)}),d=n.props.minDate?Rn(n.props.minDate):null,f=n.props.maxDate?Rn(n.props.maxDate):null;return(!f||!n.state.yearsList.find(function(w){return w===f}))&&u.unshift(Be.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},Be.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(w){return w===d}))&&u.push(Be.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},Be.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var u=n.state.yearsList.map(function(d){return d+c});n.setState({yearsList:u})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,a=i||(s?10:5);return n.state={yearsList:kM(n.props.year,a,n.props.minDate,n.props.maxDate)},n.dropdownRef=Se.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(s){return s.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Ji({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Be.createElement(U0,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(Se.Component),NM=(function(r){Es(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Rn(t.props.minDate):1900,i=t.props.maxDate?Rn(t.props.maxDate):2100,s=[],a=n;a<=i;a++)s.push(Be.createElement("option",{key:a,value:a},a));return s},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return Be.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return Be.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},Be.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Be.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Be.createElement(EM,An({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var s;(s=t.onSelect)===null||s===void 0||s.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var s,a;(a=(s=t.props).onSelect)===null||a===void 0||a.call(s,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Be.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(Se.Component),CM=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Mk="react-datepicker-ignore-onclickoutside",AM=function(r){var e=(r.className||"").split(/\s+/);return CM.some(function(t){return e.indexOf(t)>=0})},IM=(function(r){Es(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var s,a;AM(i.target)&&((a=(s=n.props).onDropdownFocus)===null||a===void 0||a.call(s,i))},n.getDateInView=function(){var i=n.props,s=i.preSelection,a=i.selected,c=i.openToDate,u=Pk(n.props),d=Dk(n.props),f=Qn(),w=c||a||s;return w||(u&&fl(f,u)?u:d&&nc(f,d)?d:f)},n.increaseMonth=function(){n.setState(function(i){var s=i.date;return{date:Ua(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var s=i.date;return{date:Wu(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,s,a){n.props.onSelect(i,s,a),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,s){n.setState({selectingDate:al(Qn(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,s)},n.handleYearMouseLeave=function(i,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,s)},n.handleYearChange=function(i){var s,a,c,u;(a=(s=n.props).onYearChange)===null||a===void 0||a.call(s,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!fa(i,n.props))return i;for(var s=rc(i),a=JR(i),c=aD(a,s),u=null,d=0;d<=c;d++){var f=Fa(s,d);if(!fa(f,n.props)){u=f;break}}return u},n.handleMonthChange=function(i){var s,a,c,u=(s=n.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;n.handleCustomMonthChange(u),n.props.adjustDateOnChange&&(n.props.onSelect(u),(c=(a=n.props).setOpen)===null||c===void 0||c.call(a,!0)),n.props.setPreSelection&&n.props.setPreSelection(u)},n.handleCustomMonthChange=function(i){var s,a;(a=(s=n.props).onMonthChange)===null||a===void 0||a.call(s,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(s){var a=s.date;return{date:al(a,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(s){var a=s.date;return{date:qo(a,Number(i))}},function(){var s,a;n.handleMonthChange(n.state.date),(a=(s=n.props).onMonthSelectedInChange)===null||a===void 0||a.call(s,0)})},n.changeMonthYear=function(i){n.setState(function(s){var a=s.date;return{date:al(qo(a,Io(i)),Rn(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i,s){if(i===void 0&&(i=n.state.date),s===void 0&&(s=0),!Co(i))return[];var a=n.props.disabled,c=tu(i,n.props.locale,n.props.calendarStartDay),u=[];return n.props.showWeekNumbers&&u.push(Be.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(a?"react-datepicker__day-name--disabled":""),role:"columnheader"},Be.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),Be.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),u.concat([0,1,2,3,4,5,6].map(function(d){var f=Fa(c,d),w=n.formatWeekday(f,n.props.locale),x=Br(f,"EEEE",n.props.locale),g=n.props.weekDayClassName?n.props.weekDayClassName(f):void 0;if(n.props.renderCustomDayName){var A=n.props.renderCustomDayName({day:f,shortName:w,fullName:x,locale:n.props.locale,customDayNameCount:s});return Be.createElement("div",{key:d,role:"columnheader",className:Ji("react-datepicker__day-name",g,a?"react-datepicker__day-name--disabled":"")},A)}return Be.createElement("div",{key:d,role:"columnheader",className:Ji("react-datepicker__day-name",g,a?"react-datepicker__day-name--disabled":"")},Be.createElement("span",{className:"react-datepicker__sr-only"},x),Be.createElement("span",{"aria-hidden":"true"},w))}))},n.formatWeekday=function(i,s){return n.props.formatWeekDay?ZR(i,n.props.formatWeekDay,s):n.props.useWeekdaysShort?tM(i,s):eM(i,s)},n.decreaseYear=function(){n.setState(function(i){var s,a=i.date;return{date:ou(a,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,s,a;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,u=n.props.showPreviousMonths?c-1:0,d=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:u,f=Wu(n.state.date,d),w;switch(!0){case n.props.disabled:w=!0;break;case n.props.showMonthYearPicker:w=eb(n.state.date,n.props);break;case n.props.showYearPicker:w=oM(n.state.date,n.props);break;case n.props.showQuarterYearPicker:w=iM(n.state.date,n.props);break;default:w=J5(f,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&w||n.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],A=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(A=n.decreaseYear),w&&n.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),A=void 0);var R=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,P=n.props,L=P.previousMonthButtonLabel,V=L===void 0?e.defaultProps.previousMonthButtonLabel:L,U=P.previousYearButtonLabel,z=U===void 0?e.defaultProps.previousYearButtonLabel:U,ne=n.props,ce=ne.previousMonthAriaLabel,W=ce===void 0?typeof V=="string"?V:"Previous Month":ce,O=ne.previousYearAriaLabel,C=O===void 0?typeof z=="string"?z:"Previous Year":O;return Be.createElement("button",{type:"button",className:g.join(" "),onClick:A,onKeyDown:n.props.handleOnKeyDown,"aria-label":R?C:W},Be.createElement("span",{className:x.join(" ")},R?z:V))}}},n.increaseYear=function(){n.setState(function(i){var s,a=i.date;return{date:Ba(a,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.disabled:s=!0;break;case n.props.showMonthYearPicker:s=tb(n.state.date,n.props);break;case n.props.showYearPicker:s=aM(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=sM(n.state.date,n.props);break;default:s=Z5(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var u=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(u=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),u=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,f=n.props,w=f.nextMonthButtonLabel,x=w===void 0?e.defaultProps.nextMonthButtonLabel:w,g=f.nextYearButtonLabel,A=g===void 0?e.defaultProps.nextYearButtonLabel:g,R=n.props,P=R.nextMonthAriaLabel,L=P===void 0?typeof x=="string"?x:"Next Month":P,V=R.nextYearAriaLabel,U=V===void 0?typeof A=="string"?A:"Next Year":V;return Be.createElement("button",{type:"button",className:a.join(" "),onClick:u,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?U:L},Be.createElement("span",{className:c.join(" ")},d?A:x))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),Be.createElement("h2",{className:s.join(" ")},Co(i)?Br(i,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return Be.createElement(NM,An({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Rn(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return Be.createElement(yM,An({},e.defaultProps,n.props,{month:Io(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return Be.createElement(xM,An({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(Y5(),i),n.props.setPreSelection&&n.props.setPreSelection(Y5())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return Be.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(i,s){return s===void 0&&(s=0),Be.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(i,s))},n.renderDefaultHeader=function(i){var s=i.monthDate,a=i.i,c=Be.createElement("div",{className:Ji("react-datepicker__header",{"react-datepicker__header--has-time-select":n.props.showTimeSelect,"react-datepicker__header--middle":n.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":n.props.monthHeaderPosition==="bottom"})},n.renderCurrentMonth(s),Be.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(a!==0),n.renderMonthYearDropdown(a!==0),n.renderYearDropdown(a!==0)));return n.props.monthHeaderPosition==="top"?c:Be.createElement("div",{className:"react-datepicker__header-wrapper"},n.renderPreviousButton()||null,n.renderNextButton()||null,c)},n.renderCustomHeader=function(i){var s,a,c=i.monthDate,u=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=n.props,f=d.showYearPicker,w=d.yearItemNumber,x;if(f){var g=ec(c,w),A=g.startPeriod,R=g.endPeriod;x={startYear:A,endYear:R}}var P=J5(n.state.date,n.props),L=Z5(n.state.date,n.props),V=eb(n.state.date,n.props),U=tb(n.state.date,n.props);return Be.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(a=(s=n.props).renderCustomHeader)===null||a===void 0?void 0:a.call(s,An(An(An({},n.state),f&&{visibleYearsRange:x}),{customHeaderCount:u,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:P,nextMonthButtonDisabled:L,prevYearButtonDisabled:V,nextYearButtonDisabled:U})))},n.renderYearHeader=function(i){var s=i.monthDate,a=n.props,c=a.showYearPicker,u=a.yearItemNumber,d=u===void 0?e.defaultProps.yearItemNumber:u,f=ec(s,d),w=f.startPeriod,x=f.endPeriod;return Be.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(w," - ").concat(x):Rn(s))},n.renderHeader=function(i){var s=i.monthDate,a=i.i,c=a===void 0?0:a,u={monthDate:s,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(u);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(u);default:return n.renderDefaultHeader(u)}},n.renderMonths=function(){var i,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var a=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,u=n.props.showPreviousMonths?c-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ba(n.state.date,u):Wu(n.state.date,u),f=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:u,w=0;w<c;++w){var x=w-f+u,g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ba(d,x):Ua(d,x),A="month-".concat(w),R=w<c-1,P=w>0;a.push(Be.createElement("div",{key:A,ref:function(L){n.monthContainer=L??void 0},className:"react-datepicker__month-container"},n.props.monthHeaderPosition==="top"&&n.renderHeader({monthDate:g,i:w}),Be.createElement(gM,An({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:g,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:w,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:R,monthShowsDuplicateDaysStart:P,dayNamesHeader:n.renderDayNamesHeader(g,w),monthHeader:n.props.monthHeaderPosition==="middle"?n.renderHeader({monthDate:g,i:w}):void 0,monthFooter:n.props.monthHeaderPosition==="bottom"?n.renderHeader({monthDate:g,i:w}):void 0}))))}return a}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return Be.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),Be.createElement(SM,An({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return Be.createElement(_M,An({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i,s;if(n.props.showTimeInput){if(n.props.selectsRange){var a=n.props,c=a.startDate,u=a.endDate,d=c?new Date(c):void 0,f=d&&Co(d)&&!!c,w=f?"".concat(Ld(d.getHours()),":").concat(Ld(d.getMinutes())):"",x=u?new Date(u):void 0,g=x&&Co(x)&&!!u,A=g?"".concat(Ld(x.getHours()),":").concat(Ld(x.getMinutes())):"";return Be.createElement(Be.Fragment,null,Be.createElement(iv,An({},e.defaultProps,n.props,{date:d,timeString:w,onChange:function(V){var U,z;(z=(U=n.props).onTimeChange)===null||z===void 0||z.call(U,V,"start")},timeInputLabel:((i=n.props.timeInputLabel)!==null&&i!==void 0?i:"Time")+" (Start)"})),Be.createElement(iv,An({},e.defaultProps,n.props,{date:x,timeString:A,onChange:function(V){var U,z;(z=(U=n.props).onTimeChange)===null||z===void 0||z.call(U,V,"end")},timeInputLabel:((s=n.props.timeInputLabel)!==null&&s!==void 0?s:"Time")+" (End)"})))}var R=n.props.selected?new Date(n.props.selected):void 0,P=R&&Co(R)&&!!n.props.selected,L=P?"".concat(Ld(R.getHours()),":").concat(Ld(R.getMinutes())):"";return Be.createElement(iv,An({},e.defaultProps,n.props,{date:R,timeString:L,onChange:function(V){var U,z;(z=(U=n.props).onTimeChange)===null||z===void 0||z.call(U,V)}}))}},n.renderAriaLiveRegion=function(){var i;if(!Co(n.state.date))return Be.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=ec(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),a=s.startPeriod,c=s.endPeriod,u;return n.props.showYearPicker?u="".concat(a," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?u=Rn(n.state.date):u="".concat(My(Io(n.state.date),n.props.locale)," ").concat(Rn(n.state.date)),Be.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&u)},n.renderChildren=function(){if(n.props.children)return Be.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=Se.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:Mk,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:tp,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&Co(this.props.preSelection)&&(!On(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!ao(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!On(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||HR;return Be.createElement(U0,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Be.createElement("div",{style:{display:"contents"},ref:this.containerRef},Be.createElement(t,{className:Ji("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(Se.Component),TM=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return Be.createElement("i",{className:"".concat(s," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(Be.isValidElement(e)){var a=e;return Be.cloneElement(a,{className:"".concat(a.props.className||""," ").concat(s," ").concat(n),onClick:function(c){typeof a.props.onClick=="function"&&a.props.onClick(c),typeof i=="function"&&i(c)}})}return Be.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},Be.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Ok=(function(r){Es(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return XL.createPortal(this.props.children,this.el)},e})(Se.Component),PM="[tabindex], a, button, input, select, textarea",DM=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},jk=(function(r){Es(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(PM),1,-1).filter(DM)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=Se.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?Be.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Be.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Be.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(Se.Component);function LM(r){function e(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=Se.useRef(null),a=qR(An({open:!i,whileElementsMounted:xR,placement:t.popperPlacement,middleware:pl([TR({padding:15}),IR(10),PR({element:s})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=An(An({},t),{hidePopper:i,popperProps:An(An({},a),{arrowRef:s})});return Be.createElement(r,An({},c))}return e.displayName="withFloating(".concat(r.displayName||r.name||"Component",")"),e}var RM=function(r){var e=r.className,t=r.wrapperClassName,n=r.hidePopper,i=n===void 0?!0:n,s=r.popperComponent,a=r.targetComponent,c=r.enableTabLoop,u=r.popperOnKeyDown,d=r.portalId,f=r.portalHost,w=r.popperProps,x=r.showArrow,g=r.popperTargetRef,A=r.monthHeaderPosition;Se.useEffect(function(){g?.current&&w.refs.setPositionReference(g.current)},[g,w.refs]);var R=void 0;if(!i){var P=Ji("react-datepicker-popper",!x&&"react-datepicker-popper-offset",A==="middle"&&"react-datepicker-popper--header-middle",A==="bottom"&&"react-datepicker-popper--header-bottom",e);R=Be.createElement(jk,{enableTabLoop:c},Be.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:P,"data-placement":w.placement,onKeyDown:u},s,x&&Be.createElement(OR,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}r.popperContainer&&(R=Se.createElement(r.popperContainer,{},R)),d&&!i&&(R=Be.createElement(Ok,{portalId:d,portalHost:f},R));var L=Ji("react-datepicker-wrapper",t);return Be.createElement(Be.Fragment,null,Be.createElement("div",{ref:w.refs.setReference,className:L},a),R)},MM=LM(RM);function cb(r,e){return r&&e?Io(r)!==Io(e)||Rn(r)!==Rn(e):r!==e}var ov="Date input not valid.",Rd=(function(r){Es(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){var i=n.props.timeZone,s=n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Qn();return i?W5(s,i):s},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,a){var c=Pu(a.date,"yyyy-MM-dd",void 0,!1);return c?pl(pl([],s,!0),[An(An({},a),{date:c})],!1):s},[])},n.calcInitialState=function(){var i=n.props.timeZone,s=n.getPreSelection(),a=Pk(n.props),c=Dk(n.props),u=a&&fl(s,vf(a))?a:c&&nc(s,G5(c))?c:s,d=n.props.selectsRange?n.props.startDate:n.props.selected;return d&&i&&(d=W5(d,i)),{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:d??u,highlightDates:nb(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var i,s=n.props,a=s.locale,c=s.startDate,u=s.endDate,d=s.rangeSeparator,f=s.selected,w=s.selectedDates,x=s.selectsMultiple,g=s.selectsRange,A=s.formatMultipleDates,R=s.value,P=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,L=n.state.inputValue;if(typeof R=="string")return R;if(typeof L=="string")return L;if(g)return YR(c,u,{dateFormat:P,locale:a,rangeSeparator:d});if(x){if(A){var V=function(U){return No(U,{dateFormat:P,locale:a})};return A(w??[],V)}return GR(w??[],{dateFormat:P,locale:a})}return No(f,{dateFormat:P,locale:a})},n.resetHiddenStatus=function(){n.setState(An(An({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(An(An({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,s;(s=(i=n.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},n.setBlur=function(){var i,s;(s=(i=n.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,s){s===void 0&&(s=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:av},function(){i||n.setState(function(a){return{focused:s?a.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return bl(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var s,a,c=n.state.wasHidden,u=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((a=(s=n.props).onFocus)===null||a===void 0||a.call(s,i),u&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(An(An({},n.state),{inputValue:null}))},n.handleBlur=function(i){var s,a;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((a=(s=n.props).onBlur)===null||a===void 0||a.call(s,i));var c=n.state.inputValue;if(typeof c=="string"&&c.length>0){var u=/[a-zA-Z0-9]/.test(c);!u&&n.props.selected&&n.setSelected(null,void 0,!0)}n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var s,a;(a=(s=n.props).onClickOutside)===null||a===void 0||a.call(s,i),!n.props.inline&&!i.defaultPrevented&&n.setOpen(!1),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,s,a,c,u,d,f,w,x=[],g=0;g<arguments.length;g++)x[g]=arguments[g];var A=x[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,x),!A||typeof A.isDefaultPrevented!="function"||A.isDefaultPrevented()))){n.setState({inputValue:A?.target instanceof HTMLInputElement?A.target.value:null,lastPreSelectChange:OM});var R=n.props,P=R.selectsRange,L=R.startDate,V=R.endDate,U=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,z=(s=n.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,ne=A?.target instanceof HTMLInputElement?A.target.value:"";if(P){var ce=n.props.rangeSeparator,W=ce.trim(),O=ne.split(U.includes(W)?ce:W,2).map(function(me){return me.trim()}),C=O[0],j=O[1],N=Pu(C??"",U,n.props.locale,z),k=N?Pu(j??"",U,n.props.locale,z):null,D=((a=Uu(L))===null||a===void 0?void 0:a.getTime())!==N?.getTime(),X=((c=Uu(V))===null||c===void 0?void 0:c.getTime())!==k?.getTime();if(!D&&!X||N&&fa(N,n.props)||k&&fa(k,n.props))return;N&&n.setState({preSelection:N}),(d=(u=n.props).onChange)===null||d===void 0||d.call(u,[N,k],A)}else{var ue=Pu(ne,U,n.props.locale,z,(f=n.props.selected)!==null&&f!==void 0?f:void 0);if(ue||!ne)n.setSelected(ue,A,!0);else if(!n.props.inline){var ge=$R(ne,(w=n.state.preSelection)!==null&&w!==void 0?w:void 0);ge&&(!n.props.minDate||!fl(ge,n.props.minDate))&&(!n.props.maxDate||!nc(ge,n.props.maxDate))&&n.setState({preSelection:ge})}}}},n.handleSelect=function(i,s,a){var c;if(!n.props.readOnly){var u=n.props,d=u.selectsRange,f=u.startDate,w=u.endDate,x=u.locale,g=u.swapRange,A=(c=n.props.dateFormat)!==null&&c!==void 0?c:e.defaultProps.dateFormat,R=!d||f&&!w&&(g||!rv(i,f));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&R&&n.sendFocusBackToInput(),n.props.onChangeRaw){var P=No(i,{dateFormat:A,locale:x});n.props.onChangeRaw(s,{date:i,formattedDate:P})}n.setSelected(i,s,!1,a),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(i):R&&n.setOpen(!1)}},n.setSelected=function(i,s,a,c){var u,d,f=n.props.timeZone,w=i;if(w&&f&&(w=Wl(w,f)),n.props.showYearPicker){if(w!==null&&Sm(Rn(w),n.props))return}else if(n.props.showMonthYearPicker){if(w!==null&&Tk(w,n.props))return}else if(w!==null&&fa(w,n.props))return;var x=n.props,g=x.onChange,A=x.selectsRange,R=x.startDate,P=x.endDate,L=x.selectsMultiple,V=x.selectedDates,U=x.minTime,z=x.swapRange;if(!zu(n.props.selected,w)||n.props.allowSameDay||A||L)if(w!==null&&(n.props.selected&&(!a||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(w=$l(w,{hour:Ws(n.props.selected),minute:$s(n.props.selected),second:eu(n.props.selected)})),!a&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&U&&(w=$l(w,{hour:U.getHours(),minute:U.getMinutes(),second:U.getSeconds()})),n.props.inline||n.setState({preSelection:w}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),A){var ne=g,ce=!R&&!P,W=R&&!P,O=!R&&!!P,C=R&&P;ce?ne?.([w,null],s):W?w===null?ne?.([null,null],s):rv(w,R)?ne?.(z?[w,R]:[w,null],s):ne?.([R,w],s):O&&(w&&rv(w,P)?ne?.([w,P],s):ne?.([w,null],s)),C&&ne?.([w,null],s)}else if(L){var j=g;if(w!==null)if(!V?.length)j?.([w],s);else{var N=V.some(function(D){return On(D,w)});if(N){var k=V.filter(function(D){return!On(D,w)});j?.(k,s)}else j?.(pl(pl([],V,!0),[w],!1),s)}}else g?.(w,s);a||((d=(u=n.props).onSelect)===null||d===void 0||d.call(u,w,s),n.setState({inputValue:null}))},n.setPreSelection=function(i){if(!n.props.readOnly){var s=bl(n.props.minDate),a=bl(n.props.maxDate),c=!0;if(i){var u=vf(i);if(s&&a)c=Ru(i,n.props.minDate,n.props.maxDate);else if(s){var d=vf(n.props.minDate);c=nc(i,d)||zu(u,d)}else if(a){var f=G5(n.props.maxDate);c=fl(i,f)||zu(u,f)}}c&&n.setState({preSelection:i})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i,s){var a,c;if(!n.props.selectsMultiple){var u=n.props,d=u.selectsRange,f=u.startDate,w=u.endDate,x=u.onChange,g=u.timeZone;if(d){var A=x;if(s==="start"){if(f){var R=$l(f,{hour:Ws(i),minute:$s(i)});n.setState({preSelection:R}),g&&(R=Wl(R,g)),A?.([R,w?g?Wl(w,g):w:null],void 0)}}else if(s==="end"){if(w){var P=$l(w,{hour:Ws(i),minute:$s(i)});n.setState({preSelection:P}),g&&(P=Wl(P,g)),A?.([f?g?Wl(f,g):f:null,P],void 0)}}else{var L=f&&!w;if(L){var R=$l(f,{hour:Ws(i),minute:$s(i)});n.setState({preSelection:R}),g&&(R=Wl(R,g)),A?.([R,null],void 0)}else if(f&&w){var P=$l(w,{hour:Ws(i),minute:$s(i)});n.setState({preSelection:P}),g&&(P=Wl(P,g)),A?.([g?Wl(f,g):f,P],void 0)}else{var V=$l(n.getPreSelection(),{hour:Ws(i),minute:$s(i)});n.setState({preSelection:V})}}}else{var U=n.props.selected?n.props.selected:n.getPreSelection(),V=n.props.selected?i:$l(U,{hour:Ws(i),minute:$s(i)});n.setState({preSelection:V}),V&&g&&(V=Wl(V,g)),(c=(a=n.props).onChange)===null||c===void 0||c.call(a,V)}n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(i=n.props).onInputClick)===null||s===void 0||s.call(i)},n.handleTimeOnlyArrowKey=function(i){var s,a,c,u,d=Uu(n.props.selected)||n.state.preSelection||Qn(),f=(s=n.props.timeIntervals)!==null&&s!==void 0?s:30,w=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,x=Array.isArray(w)?w[0]:w,g=vf(d),A=Ws(d)*60+$s(d),R=1440-f,P;if(i===ht.ArrowUp){var L=Math.max(0,A-f);P=jf(g,L)}else{var L=Math.min(R,A+f);P=jf(g,L)}var V=Br(P,x||e.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:P,inputValue:V}),!(n.props.selectsRange||n.props.selectsMultiple)){var U=n.props.selected?n.props.selected:n.getPreSelection(),z=n.props.selected?P:$l(U,{hour:Ws(P),minute:$s(P)});(u=(c=n.props).onChange)===null||u===void 0||u.call(c,z),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(P)})}},n.handleTimeOnlyEnterKey=function(i){var s,a,c,u,d=i.target,f=d.value,w=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,x=n.props.timeFormat||"p",g=n.state.preSelection||Uu(n.props.selected)||Qn(),A=Pu(f,w,n.props.locale,(a=n.props.strictParsing)!==null&&a!==void 0?a:!1,g),R=g;if(A&&Co(A))R=A;else{var P=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(P instanceof HTMLElement){var L=(u=P.textContent)===null||u===void 0?void 0:u.trim();if(L){var V=Pu(L,x,n.props.locale,!1,g);V&&Co(V)&&(R=V)}}}n.handleTimeChange(R),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(i){var s,a;if(!((s=n.calendar)===null||s===void 0)&&s.containerRef.current){for(var c=n.calendar.containerRef.current,u=Array.from(c.querySelectorAll(".react-datepicker__time-list-item")),d=null,f=1/0,w=n.props.timeFormat||"p",x=0,g=u;x<g.length;x++){var A=g[x],R=(a=A.textContent)===null||a===void 0?void 0:a.trim();if(R){var P=Pu(R,w,n.props.locale,!1,i);if(P&&Co(P)){if(Lk(P,i)){d=A;break}var L=Math.abs(P.getTime()-i.getTime());L<f&&(f=L,d=A)}}}d&&(u.forEach(function(V){V.setAttribute("tabindex","-1")}),d.setAttribute("tabindex","0"),d.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(i){var s,a,c,u,d,f;(a=(s=n.props).onKeyDown)===null||a===void 0||a.call(s,i);var w=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(w===ht.ArrowDown||w===ht.ArrowUp||w===ht.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(w===ht.ArrowDown||w===ht.ArrowUp){i.preventDefault(),n.handleTimeOnlyArrowKey(w);return}if(w===ht.Enter){i.preventDefault(),n.handleTimeOnlyEnterKey(i);return}}if(n.state.open){if(w===ht.ArrowDown||w===ht.ArrowUp){i.preventDefault();var x=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(x);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var A=Qn(n.state.preSelection);w===ht.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===av?(n.handleSelect(A,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(A)):n.setOpen(!1)):w===ht.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):w===ht.Tab&&n.setOpen(!1),n.inputOk()||(f=(d=n.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:ov})}},n.onPortalKeyDown=function(i){var s=i.key;s===ht.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var s,a,c,u,d,f,w=n.props,x=w.minDate,g=w.maxDate,A=w.disabledKeyboardNavigation,R=w.showWeekPicker,P=w.shouldCloseOnSelect,L=w.locale,V=w.calendarStartDay,U=w.adjustDateOnChange,z=w.inline;if((a=(s=n.props).onKeyDown)===null||a===void 0||a.call(s,i),!A){var ne=i.key,ce=i.shiftKey,W=Qn(n.state.preSelection),O=function(N,k){var D=k;switch(N){case ht.ArrowRight:D=R?Km(k,1):Fa(k,1);break;case ht.ArrowLeft:D=R?D5(k):aL(k);break;case ht.ArrowUp:D=D5(k);break;case ht.ArrowDown:D=Km(k,1);break;case ht.PageUp:D=ce?ou(k,1):Wu(k,1);break;case ht.PageDown:D=ce?Ba(k,1):Ua(k,1);break;case ht.Home:D=tu(k,L,V);break;case ht.End:D=XR(k);break}return D},C=function(N,k){for(var D=40,X=N,ue=!1,ge=0,me=O(N,k);!ue;){if(ge>=D){me=k;break}x&&me<x&&(X=ht.ArrowRight,me=fa(x,n.props)?O(X,me):x),g&&me>g&&(X=ht.ArrowLeft,me=fa(g,n.props)?O(X,me):g),fa(me,n.props)?((X===ht.PageUp||X===ht.Home)&&(X=ht.ArrowRight),(X===ht.PageDown||X===ht.End)&&(X=ht.ArrowLeft),me=O(X,me)):ue=!0,ge++}return me};if(ne===ht.Enter){i.preventDefault(),n.handleSelect(W,i),!P&&n.setPreSelection(W);return}else if(ne===ht.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(u=(c=n.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:ov});return}var j=null;switch(ne){case ht.ArrowLeft:case ht.ArrowRight:case ht.ArrowUp:case ht.ArrowDown:case ht.PageUp:case ht.PageDown:case ht.Home:case ht.End:j=C(ne,W);break}if(!j){(f=(d=n.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:ov});return}i.preventDefault(),n.setState({lastPreSelectChange:av}),U&&n.setSelected(j),n.setPreSelection(j),z&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(i){var s=i.key;s===ht.Escape&&(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var s=n.props,a=s.selectsRange,c=s.onChange;c?.(a?[null,null]:null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.handleMonthSelectedInChange=function(i){n.setState({monthSelectedIn:i})},n.renderCalendar=function(){var i,s;return!n.props.inline&&!n.isCalendarOpen()?null:Be.createElement(IM,An({showMonthYearDropdown:void 0,ref:function(a){n.calendar=a}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:cM(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode,onMonthSelectedInChange:n.handleMonthSelectedInChange}),n.props.children)},n.renderAriaLiveRegion=function(){var i,s=n.props.locale,a=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,c=n.props.showTimeInput||n.props.showTimeSelect,u=c?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(No(n.props.startDate,{dateFormat:u,locale:s}),". ").concat(n.props.endDate?"End date: "+No(n.props.endDate,{dateFormat:u,locale:s}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(No(n.props.selected,{dateFormat:a,locale:s})):n.props.showYearPicker?d="Selected year: ".concat(No(n.props.selected,{dateFormat:"yyyy",locale:s})):n.props.showMonthYearPicker?d="Selected month: ".concat(No(n.props.selected,{dateFormat:"MMMM yyyy",locale:s})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(No(n.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):d="Selected date: ".concat(No(n.props.selected,{dateFormat:u,locale:s})),Be.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var i,s,a,c,u,d,f,w=Ji(n.props.className,(i={},i[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,i)),x=n.props.customInput||Be.createElement("input",{type:"text"}),g=n.props.customInputRef||"ref",A={},R=(a=n.props["aria-describedby"])!==null&&a!==void 0?a:n.props.ariaDescribedBy,P=(c=n.props["aria-invalid"])!==null&&c!==void 0?c:n.props.ariaInvalid,L=(u=n.props["aria-label"])!==null&&u!==void 0?u:n.props.ariaLabel,V=(d=n.props["aria-labelledby"])!==null&&d!==void 0?d:n.props.ariaLabelledBy,U=(f=n.props["aria-required"])!==null&&f!==void 0?f:n.props.ariaRequired;return R!=null&&(A["aria-describedby"]=R),P!=null&&(A["aria-invalid"]=P),L!=null&&(A["aria-label"]=L),V!=null&&(A["aria-labelledby"]=V),U!=null&&(A["aria-required"]=U),Se.cloneElement(x,An((s={},s[g]=function(z){n.input=z},s.value=n.getInputValue(),s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=Ji(x.props.className,w),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s),A))},n.renderClearButton=function(){var i=n.props,s=i.isClearable,a=i.disabled,c=i.selected,u=i.startDate,d=i.endDate,f=i.clearButtonTitle,w=i.clearButtonClassName,x=w===void 0?"":w,g=i.ariaLabelClose,A=g===void 0?"Close":g,R=i.selectedDates,P=i.readOnly;return s&&!P&&(c!=null||u!=null||d!=null||R?.length)?Be.createElement("button",{type:"button",className:Ji("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":A,onClick:n.onClearClick,title:f,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:Mk,readOnly:!1,rangeSeparator:Ak,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:tp,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,s,a,c;this.props.selectsRange&&cb(t.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):cb(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&n.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:nb(this.props.highlightDates)}),!n.focused&&!zu(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),n.open===!0&&this.state.open===!1&&((c=(a=this.props).onCalendarClose)===null||c===void 0||c.call(a)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,s=t.calendarIconClassname,a=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,u=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Be.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&Be.createElement(TM,An({icon:i,className:Ji(a,!a&&s,u&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?Be.createElement(jk,{enableTabLoop:this.props.enableTabLoop},Be.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=Be.createElement(Ok,An({portalId:this.props.portalId},this.props),n)),Be.createElement(Be.Fragment,null,this.renderInputContainer(),n)}return Be.createElement(MM,An({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},e})(Se.Component),OM="input",av="navigate";const jM="modulepreload",FM=function(r,e){return new URL(r,e).href},ub={},lv=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let d=function(f){return Promise.all(f.map(w=>Promise.resolve(w).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=d(t.map(f=>{if(f=FM(f,n),f in ub)return;ub[f]=!0;const w=f.endsWith(".css"),x=w?'[rel="stylesheet"]':"";if(n)for(let A=a.length-1;A>=0;A--){const R=a[A];if(R.href===f&&(!w||R.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${x}`))return;const g=document.createElement("link");if(g.rel=w?"stylesheet":jM,w||(g.as="script"),g.crossOrigin="",g.href=f,u&&g.setAttribute("nonce",u),document.head.appendChild(g),w)return new Promise((A,R)=>{g.addEventListener("load",A),g.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return i.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};function vr(r){"@babel/helpers - typeof";return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(r)}var za=Uint8Array,Wo=Uint16Array,jy=Int32Array,Fy=new za([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),By=new za([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),db=new za([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fk=function(r,e){for(var t=new Wo(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new jy(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},Bk=Fk(Fy,2),BM=Bk.b,d1=Bk.r;BM[28]=258,d1[258]=28;var VM=Fk(By,0),hb=VM.r,h1=new Wo(32768);for(var Fr=0;Fr<32768;++Fr){var Bc=(Fr&43690)>>1|(Fr&21845)<<1;Bc=(Bc&52428)>>2|(Bc&13107)<<2,Bc=(Bc&61680)>>4|(Bc&3855)<<4,h1[Fr]=((Bc&65280)>>8|(Bc&255)<<8)>>1}var kf=(function(r,e,t){for(var n=r.length,i=0,s=new Wo(e);i<n;++i)r[i]&&++s[r[i]-1];var a=new Wo(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var c;if(t){c=new Wo(1<<e);var u=15-e;for(i=0;i<n;++i)if(r[i])for(var d=i<<4|r[i],f=e-r[i],w=a[r[i]-1]++<<f,x=w|(1<<f)-1;w<=x;++w)c[h1[w]>>u]=d}else for(c=new Wo(n),i=0;i<n;++i)r[i]&&(c[i]=h1[a[r[i]-1]++]>>15-r[i]);return c}),nd=new za(288);for(var Fr=0;Fr<144;++Fr)nd[Fr]=8;for(var Fr=144;Fr<256;++Fr)nd[Fr]=9;for(var Fr=256;Fr<280;++Fr)nd[Fr]=7;for(var Fr=280;Fr<288;++Fr)nd[Fr]=8;var o0=new za(32);for(var Fr=0;Fr<32;++Fr)o0[Fr]=5;var UM=kf(nd,9,0),zM=kf(o0,5,0),Vk=function(r){return(r+7)/8|0},qM=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new za(r.subarray(e,t))},Yl=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},cf=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},cv=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return{t:zk,l:0};if(i==1){var a=new za(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(ne,ce){return ne.f-ce.f}),t.push({s:-1,f:25001});var c=t[0],u=t[1],d=0,f=1,w=2;for(t[0]={s:-1,f:c.f+u.f,l:c,r:u};f!=i-1;)c=t[t[d].f<t[w].f?d++:w++],u=t[d!=f&&t[d].f<t[w].f?d++:w++],t[f++]={s:-1,f:c.f+u.f,l:c,r:u};for(var x=s[0].s,n=1;n<i;++n)s[n].s>x&&(x=s[n].s);var g=new Wo(x+1),A=f1(t[f-1],g,0);if(A>e){var n=0,R=0,P=A-e,L=1<<P;for(s.sort(function(ce,W){return g[W.s]-g[ce.s]||ce.f-W.f});n<i;++n){var V=s[n].s;if(g[V]>e)R+=L-(1<<A-g[V]),g[V]=e;else break}for(R>>=P;R>0;){var U=s[n].s;g[U]<e?R-=1<<e-g[U]++-1:++n}for(;n>=0&&R;--n){var z=s[n].s;g[z]==e&&(--g[z],++R)}A=e}return{t:new za(g),l:A}},f1=function(r,e,t){return r.s==-1?Math.max(f1(r.l,e,t+1),f1(r.r,e,t+1)):e[r.s]=t},fb=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Wo(++e),n=0,i=r[0],s=1,a=function(u){t[n++]=u},c=1;c<=e;++c)if(r[c]==i&&c!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=r[c]}return{c:t.subarray(0,n),n:e}},uf=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},Uk=function(r,e,t){var n=t.length,i=Vk(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},pb=function(r,e,t,n,i,s,a,c,u,d,f){Yl(e,f++,t),++i[256];for(var w=cv(i,15),x=w.t,g=w.l,A=cv(s,15),R=A.t,P=A.l,L=fb(x),V=L.c,U=L.n,z=fb(R),ne=z.c,ce=z.n,W=new Wo(19),O=0;O<V.length;++O)++W[V[O]&31];for(var O=0;O<ne.length;++O)++W[ne[O]&31];for(var C=cv(W,7),j=C.t,N=C.l,k=19;k>4&&!j[db[k-1]];--k);var D=d+5<<3,X=uf(i,nd)+uf(s,o0)+a,ue=uf(i,x)+uf(s,R)+a+14+3*k+uf(W,j)+2*W[16]+3*W[17]+7*W[18];if(u>=0&&D<=X&&D<=ue)return Uk(e,f,r.subarray(u,u+d));var ge,me,re,ye;if(Yl(e,f,1+(ue<X)),f+=2,ue<X){ge=kf(x,g,0),me=x,re=kf(R,P,0),ye=R;var de=kf(j,N,0);Yl(e,f,U-257),Yl(e,f+5,ce-1),Yl(e,f+10,k-4),f+=14;for(var O=0;O<k;++O)Yl(e,f+3*O,j[db[O]]);f+=3*k;for(var Z=[V,ne],F=0;F<2;++F)for(var Q=Z[F],O=0;O<Q.length;++O){var se=Q[O]&31;Yl(e,f,de[se]),f+=j[se],se>15&&(Yl(e,f,Q[O]>>5&127),f+=Q[O]>>12)}}else ge=UM,me=nd,re=zM,ye=o0;for(var O=0;O<c;++O){var he=n[O];if(he>255){var se=he>>18&31;cf(e,f,ge[se+257]),f+=me[se+257],se>7&&(Yl(e,f,he>>23&31),f+=Fy[se]);var we=he&31;cf(e,f,re[we]),f+=ye[we],we>3&&(cf(e,f,he>>5&8191),f+=By[we])}else cf(e,f,ge[he]),f+=me[he]}return cf(e,f,ge[256]),f+me[256]},HM=new jy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zk=new za(0),WM=function(r,e,t,n,i,s){var a=s.z||r.length,c=new za(n+a+5*(1+Math.ceil(a/7e3))+i),u=c.subarray(n,c.length-i),d=s.l,f=(s.r||0)&7;if(e){f&&(u[0]=s.r>>3);for(var w=HM[e-1],x=w>>13,g=w&8191,A=(1<<t)-1,R=s.p||new Wo(32768),P=s.h||new Wo(A+1),L=Math.ceil(t/3),V=2*L,U=function(mt){return(r[mt]^r[mt+1]<<L^r[mt+2]<<V)&A},z=new jy(25e3),ne=new Wo(288),ce=new Wo(32),W=0,O=0,C=s.i||0,j=0,N=s.w||0,k=0;C+2<a;++C){var D=U(C),X=C&32767,ue=P[D];if(R[X]=ue,P[D]=X,N<=C){var ge=a-C;if((W>7e3||j>24576)&&(ge>423||!d)){f=pb(r,u,0,z,ne,ce,O,j,k,C-k,f),j=W=O=0,k=C;for(var me=0;me<286;++me)ne[me]=0;for(var me=0;me<30;++me)ce[me]=0}var re=2,ye=0,de=g,Z=X-ue&32767;if(ge>2&&D==U(C-Z))for(var F=Math.min(x,ge)-1,Q=Math.min(32767,C),se=Math.min(258,ge);Z<=Q&&--de&&X!=ue;){if(r[C+re]==r[C+re-Z]){for(var he=0;he<se&&r[C+he]==r[C+he-Z];++he);if(he>re){if(re=he,ye=Z,he>F)break;for(var we=Math.min(Z,he-2),Ee=0,me=0;me<we;++me){var Te=C-Z+me&32767,Le=R[Te],Ve=Te-Le&32767;Ve>Ee&&(Ee=Ve,ue=Te)}}}X=ue,ue=R[X],Z+=X-ue&32767}if(ye){z[j++]=268435456|d1[re]<<18|hb[ye];var Xe=d1[re]&31,ct=hb[ye]&31;O+=Fy[Xe]+By[ct],++ne[257+Xe],++ce[ct],N=C+re,++W}else z[j++]=r[C],++ne[r[C]]}}for(C=Math.max(C,N);C<a;++C)z[j++]=r[C],++ne[r[C]];f=pb(r,u,d,z,ne,ce,O,j,k,C-k,f),d||(s.r=f&7|u[f/8|0]<<3,f-=7,s.h=P,s.p=R,s.i=C,s.w=N)}else{for(var C=s.w||0;C<a+d;C+=65535){var rt=C+65535;rt>=a&&(u[f/8|0]=d,rt=a),f=Uk(u,f+1,r.subarray(C,rt))}s.i=a}return qM(c,0,n+Vk(f)+i)},qk=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length|0,a=0;a!=s;){for(var c=Math.min(a+2655,s);a<c;++a)i+=n+=t[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},$M=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new za(s.length+r.length);a.set(s),a.set(r,s.length),r=a,i.w=s.length}return WM(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},Hk=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},YM=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=qk();i.p(e.dictionary),Hk(r,2,i.d())}};function p1(r,e){e||(e={});var t=qk();t.p(r);var n=$M(r,e,e.dictionary?6:2,4);return YM(n,e),Hk(n,n.length-4,t.d()),n}var GM=typeof TextDecoder<"u"&&new TextDecoder,KM=0;try{GM.decode(zk,{stream:!0}),KM=1}catch{}function QM(r){if(Array.isArray(r))return r}function XM(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,c=[],u=!0,d=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(u=(n=s.call(t)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function mb(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function JM(r,e){if(r){if(typeof r=="string")return mb(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?mb(r,e):void 0}}function ZM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gb(r,e){return QM(r)||XM(r,e)||JM(r,e)||ZM()}function vb(r,e="utf8"){return new TextDecoder(e).decode(r)}const e8=new TextEncoder;function t8(r){return e8.encode(r)}const n8=1024*8,r8=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),uv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Vy{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=n8,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof Vy)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=uv[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===r8&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+n));c.reverse();const u=new uv[t](c.buffer);return this.offset+=n,u.reverse(),u}const a=new uv[t](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return vb(this.readBytes(e))}decodeText(e=1,t="utf8"){return vb(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(t8(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ph(r){let e=r.length;for(;--e>=0;)r[e]=0}const i8=3,s8=258,Wk=29,o8=256,a8=o8+1+Wk,$k=30,l8=512,c8=new Array((a8+2)*2);Ph(c8);const u8=new Array($k*2);Ph(u8);const d8=new Array(l8);Ph(d8);const h8=new Array(s8-i8+1);Ph(h8);const f8=new Array(Wk);Ph(f8);const p8=new Array($k);Ph(p8);const m8=(r,e,t,n)=>{let i=r&65535|0,s=r>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var m1=m8;const g8=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},v8=new Uint32Array(g8()),y8=(r,e,t,n)=>{const i=v8,s=n+t;r^=-1;for(let a=n;a<s;a++)r=r>>>8^i[(r^e[a])&255];return r^-1};var sl=y8,g1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Yk={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const w8=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var b8=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)w8(t,n)&&(r[n]=t[n])}}return r},x8=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,s=r.length;n<s;n++){let a=r[n];t.set(a,i),i+=a.length}return t},Gk={assign:b8,flattenChunks:x8};let Kk=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Kk=!1}const Vf=new Uint8Array(256);for(let r=0;r<256;r++)Vf[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Vf[254]=Vf[254]=1;var _8=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,s,a=r.length,c=0;for(i=0;i<a;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),s=0,i=0;s<c;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const S8=(r,e)=>{if(e<65534&&r.subarray&&Kk)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var k8=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const s=new Array(t*2);for(i=0,n=0;n<t;){let a=r[n++];if(a<128){s[i++]=a;continue}let c=Vf[a];if(c>4){s[i++]=65533,n+=c-1;continue}for(a&=c===2?31:c===3?15:7;c>1&&n<t;)a=a<<6|r[n++]&63,c--;if(c>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return S8(s,i)},E8=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Vf[r[t]]>e?t:e},v1={string2buf:_8,buf2string:k8,utf8border:E8};function N8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var C8=N8;const Zp=16209,A8=16191;var I8=function(e,t){let n,i,s,a,c,u,d,f,w,x,g,A,R,P,L,V,U,z,ne,ce,W,O,C,j;const N=e.state;n=e.next_in,C=e.input,i=n+(e.avail_in-5),s=e.next_out,j=e.output,a=s-(t-e.avail_out),c=s+(e.avail_out-257),u=N.dmax,d=N.wsize,f=N.whave,w=N.wnext,x=N.window,g=N.hold,A=N.bits,R=N.lencode,P=N.distcode,L=(1<<N.lenbits)-1,V=(1<<N.distbits)-1;e:do{A<15&&(g+=C[n++]<<A,A+=8,g+=C[n++]<<A,A+=8),U=R[g&L];t:for(;;){if(z=U>>>24,g>>>=z,A-=z,z=U>>>16&255,z===0)j[s++]=U&65535;else if(z&16){ne=U&65535,z&=15,z&&(A<z&&(g+=C[n++]<<A,A+=8),ne+=g&(1<<z)-1,g>>>=z,A-=z),A<15&&(g+=C[n++]<<A,A+=8,g+=C[n++]<<A,A+=8),U=P[g&V];n:for(;;){if(z=U>>>24,g>>>=z,A-=z,z=U>>>16&255,z&16){if(ce=U&65535,z&=15,A<z&&(g+=C[n++]<<A,A+=8,A<z&&(g+=C[n++]<<A,A+=8)),ce+=g&(1<<z)-1,ce>u){e.msg="invalid distance too far back",N.mode=Zp;break e}if(g>>>=z,A-=z,z=s-a,ce>z){if(z=ce-z,z>f&&N.sane){e.msg="invalid distance too far back",N.mode=Zp;break e}if(W=0,O=x,w===0){if(W+=d-z,z<ne){ne-=z;do j[s++]=x[W++];while(--z);W=s-ce,O=j}}else if(w<z){if(W+=d+w-z,z-=w,z<ne){ne-=z;do j[s++]=x[W++];while(--z);if(W=0,w<ne){z=w,ne-=z;do j[s++]=x[W++];while(--z);W=s-ce,O=j}}}else if(W+=w-z,z<ne){ne-=z;do j[s++]=x[W++];while(--z);W=s-ce,O=j}for(;ne>2;)j[s++]=O[W++],j[s++]=O[W++],j[s++]=O[W++],ne-=3;ne&&(j[s++]=O[W++],ne>1&&(j[s++]=O[W++]))}else{W=s-ce;do j[s++]=j[W++],j[s++]=j[W++],j[s++]=j[W++],ne-=3;while(ne>2);ne&&(j[s++]=j[W++],ne>1&&(j[s++]=j[W++]))}}else if((z&64)===0){U=P[(U&65535)+(g&(1<<z)-1)];continue n}else{e.msg="invalid distance code",N.mode=Zp;break e}break}}else if((z&64)===0){U=R[(U&65535)+(g&(1<<z)-1)];continue t}else if(z&32){N.mode=A8;break e}else{e.msg="invalid literal/length code",N.mode=Zp;break e}break}}while(n<i&&s<c);ne=A>>3,n-=ne,A-=ne<<3,g&=(1<<A)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<c?257+(c-s):257-(s-c),N.hold=g,N.bits=A};const Md=15,yb=852,wb=592,bb=0,dv=1,xb=2,T8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),P8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),D8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),L8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),R8=(r,e,t,n,i,s,a,c)=>{const u=c.bits;let d=0,f=0,w=0,x=0,g=0,A=0,R=0,P=0,L=0,V=0,U,z,ne,ce,W,O=null,C;const j=new Uint16Array(Md+1),N=new Uint16Array(Md+1);let k=null,D,X,ue;for(d=0;d<=Md;d++)j[d]=0;for(f=0;f<n;f++)j[e[t+f]]++;for(g=u,x=Md;x>=1&&j[x]===0;x--);if(g>x&&(g=x),x===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<x&&j[w]===0;w++);for(g<w&&(g=w),P=1,d=1;d<=Md;d++)if(P<<=1,P-=j[d],P<0)return-1;if(P>0&&(r===bb||x!==1))return-1;for(N[1]=0,d=1;d<Md;d++)N[d+1]=N[d]+j[d];for(f=0;f<n;f++)e[t+f]!==0&&(a[N[e[t+f]]++]=f);if(r===bb?(O=k=a,C=20):r===dv?(O=T8,k=P8,C=257):(O=D8,k=L8,C=0),V=0,f=0,d=w,W=s,A=g,R=0,ne=-1,L=1<<g,ce=L-1,r===dv&&L>yb||r===xb&&L>wb)return 1;for(;;){D=d-R,a[f]+1<C?(X=0,ue=a[f]):a[f]>=C?(X=k[a[f]-C],ue=O[a[f]-C]):(X=96,ue=0),U=1<<d-R,z=1<<A,w=z;do z-=U,i[W+(V>>R)+z]=D<<24|X<<16|ue|0;while(z!==0);for(U=1<<d-1;V&U;)U>>=1;if(U!==0?(V&=U-1,V+=U):V=0,f++,--j[d]===0){if(d===x)break;d=e[t+a[f]]}if(d>g&&(V&ce)!==ne){for(R===0&&(R=g),W+=w,A=d-R,P=1<<A;A+R<x&&(P-=j[A+R],!(P<=0));)A++,P<<=1;if(L+=1<<A,r===dv&&L>yb||r===xb&&L>wb)return 1;ne=V&ce,i[ne]=g<<24|A<<16|W-s|0}}return V!==0&&(i[W+V]=d-R<<24|64<<16|0),c.bits=g,0};var Ef=R8;const M8=0,Qk=1,Xk=2,{Z_FINISH:_b,Z_BLOCK:O8,Z_TREES:em,Z_OK:rd,Z_STREAM_END:j8,Z_NEED_DICT:F8,Z_STREAM_ERROR:ma,Z_DATA_ERROR:Jk,Z_MEM_ERROR:Zk,Z_BUF_ERROR:B8,Z_DEFLATED:Sb}=Yk,z0=16180,kb=16181,Eb=16182,Nb=16183,Cb=16184,Ab=16185,Ib=16186,Tb=16187,Pb=16188,Db=16189,a0=16190,Gl=16191,hv=16192,Lb=16193,fv=16194,Rb=16195,Mb=16196,Ob=16197,jb=16198,tm=16199,nm=16200,Fb=16201,Bb=16202,Vb=16203,Ub=16204,zb=16205,pv=16206,qb=16207,Hb=16208,Qr=16209,eE=16210,tE=16211,V8=852,U8=592,z8=15,q8=z8,Wb=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function H8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ld=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<z0||e.mode>tE?1:0},nE=r=>{if(ld(r))return ma;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=z0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(V8),e.distcode=e.distdyn=new Int32Array(U8),e.sane=1,e.back=-1,rd},rE=r=>{if(ld(r))return ma;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,nE(r)},iE=(r,e)=>{let t;if(ld(r))return ma;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ma:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,rE(r))},sE=(r,e)=>{if(!r)return ma;const t=new H8;r.state=t,t.strm=r,t.window=null,t.mode=z0;const n=iE(r,e);return n!==rd&&(r.state=null),n},W8=r=>sE(r,q8);let $b=!0,mv,gv;const $8=r=>{if($b){mv=new Int32Array(512),gv=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Ef(Qk,r.lens,0,288,mv,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Ef(Xk,r.lens,0,32,gv,0,r.work,{bits:5}),$b=!1}r.lencode=mv,r.lenbits=9,r.distcode=gv,r.distbits=5},oE=(r,e,t,n)=>{let i;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(t-n,t-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Y8=(r,e)=>{let t,n,i,s,a,c,u,d,f,w,x,g,A,R,P=0,L,V,U,z,ne,ce,W,O;const C=new Uint8Array(4);let j,N;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ld(r)||!r.output||!r.input&&r.avail_in!==0)return ma;t=r.state,t.mode===Gl&&(t.mode=hv),a=r.next_out,i=r.output,u=r.avail_out,s=r.next_in,n=r.input,c=r.avail_in,d=t.hold,f=t.bits,w=c,x=u,O=rd;e:for(;;)switch(t.mode){case z0:if(t.wrap===0){t.mode=hv;break}for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,C[0]=d&255,C[1]=d>>>8&255,t.check=sl(t.check,C,2,0),d=0,f=0,t.mode=kb;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",t.mode=Qr;break}if((d&15)!==Sb){r.msg="unknown compression method",t.mode=Qr;break}if(d>>>=4,f-=4,W=(d&15)+8,t.wbits===0&&(t.wbits=W),W>15||W>t.wbits){r.msg="invalid window size",t.mode=Qr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=d&512?Db:Gl,d=0,f=0;break;case kb:for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.flags=d,(t.flags&255)!==Sb){r.msg="unknown compression method",t.mode=Qr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Qr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=sl(t.check,C,2,0)),d=0,f=0,t.mode=Eb;case Eb:for(;f<32;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,C[2]=d>>>16&255,C[3]=d>>>24&255,t.check=sl(t.check,C,4,0)),d=0,f=0,t.mode=Nb;case Nb:for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=sl(t.check,C,2,0)),d=0,f=0,t.mode=Cb;case Cb:if(t.flags&1024){for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=sl(t.check,C,2,0)),d=0,f=0}else t.head&&(t.head.extra=null);t.mode=Ab;case Ab:if(t.flags&1024&&(g=t.length,g>c&&(g=c),g&&(t.head&&(W=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+g),W)),t.flags&512&&t.wrap&4&&(t.check=sl(t.check,n,g,s)),c-=g,s+=g,t.length-=g),t.length))break e;t.length=0,t.mode=Ib;case Ib:if(t.flags&2048){if(c===0)break e;g=0;do W=n[s+g++],t.head&&W&&t.length<65536&&(t.head.name+=String.fromCharCode(W));while(W&&g<c);if(t.flags&512&&t.wrap&4&&(t.check=sl(t.check,n,g,s)),c-=g,s+=g,W)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Tb;case Tb:if(t.flags&4096){if(c===0)break e;g=0;do W=n[s+g++],t.head&&W&&t.length<65536&&(t.head.comment+=String.fromCharCode(W));while(W&&g<c);if(t.flags&512&&t.wrap&4&&(t.check=sl(t.check,n,g,s)),c-=g,s+=g,W)break e}else t.head&&(t.head.comment=null);t.mode=Pb;case Pb:if(t.flags&512){for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.wrap&4&&d!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Qr;break}d=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Gl;break;case Db:for(;f<32;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}r.adler=t.check=Wb(d),d=0,f=0,t.mode=a0;case a0:if(t.havedict===0)return r.next_out=a,r.avail_out=u,r.next_in=s,r.avail_in=c,t.hold=d,t.bits=f,F8;r.adler=t.check=1,t.mode=Gl;case Gl:if(e===O8||e===em)break e;case hv:if(t.last){d>>>=f&7,f-=f&7,t.mode=pv;break}for(;f<3;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}switch(t.last=d&1,d>>>=1,f-=1,d&3){case 0:t.mode=Lb;break;case 1:if($8(t),t.mode=tm,e===em){d>>>=2,f-=2;break e}break;case 2:t.mode=Mb;break;case 3:r.msg="invalid block type",t.mode=Qr}d>>>=2,f-=2;break;case Lb:for(d>>>=f&7,f-=f&7;f<32;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Qr;break}if(t.length=d&65535,d=0,f=0,t.mode=fv,e===em)break e;case fv:t.mode=Rb;case Rb:if(g=t.length,g){if(g>c&&(g=c),g>u&&(g=u),g===0)break e;i.set(n.subarray(s,s+g),a),c-=g,s+=g,u-=g,a+=g,t.length-=g;break}t.mode=Gl;break;case Mb:for(;f<14;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.nlen=(d&31)+257,d>>>=5,f-=5,t.ndist=(d&31)+1,d>>>=5,f-=5,t.ncode=(d&15)+4,d>>>=4,f-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Qr;break}t.have=0,t.mode=Ob;case Ob:for(;t.have<t.ncode;){for(;f<3;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.lens[k[t.have++]]=d&7,d>>>=3,f-=3}for(;t.have<19;)t.lens[k[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,j={bits:t.lenbits},O=Ef(M8,t.lens,0,19,t.lencode,0,t.work,j),t.lenbits=j.bits,O){r.msg="invalid code lengths set",t.mode=Qr;break}t.have=0,t.mode=jb;case jb:for(;t.have<t.nlen+t.ndist;){for(;P=t.lencode[d&(1<<t.lenbits)-1],L=P>>>24,V=P>>>16&255,U=P&65535,!(L<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(U<16)d>>>=L,f-=L,t.lens[t.have++]=U;else{if(U===16){for(N=L+2;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(d>>>=L,f-=L,t.have===0){r.msg="invalid bit length repeat",t.mode=Qr;break}W=t.lens[t.have-1],g=3+(d&3),d>>>=2,f-=2}else if(U===17){for(N=L+3;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}d>>>=L,f-=L,W=0,g=3+(d&7),d>>>=3,f-=3}else{for(N=L+7;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}d>>>=L,f-=L,W=0,g=11+(d&127),d>>>=7,f-=7}if(t.have+g>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Qr;break}for(;g--;)t.lens[t.have++]=W}}if(t.mode===Qr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Qr;break}if(t.lenbits=9,j={bits:t.lenbits},O=Ef(Qk,t.lens,0,t.nlen,t.lencode,0,t.work,j),t.lenbits=j.bits,O){r.msg="invalid literal/lengths set",t.mode=Qr;break}if(t.distbits=6,t.distcode=t.distdyn,j={bits:t.distbits},O=Ef(Xk,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,j),t.distbits=j.bits,O){r.msg="invalid distances set",t.mode=Qr;break}if(t.mode=tm,e===em)break e;case tm:t.mode=nm;case nm:if(c>=6&&u>=258){r.next_out=a,r.avail_out=u,r.next_in=s,r.avail_in=c,t.hold=d,t.bits=f,I8(r,x),a=r.next_out,i=r.output,u=r.avail_out,s=r.next_in,n=r.input,c=r.avail_in,d=t.hold,f=t.bits,t.mode===Gl&&(t.back=-1);break}for(t.back=0;P=t.lencode[d&(1<<t.lenbits)-1],L=P>>>24,V=P>>>16&255,U=P&65535,!(L<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(V&&(V&240)===0){for(z=L,ne=V,ce=U;P=t.lencode[ce+((d&(1<<z+ne)-1)>>z)],L=P>>>24,V=P>>>16&255,U=P&65535,!(z+L<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}d>>>=z,f-=z,t.back+=z}if(d>>>=L,f-=L,t.back+=L,t.length=U,V===0){t.mode=zb;break}if(V&32){t.back=-1,t.mode=Gl;break}if(V&64){r.msg="invalid literal/length code",t.mode=Qr;break}t.extra=V&15,t.mode=Fb;case Fb:if(t.extra){for(N=t.extra;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Bb;case Bb:for(;P=t.distcode[d&(1<<t.distbits)-1],L=P>>>24,V=P>>>16&255,U=P&65535,!(L<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if((V&240)===0){for(z=L,ne=V,ce=U;P=t.distcode[ce+((d&(1<<z+ne)-1)>>z)],L=P>>>24,V=P>>>16&255,U=P&65535,!(z+L<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}d>>>=z,f-=z,t.back+=z}if(d>>>=L,f-=L,t.back+=L,V&64){r.msg="invalid distance code",t.mode=Qr;break}t.offset=U,t.extra=V&15,t.mode=Vb;case Vb:if(t.extra){for(N=t.extra;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Qr;break}t.mode=Ub;case Ub:if(u===0)break e;if(g=x-u,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Qr;break}g>t.wnext?(g-=t.wnext,A=t.wsize-g):A=t.wnext-g,g>t.length&&(g=t.length),R=t.window}else R=i,A=a-t.offset,g=t.length;g>u&&(g=u),u-=g,t.length-=g;do i[a++]=R[A++];while(--g);t.length===0&&(t.mode=nm);break;case zb:if(u===0)break e;i[a++]=t.length,u--,t.mode=nm;break;case pv:if(t.wrap){for(;f<32;){if(c===0)break e;c--,d|=n[s++]<<f,f+=8}if(x-=u,r.total_out+=x,t.total+=x,t.wrap&4&&x&&(r.adler=t.check=t.flags?sl(t.check,i,x,a-x):m1(t.check,i,x,a-x)),x=u,t.wrap&4&&(t.flags?d:Wb(d))!==t.check){r.msg="incorrect data check",t.mode=Qr;break}d=0,f=0}t.mode=qb;case qb:if(t.wrap&&t.flags){for(;f<32;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.wrap&4&&d!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Qr;break}d=0,f=0}t.mode=Hb;case Hb:O=j8;break e;case Qr:O=Jk;break e;case eE:return Zk;case tE:default:return ma}return r.next_out=a,r.avail_out=u,r.next_in=s,r.avail_in=c,t.hold=d,t.bits=f,(t.wsize||x!==r.avail_out&&t.mode<Qr&&(t.mode<pv||e!==_b))&&oE(r,r.output,r.next_out,x-r.avail_out),w-=r.avail_in,x-=r.avail_out,r.total_in+=w,r.total_out+=x,t.total+=x,t.wrap&4&&x&&(r.adler=t.check=t.flags?sl(t.check,i,x,r.next_out-x):m1(t.check,i,x,r.next_out-x)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Gl?128:0)+(t.mode===tm||t.mode===fv?256:0),(w===0&&x===0||e===_b)&&O===rd&&(O=B8),O},G8=r=>{if(ld(r))return ma;let e=r.state;return e.window&&(e.window=null),r.state=null,rd},K8=(r,e)=>{if(ld(r))return ma;const t=r.state;return(t.wrap&2)===0?ma:(t.head=e,e.done=!1,rd)},Q8=(r,e)=>{const t=e.length;let n,i,s;return ld(r)||(n=r.state,n.wrap!==0&&n.mode!==a0)?ma:n.mode===a0&&(i=1,i=m1(i,e,t,0),i!==n.check)?Jk:(s=oE(r,e,t,t),s?(n.mode=eE,Zk):(n.havedict=1,rd))};var X8=rE,J8=iE,Z8=nE,eO=W8,tO=sE,nO=Y8,rO=G8,iO=K8,sO=Q8,oO="pako inflate (from Nodeca project)",Kl={inflateReset:X8,inflateReset2:J8,inflateResetKeep:Z8,inflateInit:eO,inflateInit2:tO,inflate:nO,inflateEnd:rO,inflateGetHeader:iO,inflateSetDictionary:sO,inflateInfo:oO};function aO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lO=aO;const aE=Object.prototype.toString,{Z_NO_FLUSH:cO,Z_FINISH:uO,Z_OK:Uf,Z_STREAM_END:vv,Z_NEED_DICT:yv,Z_STREAM_ERROR:dO,Z_DATA_ERROR:Yb,Z_MEM_ERROR:hO}=Yk;function rp(r){this.options=Gk.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C8,this.strm.avail_out=0;let t=Kl.inflateInit2(this.strm,e.windowBits);if(t!==Uf)throw new Error(g1[t]);if(this.header=new lO,Kl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=v1.string2buf(e.dictionary):aE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Kl.inflateSetDictionary(this.strm,e.dictionary),t!==Uf)))throw new Error(g1[t])}rp.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,c;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?uO:cO,aE.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=Kl.inflate(t,a),s===yv&&i&&(s=Kl.inflateSetDictionary(t,i),s===Uf?s=Kl.inflate(t,a):s===Yb&&(s=yv));t.avail_in>0&&s===vv&&t.state.wrap>0&&r[t.next_in]!==0;)Kl.inflateReset(t),s=Kl.inflate(t,a);switch(s){case dO:case Yb:case yv:case hO:return this.onEnd(s),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||s===vv))if(this.options.to==="string"){let u=v1.utf8border(t.output,t.next_out),d=t.next_out-u,f=v1.buf2string(t.output,u);t.next_out=d,t.avail_out=n-d,d&&t.output.set(t.output.subarray(u,u+d),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Uf&&c===0)){if(s===vv)return s=Kl.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};rp.prototype.onData=function(r){this.chunks.push(r)};rp.prototype.onEnd=function(r){r===Uf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Gk.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function fO(r,e){const t=new rp(e);if(t.push(r),t.err)throw t.msg||g1[t.err];return t.result}var pO=rp,mO=fO,gO={Inflate:pO,inflate:mO};const{Inflate:vO,inflate:yO}=gO;var Gb=vO,wO=yO;const lE=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;lE[r]=e}const Kb=4294967295;function bO(r,e,t){let n=r;for(let i=0;i<t;i++)n=lE[(n^e[i])&255]^n>>>8;return n}function xO(r,e){return(bO(Kb,r,e)^Kb)>>>0}function Qb(r,e,t){const n=r.readUint32(),i=xO(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function cE(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function uE(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function dE(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function hE(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-i]+t[s]>>1)&255}}function fE(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+_O(e[s-i],t[s],t[s-i])&255}}function _O(r,e,t){const n=r+e-t,i=Math.abs(n-r),s=Math.abs(n-e),a=Math.abs(n-t);return i<=s&&i<=a?r:s<=a?e:t}function SO(r,e,t,n,i,s){switch(r){case 0:cE(e,t,i);break;case 1:uE(e,t,i,s);break;case 2:dE(e,t,n,i);break;case 3:hE(e,t,n,i,s);break;case 4:fE(e,t,n,i,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const kO=new Uint16Array([255]),EO=new Uint8Array(kO.buffer),NO=EO[0]===255;function CO(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(s/8)*i,u=new Uint8Array(n*t*c);let d=0;for(let f=0;f<7;f++){const w=a[f],x=Math.ceil((t-w.x)/w.xStep),g=Math.ceil((n-w.y)/w.yStep);if(x<=0||g<=0)continue;const A=x*c,R=new Uint8Array(A);for(let P=0;P<g;P++){const L=e[d++],V=e.subarray(d,d+A);d+=A;const U=new Uint8Array(A);SO(L,V,U,R,A,c),R.set(U);for(let z=0;z<x;z++){const ne=w.x+z*w.xStep,ce=w.y+P*w.yStep;if(!(ne>=t||ce>=n))for(let W=0;W<c;W++)u[(ce*t+ne)*c+W]=U[z*c+W]}}}if(s===16){const f=new Uint16Array(u.buffer);if(NO)for(let w=0;w<f.length;w++)f[w]=AO(f[w]);return f}else return u}function AO(r){return(r&255)<<8|r>>8&255}const IO=new Uint16Array([255]),TO=new Uint8Array(IO.buffer),PO=TO[0]===255,DO=new Uint8Array(0);function Xb(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=Math.ceil(s/8)*i,c=Math.ceil(s/8*i*t),u=new Uint8Array(n*c);let d=DO,f=0,w,x;for(let g=0;g<n;g++){switch(w=e.subarray(f+1,f+1+c),x=u.subarray(g*c,(g+1)*c),e[f]){case 0:cE(w,x,c);break;case 1:uE(w,x,c,a);break;case 2:dE(w,x,d,c);break;case 3:hE(w,x,d,c,a);break;case 4:fE(w,x,d,c,a);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}d=x,f+=c+1}if(s===16){const g=new Uint16Array(u.buffer);if(PO)for(let A=0;A<g.length;A++)g[A]=LO(g[A]);return g}else return u}function LO(r){return(r&255)<<8|r>>8&255}const km=Uint8Array.of(137,80,78,71,13,10,26,10);function Jb(r){if(!RO(r.readBytes(km.length)))throw new Error("wrong PNG signature")}function RO(r){if(r.length<km.length)return!1;for(let e=0;e<km.length;e++)if(r[e]!==km[e])return!1;return!0}const MO="tEXt",OO=0,pE=new TextDecoder("latin1");function jO(r){if(BO(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const FO=/^[\u0000-\u00FF]*$/;function BO(r){if(!FO.test(r))throw new Error("invalid latin1 text")}function VO(r,e,t){const n=mE(e);r[n]=UO(e,t-n.length-1)}function mE(r){for(r.mark();r.readByte()!==OO;);const e=r.offset;r.reset();const t=pE.decode(r.readBytes(e-r.offset-1));return r.skip(1),jO(t),t}function UO(r,e){return pE.decode(r.readBytes(e))}const zo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},wv={UNKNOWN:-1,DEFLATE:0},Zb={UNKNOWN:-1,ADAPTIVE:0},bv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},rm={NONE:0,BACKGROUND:1,PREVIOUS:2},xv={SOURCE:0,OVER:1};class zO extends Vy{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new Gb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=wv.UNKNOWN,this._filterMethod=Zb.UNKNOWN,this._interlaceMethod=bv.UNKNOWN,this._colorType=zo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Jb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Jb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case MO:VO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Qb(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Qb(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=qO(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case zo.GREYSCALE:n=1;break;case zo.TRUECOLOUR:n=3;break;case zo.INDEXED_COLOUR:n=1;break;case zo.GREYSCALE_ALPHA:n=2;break;case zo.TRUECOLOUR_ALPHA:n=4;break;case zo.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==wv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<t;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case zo.GREYSCALE:case zo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case zo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case zo.UNKNOWN:case zo.GREYSCALE_ALPHA:case zo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=mE(this),n=this.readUint8();if(n!==wv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:wO(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=Xb({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case rm.NONE:break;case rm.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)n.data[a+c]=0}break;case rm.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,i=(s,a)=>{const c=((s+t.yOffset)*this._png.width+t.xOffset+a)*this._png.channels,u=(s*t.width+a)*this._png.channels;return{index:c,frameIndex:u}};switch(t.blendOp){case xv.SOURCE:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:c,frameIndex:u}=i(s,a);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[u+d]}break;case xv.OVER:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:c,frameIndex:u}=i(s,a);for(let d=0;d<this._png.channels;d++){const f=t.data[u+this._png.channels-1]/n,w=d%(this._png.channels-1)===0?1:t.data[u+d],x=Math.floor(f*w+(1-f)*e.data[c+d]);e.data[c+d]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Zb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===bv.NO_INTERLACE)this._png.data=Xb({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===bv.ADAM7)this._png.data=CO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:rm.NONE,blendOp:xv.SOURCE,data:e}),this._inflator=new Gb,this._writingDataChunks=!1}}function qO(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var ex;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(ex||(ex={}));function HO(r,e){return new zO(r,e).decode()}var hn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function _v(){hn.console&&typeof hn.console.log=="function"&&hn.console.log.apply(hn.console,arguments)}var Nr={log:_v,warn:function(r){hn.console&&(typeof hn.console.warn=="function"?hn.console.warn.apply(hn.console,arguments):_v.call(null,arguments))},error:function(r){hn.console&&(typeof hn.console.error=="function"?hn.console.error.apply(hn.console,arguments):_v(r))}};function Sv(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Mu(n.response,e,t)},n.onerror=function(){Nr.error("could not download file")},n.send()}function tx(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function im(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Mu=hn.saveAs||((typeof window>"u"?"undefined":vr(window))!=="object"||window!==hn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=hn.URL||hn.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?tx(i.href)?Sv(r,e,t):im(i,i.target="_blank"):im(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){im(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(tx(r))Sv(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){im(n)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:vr(s)!=="object"&&(Nr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Sv(r,e,t);var i=r.type==="application/octet-stream",s=/constructor/i.test(hn.HTMLElement)||hn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":vr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var f=c.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},c.readAsDataURL(r)}else{var u=hn.URL||hn.webkitURL,d=u.createObjectURL(r);n?n.location=d:location.href=d,n=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});function gE(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,a=i.exec(r);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+c+u+d}}var Em=hn.atob.bind(hn),nx=hn.btoa.bind(hn);function kv(r,e){var t=r[0],n=r[1],i=r[2],s=r[3];t=Us(t,n,i,s,e[0],7,-680876936),s=Us(s,t,n,i,e[1],12,-389564586),i=Us(i,s,t,n,e[2],17,606105819),n=Us(n,i,s,t,e[3],22,-1044525330),t=Us(t,n,i,s,e[4],7,-176418897),s=Us(s,t,n,i,e[5],12,1200080426),i=Us(i,s,t,n,e[6],17,-1473231341),n=Us(n,i,s,t,e[7],22,-45705983),t=Us(t,n,i,s,e[8],7,1770035416),s=Us(s,t,n,i,e[9],12,-1958414417),i=Us(i,s,t,n,e[10],17,-42063),n=Us(n,i,s,t,e[11],22,-1990404162),t=Us(t,n,i,s,e[12],7,1804603682),s=Us(s,t,n,i,e[13],12,-40341101),i=Us(i,s,t,n,e[14],17,-1502002290),t=zs(t,n=Us(n,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=zs(s,t,n,i,e[6],9,-1069501632),i=zs(i,s,t,n,e[11],14,643717713),n=zs(n,i,s,t,e[0],20,-373897302),t=zs(t,n,i,s,e[5],5,-701558691),s=zs(s,t,n,i,e[10],9,38016083),i=zs(i,s,t,n,e[15],14,-660478335),n=zs(n,i,s,t,e[4],20,-405537848),t=zs(t,n,i,s,e[9],5,568446438),s=zs(s,t,n,i,e[14],9,-1019803690),i=zs(i,s,t,n,e[3],14,-187363961),n=zs(n,i,s,t,e[8],20,1163531501),t=zs(t,n,i,s,e[13],5,-1444681467),s=zs(s,t,n,i,e[2],9,-51403784),i=zs(i,s,t,n,e[7],14,1735328473),t=qs(t,n=zs(n,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=qs(s,t,n,i,e[8],11,-2022574463),i=qs(i,s,t,n,e[11],16,1839030562),n=qs(n,i,s,t,e[14],23,-35309556),t=qs(t,n,i,s,e[1],4,-1530992060),s=qs(s,t,n,i,e[4],11,1272893353),i=qs(i,s,t,n,e[7],16,-155497632),n=qs(n,i,s,t,e[10],23,-1094730640),t=qs(t,n,i,s,e[13],4,681279174),s=qs(s,t,n,i,e[0],11,-358537222),i=qs(i,s,t,n,e[3],16,-722521979),n=qs(n,i,s,t,e[6],23,76029189),t=qs(t,n,i,s,e[9],4,-640364487),s=qs(s,t,n,i,e[12],11,-421815835),i=qs(i,s,t,n,e[15],16,530742520),t=Hs(t,n=qs(n,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Hs(s,t,n,i,e[7],10,1126891415),i=Hs(i,s,t,n,e[14],15,-1416354905),n=Hs(n,i,s,t,e[5],21,-57434055),t=Hs(t,n,i,s,e[12],6,1700485571),s=Hs(s,t,n,i,e[3],10,-1894986606),i=Hs(i,s,t,n,e[10],15,-1051523),n=Hs(n,i,s,t,e[1],21,-2054922799),t=Hs(t,n,i,s,e[8],6,1873313359),s=Hs(s,t,n,i,e[15],10,-30611744),i=Hs(i,s,t,n,e[6],15,-1560198380),n=Hs(n,i,s,t,e[13],21,1309151649),t=Hs(t,n,i,s,e[4],6,-145523070),s=Hs(s,t,n,i,e[11],10,-1120210379),i=Hs(i,s,t,n,e[2],15,718787259),n=Hs(n,i,s,t,e[9],21,-343485551),r[0]=Yc(t,r[0]),r[1]=Yc(n,r[1]),r[2]=Yc(i,r[2]),r[3]=Yc(s,r[3])}function q0(r,e,t,n,i,s){return e=Yc(Yc(e,r),Yc(n,s)),Yc(e<<i|e>>>32-i,t)}function Us(r,e,t,n,i,s,a){return q0(e&t|~e&n,r,e,i,s,a)}function zs(r,e,t,n,i,s,a){return q0(e&n|t&~n,r,e,i,s,a)}function qs(r,e,t,n,i,s,a){return q0(e^t^n,r,e,i,s,a)}function Hs(r,e,t,n,i,s,a){return q0(t^(e|~n),r,e,i,s,a)}function vE(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)kv(n,WO(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(kv(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,kv(n,i),n}function WO(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var rx="0123456789abcdef".split("");function $O(r){for(var e="",t=0;t<4;t++)e+=rx[r>>8*t+4&15]+rx[r>>8*t&15];return e}function YO(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function y1(r){return vE(r).map(YO).join("")}var GO=(function(r){for(var e=0;e<r.length;e++)r[e]=$O(r[e]);return r.join("")})(vE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Yc(r,e){if(GO){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function w1(r,e){var t,n,i,s;if(r!==t){for(var a=(i=r,s=1+(256/r.length|0),new Array(s+1).join(i)),c=[],u=0;u<256;u++)c[u]=u;var d=0;for(u=0;u<256;u++){var f=c[u];d=(d+f+a.charCodeAt(u))%256,c[u]=c[d],c[d]=f}t=r,n=c}else c=n;var w=e.length,x=0,g=0,A="";for(u=0;u<w;u++)g=(g+(f=c[x=(x+1)%256]))%256,c[x]=c[g],c[g]=f,a=c[(c[x]+c[g])%256],A+=String.fromCharCode(e.charCodeAt(u)^a);return A}var ix={print:4,modify:8,copy:16,"annot-forms":32};function qd(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(c){if(ix.perm!==void 0)throw new Error("Invalid permission: "+c);i+=ix[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=y1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=w1(this.encryptionKey,this.padding)}function Hd(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function sx(r){if(vr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!i],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(r,n)}catch(c){hn.console&&Nr.error("jsPDF PubSub Error",c.message,c)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function l0(r){if(!(this instanceof l0))return new l0(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function yE(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Ou(r,e,t,n,i){if(!(this instanceof Ou))return new Ou(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,yE.call(this,n,i)}function Yd(r,e,t,n,i){if(!(this instanceof Yd))return new Yd(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,yE.call(this,n,i)}function Ut(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],c=1,u=16,d="S",f=null;vr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(f=r.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(u=r.floatPrecision),d=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var w=r.putOnlyUsedFonts||!1,x={},g={internal:{},__private__:{}};g.__private__.PubSub=sx;var A="1.3",R=g.__private__.getPdfVersion=function(){return A};g.__private__.setPdfVersion=function(_){A=_};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return P};var L=g.__private__.getPageFormat=function(_){return P[_]};i=i||"a4";var V="compat",U="advanced",z=V;function ne(){this.saveGraphicsState(),ie(new Vt(Kt,0,0,-Kt,0,Wi()*Kt).toString()+" cm"),this.setFontSize(this.getFontSize()/Kt),d="n",z=U}function ce(){this.restoreGraphicsState(),d="S",z=V}var W=g.__private__.combineFontStyleAndFontWeight=function(_,q){if(_=="bold"&&q=="normal"||_=="bold"&&q==400||_=="normal"&&q=="italic"||_=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(_=q==400||q==="normal"?_==="italic"?"italic":"normal":q!=700&&q!=="bold"||_!=="normal"?(q==700?"bold":q)+""+_:"bold"),_};g.advancedAPI=function(_){var q=z===V;return q&&ne.call(this),typeof _!="function"||(_(this),q&&ce.call(this)),this},g.compatAPI=function(_){var q=z===U;return q&&ce.call(this),typeof _!="function"||(_(this),q&&ne.call(this)),this},g.isAdvancedAPI=function(){return z===U};var O,C=function(_){if(z!==U)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=g.roundToPrecision=g.__private__.roundToPrecision=function(_,q){var le=e||q;if(isNaN(_)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(le).replace(/0+$/,"")};O=g.hpf=g.__private__.hpf=typeof u=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return j(_,u)}:u==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return j(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return j(_,16)};var N=g.f2=g.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return j(_,2)},k=g.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return j(_,3)},D=g.scale=g.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return z===V?_*Kt:z===U?_:void 0},X=function(_){return D((function(q){return z===V?Wi()-q:z===U?q:void 0})(_))};g.__private__.setPrecision=g.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ue,ge="00000000000000000000000000000000",me=g.__private__.getFileId=function(){return ge},re=g.__private__.setFileId=function(_){return ge=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Gt=new qd(f.userPermissions,f.userPassword,f.ownerPassword,ge)),ge};g.setFileId=function(_){return re(_),this},g.getFileId=function(){return me()};var ye=g.__private__.convertDateToPDFDate=function(_){var q=_.getTimezoneOffset(),le=q<0?"+":"-",ve=Math.floor(Math.abs(q/60)),Ce=Math.abs(q%60),He=[le,se(ve),"'",se(Ce),"'"].join("");return["D:",_.getFullYear(),se(_.getMonth()+1),se(_.getDate()),se(_.getHours()),se(_.getMinutes()),se(_.getSeconds()),He].join("")},de=g.__private__.convertPDFDateToDate=function(_){var q=parseInt(_.substr(2,4),10),le=parseInt(_.substr(6,2),10)-1,ve=parseInt(_.substr(8,2),10),Ce=parseInt(_.substr(10,2),10),He=parseInt(_.substr(12,2),10),Ke=parseInt(_.substr(14,2),10);return new Date(q,le,ve,Ce,He,Ke,0)},Z=g.__private__.setCreationDate=function(_){var q;if(_===void 0&&(_=new Date),_ instanceof Date)q=ye(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=_}return ue=q},F=g.__private__.getCreationDate=function(_){var q=ue;return _==="jsDate"&&(q=de(ue)),q};g.setCreationDate=function(_){return Z(_),this},g.getCreationDate=function(_){return F(_)};var Q,se=g.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},he=g.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},we=0,Ee=[],Te=[],Le=0,Ve=[],Xe=[],ct=!1,rt=Te;g.__private__.setCustomOutputDestination=function(_){ct=!0,rt=_};var mt=function(_){ct||(rt=_)};g.__private__.resetCustomOutputDestination=function(){ct=!1,rt=Te};var ie=g.__private__.out=function(_){return _=_.toString(),Le+=_.length+1,rt.push(_),rt},at=g.__private__.write=function(_){return ie(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},cn=g.__private__.getArrayBuffer=function(_){for(var q=_.length,le=new ArrayBuffer(q),ve=new Uint8Array(le);q--;)ve[q]=_.charCodeAt(q);return le},Tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Tt};var Ge=r.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(_){return Ge=z===U?_/Kt:_,this};var Pt,dt=g.__private__.getFontSize=g.getFontSize=function(){return z===V?Ge:Ge*Kt},Dt=r.R2L||!1;g.__private__.setR2L=g.setR2L=function(_){return Dt=_,this},g.__private__.getR2L=g.getR2L=function(){return Dt};var xt,En=g.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))Pt=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');Pt=_}else Pt=parseInt(_,10)};g.__private__.getZoomMode=function(){return Pt};var mn,_t=g.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');xt=_};g.__private__.getPageMode=function(){return xt};var Lt=g.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');mn=_};g.__private__.getLayoutMode=function(){return mn},g.__private__.setDisplayMode=g.setDisplayMode=function(_,q,le){return En(_),Lt(q),_t(le),this};var nn={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(_){if(Object.keys(nn).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nn[_]},g.__private__.getDocumentProperties=function(){return nn},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(_){for(var q in nn)nn.hasOwnProperty(q)&&_[q]&&(nn[q]=_[q]);return this},g.__private__.setDocumentProperty=function(_,q){if(Object.keys(nn).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nn[_]=q};var vt,Kt,Fe,Bn,kt,sn={},ft={},Vn=[],Nt={},Mn={},zt={},Jt={},gn=null,Qt=0,bt=[],vn=new sx(g),Ii=r.hotfixes||[],rn={},br={},Vr=[],Vt=function _(q,le,ve,Ce,He,Ke){if(!(this instanceof _))return new _(q,le,ve,Ce,He,Ke);isNaN(q)&&(q=1),isNaN(le)&&(le=0),isNaN(ve)&&(ve=0),isNaN(Ce)&&(Ce=1),isNaN(He)&&(He=0),isNaN(Ke)&&(Ke=0),this._matrix=[q,le,ve,Ce,He,Ke]};Object.defineProperty(Vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Vt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(_)},Vt.prototype.multiply=function(_){var q=_.sx*this.sx+_.shy*this.shx,le=_.sx*this.shy+_.shy*this.sy,ve=_.shx*this.sx+_.sy*this.shx,Ce=_.shx*this.shy+_.sy*this.sy,He=_.tx*this.sx+_.ty*this.shx+this.tx,Ke=_.tx*this.shy+_.ty*this.sy+this.ty;return new Vt(q,le,ve,Ce,He,Ke)},Vt.prototype.decompose=function(){var _=this.sx,q=this.shy,le=this.shx,ve=this.sy,Ce=this.tx,He=this.ty,Ke=Math.sqrt(_*_+q*q),gt=(_/=Ke)*le+(q/=Ke)*ve;le-=_*gt,ve-=q*gt;var Ct=Math.sqrt(le*le+ve*ve);return gt/=Ct,_*(ve/=Ct)<q*(le/=Ct)&&(_=-_,q=-q,gt=-gt,Ke=-Ke),{scale:new Vt(Ke,0,0,Ct,0,0),translate:new Vt(1,0,0,1,Ce,He),rotate:new Vt(_,q,-q,_,0,0),skew:new Vt(1,0,gt,1,0,0)}},Vt.prototype.toString=function(_){return this.join(" ")},Vt.prototype.inversed=function(){var _=this.sx,q=this.shy,le=this.shx,ve=this.sy,Ce=this.tx,He=this.ty,Ke=1/(_*ve-q*le),gt=ve*Ke,Ct=-q*Ke,Xt=-le*Ke,on=_*Ke;return new Vt(gt,Ct,Xt,on,-gt*Ce-Xt*He,-Ct*Ce-on*He)},Vt.prototype.applyToPoint=function(_){var q=_.x*this.sx+_.y*this.shx+this.tx,le=_.x*this.shy+_.y*this.sy+this.ty;return new gs(q,le)},Vt.prototype.applyToRectangle=function(_){var q=this.applyToPoint(_),le=this.applyToPoint(new gs(_.x+_.w,_.y+_.h));return new Zo(q.x,q.y,le.x-q.x,le.y-q.y)},Vt.prototype.clone=function(){var _=this.sx,q=this.shy,le=this.shx,ve=this.sy,Ce=this.tx,He=this.ty;return new Vt(_,q,le,ve,Ce,He)},g.Matrix=Vt;var Hn=g.matrixMult=function(_,q){return q.multiply(_)},ts=new Vt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=ts;var Cr=function(_,q){if(!Mn[_]){var le=(q instanceof Ou?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);q.id=le,Mn[_]=le,Nt[le]=q,vn.publish("addPattern",q)}};g.ShadingPattern=Ou,g.TilingPattern=Yd,g.addShadingPattern=function(_,q){return C("addShadingPattern()"),Cr(_,q),this},g.beginTilingPattern=function(_){C("beginTilingPattern()"),Hi(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},g.endTilingPattern=function(_,q){C("endTilingPattern()"),q.stream=Xe[Q].join(`
`),Cr(_,q),vn.publish("endTilingPattern",q),Vr.pop().restore()};var ci,Xn=g.__private__.newObject=function(){var _=kr();return er(_,!0),_},kr=g.__private__.newObjectDeferred=function(){return we++,Ee[we]=function(){return Le},we},er=function(_,q){return q=typeof q=="boolean"&&q,Ee[_]=Le,q&&ie(_+" 0 obj"),_},Ns=g.__private__.newAdditionalObject=function(){var _={objId:kr(),content:""};return Ve.push(_),_},co=kr(),Ti=kr(),fs=g.__private__.decodeColorString=function(_){var q=_.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var le=parseFloat(q[0]);q=[le,le,le,"r"]}for(var ve="#",Ce=0;Ce<3;Ce++)ve+=("0"+Math.floor(255*parseFloat(q[Ce])).toString(16)).slice(-2);return ve},Ar=g.__private__.encodeColorString=function(_){var q;typeof _=="string"&&(_={ch1:_});var le=_.ch1,ve=_.ch2,Ce=_.ch3,He=_.ch4,Ke=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var gt=new gE(le);if(gt.ok)le=gt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var Ct=parseInt(le.substr(1),16);le=Ct>>16&255,ve=Ct>>8&255,Ce=255&Ct}if(ve===void 0||He===void 0&&le===ve&&ve===Ce)q=typeof le=="string"?le+" "+Ke[0]:_.precision===2?N(le/255)+" "+Ke[0]:k(le/255)+" "+Ke[0];else if(He===void 0||vr(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return["1.","1.","1.",Ke[1]].join(" ");q=typeof le=="string"?[le,ve,Ce,Ke[1]].join(" "):_.precision===2?[N(le/255),N(ve/255),N(Ce/255),Ke[1]].join(" "):[k(le/255),k(ve/255),k(Ce/255),Ke[1]].join(" ")}else q=typeof le=="string"?[le,ve,Ce,He,Ke[2]].join(" "):_.precision===2?[N(le),N(ve),N(Ce),N(He),Ke[2]].join(" "):[k(le),k(ve),k(Ce),k(He),Ke[2]].join(" ");return q},ui=g.__private__.getFilters=function(){return a},cr=g.__private__.putStream=function(_){var q=(_=_||{}).data||"",le=_.filters||ui(),ve=_.alreadyAppliedFilters||[],Ce=_.addLength1||!1,He=q.length,Ke=_.objectId,gt=function(qr){return qr};if(f!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(gt=Gt.encryptor(Ke,0));var Ct={};le===!0&&(le=["FlateEncode"]);var Xt=_.additionalKeyValues||[],on=(Ct=Ut.API.processDataByFilters!==void 0?Ut.API.processDataByFilters(q,le):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(Ct.data.length!==0&&(Xt.push({key:"Length",value:Ct.data.length}),Ce===!0&&Xt.push({key:"Length1",value:He})),on.length!=0)if(on.split("/").length-1==1)Xt.push({key:"Filter",value:on});else{Xt.push({key:"Filter",value:"["+on+"]"});for(var In=0;In<Xt.length;In+=1)if(Xt[In].key==="DecodeParms"){for(var Wn=[],Rr=0;Rr<Ct.reverseChain.split("/").length-1;Rr+=1)Wn.push("null");Wn.push(Xt[In].value),Xt[In].value="["+Wn.join(" ")+"]"}}ie("<<");for(var tr=0;tr<Xt.length;tr++)ie("/"+Xt[tr].key+" "+Xt[tr].value);ie(">>"),Ct.data.length!==0&&(ie("stream"),ie(gt(Ct.data)),ie("endstream"))},Qs=g.__private__.putPage=function(_){var q=_.number,le=_.data,ve=_.objId,Ce=_.contentsObjId;er(ve,!0),ie("<</Type /Page"),ie("/Parent "+_.rootDictionaryObjId+" 0 R"),ie("/Resources "+_.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(O(_.mediaBox.bottomLeftX))+" "+parseFloat(O(_.mediaBox.bottomLeftY))+" "+O(_.mediaBox.topRightX)+" "+O(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&ie("/CropBox ["+O(_.cropBox.bottomLeftX)+" "+O(_.cropBox.bottomLeftY)+" "+O(_.cropBox.topRightX)+" "+O(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&ie("/BleedBox ["+O(_.bleedBox.bottomLeftX)+" "+O(_.bleedBox.bottomLeftY)+" "+O(_.bleedBox.topRightX)+" "+O(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&ie("/TrimBox ["+O(_.trimBox.bottomLeftX)+" "+O(_.trimBox.bottomLeftY)+" "+O(_.trimBox.topRightX)+" "+O(_.trimBox.topRightY)+"]"),_.artBox!==null&&ie("/ArtBox ["+O(_.artBox.bottomLeftX)+" "+O(_.artBox.bottomLeftY)+" "+O(_.artBox.topRightX)+" "+O(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&ie("/UserUnit "+_.userUnit),vn.publish("putPage",{objId:ve,pageContext:bt[q],pageNumber:q,page:le}),ie("/Contents "+Ce+" 0 R"),ie(">>"),ie("endobj");var He=le.join(`
`);return z===U&&(He+=`
Q`),er(Ce,!0),cr({data:He,filters:ui(),objectId:Ce}),ie("endobj"),ve},ns=g.__private__.putPages=function(){var _,q,le=[];for(_=1;_<=Qt;_++)bt[_].objId=kr(),bt[_].contentsObjId=kr();for(_=1;_<=Qt;_++)le.push(Qs({number:_,data:Xe[_],objId:bt[_].objId,contentsObjId:bt[_].contentsObjId,mediaBox:bt[_].mediaBox,cropBox:bt[_].cropBox,bleedBox:bt[_].bleedBox,trimBox:bt[_].trimBox,artBox:bt[_].artBox,userUnit:bt[_].userUnit,rootDictionaryObjId:co,resourceDictionaryObjId:Ti}));er(co,!0),ie("<</Type /Pages");var ve="/Kids [";for(q=0;q<Qt;q++)ve+=le[q]+" 0 R ";ie(ve+"]"),ie("/Count "+Qt),ie(">>"),ie("endobj"),vn.publish("postPutPages")},Cs=function(_){vn.publish("putFont",{font:_,out:ie,newObject:Xn,putStream:cr}),_.isAlreadyPutted!==!0&&(_.objectNumber=Xn(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+Hd(_.postScriptName)),ie("/Subtype /Type1"),typeof _.encoding=="string"&&ie("/Encoding /"+_.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},As=function(_){_.objectNumber=Xn();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[O(_.x),O(_.y),O(_.x+_.width),O(_.y+_.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var le=_.pages[1].join(`
`);cr({data:le,additionalKeyValues:q,objectId:_.objectNumber}),ie("endobj")},Is=function(_,q){q||(q=21);var le=Xn(),ve=(function(Ke,gt){var Ct,Xt=[],on=1/(gt-1);for(Ct=0;Ct<1;Ct+=on)Xt.push(Ct);if(Xt.push(1),Ke[0].offset!=0){var In={offset:0,color:Ke[0].color};Ke.unshift(In)}if(Ke[Ke.length-1].offset!=1){var Wn={offset:1,color:Ke[Ke.length-1].color};Ke.push(Wn)}for(var Rr="",tr=0,qr=0;qr<Xt.length;qr++){for(Ct=Xt[qr];Ct>Ke[tr+1].offset;)tr++;var Tr=Ke[tr].offset,Hr=(Ct-Tr)/(Ke[tr+1].offset-Tr),Mr=Ke[tr].color,Ts=Ke[tr+1].color;Rr+=he(Math.round((1-Hr)*Mr[0]+Hr*Ts[0]).toString(16))+he(Math.round((1-Hr)*Mr[1]+Hr*Ts[1]).toString(16))+he(Math.round((1-Hr)*Mr[2]+Hr*Ts[2]).toString(16))}return Rr.trim()})(_.colors,q),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+q+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cr({data:ve,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),ie("endobj"),_.objectNumber=Xn(),ie("<< /ShadingType "+_.type),ie("/ColorSpace /DeviceRGB");var He="/Coords ["+O(parseFloat(_.coords[0]))+" "+O(parseFloat(_.coords[1]))+" ";_.type===2?He+=O(parseFloat(_.coords[2]))+" "+O(parseFloat(_.coords[3])):He+=O(parseFloat(_.coords[2]))+" "+O(parseFloat(_.coords[3]))+" "+O(parseFloat(_.coords[4]))+" "+O(parseFloat(_.coords[5])),ie(He+="]"),_.matrix&&ie("/Matrix ["+_.matrix.toString()+"]"),ie("/Function "+le+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},Po=function(_,q){var le=kr(),ve=Xn();q.push({resourcesOid:le,objectOid:ve}),_.objectNumber=ve;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+_.boundingBox.map(O).join(" ")+"]"}),Ce.push({key:"XStep",value:O(_.xStep)}),Ce.push({key:"YStep",value:O(_.yStep)}),Ce.push({key:"Resources",value:le+" 0 R"}),_.matrix&&Ce.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),cr({data:_.stream,additionalKeyValues:Ce,objectId:_.objectNumber}),ie("endobj")},Cl=function(_){for(var q in _.objectNumber=Xn(),ie("<<"),_)switch(q){case"opacity":ie("/ca "+N(_[q]));break;case"stroke-opacity":ie("/CA "+N(_[q]))}ie(">>"),ie("endobj")},Un=function(_){er(_.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var q in ie("/Font <<"),sn)sn.hasOwnProperty(q)&&(w===!1||w===!0&&x.hasOwnProperty(q))&&ie("/"+q+" "+sn[q].objectNumber+" 0 R");ie(">>")})(),(function(){if(Object.keys(Nt).length>0){for(var q in ie("/Shading <<"),Nt)Nt.hasOwnProperty(q)&&Nt[q]instanceof Ou&&Nt[q].objectNumber>=0&&ie("/"+q+" "+Nt[q].objectNumber+" 0 R");vn.publish("putShadingPatternDict"),ie(">>")}})(),(function(q){if(Object.keys(Nt).length>0){for(var le in ie("/Pattern <<"),Nt)Nt.hasOwnProperty(le)&&Nt[le]instanceof g.TilingPattern&&Nt[le].objectNumber>=0&&Nt[le].objectNumber<q&&ie("/"+le+" "+Nt[le].objectNumber+" 0 R");vn.publish("putTilingPatternDict"),ie(">>")}})(_.objectOid),(function(){if(Object.keys(zt).length>0){var q;for(q in ie("/ExtGState <<"),zt)zt.hasOwnProperty(q)&&zt[q].objectNumber>=0&&ie("/"+q+" "+zt[q].objectNumber+" 0 R");vn.publish("putGStateDict"),ie(">>")}})(),(function(){for(var q in ie("/XObject <<"),rn)rn.hasOwnProperty(q)&&rn[q].objectNumber>=0&&ie("/"+q+" "+rn[q].objectNumber+" 0 R");vn.publish("putXobjectDict"),ie(">>")})(),ie(">>"),ie("endobj")},ga=function(_){ft[_.fontName]=ft[_.fontName]||{},ft[_.fontName][_.fontStyle]=_.id},uo=function(_,q,le,ve,Ce){var He={id:"F"+(Object.keys(sn).length+1).toString(10),postScriptName:_,fontName:q,fontStyle:le,encoding:ve,isStandardFont:Ce||!1,metadata:{}};return vn.publish("addFont",{font:He,instance:this}),sn[He.id]=He,ga(He),He.id},Jr=g.__private__.pdfEscape=g.pdfEscape=function(_,q){return(function(le,ve){var Ce,He,Ke,gt,Ct,Xt,on,In,Wn;if(Ke=(ve=ve||{}).sourceEncoding||"Unicode",Ct=ve.outputEncoding,(ve.autoencode||Ct)&&sn[vt].metadata&&sn[vt].metadata[Ke]&&sn[vt].metadata[Ke].encoding&&(gt=sn[vt].metadata[Ke].encoding,!Ct&&sn[vt].encoding&&(Ct=sn[vt].encoding),!Ct&&gt.codePages&&(Ct=gt.codePages[0]),typeof Ct=="string"&&(Ct=gt[Ct]),Ct)){for(on=!1,Xt=[],Ce=0,He=le.length;Ce<He;Ce++)(In=Ct[le.charCodeAt(Ce)])?Xt.push(String.fromCharCode(In)):Xt.push(le[Ce]),Xt[Ce].charCodeAt(0)>>8&&(on=!0);le=Xt.join("")}for(Ce=le.length;on===void 0&&Ce!==0;)le.charCodeAt(Ce-1)>>8&&(on=!0),Ce--;if(!on)return le;for(Xt=ve.noBOM?[]:[254,255],Ce=0,He=le.length;Ce<He;Ce++){if((Wn=(In=le.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Xt.push(Wn),Xt.push(In-(Wn<<8))}return String.fromCharCode.apply(void 0,Xt)})(_,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pi=g.__private__.beginPage=function(_){Xe[++Qt]=[],bt[Qt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Xs(Qt),mt(Xe[Q])},Ko=function(_,q){var le,ve,Ce;switch(t=q||t,typeof _=="string"&&(le=L(_.toLowerCase()),Array.isArray(le)&&(ve=le[0],Ce=le[1])),Array.isArray(_)&&(ve=_[0]*Kt,Ce=_[1]*Kt),isNaN(ve)&&(ve=i[0],Ce=i[1]),(ve>14400||Ce>14400)&&(Nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ce=Math.min(14400,Ce)),i=[ve,Ce],t.substr(0,1)){case"l":Ce>ve&&(i=[Ce,ve]);break;case"p":ve>Ce&&(i=[Ce,ve])}Pi(i),Wt(ms),ie(po),ir!==0&&ie(ir+" J"),Al!==0&&ie(Al+" j"),vn.publish("addPage",{pageNumber:Qt})},ps=function(_){_>0&&_<=Qt&&(Xe.splice(_,1),bt.splice(_,1),Qt--,Q>Qt&&(Q=Qt),this.setPage(Q))},Xs=function(_){_>0&&_<=Qt&&(Q=_)},Di=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Xe.length-1},Qo=function(_,q,le){var ve,Ce=void 0;return le=le||{},_=_!==void 0?_:sn[vt].fontName,q=q!==void 0?q:sn[vt].fontStyle,ve=_.toLowerCase(),ft[ve]!==void 0&&ft[ve][q]!==void 0?Ce=ft[ve][q]:ft[_]!==void 0&&ft[_][q]!==void 0?Ce=ft[_][q]:le.disableWarning===!1&&Nr.warn("Unable to look up font label for font '"+_+"', '"+q+"'. Refer to getFontList() for available fonts."),Ce||le.noFallback||(Ce=ft.times[q])==null&&(Ce=ft.times.normal),Ce},xr=g.__private__.putInfo=function(){var _=Xn(),q=function(ve){return ve};for(var le in f!==null&&(q=Gt.encryptor(_,0)),ie("<<"),ie("/Producer ("+Jr(q("jsPDF "+Ut.version))+")"),nn)nn.hasOwnProperty(le)&&nn[le]&&ie("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Jr(q(nn[le]))+")");ie("/CreationDate ("+Jr(q(ue))+")"),ie(">>"),ie("endobj")},ho=g.__private__.putCatalog=function(_){var q=(_=_||{}).rootDictionaryObjId||co;switch(Xn(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+q+" 0 R"),Pt||(Pt="fullwidth"),Pt){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+Pt;le.substr(le.length-1)==="%"&&(Pt=parseInt(Pt)/100),typeof Pt=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+N(Pt)+"]")}switch(mn||(mn="continuous"),mn){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}xt&&ie("/PageMode /"+xt),vn.publish("putCatalog"),ie(">>"),ie("endobj")},Wa=g.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(we+1)),ie("/Root "+we+" 0 R"),ie("/Info "+(we-1)+" 0 R"),f!==null&&ie("/Encrypt "+Gt.oid+" 0 R"),ie("/ID [ <"+ge+"> <"+ge+"> ]"),ie(">>")},$=g.__private__.putHeader=function(){ie("%PDF-"+A),ie("%")},be=g.__private__.putXRef=function(){var _="0000000000";ie("xref"),ie("0 "+(we+1)),ie("0000000000 65535 f ");for(var q=1;q<=we;q++)typeof Ee[q]=="function"?ie((_+Ee[q]()).slice(-10)+" 00000 n "):Ee[q]!==void 0?ie((_+Ee[q]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},We=g.__private__.buildDocument=function(){var _;we=0,Le=0,Te=[],Ee=[],Ve=[],co=kr(),Ti=kr(),mt(Te),vn.publish("buildDocument"),$(),ns(),(function(){vn.publish("putAdditionalObjects");for(var le=0;le<Ve.length;le++){var ve=Ve[le];er(ve.objId,!0),ie(ve.content),ie("endobj")}vn.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var le in sn)sn.hasOwnProperty(le)&&(w===!1||w===!0&&x.hasOwnProperty(le))&&Cs(sn[le])})(),(function(){var le;for(le in zt)zt.hasOwnProperty(le)&&Cl(zt[le])})(),(function(){for(var le in rn)rn.hasOwnProperty(le)&&As(rn[le])})(),(function(le){var ve;for(ve in Nt)Nt.hasOwnProperty(ve)&&(Nt[ve]instanceof Ou?Is(Nt[ve]):Nt[ve]instanceof Yd&&Po(Nt[ve],le))})(_),vn.publish("putResources"),_.forEach(Un),Un({resourcesOid:Ti,objectOid:Number.MAX_SAFE_INTEGER}),vn.publish("postPutResources"),f!==null&&(Gt.oid=Xn(),ie("<<"),ie("/Filter /Standard"),ie("/V "+Gt.v),ie("/R "+Gt.r),ie("/U <"+Gt.toHexString(Gt.U)+">"),ie("/O <"+Gt.toHexString(Gt.O)+">"),ie("/P "+Gt.P),ie(">>"),ie("endobj")),xr(),ho();var q=Le;return be(),Wa(),ie("startxref"),ie(""+q),ie("%%EOF"),mt(Xe[Q]),Te.join(`
`)},Qe=g.__private__.getBlob=function(_){return new Blob([cn(_)],{type:"application/pdf"})},Rt=g.output=g.__private__.output=(ci=function(_,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",_){case void 0:return We();case"save":g.save(q.filename);break;case"arraybuffer":return cn(We());case"blob":return Qe(We());case"bloburi":case"bloburl":if(hn.URL!==void 0&&typeof hn.URL.createObjectURL=="function")return hn.URL&&hn.URL.createObjectURL(Qe(We()))||void 0;Nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",ve=We();try{le=nx(ve)}catch{le=nx(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+q.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(hn)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",He=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Ce=q.pdfObjectUrl,He="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+He+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",gt=hn.open();return gt!==null&&gt.document.write(Ke),gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(hn)==="[object Window]"){var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',Xt=hn.open();if(Xt!==null){Xt.document.write(Ct);var on=this;Xt.document.documentElement.querySelector("#pdfViewer").onload=function(){Xt.document.title=q.filename,Xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(on.output("bloburl"))}}return Xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(hn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var In='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Wn=hn.open();if(Wn!==null&&(Wn.document.write(In),Wn.document.title=q.filename),Wn||typeof safari>"u")return Wn;break;case"datauri":case"dataurl":return hn.document.location.href=this.output("datauristring",q);default:return null}},ci.foo=function(){try{return ci.apply(this,arguments)}catch(le){var _=le.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var q="Error in function "+_.split(`
`)[0].split("<")[0]+": "+le.message;if(!hn.console)throw new Error(q);hn.console.error(q,le),hn.alert&&alert(q)}},ci.foo.bar=ci,ci.foo),$t=function(_){return Array.isArray(Ii)===!0&&Ii.indexOf(_)>-1};switch(n){case"pt":Kt=1;break;case"mm":Kt=72/25.4;break;case"cm":Kt=72/2.54;break;case"in":Kt=72;break;case"px":Kt=$t("px_scaling")==1?.75:96/72;break;case"pc":case"em":Kt=12;break;case"ex":Kt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Kt=n}var Gt=null;Z(),re();var et=g.__private__.getPageInfo=g.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:bt[_].objId,pageNumber:_,pageContext:bt[_]}},Sn=g.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in bt)if(bt[q].objId===_)break;return et(q)},yn=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:bt[Q].objId,pageNumber:Q,pageContext:bt[Q]}};g.addPage=function(){return Ko.apply(this,arguments),this},g.setPage=function(){return Xs.apply(this,arguments),mt.call(this,Xe[Q]),this},g.insertPage=function(_){return this.addPage(),this.movePage(Q,_),this},g.movePage=function(_,q){var le,ve;if(_>q){le=Xe[_],ve=bt[_];for(var Ce=_;Ce>q;Ce--)Xe[Ce]=Xe[Ce-1],bt[Ce]=bt[Ce-1];Xe[q]=le,bt[q]=ve,this.setPage(q)}else if(_<q){le=Xe[_],ve=bt[_];for(var He=_;He<q;He++)Xe[He]=Xe[He+1],bt[He]=bt[He+1];Xe[q]=le,bt[q]=ve,this.setPage(q)}return this},g.deletePage=function(){return ps.apply(this,arguments),this},g.__private__.text=g.text=function(_,q,le,ve,Ce){var He,Ke,gt,Ct,Xt,on,In,Wn,Rr,tr=(ve=ve||{}).scope||this;if(typeof _=="number"&&typeof q=="number"&&(typeof le=="string"||Array.isArray(le))){var qr=le;le=q,q=_,_=qr}if(arguments[3]instanceof Vt==0?(gt=arguments[4],Ct=arguments[5],vr(In=arguments[3])==="object"&&In!==null||(typeof gt=="string"&&(Ct=gt,gt=null),typeof In=="string"&&(Ct=In,In=null),typeof In=="number"&&(gt=In,In=null),ve={flags:In,angle:gt,align:Ct})):(C("The transform parameter of text() with a Matrix value"),Rr=Ce),isNaN(q)||isNaN(le)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return tr;var Tr,Hr="",Mr=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Ui,Ts=tr.internal.scaleFactor;function go($n){return $n=$n.split("	").join(Array(ve.TabLen||9).join(" ")),Jr($n,In)}function Ps($n){for(var or,$r=$n.concat(),hi=[],Mo=$r.length;Mo--;)typeof(or=$r.shift())=="string"?hi.push(or):Array.isArray($n)&&(or.length===1||or[1]===void 0&&or[2]===void 0)?hi.push(or[0]):hi.push([or[0],or[1],or[2]]);return hi}function m($n,or){var $r;if(typeof $n=="string")$r=or($n)[0];else if(Array.isArray($n)){for(var hi,Mo,hu=$n.concat(),yc=[],Sa=hu.length;Sa--;)typeof(hi=hu.shift())=="string"?yc.push(or(hi)[0]):Array.isArray(hi)&&typeof hi[0]=="string"&&(Mo=or(hi[0],hi[1],hi[2]),yc.push([Mo[0],Mo[1],Mo[2]]));$r=yc}return $r}var I=!1,B=!0;if(typeof _=="string")I=!0;else if(Array.isArray(_)){var ee=_.concat();Ke=[];for(var Ae,Oe=ee.length;Oe--;)(typeof(Ae=ee.shift())!="string"||Array.isArray(Ae)&&typeof Ae[0]!="string")&&(B=!1);I=B}if(I===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var st=Ge/tr.internal.scaleFactor,Dn=st*(Mr-1);switch(ve.baseline){case"bottom":le-=Dn;break;case"top":le+=st-Dn;break;case"hanging":le+=st-2*Dn;break;case"middle":le+=st/2-Dn}if((on=ve.maxWidth||0)>0&&(typeof _=="string"?_=tr.splitTextToSize(_,on):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function($n,or){return $n.concat(tr.splitTextToSize(or,on))},[]))),He={text:_,x:q,y:le,options:ve,mutex:{pdfEscape:Jr,activeFontKey:vt,fonts:sn,activeFontSize:Ge}},vn.publish("preProcessText",He),_=He.text,gt=(ve=He.options).angle,Rr instanceof Vt==0&&gt&&typeof gt=="number"){gt*=Math.PI/180,ve.rotationDirection===0&&(gt=-gt),z===U&&(gt=-gt);var Or=Math.cos(gt),Nn=Math.sin(gt);Rr=new Vt(Or,Nn,-Nn,Or,0,0)}else gt&&gt instanceof Vt&&(Rr=gt);z!==U||Rr||(Rr=ts),(Xt=ve.charSpace||qi)!==void 0&&(Hr+=O(D(Xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wn=ve.horizontalScale)!==void 0&&(Hr+=O(100*Wn)+` Tz
`),ve.lang;var zn=-1,sr=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,$i=tr.internal.getCurrentPageInfo().pageContext;switch(sr){case 0:case!1:case"fill":zn=0;break;case 1:case!0:case"stroke":zn=1;break;case 2:case"fillThenStroke":zn=2;break;case 3:case"invisible":zn=3;break;case 4:case"fillAndAddForClipping":zn=4;break;case 5:case"strokeAndAddPathForClipping":zn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zn=6;break;case 7:case"addToPathForClipping":zn=7}var rs=$i.usedRenderingMode!==void 0?$i.usedRenderingMode:-1;zn!==-1?Hr+=zn+` Tr
`:rs!==-1&&(Hr+=`0 Tr
`),zn!==-1&&($i.usedRenderingMode=zn),Ct=ve.align||"left";var Mi,vo=Ge*Mr,pc=tr.internal.pageSize.getWidth(),mc=sn[vt];Xt=ve.charSpace||qi,on=ve.maxWidth||0,In=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var wa=[],yo=function($n){return tr.getStringUnitWidth($n,{font:mc,charSpace:Xt,fontSize:Ge,doKerning:!1})*Ge/Ts};if(Object.prototype.toString.call(_)==="[object Array]"){var to;Ke=Ps(_),Ct!=="left"&&(Mi=Ke.map(yo));var no,Ka=0;if(Ct==="right"){q-=Mi[0],_=[],Oe=Ke.length;for(var ta=0;ta<Oe;ta++)ta===0?(no=zr(q),to=Do(le)):(no=D(Ka-Mi[ta]),to=-vo),_.push([Ke[ta],no,to]),Ka=Mi[ta]}else if(Ct==="center"){q-=Mi[0]/2,_=[],Oe=Ke.length;for(var ba=0;ba<Oe;ba++)ba===0?(no=zr(q),to=Do(le)):(no=D((Ka-Mi[ba])/2),to=-vo),_.push([Ke[ba],no,to]),Ka=Mi[ba]}else if(Ct==="left"){_=[],Oe=Ke.length;for(var xa=0;xa<Oe;xa++)_.push(Ke[xa])}else if(Ct==="justify"&&mc.encoding==="Identity-H"){_=[],Oe=Ke.length,on=on!==0?on:pc;for(var na=0,ti=0;ti<Oe;ti++)if(to=ti===0?Do(le):-vo,no=ti===0?zr(q):na,ti<Oe-1){var Il=D((on-Mi[ti])/(Ke[ti].split(" ").length-1)),ra=Ke[ti].split(" ");_.push([ra[0]+" ",no,to]),na=0;for(var Ro=1;Ro<ra.length;Ro++){var Tl=(yo(ra[Ro-1]+" "+ra[Ro])-yo(ra[Ro]))*Ts+Il;Ro==ra.length-1?_.push([ra[Ro],Tl,0]):_.push([ra[Ro]+" ",Tl,0]),na-=Tl}}else _.push([Ke[ti],no,to]);_.push(["",na,0])}else{if(Ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Oe=Ke.length,on=on!==0?on:pc,ti=0;ti<Oe;ti++){to=ti===0?Do(le):-vo,no=ti===0?zr(q):0;var Pl=Ke[ti].split(" ").length-1,gc=Pl>0?(on-Mi[ti])/Pl:0;ti<Oe-1?wa.push(O(D(gc))):wa.push(0),_.push([Ke[ti],no,to])}}}(typeof ve.R2L=="boolean"?ve.R2L:Dt)===!0&&(_=m(_,function($n,or,$r){return[$n.split("").reverse().join(""),or,$r]})),He={text:_,x:q,y:le,options:ve,mutex:{pdfEscape:Jr,activeFontKey:vt,fonts:sn,activeFontSize:Ge}},vn.publish("postProcessText",He),_=He.text,Tr=He.mutex.isHex||!1;var vc=sn[vt].encoding;vc!=="WinAnsiEncoding"&&vc!=="StandardEncoding"||(_=m(_,function($n,or,$r){return[go($n),or,$r]})),Ke=Ps(_),_=[];for(var _a,Qa,Xa,Dl=Array.isArray(Ke[0])?1:0,Ja="",Ll=function($n,or,$r){var hi="";return $r instanceof Vt?($r=typeof ve.angle=="number"?Hn($r,new Vt(1,0,0,1,$n,or)):Hn(new Vt(1,0,0,1,$n,or),$r),z===U&&($r=Hn(new Vt(1,0,0,-1,0,0),$r)),hi=$r.join(" ")+` Tm
`):hi=O($n)+" "+O(or)+` Td
`,hi},Wr=0;Wr<Ke.length;Wr++){switch(Ja="",Dl){case 1:Xa=(Tr?"<":"(")+Ke[Wr][0]+(Tr?">":")"),_a=parseFloat(Ke[Wr][1]),Qa=parseFloat(Ke[Wr][2]);break;case 0:Xa=(Tr?"<":"(")+Ke[Wr]+(Tr?">":")"),_a=zr(q),Qa=Do(le)}wa!==void 0&&wa[Wr]!==void 0&&(Ja=wa[Wr]+` Tw
`),Wr===0?_.push(Ja+Ll(_a,Qa,Rr)+Xa):Dl===0?_.push(Ja+Xa):Dl===1&&_.push(Ja+Ll(_a,Qa,Rr)+Xa)}_=Dl===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Ds=`BT
/`;return Ds+=vt+" "+Ge+` Tf
`,Ds+=O(Ge*Mr)+` TL
`,Ds+=zi+`
`,Ds+=Hr,Ds+=_,ie(Ds+="ET"),x[vt]=!0,tr};var kn=g.__private__.clip=g.clip=function(_){return ie(_==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return kn("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ie("n"),this};var qt=g.__private__.isValidStyle=function(_){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(q=!0),q};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(_){return qt(_)&&(d=_),this};var _r=g.__private__.getStyle=g.getStyle=function(_){var q=d;switch(_){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=_}return q},ut=g.close=function(){return ie("h"),this};g.stroke=function(){return ie("S"),this},g.fill=function(_){return Ht("f",_),this},g.fillEvenOdd=function(_){return Ht("f*",_),this},g.fillStroke=function(_){return Ht("B",_),this},g.fillStrokeEvenOdd=function(_){return Ht("B*",_),this};var Ht=function(_,q){vr(q)==="object"?Zr(q,_):ie(_)},ur=function(_){_===null||z===U&&_===void 0||(_=_r(_),ie(_))};function Ir(_,q,le,ve,Ce){var He=new Yd(q||this.boundingBox,le||this.xStep,ve||this.yStep,this.gState,Ce||this.matrix);He.stream=this.stream;var Ke=_+"$$"+this.cloneIndex+++"$$";return Cr(Ke,He),He}var Zr=function(_,q){var le=Mn[_.key],ve=Nt[le];if(ve instanceof Ou)ie("q"),ie(dr(q)),ve.gState&&g.setGState(ve.gState),ie(_.matrix.toString()+" cm"),ie("/"+le+" sh"),ie("Q");else if(ve instanceof Yd){var Ce=new Vt(1,0,0,-1,0,Wi());_.matrix&&(Ce=Ce.multiply(_.matrix||ts),le=Ir.call(ve,_.key,_.boundingBox,_.xStep,_.yStep,Ce).id),ie("q"),ie("/Pattern cs"),ie("/"+le+" scn"),ve.gState&&g.setGState(ve.gState),ie(q),ie("Q")}},dr=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ei=g.moveTo=function(_,q){return ie(O(D(_))+" "+O(X(q))+" m"),this},Js=g.lineTo=function(_,q){return ie(O(D(_))+" "+O(X(q))+" l"),this},Ur=g.curveTo=function(_,q,le,ve,Ce,He){return ie([O(D(_)),O(X(q)),O(D(le)),O(X(ve)),O(D(Ce)),O(X(He)),"c"].join(" ")),this};g.__private__.line=g.line=function(_,q,le,ve,Ce){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(ve)||!qt(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return z===V?this.lines([[le-_,ve-q]],_,q,[1,1],Ce||"S"):this.lines([[le-_,ve-q]],_,q,[1,1]).stroke()},g.__private__.lines=g.lines=function(_,q,le,ve,Ce,He){var Ke,gt,Ct,Xt,on,In,Wn,Rr,tr,qr,Tr,Hr;if(typeof _=="number"&&(Hr=le,le=q,q=_,_=Hr),ve=ve||[1,1],He=He||!1,isNaN(q)||isNaN(le)||!Array.isArray(_)||!Array.isArray(ve)||!qt(Ce)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ei(q,le),Ke=ve[0],gt=ve[1],Xt=_.length,qr=q,Tr=le,Ct=0;Ct<Xt;Ct++)(on=_[Ct]).length===2?(qr=on[0]*Ke+qr,Tr=on[1]*gt+Tr,Js(qr,Tr)):(In=on[0]*Ke+qr,Wn=on[1]*gt+Tr,Rr=on[2]*Ke+qr,tr=on[3]*gt+Tr,qr=on[4]*Ke+qr,Tr=on[5]*gt+Tr,Ur(In,Wn,Rr,tr,qr,Tr));return He&&ut(),ur(Ce),this},g.path=function(_){for(var q=0;q<_.length;q++){var le=_[q],ve=le.c;switch(le.op){case"m":ei(ve[0],ve[1]);break;case"l":Js(ve[0],ve[1]);break;case"c":Ur.apply(this,ve);break;case"h":ut()}}return this},g.__private__.rect=g.rect=function(_,q,le,ve,Ce){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(ve)||!qt(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return z===V&&(ve=-ve),ie([O(D(_)),O(X(q)),O(D(le)),O(D(ve)),"re"].join(" ")),ur(Ce),this},g.__private__.triangle=g.triangle=function(_,q,le,ve,Ce,He,Ke){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(ve)||isNaN(Ce)||isNaN(He)||!qt(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-_,ve-q],[Ce-le,He-ve],[_-Ce,q-He]],_,q,[1,1],Ke,!0),this},g.__private__.roundedRect=g.roundedRect=function(_,q,le,ve,Ce,He,Ke){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(ve)||isNaN(Ce)||isNaN(He)||!qt(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var gt=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*le),He=Math.min(He,.5*ve),this.lines([[le-2*Ce,0],[Ce*gt,0,Ce,He-He*gt,Ce,He],[0,ve-2*He],[0,He*gt,-Ce*gt,He,-Ce,He],[2*Ce-le,0],[-Ce*gt,0,-Ce,-He*gt,-Ce,-He],[0,2*He-ve],[0,-He*gt,Ce*gt,-He,Ce,-He]],_+Ce,q,[1,1],Ke,!0),this},g.__private__.ellipse=g.ellipse=function(_,q,le,ve,Ce){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(ve)||!qt(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*le,Ke=4/3*(Math.SQRT2-1)*ve;return ei(_+le,q),Ur(_+le,q-Ke,_+He,q-ve,_,q-ve),Ur(_-He,q-ve,_-le,q-Ke,_-le,q),Ur(_-le,q+Ke,_-He,q+ve,_,q+ve),Ur(_+He,q+ve,_+le,q+Ke,_+le,q),ur(Ce),this},g.__private__.circle=g.circle=function(_,q,le,ve){if(isNaN(_)||isNaN(q)||isNaN(le)||!qt(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,q,le,le,ve)},g.setFont=function(_,q,le){return le&&(q=W(q,le)),vt=Qo(_,q,{disableWarning:!1}),this};var wi=g.__private__.getFont=g.getFont=function(){return sn[Qo.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var _,q,le={};for(_ in ft)if(ft.hasOwnProperty(_))for(q in le[_]=[],ft[_])ft[_].hasOwnProperty(q)&&le[_].push(q);return le},g.addFont=function(_,q,le,ve,Ce){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(le=W(le,ve)),uo.call(this,_,q,le,Ce=Ce||"Identity-H")};var Ui,ms=r.lineWidth||.200025,Xo=g.__private__.getLineWidth=g.getLineWidth=function(){return ms},Wt=g.__private__.setLineWidth=g.setLineWidth=function(_){return ms=_,ie(O(D(_))+" w"),this};g.__private__.setLineDash=Ut.API.setLineDash=Ut.API.setLineDashPattern=function(_,q){if(_=_||[],q=q||0,isNaN(q)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(le){return O(D(le))}).join(" "),q=O(D(q)),ie("["+_+"] "+q+" d"),this};var fo=g.__private__.getLineHeight=g.getLineHeight=function(){return Ge*Ui};g.__private__.getLineHeight=g.getLineHeight=function(){return Ge*Ui};var du=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(Ui=_),this},hc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ui};du(r.lineHeight);var zr=g.__private__.getHorizontalCoordinate=function(_){return D(_)},Do=g.__private__.getVerticalCoordinate=function(_){return z===U?_:bt[Q].mediaBox.topRightY-bt[Q].mediaBox.bottomLeftY-D(_)},fc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(_){return O(zr(_))},Lo=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(_){return O(Do(_))},po=r.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return fs(po)},g.__private__.setStrokeColor=g.setDrawColor=function(_,q,le,ve){return po=Ar({ch1:_,ch2:q,ch3:le,ch4:ve,pdfColorType:"draw",precision:2}),ie(po),this};var $a=r.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return fs($a)},g.__private__.setFillColor=g.setFillColor=function(_,q,le,ve){return $a=Ar({ch1:_,ch2:q,ch3:le,ch4:ve,pdfColorType:"fill",precision:2}),ie($a),this};var zi=r.textColor||"0 g",Zs=g.__private__.getTextColor=g.getTextColor=function(){return fs(zi)};g.__private__.setTextColor=g.setTextColor=function(_,q,le,ve){return zi=Ar({ch1:_,ch2:q,ch3:le,ch4:ve,pdfColorType:"text",precision:3}),this};var qi=r.charSpace,Jo=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(qi||0)};g.__private__.setCharSpace=g.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return qi=_,this};var ir=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(_){var q=g.CapJoinStyles[_];if(q===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ir=q,ie(q+" J"),this};var Al=0;g.__private__.setLineJoin=g.setLineJoin=function(_){var q=g.CapJoinStyles[_];if(q===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Al=q,ie(q+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(O(D(_))+" M"),this},g.GState=l0,g.setGState=function(_){(_=typeof _=="string"?zt[Jt[_]]:Ya(null,_)).equals(gn)||(ie("/"+_.id+" gs"),gn=_)};var Ya=function(_,q){if(!_||!Jt[_]){var le=!1;for(var ve in zt)if(zt.hasOwnProperty(ve)&&zt[ve].equals(q)){le=!0;break}if(le)q=zt[ve];else{var Ce="GS"+(Object.keys(zt).length+1).toString(10);zt[Ce]=q,q.id=Ce}return _&&(Jt[_]=q.id),vn.publish("addGState",q),q}};g.addGState=function(_,q){return Ya(_,q),this},g.saveGraphicsState=function(){return ie("q"),Vn.push({key:vt,size:Ge,color:zi}),this},g.restoreGraphicsState=function(){ie("Q");var _=Vn.pop();return vt=_.key,Ge=_.size,zi=_.color,gn=null,this},g.setCurrentTransformationMatrix=function(_){return ie(_.toString()+" cm"),this},g.comment=function(_){return ie("#"+_),this};var gs=function(_,q){var le=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(He){isNaN(He)||(le=parseFloat(He))}});var ve=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(He){isNaN(He)||(ve=parseFloat(He))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(He){Ce=He.toString()}}),this},Zo=function(_,q,le,ve){gs.call(this,_,q),this.type="rect";var Ce=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(Ke){isNaN(Ke)||(Ce=parseFloat(Ke))}});var He=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(Ke){isNaN(Ke)||(He=parseFloat(Ke))}}),this},ea=function(){this.page=Qt,this.currentPage=Q,this.pages=Xe.slice(0),this.pagesContext=bt.slice(0),this.x=Fe,this.y=Bn,this.matrix=kt,this.width=Li(Q),this.height=va(Q),this.outputDestination=rt,this.id="",this.objectNumber=-1};ea.prototype.restore=function(){Qt=this.page,Q=this.currentPage,bt=this.pagesContext,Xe=this.pages,Fe=this.x,Bn=this.y,kt=this.matrix,Ga(Q,this.width),Ri(Q,this.height),rt=this.outputDestination};var Hi=function(_,q,le,ve,Ce){Vr.push(new ea),Qt=Q=0,Xe=[],Fe=_,Bn=q,kt=Ce,Pi([le,ve])};for(var mo in g.beginFormObject=function(_,q,le,ve,Ce){return Hi(_,q,le,ve,Ce),this},g.endFormObject=function(_){return(function(q){if(br[q])Vr.pop().restore();else{var le=new ea,ve="Xo"+(Object.keys(rn).length+1).toString(10);le.id=ve,br[q]=ve,rn[ve]=le,vn.publish("addFormObject",le),Vr.pop().restore()}})(_),this},g.doFormObject=function(_,q){var le=rn[br[_]];return ie("q"),ie(q.toString()+" cm"),ie("/"+le.id+" Do"),ie("Q"),this},g.getFormObject=function(_){var q=rn[br[_]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},g.save=function(_,q){return _=_||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Mu(Qe(We()),_),typeof Mu.unload=="function"&&hn.setTimeout&&setTimeout(Mu.unload,911),this):new Promise(function(le,ve){try{var Ce=Mu(Qe(We()),_);typeof Mu.unload=="function"&&hn.setTimeout&&setTimeout(Mu.unload,911),le(Ce)}catch(He){ve(He.message)}})},Ut.API)Ut.API.hasOwnProperty(mo)&&(mo==="events"&&Ut.API.events.length?(function(_,q){var le,ve,Ce;for(Ce=q.length-1;Ce!==-1;Ce--)le=q[Ce][0],ve=q[Ce][1],_.subscribe.apply(_,[le].concat(typeof ve=="function"?[ve]:ve))})(vn,Ut.API.events):g[mo]=Ut.API[mo]);function Li(_){return bt[_].mediaBox.topRightX-bt[_].mediaBox.bottomLeftX}function Ga(_,q){bt[_].mediaBox.topRightX=q+bt[_].mediaBox.bottomLeftX}function va(_){return bt[_].mediaBox.topRightY-bt[_].mediaBox.bottomLeftY}function Ri(_,q){bt[_].mediaBox.topRightY=q+bt[_].mediaBox.bottomLeftY}var eo=g.getPageWidth=function(_){return Li(_=_||Q)/Kt},di=g.setPageWidth=function(_,q){Ga(_,q*Kt)},Wi=g.getPageHeight=function(_){return va(_=_||Q)/Kt},ya=g.setPageHeight=function(_,q){Ri(_,q*Kt)};return g.internal={pdfEscape:Jr,getStyle:_r,getFont:wi,getFontSize:dt,getCharSpace:Jo,getTextColor:Zs,getLineHeight:fo,getLineHeightFactor:hc,getLineWidth:Xo,write:at,getHorizontalCoordinate:zr,getVerticalCoordinate:Do,getCoordinateString:fc,getVerticalCoordinateString:Lo,collections:{},newObject:Xn,newAdditionalObject:Ns,newObjectDeferred:kr,newObjectDeferredBegin:er,getFilters:ui,putStream:cr,events:vn,scaleFactor:Kt,pageSize:{getWidth:function(){return eo(Q)},setWidth:function(_){di(Q,_)},getHeight:function(){return Wi(Q)},setHeight:function(_){ya(Q,_)}},encryptionOptions:f,encryption:Gt,getEncryptor:function(_){return f!==null?Gt.encryptor(_,0):function(q){return q}},output:Rt,getNumberOfPages:Di,get pages(){return Xe},out:ie,f2:N,f3:k,getPageInfo:et,getPageInfoByObjId:Sn,getCurrentPageInfo:yn,getPDFVersion:R,Point:gs,Rectangle:Zo,Matrix:Vt,hasHotfix:$t},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return eo(Q)},set:function(_){di(Q,_)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Wi(Q)},set:function(_){ya(Q,_)},enumerable:!0,configurable:!0}),(function(_){for(var q=0,le=Tt.length;q<le;q++){var ve=uo.call(this,_[q][0],_[q][1],_[q][2],Tt[q][3],!0);w===!1&&(x[ve]=!0);var Ce=_[q][0].split("-");ga({id:ve,fontName:Ce[0],fontStyle:Ce[1]||""})}vn.publish("addFonts",{fonts:sn,dictionary:ft})}).call(g,Tt),vt="F1",Ko(i,t),vn.publish("initialized"),g}qd.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},qd.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qd.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},qd.prototype.processOwnerPassword=function(r,e){return w1(y1(e).substr(0,5),r)},qd.prototype.encryptor=function(r,e){var t=y1(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return w1(t,n)}},l0.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||vr(r)!==vr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Ut.API={events:[]},Ut.version="3.0.4";var vi=Ut.API,Uy=1,cd=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Od=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bn=function(r){return r.toFixed(2)},Vc=function(r){return r.toFixed(5)};vi.__acroform__={};var To=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},ox=function(r){return r*Uy},ol=function(r){var e=new bE,t=It.internal.getHeight(r)||0,n=It.internal.getWidth(r)||0;return e.BBox=[0,0,Number(bn(n)),Number(bn(t))],e},KO=vi.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},QO=vi.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},XO=vi.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},ki=vi.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return XO(r,e-1)},Ei=vi.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return KO(r,e-1)},Ni=vi.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return QO(r,e-1)},JO=vi.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],s=r[1],a=r[2],c=r[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=n(s+c)||0,u.upperRight_X=t(i+a)||0,u.upperRight_Y=n(s)||0,[Number(bn(u.lowerLeft_X)),Number(bn(u.lowerLeft_Y)),Number(bn(u.upperRight_X)),Number(bn(u.upperRight_Y))]},ZO=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=b1(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+bn(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ol(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},b1=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var s=t,a=It.internal.getHeight(r)||0;a=a<0?-a:a;var c=It.internal.getWidth(r)||0;c=c<0?-c:c;var u=function(N,k,D){if(N+1<i.length){var X=k+" "+i[N+1][0];return sm(X,r,D).width<=c-4}return!1};s++;e:for(;s>0;){e="",s--;var d,f,w=sm("3",r,s).height,x=r.multiline?a-s:(a-w)/2,g=x+=2,A=0,R=0,P=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+sm(e,r,s=12).width+", FieldWidth:"+c+`
`;break}for(var L="",V=0,U=0;U<i.length;U++)if(i.hasOwnProperty(U)){var z=!1;if(i[U].length!==1&&P!==i[U].length-1){if((w+2)*(V+2)+2>a)continue e;L+=i[U][P],z=!0,R=U,U--}else{L=(L+=i[U][P]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var ne=parseInt(U),ce=u(ne,L,s),W=U>=i.length-1;if(ce&&!W){L+=" ",P=0;continue}if(ce||W){if(W)R=ne;else if(r.multiline&&(w+2)*(V+2)+2>a)continue e}else{if(!r.multiline||(w+2)*(V+2)+2>a)continue e;R=ne}}for(var O="",C=A;C<=R;C++){var j=i[C];if(r.multiline){if(C===R){O+=j[P]+" ",P=(P+1)%j.length;continue}if(C===A){O+=j[j.length-1]+" ";continue}}O+=j[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,f=sm(O,r,s).width,r.textAlign){case"right":d=c-f-2;break;case"center":d=(c-f)/2;break;default:d=2}e+=bn(d)+" "+bn(g)+` Td
`,e+="("+cd(O)+`) Tj
`,e+=-bn(d)+` 0 Td
`,g=-(s+2),f=0,A=z?R:R+1,V++,L=""}break}return n.text=e,n.fontSize=s,n},sm=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},e7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},t7=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},n7=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(qa.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(e7)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Uy=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new xE,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&t7(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var c=n[a],u=[],d=c.Rect;if(c.Rect&&(c.Rect=JO(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=It.createDefaultAppearanceStream(c),vr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var f=ZO(c);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(c.appearanceStreamContent){var w="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var g=c.appearanceStreamContent[x];if(w+="/"+x+" ",w+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var A=g[a];typeof A=="function"&&(A=A.call(i,c)),w+="/"+a+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else typeof(A=g)=="function"&&(A=A.call(i,c)),w+="/"+a+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);w+=">>"}u.push({key:"AP",value:`<<
`+w+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:c.objId}),i.internal.out("endobj")}s&&(function(R,P){for(var L in R)if(R.hasOwnProperty(L)){var V=L,U=R[L];P.internal.newObjectDeferredBegin(U.objId,!0),vr(U)==="object"&&typeof U.putStream=="function"&&U.putStream(),delete R[V]}})(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},wE=vi.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),vr(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+cd(n(r[s].toString()))+")"):i+=r[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ev=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+cd(n(r))+")"},ml=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ml.prototype.toString=function(){return this.objId+" 0 R"},ml.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},ml.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:wE(i,this.objId,this.scope)}):i instanceof ml?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var bE=function(){ml.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};To(bE,ml);var xE=function(){ml.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+cd(t(r))+")"}},set:function(t){r=t}})};To(xE,ml);var qa=function r(){ml.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ki(e,3)},set:function(L){L?this.F=Ei(e,3):this.F=Ni(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');t=L}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(L){n=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(L){n[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(L){n[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(L){n[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(L){n[3]=L}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof c0)return;s="FieldObject"+r.FieldNum++}var L=function(V){return V};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+cd(L(s))+")"},set:function(L){s=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(L){s=L}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(L){a=L}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(L){u=L}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Uy:d},set:function(L){d=L}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(L){f=L}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof c0||this instanceof Yu))return Ev(w,this.objId,this.scope)},set:function(L){L=L.toString(),w=L}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof ds==0?Ev(x,this.objId,this.scope):x},set:function(L){L=L.toString(),x=this instanceof ds==0?L.substr(0,1)==="("?Od(L.substr(1,L.length-2)):Od(L):L}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ds==1?Od(x.substr(1,x.length-1)):x},set:function(L){L=L.toString(),x=this instanceof ds==1?"/"+L:L}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ds==0?Ev(g,this.objId,this.scope):g},set:function(L){L=L.toString(),g=this instanceof ds==0?L.substr(0,1)==="("?Od(L.substr(1,L.length-2)):Od(L):L}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ds==1?Od(g.substr(1,g.length-1)):g},set:function(L){L=L.toString(),g=this instanceof ds==1?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,R=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return R},set:function(L){L=!!L,R=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(L){A=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,1)},set:function(L){L?this.Ff=Ei(this.Ff,1):this.Ff=Ni(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,2)},set:function(L){L?this.Ff=Ei(this.Ff,2):this.Ff=Ni(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,3)},set:function(L){L?this.Ff=Ei(this.Ff,3):this.Ff=Ni(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');P=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(P){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:P=2;break;case"center":case 1:P=1;break;default:P=0}}})};To(qa,ml);var th=function(){qa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wE(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=(function(s,a,c){c||(c=1);for(var u,d=[];u=a.exec(s);)d.push(u[c]);return d})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,18)},set:function(t){t?this.Ff=Ei(this.Ff,18):this.Ff=Ni(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ei(this.Ff,19):this.Ff=Ni(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,20)},set:function(t){t?(this.Ff=Ei(this.Ff,20),e.sort()):this.Ff=Ni(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,22)},set:function(t){t?this.Ff=Ei(this.Ff,22):this.Ff=Ni(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,23)},set:function(t){t?this.Ff=Ei(this.Ff,23):this.Ff=Ni(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,27)},set:function(t){t?this.Ff=Ei(this.Ff,27):this.Ff=Ni(this.Ff,27)}}),this.hasAppearanceStream=!1};To(th,qa);var nh=function(){th.call(this),this.fontName="helvetica",this.combo=!1};To(nh,th);var rh=function(){nh.call(this),this.combo=!0};To(rh,nh);var Nm=function(){rh.call(this),this.edit=!0};To(Nm,rh);var ds=function(){qa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,15)},set:function(t){t?this.Ff=Ei(this.Ff,15):this.Ff=Ni(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,16)},set:function(t){t?this.Ff=Ei(this.Ff,16):this.Ff=Ni(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,17)},set:function(t){t?this.Ff=Ei(this.Ff,17):this.Ff=Ni(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,26)},set:function(t){t?this.Ff=Ei(this.Ff,26):this.Ff=Ni(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+cd(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){vr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};To(ds,qa);var Cm=function(){ds.call(this),this.pushButton=!0};To(Cm,ds);var ih=function(){ds.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};To(ih,ds);var c0=function(){var r,e;qa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+cd(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){vr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=It.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};To(c0,qa),ih.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},ih.prototype.createOption=function(r){var e=new c0;return e.Parent=this,e.optionName=r,this.Kids.push(e),r7.call(this.scope,e),e};var Am=function(){ds.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=It.CheckBox.createAppearanceStream()};To(Am,ds);var Yu=function(){qa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,13)},set:function(e){e?this.Ff=Ei(this.Ff,13):this.Ff=Ni(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,21)},set:function(e){e?this.Ff=Ei(this.Ff,21):this.Ff=Ni(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,23)},set:function(e){e?this.Ff=Ei(this.Ff,23):this.Ff=Ni(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,24)},set:function(e){e?this.Ff=Ei(this.Ff,24):this.Ff=Ni(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,25)},set:function(e){e?this.Ff=Ei(this.Ff,25):this.Ff=Ni(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,26)},set:function(e){e?this.Ff=Ei(this.Ff,26):this.Ff=Ni(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};To(Yu,qa);var Im=function(){Yu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,14)},set:function(r){r?this.Ff=Ei(this.Ff,14):this.Ff=Ni(this.Ff,14)}}),this.password=!0};To(Im,Yu);var It={CheckBox:{createAppearanceStream:function(){return{N:{On:It.CheckBox.YesNormal},D:{On:It.CheckBox.YesPushDown,Off:It.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=ol(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=b1(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+bn(It.internal.getWidth(r))+" "+bn(It.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+bn(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=ol(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=It.internal.getHeight(r),a=It.internal.getWidth(r),c=b1(r,r.caption);return i.push("1 g"),i.push("0 0 "+bn(a)+" "+bn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+bn(a-1)+" "+bn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+bn(c.fontSize)+" Tf "+n),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=ol(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bn(It.internal.getWidth(r))+" "+bn(It.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:It.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=It.RadioButton.Circle.YesNormal,e.D[r]=It.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=ol(r);e.scope=r.scope;var t=[],n=It.internal.getWidth(r)<=It.internal.getHeight(r)?It.internal.getWidth(r)/4:It.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=It.internal.Bezier_C,s=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Vc(It.internal.getWidth(r)/2)+" "+Vc(It.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ol(r);e.scope=r.scope;var t=[],n=It.internal.getWidth(r)<=It.internal.getHeight(r)?It.internal.getWidth(r)/4:It.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*It.internal.Bezier_C).toFixed(5)),a=Number((n*It.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Vc(It.internal.getWidth(r)/2)+" "+Vc(It.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Vc(It.internal.getWidth(r)/2)+" "+Vc(It.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=ol(r);e.scope=r.scope;var t=[],n=It.internal.getWidth(r)<=It.internal.getHeight(r)?It.internal.getWidth(r)/4:It.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*It.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Vc(It.internal.getWidth(r)/2)+" "+Vc(It.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:It.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=It.RadioButton.Cross.YesNormal,e.D[r]=It.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=ol(r);e.scope=r.scope;var t=[],n=It.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+bn(It.internal.getWidth(r)-2)+" "+bn(It.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(bn(n.x1.x)+" "+bn(n.x1.y)+" m"),t.push(bn(n.x2.x)+" "+bn(n.x2.y)+" l"),t.push(bn(n.x4.x)+" "+bn(n.x4.y)+" m"),t.push(bn(n.x3.x)+" "+bn(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ol(r);e.scope=r.scope;var t=It.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+bn(It.internal.getWidth(r))+" "+bn(It.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+bn(It.internal.getWidth(r)-2)+" "+bn(It.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(bn(t.x1.x)+" "+bn(t.x1.y)+" m"),n.push(bn(t.x2.x)+" "+bn(t.x2.y)+" l"),n.push(bn(t.x4.x)+" "+bn(t.x4.y)+" m"),n.push(bn(t.x3.x)+" "+bn(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=ol(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bn(It.internal.getWidth(r))+" "+bn(It.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};It.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=It.internal.getWidth(r),t=It.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},It.internal.getWidth=function(r){var e=0;return vr(r)==="object"&&(e=ox(r.Rect[2])),e},It.internal.getHeight=function(r){var e=0;return vr(r)==="object"&&(e=ox(r.Rect[3])),e};var r7=vi.addField=function(r){if(n7(this,r),!(r instanceof qa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};vi.AcroFormChoiceField=th,vi.AcroFormListBox=nh,vi.AcroFormComboBox=rh,vi.AcroFormEditBox=Nm,vi.AcroFormButton=ds,vi.AcroFormPushButton=Cm,vi.AcroFormRadioButton=ih,vi.AcroFormCheckBox=Am,vi.AcroFormTextField=Yu,vi.AcroFormPasswordField=Im,vi.AcroFormAppearance=It,vi.AcroForm={ChoiceField:th,ListBox:nh,ComboBox:rh,EditBox:Nm,Button:ds,PushButton:Cm,RadioButton:ih,CheckBox:Am,TextField:Yu,PasswordField:Im,Appearance:It},Ut.AcroForm={ChoiceField:th,ListBox:nh,ComboBox:rh,EditBox:Nm,Button:ds,PushButton:Cm,RadioButton:ih,CheckBox:Am,TextField:Yu,PasswordField:Im,Appearance:It};Ut.AcroForm;function _E(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(N,k){var D,X,ue,ge,me,re=t;if((k=k||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(ce(N))for(me in n)for(ue=n[me],D=0;D<ue.length;D+=1){for(ge=!0,X=0;X<ue[D].length;X+=1)if(ue[D][X]!==void 0&&ue[D][X]!==N[X]){ge=!1;break}if(ge===!0){re=me;break}}else for(me in n)for(ue=n[me],D=0;D<ue.length;D+=1){for(ge=!0,X=0;X<ue[D].length;X+=1)if(ue[D][X]!==void 0&&ue[D][X]!==N.charCodeAt(X)){ge=!1;break}if(ge===!0){re=me;break}}return re===t&&k!==t&&(re=k),re},s=function N(k){for(var D=this.internal.write,X=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:k.width}),ge.push({key:"Height",value:k.height}),k.colorSpace===L.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===L.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var me="",re=0,ye=k.transparency.length;re<ye;re++)me+=k.transparency[re]+" "+k.transparency[re]+" ";ge.push({key:"Mask",value:"["+me+"]"})}k.sMask!==void 0&&ge.push({key:"SMask",value:k.objectId+1+" 0 R"});var de=k.filter!==void 0?["/"+k.filter]:void 0;if(X({data:k.data,additionalKeyValues:ge,alreadyAppliedFilters:de,objectId:k.objectId}),D("endobj"),"sMask"in k&&k.sMask!==void 0){var Z,F=(Z=k.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:k.bitsPerComponent,Q={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:k.sMask};"filter"in k&&(Q.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(k.width),Q.filter=k.filter),N.call(this,Q)}if(k.colorSpace===L.INDEXED){var se=this.internal.newObject();X({data:O(new Uint8Array(k.palette)),objectId:se}),D("endobj")}},a=function(){var N=this.internal.collections[e+"images"];for(var k in N)s.call(this,N[k])},c=function(){var N,k=this.internal.collections[e+"images"],D=this.internal.write;for(var X in k)D("/I"+(N=k[X]).index,N.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var N=this.internal.collections[e+"images"];return u.call(this),N},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(N){return typeof r["process"+N.toUpperCase()]=="function"},x=function(N){return vr(N)==="object"&&N.nodeType===1},g=function(N,k){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var D=""+N.getAttribute("src");if(D.indexOf("data:image/")===0)return Em(unescape(D).split("base64,").pop());var X=r.loadFile(D,!0);if(X!==void 0)return X}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var ue;switch(k){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return Em(N.toDataURL(ue,1).split("base64,").pop())}},A=function(N){var k=this.internal.collections[e+"images"];if(k){for(var D in k)if(N===k[D].alias)return k[D]}},R=function(N,k,D){return N||k||(N=-96,k=-96),N<0&&(N=-1*D.width*72/N/this.internal.scaleFactor),k<0&&(k=-1*D.height*72/k/this.internal.scaleFactor),N===0&&(N=k*D.width/D.height),k===0&&(k=N*D.height/D.width),[N,k]},P=function(N,k,D,X,ue,ge){var me=R.call(this,D,X,ue),re=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,de=d.call(this);if(D=me[0],X=me[1],de[ue.index]=ue,ge){ge*=Math.PI/180;var Z=Math.cos(ge),F=Math.sin(ge),Q=function(he){return he.toFixed(4)},se=[Q(Z),Q(F),Q(-1*F),Q(Z),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,re(N),ye(k+X),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([re(D),"0","0",re(X),"0","0","cm"].join(" "))):this.internal.write([re(D),"0","0",re(X),re(N),ye(k+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},L=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var V=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},U=r.__addimage__.sHashCode=function(N){var k,D,X=0;if(typeof N=="string")for(D=N.length,k=0;k<D;k++)X=(X<<5)-X+N.charCodeAt(k),X|=0;else if(ce(N))for(D=N.byteLength/2,k=0;k<D;k++)X=(X<<5)-X+N[k],X|=0;return X},z=r.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var k=!0;return N.length===0&&(k=!1),N.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(k=!1),k},ne=r.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var k=N.indexOf(",");return k<0?null:N.substring(0,k).trim().endsWith("base64")?N.substring(k+1):null};r.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var ce=r.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},W=r.__addimage__.binaryStringToUint8Array=function(N){for(var k=N.length,D=new Uint8Array(k),X=0;X<k;X++)D[X]=N.charCodeAt(X);return D},O=r.__addimage__.arrayBufferToBinaryString=function(N){for(var k="",D=ce(N)?N:new Uint8Array(N),X=0;X<D.length;X+=8192)k+=String.fromCharCode.apply(null,D.subarray(X,X+8192));return k};r.addImage=function(){var N,k,D,X,ue,ge,me,re,ye;if(typeof arguments[1]=="number"?(k=t,D=arguments[1],X=arguments[2],ue=arguments[3],ge=arguments[4],me=arguments[5],re=arguments[6],ye=arguments[7]):(k=arguments[1],D=arguments[2],X=arguments[3],ue=arguments[4],ge=arguments[5],me=arguments[6],re=arguments[7],ye=arguments[8]),vr(N=arguments[0])==="object"&&!x(N)&&"imageData"in N){var de=N;N=de.imageData,k=de.format||k||t,D=de.x||D||0,X=de.y||X||0,ue=de.w||de.width||ue,ge=de.h||de.height||ge,me=de.alias||me,re=de.compression||re,ye=de.rotation||de.angle||ye}var Z=this.internal.getFilters();if(re===void 0&&Z.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(D)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var F=C.call(this,N,k,me,re);return P.call(this,D,X,ue,ge,F,ye),this};var C=function(N,k,D,X){var ue,ge,me;if(typeof N=="string"&&i(N)===t){N=unescape(N);var re=j(N,!1);(re!==""||(re=r.loadFile(N,!0))!==void 0)&&(N=re)}if(x(N)&&(N=g(N,k)),k=i(N,k),!w(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((me=D)==null||me.length===0)&&(D=(function(ye){return typeof ye=="string"||ce(ye)?U(ye):ce(ye.data)?U(ye.data):null})(N)),(ue=A.call(this,D))||(N instanceof Uint8Array||k==="RGBA"||(ge=N,N=W(N)),ue=this["process"+k.toUpperCase()](N,f.call(this),D,(function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in r.image_compression?ye:V.NONE})(X),ge)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},j=r.__addimage__.convertBase64ToBinaryString=function(N,k){k=typeof k!="boolean"||k;var D,X="";if(typeof N=="string"){var ue;D=(ue=ne(N))!==null&&ue!==void 0?ue:N;try{X=Em(D)}catch(ge){if(k)throw z(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};r.getImageProperties=function(N){var k,D,X="";if(x(N)&&(N=g(N)),typeof N=="string"&&i(N)===t&&((X=j(N,!1))===""&&(X=r.loadFile(N)||""),N=X),D=i(N),!w(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(N instanceof Uint8Array||(N=W(N)),!(k=this["process"+D.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=D,k}})(Ut.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Ut.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,s,a=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,w=0;w<d.length&&!f;w++)switch((n=d[w]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){n=d[x];var g=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var R=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(R.objId),V=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+g(L(n.contents))+")",s+=" /Popup "+P.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+g(L(V))+") >>",R.content=s;var U=R.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+U,n.open&&(s+=" /Open true"),s+=" >>",P.content=s,this.internal.write(R.objId,"0 R",P.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+c(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var z=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(A(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var ne=this.annotations._nameMap[n.options.name];n.options.pageNumber=ne.page,n.options.top=ne.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var ce=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+ce+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,s,a){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(t),y:d(n),w:u(t+i),h:d(n+s)},options:a,type:"link"})},r.textWithLink=function(t,n,i,s){var a,c,u=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var f=this.splitTextToSize(t,c).length;a=Math.ceil(d*f)}else c=u,a=d;return this.text(t,n,i,s),i+=.2*d,s.align==="center"&&(n-=u/2),s.align==="right"&&(n-=u),this.link(n,i-d,c,a,s),u},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(Ut.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(R){return e[R.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(R){return typeof R=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(R)},c=r.__arabicParser__.isArabicEndLetter=function(R){return a(R)&&s(R)&&e[R.charCodeAt(0)].length<=2},u=r.__arabicParser__.isArabicAlfLetter=function(R){return a(R)&&i.indexOf(R.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(R){return a(R)&&s(R)&&e[R.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(R){return a(R)&&s(R)&&e[R.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(R){return a(R)&&s(R)&&e[R.charCodeAt(0)].length>=3};var f=r.__arabicParser__.arabicLetterHasMedialForm=function(R){return a(R)&&s(R)&&e[R.charCodeAt(0)].length==4},w=r.__arabicParser__.resolveLigatures=function(R){var P=0,L=t,V="",U=0;for(P=0;P<R.length;P+=1)L[R.charCodeAt(P)]!==void 0?(U++,typeof(L=L[R.charCodeAt(P)])=="number"&&(V+=String.fromCharCode(L),L=t,U=0),P===R.length-1&&(L=t,V+=R.charAt(P-(U-1)),P-=U-1,U=0)):(L=t,V+=R.charAt(P-U),P-=U,U=0);return V};r.__arabicParser__.isArabicDiacritic=function(R){return R!==void 0&&n[R.charCodeAt(0)]!==void 0};var x=r.__arabicParser__.getCorrectForm=function(R,P,L){return a(R)?s(R)===!1?-1:!d(R)||!a(P)&&!a(L)||!a(L)&&c(P)||c(R)&&!a(P)||c(R)&&u(P)||c(R)&&c(P)?0:f(R)&&a(P)&&!c(P)&&a(L)&&d(L)?3:c(R)||!a(L)?1:2:-1},g=function(R){var P=0,L=0,V=0,U="",z="",ne="",ce=(R=R||"").split("\\s+"),W=[];for(P=0;P<ce.length;P+=1){for(W.push(""),L=0;L<ce[P].length;L+=1)U=ce[P][L],z=ce[P][L-1],ne=ce[P][L+1],a(U)?(V=x(U,z,ne),W[P]+=V!==-1?String.fromCharCode(e[U.charCodeAt(0)][V]):U):W[P]+=U;W[P]=w(W[P])}return W.join(" ")},A=r.__arabicParser__.processArabic=r.processArabic=function(){var R,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(P)){var V=0;for(L=[],V=0;V<P.length;V+=1)Array.isArray(P[V])?L.push([g(P[V][0]),P[V][1],P[V][2]]):L.push([g(P[V])]);R=L}else R=g(P);return typeof arguments[0]=="string"?R:(arguments[0].text=R,arguments[0])};r.events.push(["preProcessText",A])})(Ut.API),Ut.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(c){a=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ut.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(R){u=R}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(R){d=R}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(R){f=R}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(R){w=R}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(R){x=R}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(R){g=R}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(R){A=R}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},r.getTextDimensions=function(u,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,g=0,A=0,R=0,P=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var L=d.maxWidth;L>0?typeof u=="string"?u=this.splitTextToSize(u,L):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(U,z){return U.concat(P.splitTextToSize(z,L))},[])):u=Array.isArray(u)?u:[u];for(var V=0;V<u.length;V++)g<(R=this.getStringUnitWidth(u[V],{font:w})*f)&&(g=R);return g!==0&&(A=u.length),{w:g/=x,h:Math.max((A*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/x,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=w.top,g&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};r.table=function(u,d,f,w,x){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,A,R,P,L=[],V=[],U=[],z={},ne={},ce=[],W=[],O=(x=x||{}).autoSize||!1,C=x.printHeaders!==!1,j=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,N=x.margins||Object.assign({width:this.getPageWidth()},e),k=typeof x.padding=="number"?x.padding:3,D=x.headerBackgroundColor||"#c8c8c8",X=x.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=X,this.setFontSize(j),w==null)V=L=Object.keys(f[0]),U=L.map(function(){return"left"});else if(Array.isArray(w)&&vr(w[0])==="object")for(L=w.map(function(de){return de.name}),V=w.map(function(de){return de.prompt||de.name||""}),U=w.map(function(de){return de.align||"left"}),g=0;g<w.length;g+=1)ne[w[g].name]=.7499990551181103*w[g].width;else Array.isArray(w)&&typeof w[0]=="string"&&(V=L=w,U=L.map(function(){return"left"}));if(O||Array.isArray(w)&&typeof w[0]=="string")for(g=0;g<L.length;g+=1){for(z[P=L[g]]=f.map(function(de){return de[P]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(V[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=z[P],this.setFont(void 0,"normal"),R=0;R<A.length;R+=1)ce.push(this.getTextDimensions(A[R],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ne[P]=Math.max.apply(null,ce)+k+k,ce=[]}if(C){var ue={};for(g=0;g<L.length;g+=1)ue[L[g]]={},ue[L[g]].text=V[g],ue[L[g]].align=U[g];var ge=c.call(this,ue,ne);W=L.map(function(de){return new s(u,d,ne[de],ge,ue[de].text,void 0,ue[de].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var me=w.reduce(function(de,Z){return de[Z.name]=Z.align,de},{});for(g=0;g<f.length;g+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:g,data:f[g]},this);var re=c.call(this,f[g],ne);for(R=0;R<L.length;R+=1){var ye=f[g][L[R]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:g,col:R,data:ye},this),a.call(this,new s(u,d,ne[L[R]],re,ye,g+2,me[L[R]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var c=function(u,d){var f=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(g){var A=u[g];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,d[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*w/x+f+f},this).reduce(function(g,A){return Math.max(g,A)},0)};r.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},r.printHeaderRow=function(u,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,x.push(f)),f.lineNumber=u;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(A)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(Ut.API);var SE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],x1=_E(kE),EE=[100,200,300,400,500,600,700,800,900],i7=_E(EE);function Nv(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return SE[s=s||"normal"]?s:"normal"})(r.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),i=(function(s){return typeof x1[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function ax(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var s7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cx(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function ux(r){return r.trimLeft()}function o7(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function a7(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var om,dx,hx,jd,am,fx,px,mx,Cv=["times"];function gx(r,e,t,n,i){var s=4,a=yx;switch(i){case Ut.API.image_compression.FAST:s=1,a=vx;break;case Ut.API.image_compression.MEDIUM:s=6,a=wx;break;case Ut.API.image_compression.SLOW:s=9,a=bx}r=(function(u,d,f,w){for(var x,g=u.length/d,A=new Uint8Array(u.length+g),R=[l7,vx,yx,wx,bx],P=0;P<g;P+=1){var L=P*d,V=u.subarray(L,L+d);if(w)A.set(w(V,f,x),L+P);else{for(var U=R.length,z=[],ne=0;ne<U;ne+=1)z[ne]=R[ne](V,f,x);var ce=u7(z.concat());A.set(z[ce],L+P)}x=V}return A})(r,e,Math.ceil(t*n/8),a);var c=p1(r,{level:s});return Ut.API.__addimage__.arrayBufferToBinaryString(c)}function l7(r){var e=Array.apply([],r);return e.unshift(0),e}function vx(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var s=r[i-e]||0;n[i+1]=r[i]-s+256&255}return n}function yx(r,e,t){var n=r.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=t&&t[s]||0;i[s+1]=r[s]-a+256&255}return i}function wx(r,e,t){var n=r.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=r[s-e]||0,c=t&&t[s]||0;i[s+1]=r[s]+256-(a+c>>>1)&255}return i}function bx(r,e,t){var n=r.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=c7(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=r[s]-a+256&255}return i}function c7(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=i&&n<=s?r:i<=s?e:t}function u7(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Av(r,e,t){var n=e*t,i=Math.floor(n/8),s=16-(n-8*i+t),a=(1<<t)-1;return NE(r,i)>>s&a}function xx(r,e,t,n){var i=t*n,s=Math.floor(i/8),a=16-(i-8*s+n),c=(1<<n)-1,u=(e&c)<<a;(function(d,f,w){if(f+1<d.byteLength)d.setUint16(f,w,!1);else{var x=w>>8&255;d.setUint8(f,x)}})(r,s,NE(r,s)&~(c<<a)&65535|u)}function NE(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function d7(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],s=i>>7,a=1<<1+(7&i);r[e++],r[e++];var c=null,u=null;s&&(c=e,u=a,e+=3*a);var d=!0,f=[],w=0,x=null,g=0,A=null;for(this.width=t,this.height=n;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,A=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var R=r[e++];w=r[e++]|r[e++]<<8,x=r[e++],1&R||(x=null),g=R>>2&7,e++;break;case 254:for(;;){if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var P=r[e++]|r[e++]<<8,L=r[e++]|r[e++]<<8,V=r[e++]|r[e++]<<8,U=r[e++]|r[e++]<<8,z=r[e++],ne=z>>6&1,ce=1<<1+(7&z),W=c,O=u,C=!1;z>>7&&(C=!0,W=e,O=ce,e+=3*ce);var j=e;for(e++;;){var N;if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}f.push({x:P,y:L,width:V,height:U,has_local_palette:C,palette_offset:W,palette_size:O,data_offset:j,data_length:e-j,transparent_index:x,interlaced:!!ne,delay:w,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return A},this.frameInfo=function(k){if(k<0||k>=f.length)throw new Error("Frame index out of range.");return f[k]},this.decodeAndBlitFrameBGRA=function(k,D){var X=this.frameInfo(k),ue=X.width*X.height,ge=new Uint8Array(ue);_x(r,X.data_offset,ge,ue);var me=X.palette_offset,re=X.transparent_index;re===null&&(re=256);var ye=X.width,de=t-ye,Z=ye,F=4*(X.y*t+X.x),Q=4*((X.y+X.height)*t+X.x),se=F,he=4*de;X.interlaced===!0&&(he+=4*t*7);for(var we=8,Ee=0,Te=ge.length;Ee<Te;++Ee){var Le=ge[Ee];if(Z===0&&(Z=ye,(se+=he)>=Q&&(he=4*de+4*t*(we-1),se=F+(ye+de)*(we<<1),we>>=1)),Le===re)se+=4;else{var Ve=r[me+3*Le],Xe=r[me+3*Le+1],ct=r[me+3*Le+2];D[se++]=ct,D[se++]=Xe,D[se++]=Ve,D[se++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(k,D){var X=this.frameInfo(k),ue=X.width*X.height,ge=new Uint8Array(ue);_x(r,X.data_offset,ge,ue);var me=X.palette_offset,re=X.transparent_index;re===null&&(re=256);var ye=X.width,de=t-ye,Z=ye,F=4*(X.y*t+X.x),Q=4*((X.y+X.height)*t+X.x),se=F,he=4*de;X.interlaced===!0&&(he+=4*t*7);for(var we=8,Ee=0,Te=ge.length;Ee<Te;++Ee){var Le=ge[Ee];if(Z===0&&(Z=ye,(se+=he)>=Q&&(he=4*de+4*t*(we-1),se=F+(ye+de)*(we<<1),we>>=1)),Le===re)se+=4;else{var Ve=r[me+3*Le],Xe=r[me+3*Le+1],ct=r[me+3*Le+2];D[se++]=Ve,D[se++]=Xe,D[se++]=ct,D[se++]=255}--Z}}}function _x(r,e,t,n){for(var i=r[e++],s=1<<i,a=s+1,c=a+1,u=i+1,d=(1<<u)-1,f=0,w=0,x=0,g=r[e++],A=new Int32Array(4096),R=null;;){for(;f<16&&g!==0;)w|=r[e++]<<f,f+=8,g===1?g=r[e++]:--g;if(f<u)break;var P=w&d;if(w>>=u,f-=u,P!==s){if(P===a)break;for(var L=P<c?P:R,V=0,U=L;U>s;)U=A[U]>>8,++V;var z=U;if(x+V+(L!==P?1:0)>n)return void Nr.log("Warning, gif stream longer than expected.");t[x++]=z;var ne=x+=V;for(L!==P&&(t[x++]=z),U=L;V--;)U=A[U],t[--ne]=255&U,U>>=8;R!==null&&c<4096&&(A[c++]=R<<8|z,c>=d+1&&u<12&&(++u,d=d<<1|1)),R=P}else c=a+1,d=(1<<(u=i+1))-1,R=null}return x!==n&&Nr.log("Warning, gif stream shorter than expected."),t}function Iv(r){var e,t,n,i,s,a=Math.floor,c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),w=new Array(65535),x=new Array(65535),g=new Array(64),A=new Array(64),R=[],P=0,L=7,V=new Array(64),U=new Array(64),z=new Array(64),ne=new Array(256),ce=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(F,Q){for(var se=0,he=0,we=new Array,Ee=1;Ee<=16;Ee++){for(var Te=1;Te<=F[Ee];Te++)we[Q[he]]=[],we[Q[he]][0]=se,we[Q[he]][1]=Ee,he++,se++;se*=2}return we}function me(F){for(var Q=F[0],se=F[1]-1;se>=0;)Q&1<<se&&(P|=1<<L),se--,--L<0&&(P==255?(re(255),re(0)):re(P),L=7,P=0)}function re(F){R.push(F)}function ye(F){re(F>>8&255),re(255&F)}function de(F,Q,se,he,we){for(var Ee,Te=we[0],Le=we[240],Ve=(function(Ge,Pt){var dt,Dt,xt,En,mn,_t,Lt,nn,vt,Kt,Fe=0;for(vt=0;vt<8;++vt){dt=Ge[Fe],Dt=Ge[Fe+1],xt=Ge[Fe+2],En=Ge[Fe+3],mn=Ge[Fe+4],_t=Ge[Fe+5],Lt=Ge[Fe+6];var Bn=dt+(nn=Ge[Fe+7]),kt=dt-nn,sn=Dt+Lt,ft=Dt-Lt,Vn=xt+_t,Nt=xt-_t,Mn=En+mn,zt=En-mn,Jt=Bn+Mn,gn=Bn-Mn,Qt=sn+Vn,bt=sn-Vn;Ge[Fe]=Jt+Qt,Ge[Fe+4]=Jt-Qt;var vn=.707106781*(bt+gn);Ge[Fe+2]=gn+vn,Ge[Fe+6]=gn-vn;var Ii=.382683433*((Jt=zt+Nt)-(bt=ft+kt)),rn=.5411961*Jt+Ii,br=1.306562965*bt+Ii,Vr=.707106781*(Qt=Nt+ft),Vt=kt+Vr,Hn=kt-Vr;Ge[Fe+5]=Hn+rn,Ge[Fe+3]=Hn-rn,Ge[Fe+1]=Vt+br,Ge[Fe+7]=Vt-br,Fe+=8}for(Fe=0,vt=0;vt<8;++vt){dt=Ge[Fe],Dt=Ge[Fe+8],xt=Ge[Fe+16],En=Ge[Fe+24],mn=Ge[Fe+32],_t=Ge[Fe+40],Lt=Ge[Fe+48];var ts=dt+(nn=Ge[Fe+56]),Cr=dt-nn,ci=Dt+Lt,Xn=Dt-Lt,kr=xt+_t,er=xt-_t,Ns=En+mn,co=En-mn,Ti=ts+Ns,fs=ts-Ns,Ar=ci+kr,ui=ci-kr;Ge[Fe]=Ti+Ar,Ge[Fe+32]=Ti-Ar;var cr=.707106781*(ui+fs);Ge[Fe+16]=fs+cr,Ge[Fe+48]=fs-cr;var Qs=.382683433*((Ti=co+er)-(ui=Xn+Cr)),ns=.5411961*Ti+Qs,Cs=1.306562965*ui+Qs,As=.707106781*(Ar=er+Xn),Is=Cr+As,Po=Cr-As;Ge[Fe+40]=Po+ns,Ge[Fe+24]=Po-ns,Ge[Fe+8]=Is+Cs,Ge[Fe+56]=Is-Cs,Fe++}for(vt=0;vt<64;++vt)Kt=Ge[vt]*Pt[vt],g[vt]=Kt>0?Kt+.5|0:Kt-.5|0;return g})(F,Q),Xe=0;Xe<64;++Xe)A[W[Xe]]=Ve[Xe];var ct=A[0]-se;se=A[0],ct==0?me(he[0]):(me(he[x[Ee=32767+ct]]),me(w[Ee]));for(var rt=63;rt>0&&A[rt]==0;)rt--;if(rt==0)return me(Te),se;for(var mt,ie=1;ie<=rt;){for(var at=ie;A[ie]==0&&ie<=rt;)++ie;var cn=ie-at;if(cn>=16){mt=cn>>4;for(var Tt=1;Tt<=mt;++Tt)me(Le);cn&=15}Ee=32767+A[ie],me(we[(cn<<4)+x[Ee]]),me(w[Ee]),ie++}return rt!=63&&me(Te),se}function Z(F){F=Math.min(Math.max(F,1),100),s!=F&&((function(Q){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var we=a((se[he]*Q+50)/100);we=Math.min(Math.max(we,1),255),c[W[he]]=we}for(var Ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var Le=a((Ee[Te]*Q+50)/100);Le=Math.min(Math.max(Le,1),255),u[W[Te]]=Le}for(var Ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xe=0,ct=0;ct<8;ct++)for(var rt=0;rt<8;rt++)d[Xe]=1/(c[W[Xe]]*Ve[ct]*Ve[rt]*8),f[Xe]=1/(u[W[Xe]]*Ve[ct]*Ve[rt]*8),Xe++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,Q){Q&&Z(Q),R=new Array,P=0,L=7,ye(65496),ye(65504),ye(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),ye(1),ye(1),re(0),re(0),(function(){ye(65499),ye(132),re(0);for(var Dt=0;Dt<64;Dt++)re(c[Dt]);re(1);for(var xt=0;xt<64;xt++)re(u[xt])})(),(function(Dt,xt){ye(65472),ye(17),re(8),ye(xt),ye(Dt),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(F.width,F.height),(function(){ye(65476),ye(418),re(0);for(var Dt=0;Dt<16;Dt++)re(O[Dt+1]);for(var xt=0;xt<=11;xt++)re(C[xt]);re(16);for(var En=0;En<16;En++)re(j[En+1]);for(var mn=0;mn<=161;mn++)re(N[mn]);re(1);for(var _t=0;_t<16;_t++)re(k[_t+1]);for(var Lt=0;Lt<=11;Lt++)re(D[Lt]);re(17);for(var nn=0;nn<16;nn++)re(X[nn+1]);for(var vt=0;vt<=161;vt++)re(ue[vt])})(),ye(65498),ye(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var se=0,he=0,we=0;P=0,L=7,this.encode.displayName="_encode_";for(var Ee,Te,Le,Ve,Xe,ct,rt,mt,ie,at=F.data,cn=F.width,Tt=F.height,Ge=4*cn,Pt=0;Pt<Tt;){for(Ee=0;Ee<Ge;){for(Xe=Ge*Pt+Ee,rt=-1,mt=0,ie=0;ie<64;ie++)ct=Xe+(mt=ie>>3)*Ge+(rt=4*(7&ie)),Pt+mt>=Tt&&(ct-=Ge*(Pt+1+mt-Tt)),Ee+rt>=Ge&&(ct-=Ee+rt-Ge+4),Te=at[ct++],Le=at[ct++],Ve=at[ct++],V[ie]=(ce[Te]+ce[Le+256|0]+ce[Ve+512|0]>>16)-128,U[ie]=(ce[Te+768|0]+ce[Le+1024|0]+ce[Ve+1280|0]>>16)-128,z[ie]=(ce[Te+1280|0]+ce[Le+1536|0]+ce[Ve+1792|0]>>16)-128;se=de(V,d,se,e,n),he=de(U,f,he,t,i),we=de(z,f,we,t,i),Ee+=32}Pt+=8}if(L>=0){var dt=[];dt[1]=L+1,dt[0]=(1<<L+1)-1,me(dt)}return ye(65497),new Uint8Array(R)},r=r||50,(function(){for(var F=String.fromCharCode,Q=0;Q<256;Q++)ne[Q]=F(Q)})(),e=ge(O,C),t=ge(k,D),n=ge(j,N),i=ge(X,ue),(function(){for(var F=1,Q=2,se=1;se<=15;se++){for(var he=F;he<Q;he++)x[32767+he]=se,w[32767+he]=[],w[32767+he][1]=se,w[32767+he][0]=he;for(var we=-(Q-1);we<=-F;we++)x[32767+we]=se,w[32767+we]=[],w[32767+we][1]=se,w[32767+we][0]=Q-1+we;F<<=1,Q<<=1}})(),(function(){for(var F=0;F<256;F++)ce[F]=19595*F,ce[F+256|0]=38470*F,ce[F+512|0]=7471*F+32768,ce[F+768|0]=-11059*F,ce[F+1024|0]=-21709*F,ce[F+1280|0]=32768*F+8421375,ce[F+1536|0]=-27439*F,ce[F+1792|0]=-5329*F})(),Z(r)}function La(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Sx(r){function e(C){if(!C)throw Error("assert :P")}function t(C,j,N){for(var k=0;4>k;k++)if(C[j+k]!=N.charCodeAt(k))return!0;return!1}function n(C,j,N,k,D){for(var X=0;X<D;X++)C[j+X]=N[k+X]}function i(C,j,N,k){for(var D=0;D<k;D++)C[j+D]=N}function s(C){return new Int32Array(C)}function a(C,j){for(var N=[],k=0;k<C;k++)N.push(new j);return N}function c(C,j){var N=[];return(function k(D,X,ue){for(var ge=ue[X],me=0;me<ge&&(D.push(ue.length>X+1?[]:new j),!(ue.length<X+1));me++)k(D[me],X+1,ue)})(N,0,C),N}var u=function(){var C=this;function j(p,b){for(var E=1<<b-1>>>0;p&E;)E>>>=1;return E?(p&E-1)+E:p}function N(p,b,E,M,H){e(!(M%E));do p[b+(M-=E)]=H;while(0<M)}function k(p,b,E,M,H){if(e(2328>=H),512>=H)var G=s(512);else if((G=s(H))==null)return 0;return(function(K,J,te,oe,xe,Pe){var ae,ke,Ie=J,qe=1<<te,Re=s(16),Ue=s(16);for(e(xe!=0),e(oe!=null),e(K!=null),e(0<te),ke=0;ke<xe;++ke){if(15<oe[ke])return 0;++Re[oe[ke]]}if(Re[0]==xe)return 0;for(Ue[1]=0,ae=1;15>ae;++ae){if(Re[ae]>1<<ae)return 0;Ue[ae+1]=Ue[ae]+Re[ae]}for(ke=0;ke<xe;++ke)ae=oe[ke],0<oe[ke]&&(Pe[Ue[ae]++]=ke);if(Ue[15]==1)return(oe=new D).g=0,oe.value=Pe[0],N(K,Ie,1,qe,oe),qe;var ze,$e=-1,Ye=qe-1,jt=0,yt=1,pn=1,Et=1<<te;for(ke=0,ae=1,xe=2;ae<=te;++ae,xe<<=1){if(yt+=pn<<=1,0>(pn-=Re[ae]))return 0;for(;0<Re[ae];--Re[ae])(oe=new D).g=ae,oe.value=Pe[ke++],N(K,Ie+jt,xe,Et,oe),jt=j(jt,ae)}for(ae=te+1,xe=2;15>=ae;++ae,xe<<=1){if(yt+=pn<<=1,0>(pn-=Re[ae]))return 0;for(;0<Re[ae];--Re[ae]){if(oe=new D,(jt&Ye)!=$e){for(Ie+=Et,ze=1<<($e=ae)-te;15>$e&&!(0>=(ze-=Re[$e]));)++$e,ze<<=1;qe+=Et=1<<(ze=$e-te),K[J+($e=jt&Ye)].g=ze+te,K[J+$e].value=Ie-J-$e}oe.g=ae-te,oe.value=Pe[ke++],N(K,Ie+(jt>>te),xe,Et,oe),jt=j(jt,ae)}}return yt!=2*Ue[15]-1?0:qe})(p,b,E,M,H,G)}function D(){this.value=this.g=0}function X(){this.value=this.g=0}function ue(){this.G=a(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(yo,X)}function ge(p,b,E,M){e(p!=null),e(b!=null),e(2147483648>M),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=E,p.Jd=b,p.Yc=E+M,p.Zc=4<=M?E+M-4+1:E,Te(p)}function me(p,b){for(var E=0;0<b--;)E|=Ve(p,128)<<b;return E}function re(p,b){var E=me(p,b);return Le(p)?-E:E}function ye(p,b,E,M){var H,G=0;for(e(p!=null),e(b!=null),e(4294967288>M),p.Sb=M,p.Ra=0,p.u=0,p.h=0,4<M&&(M=4),H=0;H<M;++H)G+=b[E+H]<<8*H;p.Ra=G,p.bb=M,p.oa=b,p.pa=E}function de(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ka-8>>>0,++p.bb,p.u-=8;he(p)&&(p.h=1,p.u=0)}function Z(p,b){if(e(0<=b),!p.h&&b<=no){var E=se(p)&to[b];return p.u+=b,de(p),E}return p.h=1,p.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function se(p){return p.Ra>>>(p.u&Ka-1)>>>0}function he(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ka}function we(p,b){p.u=b,p.h=he(p)}function Ee(p){p.u>=ta&&(e(p.u>=ta),de(p))}function Te(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Le(p){return me(p,1)}function Ve(p,b){var E=p.Ca;0>p.b&&Te(p);var M=p.b,H=E*b>>>8,G=(p.I>>>M>H)+0;for(G?(E-=H,p.I-=H+1<<M>>>0):E=H+1,M=E,H=0;256<=M;)H+=8,M>>=8;return M=7^H+ba[M],p.b-=M,p.Ca=(E<<M)-1,G}function Xe(p,b,E){p[b+0]=E>>24&255,p[b+1]=E>>16&255,p[b+2]=E>>8&255,p[b+3]=255&E}function ct(p,b){return p[b+0]|p[b+1]<<8}function rt(p,b){return ct(p,b)|p[b+2]<<16}function mt(p,b){return ct(p,b)|ct(p,b+2)<<16}function ie(p,b){var E=1<<b;return e(p!=null),e(0<b),p.X=s(E),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function at(p,b){e(p!=null),e(b!=null),e(p.Xa==b.Xa),n(b.X,0,p.X,0,1<<b.Xa)}function cn(){this.X=[],this.Xa=this.Mb=0}function Tt(p,b,E,M){e(E!=null),e(M!=null);var H=E[0],G=M[0];return H==0&&(H=(p*G+b/2)/b),G==0&&(G=(b*H+p/2)/p),0>=H||0>=G?0:(E[0]=H,M[0]=G,1)}function Ge(p,b){return p+(1<<b)-1>>>b}function Pt(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function dt(p,b){C[b]=function(E,M,H,G,K,J,te){var oe;for(oe=0;oe<K;++oe){var xe=C[p](J[te+oe-1],H,G+oe);J[te+oe]=Pt(E[M+oe],xe)}}}function Dt(){this.ud=this.hd=this.jd=0}function xt(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function En(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function mn(p,b){return En(p+(p-b+.5>>1))}function _t(p,b,E){return Math.abs(b-E)-Math.abs(p-E)}function Lt(p,b,E,M,H,G,K){for(M=G[K-1],E=0;E<H;++E)G[K+E]=M=Pt(p[b+E],M)}function nn(p,b,E,M,H){var G;for(G=0;G<E;++G){var K=p[b+G],J=K>>8&255,te=16711935&(te=(te=16711935&K)+((J<<16)+J));M[H+G]=(4278255360&K)+te>>>0}}function vt(p,b){b.jd=255&p,b.hd=p>>8&255,b.ud=p>>16&255}function Kt(p,b,E,M,H,G){var K;for(K=0;K<M;++K){var J=b[E+K],te=J>>>8,oe=J,xe=255&(xe=(xe=J>>>16)+((p.jd<<24>>24)*(te<<24>>24)>>>5));oe=255&(oe=(oe+=(p.hd<<24>>24)*(te<<24>>24)>>>5)+((p.ud<<24>>24)*(xe<<24>>24)>>>5)),H[G+K]=(4278255360&J)+(xe<<16)+oe}}function Fe(p,b,E,M,H){C[b]=function(G,K,J,te,oe,xe,Pe,ae,ke){for(te=Pe;te<ae;++te)for(Pe=0;Pe<ke;++Pe)oe[xe++]=H(J[M(G[K++])])},C[p]=function(G,K,J,te,oe,xe,Pe){var ae=8>>G.b,ke=G.Ea,Ie=G.K[0],qe=G.w;if(8>ae)for(G=(1<<G.b)-1,qe=(1<<ae)-1;K<J;++K){var Re,Ue=0;for(Re=0;Re<ke;++Re)Re&G||(Ue=M(te[oe++])),xe[Pe++]=H(Ie[Ue&qe]),Ue>>=ae}else C["VP8LMapColor"+E](te,oe,Ie,qe,xe,Pe,K,J,ke)}}function Bn(p,b,E,M,H){for(E=b+E;b<E;){var G=p[b++];M[H++]=G>>16&255,M[H++]=G>>8&255,M[H++]=255&G}}function kt(p,b,E,M,H){for(E=b+E;b<E;){var G=p[b++];M[H++]=G>>16&255,M[H++]=G>>8&255,M[H++]=255&G,M[H++]=G>>24&255}}function sn(p,b,E,M,H){for(E=b+E;b<E;){var G=(K=p[b++])>>16&240|K>>12&15,K=240&K|K>>28&15;M[H++]=G,M[H++]=K}}function ft(p,b,E,M,H){for(E=b+E;b<E;){var G=(K=p[b++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;M[H++]=G,M[H++]=K}}function Vn(p,b,E,M,H){for(E=b+E;b<E;){var G=p[b++];M[H++]=255&G,M[H++]=G>>8&255,M[H++]=G>>16&255}}function Nt(p,b,E,M,H,G){if(G==0)for(E=b+E;b<E;)Xe(M,((G=p[b++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),H+=32;else n(M,H,p,b,E)}function Mn(p,b){C[b][0]=C[p+"0"],C[b][1]=C[p+"1"],C[b][2]=C[p+"2"],C[b][3]=C[p+"3"],C[b][4]=C[p+"4"],C[b][5]=C[p+"5"],C[b][6]=C[p+"6"],C[b][7]=C[p+"7"],C[b][8]=C[p+"8"],C[b][9]=C[p+"9"],C[b][10]=C[p+"10"],C[b][11]=C[p+"11"],C[b][12]=C[p+"12"],C[b][13]=C[p+"13"],C[b][14]=C[p+"0"],C[b][15]=C[p+"0"]}function zt(p){return p==xc||p==Ol||p==vu||p==yu}function Jt(){this.eb=[],this.size=this.A=this.fb=0}function gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Jt,this.f.kb=new gn,this.sd=null}function bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ii(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function rn(p,b){var E=p.T,M=b.ba.f.RGBA,H=M.eb,G=M.fb+p.ka*M.A,K=Rs[b.ba.S],J=p.y,te=p.O,oe=p.f,xe=p.N,Pe=p.ea,ae=p.W,ke=b.cc,Ie=b.dc,qe=b.Mc,Re=b.Nc,Ue=p.ka,ze=p.ka+p.T,$e=p.U,Ye=$e+1>>1;for(Ue==0?K(J,te,null,null,oe,xe,Pe,ae,oe,xe,Pe,ae,H,G,null,null,$e):(K(b.ec,b.fc,J,te,ke,Ie,qe,Re,oe,xe,Pe,ae,H,G-M.A,H,G,$e),++E);Ue+2<ze;Ue+=2)ke=oe,Ie=xe,qe=Pe,Re=ae,xe+=p.Rc,ae+=p.Rc,G+=2*M.A,K(J,(te+=2*p.fa)-p.fa,J,te,ke,Ie,qe,Re,oe,xe,Pe,ae,H,G-M.A,H,G,$e);return te+=p.fa,p.j+ze<p.o?(n(b.ec,b.fc,J,te,$e),n(b.cc,b.dc,oe,xe,Ye),n(b.Mc,b.Nc,Pe,ae,Ye),E--):1&ze||K(J,te,null,null,oe,xe,Pe,ae,oe,xe,Pe,ae,H,G+M.A,null,null,$e),E}function br(p,b,E){var M=p.F,H=[p.J];if(M!=null){var G=p.U,K=b.ba.S,J=K==gu||K==vu;b=b.ba.f.RGBA;var te=[0],oe=p.ka;te[0]=p.T,p.Kb&&(oe==0?--te[0]:(--oe,H[0]-=p.width),p.j+p.ka+p.T==p.o&&(te[0]=p.o-p.j-oe));var xe=b.eb;oe=b.fb+oe*b.A,p=pu(M,H[0],p.width,G,te,xe,oe+(J?0:3),b.A),e(E==te),p&&zt(K)&&Ml(xe,oe,J,G,te,b.A)}return 0}function Vr(p){var b=p.ma,E=b.ba.S,M=11>E,H=E==Za||E==mu||E==gu||E==hr||E==12||zt(E);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!pc(b.Oa,p,H?11:12))return 0;if(H&&zt(E)&&Ps(),p.da)alert("todo:use_scaling");else{if(M){if(b.Ib=Ii,p.Kb){if(E=p.U+1>>1,b.memory=s(p.U+2*E),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+E,b.Ib=rn,Ps()}}else alert("todo:EmitYUV");H&&(b.Jb=br,M&&Ts())}if(M&&!Yi){for(p=0;256>p;++p)Ms[p]=89858*(p-128)+Oo>>ka,Os[p]=-22014*(p-128)+Oo,Ec[p]=-45773*(p-128),Vl[p]=113618*(p-128)+Oo>>ka;for(p=nr;p<ar;++p)b=76283*(p-16)+Oo>>ka,gd[p-nr]=xr(b,255),cp[p-nr]=xr(b+8>>4,15);Yi=1}return 1}function Vt(p){var b=p.ma,E=p.U,M=p.T;return e(!(1&p.ka)),0>=E||0>=M?0:(E=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,E),b.Dc+=E,1)}function Hn(p){p.ma.memory=null}function ts(p,b,E,M){return Z(p,8)!=47?0:(b[0]=Z(p,14)+1,E[0]=Z(p,14)+1,M[0]=Z(p,1),Z(p,3)!=0?0:!p.h)}function Cr(p,b){if(4>p)return p+1;var E=p-2>>1;return(2+(1&p)<<E)+Z(b,E)+1}function ci(p,b){return 120<b?b-120:1<=(E=((E=$0[b-1])>>4)*p+(8-(15&E)))?E:1;var E}function Xn(p,b,E){var M=se(E),H=p[b+=255&M].g-8;return 0<H&&(we(E,E.u+8),M=se(E),b+=p[b].value,b+=M&(1<<H)-1),we(E,E.u+p[b].g),p[b].value}function kr(p,b,E){return E.g+=p.g,E.value+=p.value<<b>>>0,e(8>=E.g),p.g}function er(p,b,E){var M=p.xc;return e((b=M==0?0:p.vc[p.md*(E>>M)+(b>>M)])<p.Wb),p.Ya[b]}function Ns(p,b,E,M){var H=p.ab,G=p.c*b,K=p.C;b=K+b;var J=E,te=M;for(M=p.Ta,E=p.Ua;0<H--;){var oe=p.gc[H],xe=K,Pe=b,ae=J,ke=te,Ie=(te=M,J=E,oe.Ea);switch(e(xe<Pe),e(Pe<=oe.nc),oe.hc){case 2:ti(ae,ke,(Pe-xe)*Ie,te,J);break;case 0:var qe=xe,Re=Pe,Ue=te,ze=J,$e=(Et=oe).Ea;qe==0&&(xa(ae,ke,null,null,1,Ue,ze),Lt(ae,ke+1,0,0,$e-1,Ue,ze+1),ke+=$e,ze+=$e,++qe);for(var Ye=1<<Et.b,jt=Ye-1,yt=Ge($e,Et.b),pn=Et.K,Et=Et.w+(qe>>Et.b)*yt;qe<Re;){var Tn=pn,Yr=Et,wn=1;for(na(ae,ke,Ue,ze-$e,1,Ue,ze);wn<$e;){var wt=(wn&~jt)+Ye;wt>$e&&(wt=$e),(0,Pl[Tn[Yr++]>>8&15])(ae,ke+ +wn,Ue,ze+wn-$e,wt-wn,Ue,ze+wn),wn=wt}ke+=$e,ze+=$e,++qe&jt||(Et+=yt)}Pe!=oe.nc&&n(te,J-Ie,te,J+(Pe-xe-1)*Ie,Ie);break;case 1:for(Ie=ae,Re=ke,$e=(ae=oe.Ea)-(ze=ae&~(Ue=(ke=1<<oe.b)-1)),qe=Ge(ae,oe.b),Ye=oe.K,oe=oe.w+(xe>>oe.b)*qe;xe<Pe;){for(jt=Ye,yt=oe,pn=new Dt,Et=Re+ze,Tn=Re+ae;Re<Et;)vt(jt[yt++],pn),gc(pn,Ie,Re,ke,te,J),Re+=ke,J+=ke;Re<Tn&&(vt(jt[yt++],pn),gc(pn,Ie,Re,$e,te,J),Re+=$e,J+=$e),++xe&Ue||(oe+=qe)}break;case 3:if(ae==te&&ke==J&&0<oe.b){for(Re=te,ae=Ie=J+(Pe-xe)*Ie-(ze=(Pe-xe)*Ge(oe.Ea,oe.b)),ke=te,Ue=J,qe=[],ze=($e=ze)-1;0<=ze;--ze)qe[ze]=ke[Ue+ze];for(ze=$e-1;0<=ze;--ze)Re[ae+ze]=qe[ze];Il(oe,xe,Pe,te,Ie,te,J)}else Il(oe,xe,Pe,ae,ke,te,J)}J=M,te=E}te!=E&&n(M,E,J,te,G)}function co(p,b){var E=p.V,M=p.Ba+p.c*p.C,H=b-p.C;if(e(b<=p.l.o),e(16>=H),0<H){var G=p.l,K=p.Ta,J=p.Ua,te=G.width;if(Ns(p,H,E,M),H=J=[J],e((E=p.C)<(M=b)),e(G.v<G.va),M>G.o&&(M=G.o),E<G.j){var oe=G.j-E;E=G.j,H[0]+=oe*te}if(E>=M?E=0:(H[0]+=4*G.v,G.ka=E-G.j,G.U=G.va-G.v,G.T=M-E,E=1),E){if(J=J[0],11>(E=p.ca).S){var xe=E.f.RGBA,Pe=(M=E.S,H=G.U,G=G.T,oe=xe.eb,xe.A),ae=G;for(xe=xe.fb+p.Ma*xe.A;0<ae--;){var ke=K,Ie=J,qe=H,Re=oe,Ue=xe;switch(M){case hd:vc(ke,Ie,qe,Re,Ue);break;case Za:_a(ke,Ie,qe,Re,Ue);break;case xc:_a(ke,Ie,qe,Re,Ue),Ml(Re,Ue,0,qe,1,0);break;case ip:Dl(ke,Ie,qe,Re,Ue);break;case mu:Nt(ke,Ie,qe,Re,Ue,1);break;case Ol:Nt(ke,Ie,qe,Re,Ue,1),Ml(Re,Ue,0,qe,1,0);break;case gu:Nt(ke,Ie,qe,Re,Ue,0);break;case vu:Nt(ke,Ie,qe,Re,Ue,0),Ml(Re,Ue,1,qe,1,0);break;case hr:Qa(ke,Ie,qe,Re,Ue);break;case yu:Qa(ke,Ie,qe,Re,Ue),Lh(Re,Ue,qe,1,0);break;case fd:Xa(ke,Ie,qe,Re,Ue);break;default:e(0)}J+=te,xe+=Pe}p.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=E.height)}}p.C=b,e(p.C<=p.i)}function Ti(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var E=p.Ya[b].G,M=p.Ya[b].H;if(0<E[1][M[1]+0].g||0<E[2][M[2]+0].g||0<E[3][M[3]+0].g)return 0}return 1}function fs(p,b,E,M,H,G){if(p.Z!=0){var K=p.qd,J=p.rd;for(e(is[p.Z]!=null);b<E;++b)is[p.Z](K,J,M,H,M,H,G),K=M,J=H,H+=G;p.qd=K,p.rd=J}}function Ar(p,b){var E=p.l.ma,M=E.Z==0||E.Z==1?p.l.j:p.C;if(M=p.C<M?M:p.C,e(b<=p.l.o),b>M){var H=p.l.width,G=E.ca,K=E.tb+H*M,J=p.V,te=p.Ba+p.c*M,oe=p.gc;e(p.ab==1),e(oe[0].hc==3),Ro(oe[0],M,b,J,te,G,K),fs(E,M,b,G,K,H)}p.C=p.Ma=b}function ui(p,b,E,M,H,G,K){var J=p.$/M,te=p.$%M,oe=p.m,xe=p.s,Pe=E+p.$,ae=Pe;H=E+M*H;var ke=E+M*G,Ie=280+xe.ua,qe=p.Pb?J:16777216,Re=0<xe.ua?xe.Wa:null,Ue=xe.wc,ze=Pe<ke?er(xe,te,J):null;e(p.C<G),e(ke<=H);var $e=!1;e:for(;;){for(;$e||Pe<ke;){var Ye=0;if(J>=qe){var jt=Pe-E;e((qe=p).Pb),qe.wd=qe.m,qe.xd=jt,0<qe.s.ua&&at(qe.s.Wa,qe.s.vb),qe=J+md}if(te&Ue||(ze=er(xe,te,J)),e(ze!=null),ze.Qb&&(b[Pe]=ze.qb,$e=!0),!$e)if(Ee(oe),ze.jc){Ye=oe,jt=b;var yt=Pe,pn=ze.pd[se(Ye)&yo-1];e(ze.jc),256>pn.g?(we(Ye,Ye.u+pn.g),jt[yt]=pn.value,Ye=0):(we(Ye,Ye.u+pn.g-256),e(256<=pn.value),Ye=pn.value),Ye==0&&($e=!0)}else Ye=Xn(ze.G[0],ze.H[0],oe);if(oe.h)break;if($e||256>Ye){if(!$e)if(ze.nd)b[Pe]=(ze.qb|Ye<<8)>>>0;else{if(Ee(oe),$e=Xn(ze.G[1],ze.H[1],oe),Ee(oe),jt=Xn(ze.G[2],ze.H[2],oe),yt=Xn(ze.G[3],ze.H[3],oe),oe.h)break;b[Pe]=(yt<<24|$e<<16|Ye<<8|jt)>>>0}if($e=!1,++Pe,++te>=M&&(te=0,++J,K!=null&&J<=G&&!(J%16)&&K(p,J),Re!=null))for(;ae<Pe;)Ye=b[ae++],Re.X[(506832829*Ye&4294967295)>>>Re.Mb]=Ye}else if(280>Ye){if(Ye=Cr(Ye-256,oe),jt=Xn(ze.G[4],ze.H[4],oe),Ee(oe),jt=ci(M,jt=Cr(jt,oe)),oe.h)break;if(Pe-E<jt||H-Pe<Ye)break e;for(yt=0;yt<Ye;++yt)b[Pe+yt]=b[Pe+yt-jt];for(Pe+=Ye,te+=Ye;te>=M;)te-=M,++J,K!=null&&J<=G&&!(J%16)&&K(p,J);if(e(Pe<=H),te&Ue&&(ze=er(xe,te,J)),Re!=null)for(;ae<Pe;)Ye=b[ae++],Re.X[(506832829*Ye&4294967295)>>>Re.Mb]=Ye}else{if(!(Ye<Ie))break e;for($e=Ye-280,e(Re!=null);ae<Pe;)Ye=b[ae++],Re.X[(506832829*Ye&4294967295)>>>Re.Mb]=Ye;Ye=Pe,e(!($e>>>(jt=Re).Xa)),b[Ye]=jt.X[$e],$e=!0}$e||e(oe.h==he(oe))}if(p.Pb&&oe.h&&Pe<H)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&at(p.s.vb,p.s.Wa);else{if(oe.h)break e;K?.(p,J>G?G:J),p.a=0,p.$=Pe-E}return 1}return p.a=3,0}function cr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,e(p!=null)}function Qs(){var p=new Xt;return p==null?null:(p.a=0,p.xb=Sc,Mn("Predictor","VP8LPredictors"),Mn("Predictor","VP8LPredictors_C"),Mn("PredictorAdd","VP8LPredictorsAdd"),Mn("PredictorAdd","VP8LPredictorsAdd_C"),ti=nn,gc=Kt,vc=Bn,_a=kt,Qa=sn,Xa=ft,Dl=Vn,C.VP8LMapColor32b=ra,C.VP8LMapColor8b=Tl,p)}function ns(p,b,E,M,H){var G=1,K=[p],J=[b],te=M.m,oe=M.s,xe=null,Pe=0;e:for(;;){if(E)for(;G&&Z(te,1);){var ae=K,ke=J,Ie=M,qe=1,Re=Ie.m,Ue=Ie.gc[Ie.ab],ze=Z(Re,2);if(Ie.Oc&1<<ze)G=0;else{switch(Ie.Oc|=1<<ze,Ue.hc=ze,Ue.Ea=ae[0],Ue.nc=ke[0],Ue.K=[null],++Ie.ab,e(4>=Ie.ab),ze){case 0:case 1:Ue.b=Z(Re,3)+2,qe=ns(Ge(Ue.Ea,Ue.b),Ge(Ue.nc,Ue.b),0,Ie,Ue.K),Ue.K=Ue.K[0];break;case 3:var $e,Ye=Z(Re,8)+1,jt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(ae[0]=Ge(Ue.Ea,jt),Ue.b=jt,$e=qe=ns(Ye,1,0,Ie,Ue.K)){var yt,pn=Ye,Et=Ue,Tn=1<<(8>>Et.b),Yr=s(Tn);if(Yr==null)$e=0;else{var wn=Et.K[0],wt=Et.w;for(Yr[0]=Et.K[0][0],yt=1;yt<1*pn;++yt)Yr[yt]=Pt(wn[wt+yt],Yr[yt-1]);for(;yt<4*Tn;++yt)Yr[yt]=0;Et.K[0]=null,Et.K[0]=Yr,$e=1}}qe=$e;break;case 2:break;default:e(0)}G=qe}}if(K=K[0],J=J[0],G&&Z(te,1)&&!(G=1<=(Pe=Z(te,4))&&11>=Pe)){M.a=3;break e}var lt;if(lt=G)t:{var ni,an,Cn,Sr=M,Oi=K,fi=J,jr=Pe,bi=E,ji=Sr.m,Pr=Sr.s,Ln=[null],Yn=1,Dr=0,Gn=op[jr];n:for(;;){if(bi&&Z(ji,1)){var Gr=Z(ji,3)+2,Kr=Ge(Oi,Gr),fr=Ge(fi,Gr),ss=Kr*fr;if(!ns(Kr,fr,0,Sr,Ln))break n;for(Ln=Ln[0],Pr.xc=Gr,ni=0;ni<ss;++ni){var lr=Ln[ni]>>8&65535;Ln[ni]=lr,lr>=Yn&&(Yn=lr+1)}}if(ji.h)break n;for(an=0;5>an;++an){var pr=jl[an];!an&&0<jr&&(pr+=1<<jr),Dr<pr&&(Dr=pr)}var pi=a(Yn*Gn,D),Gi=Yn,js=a(Gi,ue);if(js==null)var ri=null;else e(65536>=Gi),ri=js;var ii=s(Dr);if(ri==null||ii==null||pi==null){Sr.a=1;break n}var os=pi;for(ni=Cn=0;ni<Yn;++ni){var mr=ri[ni],as=mr.G,xo=mr.H,jo=0,Fi=1,si=0;for(an=0;5>an;++an){pr=jl[an],as[an]=os,xo[an]=Cn,!an&&0<jr&&(pr+=1<<jr);i:{var nl,Na=pr,Nc=Sr,oa=ii,dp=os,Wh=Cn,Er=0,Fo=Nc.m,$h=Z(Fo,1);if(i(oa,0,0,Na),$h){var Yh=Z(Fo,1)+1,vd=Z(Fo,1),yd=Z(Fo,vd==0?1:8);oa[yd]=1,Yh==2&&(oa[yd=Z(Fo,8)]=1);var aa=1}else{var Lr=s(19),mi=Z(Fo,4)+4;if(19<mi){Nc.a=3;var oi=0;break i}for(nl=0;nl<mi;++nl)Lr[W0[nl]]=Z(Fo,3);var Cc=void 0,Ca=void 0,Ac=Nc,X0=Lr,xi=Na,wd=oa,Su=0,la=Ac.m,Bo=8,ro=a(128,D);r:for(;k(ro,0,7,X0,19);){if(Z(la,1)){var ku=2+2*Z(la,3);if((Cc=2+Z(la,ku))>xi)break r}else Cc=xi;for(Ca=0;Ca<xi&&Cc--;){Ee(la);var bd=ro[0+(127&se(la))];we(la,la.u+bd.g);var rl=bd.value;if(16>rl)wd[Ca++]=rl,rl!=0&&(Bo=rl);else{var hp=rl==16,Gh=rl-16,fp=pd[Gh],Kh=Z(la,wu[Gh])+fp;if(Ca+Kh>xi)break r;for(var pp=hp?Bo:0;0<Kh--;)wd[Ca++]=pp}}Su=1;break r}Su||(Ac.a=3),aa=Su}(aa=aa&&!Fo.h)&&(Er=k(dp,Wh,8,oa,Na)),aa&&Er!=0?oi=Er:(Nc.a=3,oi=0)}if(oi==0)break n;if(Fi&&sp[an]==1&&(Fi=os[Cn].g==0),jo+=os[Cn].g,Cn+=oi,3>=an){var Ic,xd=ii[0];for(Ic=1;Ic<pr;++Ic)ii[Ic]>xd&&(xd=ii[Ic]);si+=xd}}if(mr.nd=Fi,mr.Qb=0,Fi&&(mr.qb=(as[3][xo[3]+0].value<<24|as[1][xo[1]+0].value<<16|as[2][xo[2]+0].value)>>>0,jo==0&&256>as[0][xo[0]+0].value&&(mr.Qb=1,mr.qb+=as[0][xo[0]+0].value<<8)),mr.jc=!mr.Qb&&6>si,mr.jc){var Eu,io=mr;for(Eu=0;Eu<yo;++Eu){var Aa=Eu,Vo=io.pd[Aa],zl=io.G[0][io.H[0]+Aa];256<=zl.value?(Vo.g=zl.g+256,Vo.value=zl.value):(Vo.g=0,Vo.value=0,Aa>>=kr(zl,8,Vo),Aa>>=kr(io.G[1][io.H[1]+Aa],16,Vo),Aa>>=kr(io.G[2][io.H[2]+Aa],0,Vo),kr(io.G[3][io.H[3]+Aa],24,Vo))}}}Pr.vc=Ln,Pr.Wb=Yn,Pr.Ya=ri,Pr.yc=pi,lt=1;break t}lt=0}if(!(G=lt)){M.a=3;break e}if(0<Pe){if(oe.ua=1<<Pe,!ie(oe.Wa,Pe)){M.a=1,G=0;break e}}else oe.ua=0;var _d=M,Sd=K,mp=J,kd=_d.s,Ed=kd.xc;if(_d.c=Sd,_d.i=mp,kd.md=Ge(Sd,Ed),kd.wc=Ed==0?-1:(1<<Ed)-1,E){M.xb=sa;break e}if((xe=s(K*J))==null){M.a=1,G=0;break e}G=(G=ui(M,xe,0,K,J,J,null))&&!te.h;break e}return G?(H!=null?H[0]=xe:(e(xe==null),e(E)),M.$=0,E||cr(oe)):cr(oe),G}function Cs(p,b){var E=p.c*p.i,M=E+b+16*b;return e(p.c<=b),p.V=s(M),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+E+b,1)}function As(p,b){var E=p.C,M=b-E,H=p.V,G=p.Ba+p.c*E;for(e(b<=p.l.o);0<M;){var K=16<M?16:M,J=p.l.ma,te=p.l.width,oe=te*K,xe=J.ca,Pe=J.tb+te*E,ae=p.Ta,ke=p.Ua;Ns(p,K,H,G),Rh(ae,ke,xe,Pe,oe),fs(J,E,E+K,xe,Pe,te),M-=K,H+=K*p.c,E+=K}e(E==b),p.C=p.Ma=b}function Is(){this.ub=this.yd=this.td=this.Rb=0}function Po(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Cl(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Un(){this.Yb=(function(){var p=[];return(function b(E,M,H){for(var G=H[M],K=0;K<G&&(E.push(H.length>M+1?[]:0),!(H.length<M+1));K++)b(E[K],M+1,H)})(p,0,[3,11]),p})()}function ga(){this.jb=s(3),this.Wc=c([4,8],Un),this.Xc=c([4,17],Un)}function uo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Jr(){this.ld=this.La=this.dd=this.tc=0}function Pi(){this.Na=this.la=0}function Ko(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ps(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Jr),this.Y=0,this.ya=Array(new ps),this.aa=0,this.l=new ho}function Di(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Qo(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new Is,this.Kc=new Po,this.ed=new uo,this.Qa=new Cl,this.Ic=this.$c=this.Aa=0,this.D=new Xs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,F),this.ia=0,this.pb=a(4,Ko),this.Pa=new ga,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Di),this.Hd=0,this.rb=Array(new Pi),this.sb=0,this.wa=Array(new Jr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ps),this.L=this.aa=0,this.gd=c([4,2],Jr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xr(p,b){return 0>p?0:p>b?b:p}function ho(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Wa(){var p=new Qo;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Fl||(Fl=Qe)),p}function $(p,b,E){return p.a==0&&(p.a=b,p.sc=E,p.cb=0),0}function be(p,b,E){return 3<=E&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function We(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return $(p,2,"null VP8Io passed to VP8GetHeaders()");var E=b.data,M=b.w,H=b.ha;if(4>H)return $(p,7,"Truncated header.");var G=E[M+0]|E[M+1]<<8|E[M+2]<<16,K=p.Od;if(K.Rb=!(1&G),K.td=G>>1&7,K.yd=G>>4&1,K.ub=G>>5,3<K.td)return $(p,3,"Incorrect keyframe parameters.");if(!K.yd)return $(p,4,"Frame not displayable.");M+=3,H-=3;var J=p.Kc;if(K.Rb){if(7>H)return $(p,7,"cannot parse picture header");if(!be(E,M,H))return $(p,3,"Bad code word");J.c=16383&(E[M+4]<<8|E[M+3]),J.Td=E[M+4]>>6,J.i=16383&(E[M+6]<<8|E[M+5]),J.Ud=E[M+6]>>6,M+=7,H-=7,p.za=J.c+15>>4,p.Ub=J.i+15>>4,b.width=J.c,b.height=J.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((G=p.Pa).jb,0,255,G.jb.length),e((G=p.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if(K.ub>H)return $(p,7,"bad partition length");ge(G=p.m,E,M,K.ub),M+=K.ub,H-=K.ub,K.Rb&&(J.Ld=Le(G),J.Kd=Le(G)),J=p.Qa;var te,oe=p.Pa;if(e(G!=null),e(J!=null),J.Cb=Le(G),J.Cb){if(J.Bb=Le(G),Le(G)){for(J.Fb=Le(G),te=0;4>te;++te)J.Zb[te]=Le(G)?re(G,7):0;for(te=0;4>te;++te)J.Lb[te]=Le(G)?re(G,6):0}if(J.Bb)for(te=0;3>te;++te)oe.jb[te]=Le(G)?me(G,8):255}else J.Bb=0;if(G.Ka)return $(p,3,"cannot parse segment header");if((J=p.ed).zd=Le(G),J.Tb=me(G,6),J.wb=me(G,3),J.Pc=Le(G),J.Pc&&Le(G)){for(oe=0;4>oe;++oe)Le(G)&&(J.vd[oe]=re(G,6));for(oe=0;4>oe;++oe)Le(G)&&(J.od[oe]=re(G,6))}if(p.L=J.Tb==0?0:J.zd?1:2,G.Ka)return $(p,3,"cannot parse filter header");var xe=H;if(H=te=M,M=te+xe,J=xe,p.Xb=(1<<me(p.m,2))-1,xe<3*(oe=p.Xb))E=7;else{for(te+=3*oe,J-=3*oe,xe=0;xe<oe;++xe){var Pe=E[H+0]|E[H+1]<<8|E[H+2]<<16;Pe>J&&(Pe=J),ge(p.Jc[+xe],E,te,Pe),te+=Pe,J-=Pe,H+=3}ge(p.Jc[+oe],E,te,J),E=te<M?0:5}if(E!=0)return $(p,E,"cannot parse partitions");for(E=me(te=p.m,7),H=Le(te)?re(te,4):0,M=Le(te)?re(te,4):0,J=Le(te)?re(te,4):0,oe=Le(te)?re(te,4):0,te=Le(te)?re(te,4):0,xe=p.Qa,Pe=0;4>Pe;++Pe){if(xe.Cb){var ae=xe.Zb[Pe];xe.Fb||(ae+=E)}else{if(0<Pe){p.pb[Pe]=p.pb[0];continue}ae=E}var ke=p.pb[Pe];ke.Sc[0]=_c[xr(ae+H,127)],ke.Sc[1]=bu[xr(ae+0,127)],ke.Eb[0]=2*_c[xr(ae+M,127)],ke.Eb[1]=101581*bu[xr(ae+J,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=_c[xr(ae+oe,117)],ke.Qc[1]=bu[xr(ae+te,127)],ke.lc=ae+te}if(!K.Rb)return $(p,4,"Not a key frame.");for(Le(G),K=p.Pa,E=0;4>E;++E){for(H=0;8>H;++H)for(M=0;3>M;++M)for(J=0;11>J;++J)oe=Ve(G,G0[E][H][M][J])?me(G,8):lp[E][H][M][J],K.Wc[E][H].Yb[M][J]=oe;for(H=0;17>H;++H)K.Xc[E][H]=K.Wc[E][zh[H]]}return p.kc=Le(G),p.kc&&(p.Bd=me(G,8)),p.cb=1}function Qe(p,b,E,M,H,G,K){var J=b[H].Yb[E];for(E=0;16>H;++H){if(!Ve(p,J[E+0]))return H;for(;!Ve(p,J[E+1]);)if(J=b[++H].Yb[0],E=0,H==16)return 16;var te=b[H+1].Yb;if(Ve(p,J[E+2])){var oe=p,xe=0;if(Ve(oe,(ae=J)[(Pe=E)+3]))if(Ve(oe,ae[Pe+6])){for(J=0,Pe=2*(xe=Ve(oe,ae[Pe+8]))+(ae=Ve(oe,ae[Pe+9+xe])),xe=0,ae=Vh[Pe];ae[J];++J)xe+=xe+Ve(oe,ae[J]);xe+=3+(8<<Pe)}else Ve(oe,ae[Pe+7])?(xe=7+2*Ve(oe,165),xe+=Ve(oe,145)):xe=5+Ve(oe,159);else xe=Ve(oe,ae[Pe+4])?3+Ve(oe,ae[Pe+5]):2;J=te[2]}else xe=1,J=te[1];te=K+Uh[H],0>(oe=p).b&&Te(oe);var Pe,ae=oe.b,ke=(Pe=oe.Ca>>1)-(oe.I>>ae)>>31;--oe.b,oe.Ca+=ke,oe.Ca|=1,oe.I-=(Pe+1&ke)<<ae,G[te]=((xe^ke)-ke)*M[(0<H)+0]}return 16}function Rt(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function $t(p,b,E,M,H){H=p[b+E+32*M]+(H>>3),p[b+E+32*M]=-256&H?0>H?0:255:H}function Gt(p,b,E,M,H,G){$t(p,b,0,E,M+H),$t(p,b,1,E,M+G),$t(p,b,2,E,M-G),$t(p,b,3,E,M-H)}function et(p){return(20091*p>>16)+p}function Sn(p,b,E,M){var H,G=0,K=s(16);for(H=0;4>H;++H){var J=p[b+0]+p[b+8],te=p[b+0]-p[b+8],oe=(35468*p[b+4]>>16)-et(p[b+12]),xe=et(p[b+4])+(35468*p[b+12]>>16);K[G+0]=J+xe,K[G+1]=te+oe,K[G+2]=te-oe,K[G+3]=J-xe,G+=4,b++}for(H=G=0;4>H;++H)J=(p=K[G+0]+4)+K[G+8],te=p-K[G+8],oe=(35468*K[G+4]>>16)-et(K[G+12]),$t(E,M,0,0,J+(xe=et(K[G+4])+(35468*K[G+12]>>16))),$t(E,M,1,0,te+oe),$t(E,M,2,0,te-oe),$t(E,M,3,0,J-xe),G++,M+=32}function yn(p,b,E,M){var H=p[b+0]+4,G=35468*p[b+4]>>16,K=et(p[b+4]),J=35468*p[b+1]>>16;Gt(E,M,0,H+K,p=et(p[b+1]),J),Gt(E,M,1,H+G,p,J),Gt(E,M,2,H-G,p,J),Gt(E,M,3,H-K,p,J)}function kn(p,b,E,M,H){Sn(p,b,E,M),H&&Sn(p,b+16,E,M+4)}function qt(p,b,E,M){Ll(p,b+0,E,M,1),Ll(p,b+32,E,M+128,1)}function _r(p,b,E,M){var H;for(p=p[b+0]+4,H=0;4>H;++H)for(b=0;4>b;++b)$t(E,M,b,H,p)}function ut(p,b,E,M){p[b+0]&&$n(p,b+0,E,M),p[b+16]&&$n(p,b+16,E,M+4),p[b+32]&&$n(p,b+32,E,M+128),p[b+48]&&$n(p,b+48,E,M+128+4)}function Ht(p,b,E,M){var H,G=s(16);for(H=0;4>H;++H){var K=p[b+0+H]+p[b+12+H],J=p[b+4+H]+p[b+8+H],te=p[b+4+H]-p[b+8+H],oe=p[b+0+H]-p[b+12+H];G[0+H]=K+J,G[8+H]=K-J,G[4+H]=oe+te,G[12+H]=oe-te}for(H=0;4>H;++H)K=(p=G[0+4*H]+3)+G[3+4*H],J=G[1+4*H]+G[2+4*H],te=G[1+4*H]-G[2+4*H],oe=p-G[3+4*H],E[M+0]=K+J>>3,E[M+16]=oe+te>>3,E[M+32]=K-J>>3,E[M+48]=oe-te>>3,M+=64}function ur(p,b,E){var M,H=b-32,G=vs,K=255-p[H-1];for(M=0;M<E;++M){var J,te=G,oe=K+p[b-1];for(J=0;J<E;++J)p[b+J]=te[oe+p[H+J]];b+=32}}function Ir(p,b){ur(p,b,4)}function Zr(p,b){ur(p,b,8)}function dr(p,b){ur(p,b,16)}function ei(p,b){var E;for(E=0;16>E;++E)n(p,b+32*E,p,b-32,16)}function Js(p,b){var E;for(E=16;0<E;--E)i(p,b,p[b-1],16),b+=32}function Ur(p,b,E){var M;for(M=0;16>M;++M)i(b,E+32*M,p,16)}function wi(p,b){var E,M=16;for(E=0;16>E;++E)M+=p[b-1+32*E]+p[b+E-32];Ur(M>>5,p,b)}function Ui(p,b){var E,M=8;for(E=0;16>E;++E)M+=p[b-1+32*E];Ur(M>>4,p,b)}function ms(p,b){var E,M=8;for(E=0;16>E;++E)M+=p[b+E-32];Ur(M>>4,p,b)}function Xo(p,b){Ur(128,p,b)}function Wt(p,b,E){return p+2*b+E+2>>2}function fo(p,b){var E,M=b-32;for(M=new Uint8Array([Wt(p[M-1],p[M+0],p[M+1]),Wt(p[M+0],p[M+1],p[M+2]),Wt(p[M+1],p[M+2],p[M+3]),Wt(p[M+2],p[M+3],p[M+4])]),E=0;4>E;++E)n(p,b+32*E,M,0,M.length)}function du(p,b){var E=p[b-1],M=p[b-1+32],H=p[b-1+64],G=p[b-1+96];Xe(p,b+0,16843009*Wt(p[b-1-32],E,M)),Xe(p,b+32,16843009*Wt(E,M,H)),Xe(p,b+64,16843009*Wt(M,H,G)),Xe(p,b+96,16843009*Wt(H,G,G))}function hc(p,b){var E,M=4;for(E=0;4>E;++E)M+=p[b+E-32]+p[b-1+32*E];for(M>>=3,E=0;4>E;++E)i(p,b+32*E,M,4)}function zr(p,b){var E=p[b-1+0],M=p[b-1+32],H=p[b-1+64],G=p[b-1-32],K=p[b+0-32],J=p[b+1-32],te=p[b+2-32],oe=p[b+3-32];p[b+0+96]=Wt(M,H,p[b-1+96]),p[b+1+96]=p[b+0+64]=Wt(E,M,H),p[b+2+96]=p[b+1+64]=p[b+0+32]=Wt(G,E,M),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=Wt(K,G,E),p[b+3+64]=p[b+2+32]=p[b+1+0]=Wt(J,K,G),p[b+3+32]=p[b+2+0]=Wt(te,J,K),p[b+3+0]=Wt(oe,te,J)}function Do(p,b){var E=p[b+1-32],M=p[b+2-32],H=p[b+3-32],G=p[b+4-32],K=p[b+5-32],J=p[b+6-32],te=p[b+7-32];p[b+0+0]=Wt(p[b+0-32],E,M),p[b+1+0]=p[b+0+32]=Wt(E,M,H),p[b+2+0]=p[b+1+32]=p[b+0+64]=Wt(M,H,G),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=Wt(H,G,K),p[b+3+32]=p[b+2+64]=p[b+1+96]=Wt(G,K,J),p[b+3+64]=p[b+2+96]=Wt(K,J,te),p[b+3+96]=Wt(J,te,te)}function fc(p,b){var E=p[b-1+0],M=p[b-1+32],H=p[b-1+64],G=p[b-1-32],K=p[b+0-32],J=p[b+1-32],te=p[b+2-32],oe=p[b+3-32];p[b+0+0]=p[b+1+64]=G+K+1>>1,p[b+1+0]=p[b+2+64]=K+J+1>>1,p[b+2+0]=p[b+3+64]=J+te+1>>1,p[b+3+0]=te+oe+1>>1,p[b+0+96]=Wt(H,M,E),p[b+0+64]=Wt(M,E,G),p[b+0+32]=p[b+1+96]=Wt(E,G,K),p[b+1+32]=p[b+2+96]=Wt(G,K,J),p[b+2+32]=p[b+3+96]=Wt(K,J,te),p[b+3+32]=Wt(J,te,oe)}function Lo(p,b){var E=p[b+0-32],M=p[b+1-32],H=p[b+2-32],G=p[b+3-32],K=p[b+4-32],J=p[b+5-32],te=p[b+6-32],oe=p[b+7-32];p[b+0+0]=E+M+1>>1,p[b+1+0]=p[b+0+64]=M+H+1>>1,p[b+2+0]=p[b+1+64]=H+G+1>>1,p[b+3+0]=p[b+2+64]=G+K+1>>1,p[b+0+32]=Wt(E,M,H),p[b+1+32]=p[b+0+96]=Wt(M,H,G),p[b+2+32]=p[b+1+96]=Wt(H,G,K),p[b+3+32]=p[b+2+96]=Wt(G,K,J),p[b+3+64]=Wt(K,J,te),p[b+3+96]=Wt(J,te,oe)}function po(p,b){var E=p[b-1+0],M=p[b-1+32],H=p[b-1+64],G=p[b-1+96];p[b+0+0]=E+M+1>>1,p[b+2+0]=p[b+0+32]=M+H+1>>1,p[b+2+32]=p[b+0+64]=H+G+1>>1,p[b+1+0]=Wt(E,M,H),p[b+3+0]=p[b+1+32]=Wt(M,H,G),p[b+3+32]=p[b+1+64]=Wt(H,G,G),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=G}function $a(p,b){var E=p[b-1+0],M=p[b-1+32],H=p[b-1+64],G=p[b-1+96],K=p[b-1-32],J=p[b+0-32],te=p[b+1-32],oe=p[b+2-32];p[b+0+0]=p[b+2+32]=E+K+1>>1,p[b+0+32]=p[b+2+64]=M+E+1>>1,p[b+0+64]=p[b+2+96]=H+M+1>>1,p[b+0+96]=G+H+1>>1,p[b+3+0]=Wt(J,te,oe),p[b+2+0]=Wt(K,J,te),p[b+1+0]=p[b+3+32]=Wt(E,K,J),p[b+1+32]=p[b+3+64]=Wt(M,E,K),p[b+1+64]=p[b+3+96]=Wt(H,M,E),p[b+1+96]=Wt(G,H,M)}function zi(p,b){var E;for(E=0;8>E;++E)n(p,b+32*E,p,b-32,8)}function Zs(p,b){var E;for(E=0;8>E;++E)i(p,b,p[b-1],8),b+=32}function qi(p,b,E){var M;for(M=0;8>M;++M)i(b,E+32*M,p,8)}function Jo(p,b){var E,M=8;for(E=0;8>E;++E)M+=p[b+E-32]+p[b-1+32*E];qi(M>>4,p,b)}function ir(p,b){var E,M=4;for(E=0;8>E;++E)M+=p[b+E-32];qi(M>>3,p,b)}function Al(p,b){var E,M=4;for(E=0;8>E;++E)M+=p[b-1+32*E];qi(M>>3,p,b)}function Ya(p,b){qi(128,p,b)}function gs(p,b,E){var M=p[b-E],H=p[b+0],G=3*(H-M)+ia[1020+p[b-2*E]-p[b+E]],K=bc[112+(G+4>>3)];p[b-E]=vs[255+M+bc[112+(G+3>>3)]],p[b+0]=vs[255+H-K]}function Zo(p,b,E,M){var H=p[b+0],G=p[b+E];return wo[255+p[b-2*E]-p[b-E]]>M||wo[255+G-H]>M}function ea(p,b,E,M){return 4*wo[255+p[b-E]-p[b+0]]+wo[255+p[b-2*E]-p[b+E]]<=M}function Hi(p,b,E,M,H){var G=p[b-3*E],K=p[b-2*E],J=p[b-E],te=p[b+0],oe=p[b+E],xe=p[b+2*E],Pe=p[b+3*E];return 4*wo[255+J-te]+wo[255+K-oe]>M?0:wo[255+p[b-4*E]-G]<=H&&wo[255+G-K]<=H&&wo[255+K-J]<=H&&wo[255+Pe-xe]<=H&&wo[255+xe-oe]<=H&&wo[255+oe-te]<=H}function mo(p,b,E,M){var H=2*M+1;for(M=0;16>M;++M)ea(p,b+M,E,H)&&gs(p,b+M,E)}function Li(p,b,E,M){var H=2*M+1;for(M=0;16>M;++M)ea(p,b+M*E,1,H)&&gs(p,b+M*E,1)}function Ga(p,b,E,M){var H;for(H=3;0<H;--H)mo(p,b+=4*E,E,M)}function va(p,b,E,M){var H;for(H=3;0<H;--H)Li(p,b+=4,E,M)}function Ri(p,b,E,M,H,G,K,J){for(G=2*G+1;0<H--;){if(Hi(p,b,E,G,K))if(Zo(p,b,E,J))gs(p,b,E);else{var te=p,oe=b,xe=E,Pe=te[oe-2*xe],ae=te[oe-xe],ke=te[oe+0],Ie=te[oe+xe],qe=te[oe+2*xe],Re=27*(ze=ia[1020+3*(ke-ae)+ia[1020+Pe-Ie]])+63>>7,Ue=18*ze+63>>7,ze=9*ze+63>>7;te[oe-3*xe]=vs[255+te[oe-3*xe]+ze],te[oe-2*xe]=vs[255+Pe+Ue],te[oe-xe]=vs[255+ae+Re],te[oe+0]=vs[255+ke-Re],te[oe+xe]=vs[255+Ie-Ue],te[oe+2*xe]=vs[255+qe-ze]}b+=M}}function eo(p,b,E,M,H,G,K,J){for(G=2*G+1;0<H--;){if(Hi(p,b,E,G,K))if(Zo(p,b,E,J))gs(p,b,E);else{var te=p,oe=b,xe=E,Pe=te[oe-xe],ae=te[oe+0],ke=te[oe+xe],Ie=bc[112+(4+(qe=3*(ae-Pe))>>3)],qe=bc[112+(qe+3>>3)],Re=Ie+1>>1;te[oe-2*xe]=vs[255+te[oe-2*xe]+Re],te[oe-xe]=vs[255+Pe+qe],te[oe+0]=vs[255+ae-Ie],te[oe+xe]=vs[255+ke-Re]}b+=M}}function di(p,b,E,M,H,G){Ri(p,b,E,1,16,M,H,G)}function Wi(p,b,E,M,H,G){Ri(p,b,1,E,16,M,H,G)}function ya(p,b,E,M,H,G){var K;for(K=3;0<K;--K)eo(p,b+=4*E,E,1,16,M,H,G)}function _(p,b,E,M,H,G){var K;for(K=3;0<K;--K)eo(p,b+=4,1,E,16,M,H,G)}function q(p,b,E,M,H,G,K,J){Ri(p,b,H,1,8,G,K,J),Ri(E,M,H,1,8,G,K,J)}function le(p,b,E,M,H,G,K,J){Ri(p,b,1,H,8,G,K,J),Ri(E,M,1,H,8,G,K,J)}function ve(p,b,E,M,H,G,K,J){eo(p,b+4*H,H,1,8,G,K,J),eo(E,M+4*H,H,1,8,G,K,J)}function Ce(p,b,E,M,H,G,K,J){eo(p,b+4,1,H,8,G,K,J),eo(E,M+4,1,H,8,G,K,J)}function He(){this.ba=new Qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ct(){this.ua=0,this.Wa=new cn,this.vb=new cn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new D}function Xt(){this.xb=this.a=0,this.l=new ho,this.ca=new Qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ct,this.ab=0,this.gc=a(4,gt),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ho,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function In(p,b,E,M,H,G,K){for(p=p==null?0:p[b+0],b=0;b<K;++b)H[G+b]=p+E[M+b]&255,p=H[G+b]}function Wn(p,b,E,M,H,G,K){var J;if(p==null)In(null,null,E,M,H,G,K);else for(J=0;J<K;++J)H[G+J]=p[b+J]+E[M+J]&255}function Rr(p,b,E,M,H,G,K){if(p==null)In(null,null,E,M,H,G,K);else{var J,te=p[b+0],oe=te,xe=te;for(J=0;J<K;++J)oe=xe+(te=p[b+J])-oe,xe=E[M+J]+(-256&oe?0>oe?0:255:oe)&255,oe=te,H[G+J]=xe}}function tr(p,b,E,M){var H=b.width,G=b.o;if(e(p!=null&&b!=null),0>E||0>=M||E+M>G)return null;if(!p.Cc){if(p.ga==null){var K;if(p.ga=new on,(K=p.ga==null)||(K=b.width*b.o,e(p.Gb.length==0),p.Gb=s(K),p.Uc=0,p.Gb==null?K=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,K=1),K=!K),!K){K=p.ga;var J=p.Fa,te=p.P,oe=p.qc,xe=p.mb,Pe=p.nb,ae=te+1,ke=oe-1,Ie=K.l;if(e(J!=null&&xe!=null&&b!=null),is[0]=null,is[1]=In,is[2]=Wn,is[3]=Rr,K.ca=xe,K.tb=Pe,K.c=b.width,K.i=b.height,e(0<K.c&&0<K.i),1>=oe)b=0;else if(K.$a=3&J[te+0],K.Z=J[te+0]>>2&3,K.Lc=J[te+0]>>4&3,te=J[te+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||te)b=0;else if(Ie.put=Vt,Ie.ac=Vr,Ie.bc=Hn,Ie.ma=K,Ie.width=b.width,Ie.height=b.height,Ie.Da=b.Da,Ie.v=b.v,Ie.va=b.va,Ie.j=b.j,Ie.o=b.o,K.$a)e:{e(K.$a==1),b=Qs();t:for(;;){if(b==null){b=0;break e}if(e(K!=null),K.mc=b,b.c=K.c,b.i=K.i,b.l=K.l,b.l.ma=K,b.l.width=K.c,b.l.height=K.i,b.a=0,ye(b.m,J,ae,ke),!ns(K.c,K.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Ti(b.s)?(K.ic=1,J=b.c*b.i,b.Ta=null,b.Ua=0,b.V=s(J),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(K.ic=0,b=Cs(b,K.c)),!b))break t;b=1;break e}K.mc=null,b=0}else b=ke>=K.c*K.i;K=!b}if(K)return null;p.ga.Lc!=1?p.Ga=0:M=G-E}e(p.ga!=null),e(E+M<=G);e:{if(b=(J=p.ga).c,G=J.l.o,J.$a==0){if(ae=p.rc,ke=p.Vc,Ie=p.Fa,te=p.P+1+E*b,oe=p.mb,xe=p.nb+E*b,e(te<=p.P+p.qc),J.Z!=0)for(e(is[J.Z]!=null),K=0;K<M;++K)is[J.Z](ae,ke,Ie,te,oe,xe,b),ae=oe,ke=xe,xe+=b,te+=b;else for(K=0;K<M;++K)n(oe,xe,Ie,te,b),ae=oe,ke=xe,xe+=b,te+=b;p.rc=ae,p.Vc=ke}else{if(e(J.mc!=null),b=E+M,e((K=J.mc)!=null),e(b<=K.i),K.C>=b)b=1;else if(J.ic||Ts(),J.ic){J=K.V,ae=K.Ba,ke=K.c;var qe=K.i,Re=(Ie=1,te=K.$/ke,oe=K.$%ke,xe=K.m,Pe=K.s,K.$),Ue=ke*qe,ze=ke*b,$e=Pe.wc,Ye=Re<ze?er(Pe,oe,te):null;e(Re<=Ue),e(b<=qe),e(Ti(Pe));t:for(;;){for(;!xe.h&&Re<ze;){if(oe&$e||(Ye=er(Pe,oe,te)),e(Ye!=null),Ee(xe),256>(qe=Xn(Ye.G[0],Ye.H[0],xe)))J[ae+Re]=qe,++Re,++oe>=ke&&(oe=0,++te<=b&&!(te%16)&&Ar(K,te));else{if(!(280>qe)){Ie=0;break t}qe=Cr(qe-256,xe);var jt,yt=Xn(Ye.G[4],Ye.H[4],xe);if(Ee(xe),!(Re>=(yt=ci(ke,yt=Cr(yt,xe)))&&Ue-Re>=qe)){Ie=0;break t}for(jt=0;jt<qe;++jt)J[ae+Re+jt]=J[ae+Re+jt-yt];for(Re+=qe,oe+=qe;oe>=ke;)oe-=ke,++te<=b&&!(te%16)&&Ar(K,te);Re<ze&&oe&$e&&(Ye=er(Pe,oe,te))}e(xe.h==he(xe))}Ar(K,te>b?b:te);break t}!Ie||xe.h&&Re<Ue?(Ie=0,K.a=xe.h?5:3):K.$=Re,b=Ie}else b=ui(K,K.V,K.Ba,K.c,K.i,b,As);if(!b){M=0;break e}}E+M>=G&&(p.Cc=1),M=1}if(!M)return null;if(p.Cc&&((M=p.ga)!=null&&(M.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+E*H}function qr(p,b,E,M,H,G){for(;0<H--;){var K,J=p,te=b+(E?1:0),oe=p,xe=b+(E?0:3);for(K=0;K<M;++K){var Pe=oe[xe+4*K];Pe!=255&&(Pe*=32897,J[te+4*K+0]=J[te+4*K+0]*Pe>>23,J[te+4*K+1]=J[te+4*K+1]*Pe>>23,J[te+4*K+2]=J[te+4*K+2]*Pe>>23)}b+=G}}function Tr(p,b,E,M,H){for(;0<M--;){var G;for(G=0;G<E;++G){var K=p[b+2*G+0],J=15&(oe=p[b+2*G+1]),te=4369*J,oe=(240&oe|oe>>4)*te>>16;p[b+2*G+0]=(240&K|K>>4)*te>>16&240|(15&K|K<<4)*te>>16>>4&15,p[b+2*G+1]=240&oe|J}b+=H}}function Hr(p,b,E,M,H,G,K,J){var te,oe,xe=255;for(oe=0;oe<H;++oe){for(te=0;te<M;++te){var Pe=p[b+te];G[K+4*te]=Pe,xe&=Pe}b+=E,K+=J}return xe!=255}function Mr(p,b,E,M,H){var G;for(G=0;G<H;++G)E[M+G]=p[b+G]>>8}function Ts(){Ml=qr,Lh=Tr,pu=Hr,Rh=Mr}function go(p,b,E){C[p]=function(M,H,G,K,J,te,oe,xe,Pe,ae,ke,Ie,qe,Re,Ue,ze,$e){var Ye,jt=$e-1>>1,yt=J[te+0]|oe[xe+0]<<16,pn=Pe[ae+0]|ke[Ie+0]<<16;e(M!=null);var Et=3*yt+pn+131074>>2;for(b(M[H+0],255&Et,Et>>16,qe,Re),G!=null&&(Et=3*pn+yt+131074>>2,b(G[K+0],255&Et,Et>>16,Ue,ze)),Ye=1;Ye<=jt;++Ye){var Tn=J[te+Ye]|oe[xe+Ye]<<16,Yr=Pe[ae+Ye]|ke[Ie+Ye]<<16,wn=yt+Tn+pn+Yr+524296,wt=wn+2*(Tn+pn)>>3;Et=wt+yt>>1,yt=(wn=wn+2*(yt+Yr)>>3)+Tn>>1,b(M[H+2*Ye-1],255&Et,Et>>16,qe,Re+(2*Ye-1)*E),b(M[H+2*Ye-0],255&yt,yt>>16,qe,Re+(2*Ye-0)*E),G!=null&&(Et=wn+pn>>1,yt=wt+Yr>>1,b(G[K+2*Ye-1],255&Et,Et>>16,Ue,ze+(2*Ye-1)*E),b(G[K+2*Ye+0],255&yt,yt>>16,Ue,ze+(2*Ye+0)*E)),yt=Tn,pn=Yr}1&$e||(Et=3*yt+pn+131074>>2,b(M[H+$e-1],255&Et,Et>>16,qe,Re+($e-1)*E),G!=null&&(Et=3*pn+yt+131074>>2,b(G[K+$e-1],255&Et,Et>>16,Ue,ze+($e-1)*E)))}}function Ps(){Rs[hd]=K0,Rs[Za]=el,Rs[ip]=Q0,Rs[mu]=kc,Rs[gu]=Bl,Rs[hr]=xu,Rs[fd]=qh,Rs[xc]=el,Rs[Ol]=kc,Rs[vu]=Bl,Rs[yu]=xu}function m(p){return p&-16384?0>p?0:255:p>>tl}function I(p,b){return m((19077*p>>8)+(26149*b>>8)-14234)}function B(p,b,E){return m((19077*p>>8)-(6419*b>>8)-(13320*E>>8)+8708)}function ee(p,b){return m((19077*p>>8)+(33050*b>>8)-17685)}function Ae(p,b,E,M,H){M[H+0]=I(p,E),M[H+1]=B(p,b,E),M[H+2]=ee(p,b)}function Oe(p,b,E,M,H){M[H+0]=ee(p,b),M[H+1]=B(p,b,E),M[H+2]=I(p,E)}function st(p,b,E,M,H){var G=B(p,b,E);b=G<<3&224|ee(p,b)>>3,M[H+0]=248&I(p,E)|G>>5,M[H+1]=b}function Dn(p,b,E,M,H){var G=240&ee(p,b)|15;M[H+0]=240&I(p,E)|B(p,b,E)>>4,M[H+1]=G}function Or(p,b,E,M,H){M[H+0]=255,Ae(p,b,E,M,H+1)}function Nn(p,b,E,M,H){Oe(p,b,E,M,H),M[H+3]=255}function zn(p,b,E,M,H){Ae(p,b,E,M,H),M[H+3]=255}function sr(p,b,E){C[p]=function(M,H,G,K,J,te,oe,xe,Pe){for(var ae=xe+(-2&Pe)*E;xe!=ae;)b(M[H+0],G[K+0],J[te+0],oe,xe),b(M[H+1],G[K+0],J[te+0],oe,xe+E),H+=2,++K,++te,xe+=2*E;1&Pe&&b(M[H+0],G[K+0],J[te+0],oe,xe)}}function $i(p,b,E){return E==0?p==0?b==0?6:5:b==0?4:0:E}function rs(p,b,E,M,H){switch(p>>>30){case 3:Ll(b,E,M,H,0);break;case 2:Wr(b,E,M,H);break;case 1:$n(b,E,M,H)}}function Mi(p,b){var E,M,H=b.M,G=b.Nb,K=p.oc,J=p.pc+40,te=p.oc,oe=p.pc+584,xe=p.oc,Pe=p.pc+600;for(E=0;16>E;++E)K[J+32*E-1]=129;for(E=0;8>E;++E)te[oe+32*E-1]=129,xe[Pe+32*E-1]=129;for(0<H?K[J-1-32]=te[oe-1-32]=xe[Pe-1-32]=129:(i(K,J-32-1,127,21),i(te,oe-32-1,127,9),i(xe,Pe-32-1,127,9)),M=0;M<p.za;++M){var ae=b.ya[b.aa+M];if(0<M){for(E=-1;16>E;++E)n(K,J+32*E-4,K,J+32*E+12,4);for(E=-1;8>E;++E)n(te,oe+32*E-4,te,oe+32*E+4,4),n(xe,Pe+32*E-4,xe,Pe+32*E+4,4)}var ke=p.Gd,Ie=p.Hd+M,qe=ae.ad,Re=ae.Hc;if(0<H&&(n(K,J-32,ke[Ie].y,0,16),n(te,oe-32,ke[Ie].f,0,8),n(xe,Pe-32,ke[Ie].ea,0,8)),ae.Za){var Ue=K,ze=J-32+16;for(0<H&&(M>=p.za-1?i(Ue,ze,ke[Ie].y[15],4):n(Ue,ze,ke[Ie+1].y,0,4)),E=0;4>E;E++)Ue[ze+128+E]=Ue[ze+256+E]=Ue[ze+384+E]=Ue[ze+0+E];for(E=0;16>E;++E,Re<<=2)Ue=K,ze=J+Hh[E],bo[ae.Ob[E]](Ue,ze),rs(Re,qe,16*+E,Ue,ze)}else if(Ue=$i(M,H,ae.Ob[0]),ys[Ue](K,J),Re!=0)for(E=0;16>E;++E,Re<<=2)rs(Re,qe,16*+E,K,J+Hh[E]);for(E=ae.Gc,Ue=$i(M,H,ae.Dd),Ls[Ue](te,oe),Ls[Ue](xe,Pe),Re=qe,Ue=te,ze=oe,255&(ae=0|E)&&(170&ae?Ds(Re,256,Ue,ze):or(Re,256,Ue,ze)),ae=xe,Re=Pe,255&(E>>=8)&&(170&E?Ds(qe,320,ae,Re):or(qe,320,ae,Re)),H<p.Ub-1&&(n(ke[Ie].y,0,K,J+480,16),n(ke[Ie].f,0,te,oe+224,8),n(ke[Ie].ea,0,xe,Pe+224,8)),E=8*G*p.B,ke=p.sa,Ie=p.ta+16*M+16*G*p.R,qe=p.qa,ae=p.ra+8*M+E,Re=p.Ha,Ue=p.Ia+8*M+E,E=0;16>E;++E)n(ke,Ie+E*p.R,K,J+32*E,16);for(E=0;8>E;++E)n(qe,ae+E*p.B,te,oe+32*E,8),n(Re,Ue+E*p.B,xe,Pe+32*E,8)}}function vo(p,b,E,M,H,G,K,J,te){var oe=[0],xe=[0],Pe=0,ae=te!=null?te.kd:0,ke=te??new Ke;if(p==null||12>E)return 7;ke.data=p,ke.w=b,ke.ha=E,b=[b],E=[E],ke.gb=[ke.gb];e:{var Ie=b,qe=E,Re=ke.gb;if(e(p!=null),e(qe!=null),e(Re!=null),Re[0]=0,12<=qe[0]&&!t(p,Ie[0],"RIFF")){if(t(p,Ie[0]+8,"WEBP")){Re=3;break e}var Ue=mt(p,Ie[0]+4);if(12>Ue||4294967286<Ue){Re=3;break e}if(ae&&Ue>qe[0]-8){Re=7;break e}Re[0]=Ue,Ie[0]+=12,qe[0]-=12}Re=0}if(Re!=0)return Re;for(Ue=0<ke.gb[0],E=E[0];;){e:{var ze=p;qe=b,Re=E;var $e=oe,Ye=xe,jt=Ie=[0];if((Et=Pe=[Pe])[0]=0,8>Re[0])Re=7;else{if(!t(ze,qe[0],"VP8X")){if(mt(ze,qe[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var yt=mt(ze,qe[0]+8),pn=1+rt(ze,qe[0]+12);if(2147483648<=pn*(ze=1+rt(ze,qe[0]+15))){Re=3;break e}jt!=null&&(jt[0]=yt),$e!=null&&($e[0]=pn),Ye!=null&&(Ye[0]=ze),qe[0]+=18,Re[0]-=18,Et[0]=1}Re=0}}if(Pe=Pe[0],Ie=Ie[0],Re!=0)return Re;if(qe=!!(2&Ie),!Ue&&Pe)return 3;if(G!=null&&(G[0]=!!(16&Ie)),K!=null&&(K[0]=qe),J!=null&&(J[0]=0),K=oe[0],Ie=xe[0],Pe&&qe&&te==null){Re=0;break}if(4>E){Re=7;break}if(Ue&&Pe||!Ue&&!Pe&&!t(p,b[0],"ALPH")){E=[E],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{yt=p,Re=b,Ue=E;var Et=ke.gb;$e=ke.na,Ye=ke.P,jt=ke.Sa,pn=22,e(yt!=null),e(Ue!=null),ze=Re[0];var Tn=Ue[0];for(e($e!=null),e(jt!=null),$e[0]=null,Ye[0]=null,jt[0]=0;;){if(Re[0]=ze,Ue[0]=Tn,8>Tn){Re=7;break e}var Yr=mt(yt,ze+4);if(4294967286<Yr){Re=3;break e}var wn=8+Yr+1&-2;if(pn+=wn,0<Et&&pn>Et){Re=3;break e}if(!t(yt,ze,"VP8 ")||!t(yt,ze,"VP8L")){Re=0;break e}if(Tn[0]<wn){Re=7;break e}t(yt,ze,"ALPH")||($e[0]=yt,Ye[0]=ze+8,jt[0]=Yr),ze+=wn,Tn-=wn}}if(E=E[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Re!=0)break}E=[E],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(Et=p,Re=b,Ue=E,$e=ke.gb[0],Ye=ke.Ja,jt=ke.xa,yt=Re[0],ze=!t(Et,yt,"VP8 "),pn=!t(Et,yt,"VP8L"),e(Et!=null),e(Ue!=null),e(Ye!=null),e(jt!=null),8>Ue[0])Re=7;else{if(ze||pn){if(Et=mt(Et,yt+4),12<=$e&&Et>$e-12){Re=3;break e}if(ae&&Et>Ue[0]-8){Re=7;break e}Ye[0]=Et,Re[0]+=8,Ue[0]-=8,jt[0]=pn}else jt[0]=5<=Ue[0]&&Et[yt+0]==47&&!(Et[yt+4]>>5),Ye[0]=Ue[0];Re=0}if(E=E[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],b=b[0],Re!=0)break;if(4294967286<ke.Ja)return 3;if(J==null||qe||(J[0]=ke.xa?2:1),K=[K],Ie=[Ie],ke.xa){if(5>E){Re=7;break}J=K,ae=Ie,qe=G,p==null||5>E?p=0:5<=E&&p[b+0]==47&&!(p[b+4]>>5)?(Ue=[0],Et=[0],$e=[0],ye(Ye=new Q,p,b,E),ts(Ye,Ue,Et,$e)?(J!=null&&(J[0]=Ue[0]),ae!=null&&(ae[0]=Et[0]),qe!=null&&(qe[0]=$e[0]),p=1):p=0):p=0}else{if(10>E){Re=7;break}J=Ie,p==null||10>E||!be(p,b+3,E-3)?p=0:(ae=p[b+0]|p[b+1]<<8|p[b+2]<<16,qe=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=ke.Ja||!qe||!p?p=0:(K&&(K[0]=qe),J&&(J[0]=p),p=1))}if(!p||(K=K[0],Ie=Ie[0],Pe&&(oe[0]!=K||xe[0]!=Ie)))return 3;te!=null&&(te[0]=ke,te.offset=b-te.w,e(4294967286>b-te.w),e(te.offset==te.ha-E));break}return Re==0||Re==7&&Pe&&te==null?(G!=null&&(G[0]|=ke.na!=null&&0<ke.na.length),M!=null&&(M[0]=K),H!=null&&(H[0]=Ie),0):Re}function pc(p,b,E){var M=b.width,H=b.height,G=0,K=0,J=M,te=H;if(b.Da=p!=null&&0<p.Da,b.Da&&(J=p.cd,te=p.bd,G=p.v,K=p.j,11>E||(G&=-2,K&=-2),0>G||0>K||0>=J||0>=te||G+J>M||K+te>H))return 0;if(b.v=G,b.j=K,b.va=G+J,b.o=K+te,b.U=J,b.T=te,b.da=p!=null&&0<p.da,b.da){if(!Tt(J,te,E=[p.ib],G=[p.hb]))return 0;b.ib=E[0],b.hb=G[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*M/4&&b.hb<3*H/4,b.Kb=0),1}function mc(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function wa(p,b,E,M){if(M==null||0>=p||0>=b)return 2;if(E!=null){if(E.Da){var H=E.cd,G=E.bd,K=-2&E.v,J=-2&E.j;if(0>K||0>J||0>=H||0>=G||K+H>p||J+G>b)return 2;p=H,b=G}if(E.da){if(!Tt(p,b,H=[E.ib],G=[E.hb]))return 2;p=H[0],b=G[0]}}M.width=p,M.height=b;e:{var te=M.width,oe=M.height;if(p=M.S,0>=te||0>=oe||!(p>=hd&&13>p))p=2;else{if(0>=M.Rd&&M.sd==null){K=G=H=b=0;var xe=(J=te*_u[p])*oe;if(11>p||(G=(oe+1)/2*(b=(te+1)/2),p==12&&(K=(H=te)*oe)),(oe=s(xe+2*G+K))==null){p=1;break e}M.sd=oe,11>p?((te=M.f.RGBA).eb=oe,te.fb=0,te.A=J,te.size=xe):((te=M.f.kb).y=oe,te.O=0,te.fa=J,te.Fd=xe,te.f=oe,te.N=0+xe,te.Ab=b,te.Cd=G,te.ea=oe,te.W=0+xe+G,te.Db=b,te.Ed=G,p==12&&(te.F=oe,te.J=0+xe+2*G),te.Tc=K,te.lb=H)}if(b=1,H=M.S,G=M.width,K=M.height,H>=hd&&13>H)if(11>H)p=M.f.RGBA,b&=(J=Math.abs(p.A))*(K-1)+G<=p.size,b&=J>=G*_u[H],b&=p.eb!=null;else{p=M.f.kb,J=(G+1)/2,xe=(K+1)/2,te=Math.abs(p.fa),oe=Math.abs(p.Ab);var Pe=Math.abs(p.Db),ae=Math.abs(p.lb),ke=ae*(K-1)+G;b&=te*(K-1)+G<=p.Fd,b&=oe*(xe-1)+J<=p.Cd,b=(b&=Pe*(xe-1)+J<=p.Ed)&te>=G&oe>=J&Pe>=J,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,H==12&&(b&=ae>=G,b&=ke<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||E!=null&&E.fd&&(p=mc(M)),p}var yo=64,to=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],no=24,Ka=32,ta=8,ba=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];dt("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(p){return p},C.Predictor2=function(p,b,E){return b[E+0]},C.Predictor3=function(p,b,E){return b[E+1]},C.Predictor4=function(p,b,E){return b[E-1]},C.Predictor5=function(p,b,E){return xt(xt(p,b[E+1]),b[E+0])},C.Predictor6=function(p,b,E){return xt(p,b[E-1])},C.Predictor7=function(p,b,E){return xt(p,b[E+0])},C.Predictor8=function(p,b,E){return xt(b[E-1],b[E+0])},C.Predictor9=function(p,b,E){return xt(b[E+0],b[E+1])},C.Predictor10=function(p,b,E){return xt(xt(p,b[E-1]),xt(b[E+0],b[E+1]))},C.Predictor11=function(p,b,E){var M=b[E+0];return 0>=_t(M>>24&255,p>>24&255,(b=b[E-1])>>24&255)+_t(M>>16&255,p>>16&255,b>>16&255)+_t(M>>8&255,p>>8&255,b>>8&255)+_t(255&M,255&p,255&b)?M:p},C.Predictor12=function(p,b,E){var M=b[E+0];return(En((p>>24&255)+(M>>24&255)-((b=b[E-1])>>24&255))<<24|En((p>>16&255)+(M>>16&255)-(b>>16&255))<<16|En((p>>8&255)+(M>>8&255)-(b>>8&255))<<8|En((255&p)+(255&M)-(255&b)))>>>0},C.Predictor13=function(p,b,E){var M=b[E-1];return(mn((p=xt(p,b[E+0]))>>24&255,M>>24&255)<<24|mn(p>>16&255,M>>16&255)<<16|mn(p>>8&255,M>>8&255)<<8|mn(255&p,255&M))>>>0};var xa=C.PredictorAdd0;C.PredictorAdd1=Lt,dt("Predictor2","PredictorAdd2"),dt("Predictor3","PredictorAdd3"),dt("Predictor4","PredictorAdd4"),dt("Predictor5","PredictorAdd5"),dt("Predictor6","PredictorAdd6"),dt("Predictor7","PredictorAdd7"),dt("Predictor8","PredictorAdd8"),dt("Predictor9","PredictorAdd9"),dt("Predictor10","PredictorAdd10"),dt("Predictor11","PredictorAdd11"),dt("Predictor12","PredictorAdd12"),dt("Predictor13","PredictorAdd13");var na=C.PredictorAdd2;Fe("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Fe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var ti,Il=C.ColorIndexInverseTransform,ra=C.MapARGB,Ro=C.VP8LColorIndexInverseTransformAlpha,Tl=C.MapAlpha,Pl=C.VP8LPredictorsAdd=[];Pl.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var gc,vc,_a,Qa,Xa,Dl,Ja,Ll,Wr,Ds,$n,or,$r,hi,Mo,hu,yc,Sa,ud,wc,dd,Dh,fu,Rl,Ml,Lh,pu,Rh,Mh=s(511),Oh=s(2041),jh=s(225),Fh=s(767),Bh=0,ia=Oh,bc=jh,vs=Fh,wo=Mh,hd=0,Za=1,ip=2,mu=3,gu=4,hr=5,fd=6,xc=7,Ol=8,vu=9,yu=10,wu=[2,3,7],pd=[3,3,11],jl=[280,256,256,256,40],sp=[0,1,1,1,0],W0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],op=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],md=8,_c=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Fl=null,Vh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Uh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ap=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Y0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],G0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],zh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ys=[],bo=[],Ls=[],sa=1,Sc=2,is=[],Rs=[];go("UpsampleRgbLinePair",Ae,3),go("UpsampleBgrLinePair",Oe,3),go("UpsampleRgbaLinePair",zn,4),go("UpsampleBgraLinePair",Nn,4),go("UpsampleArgbLinePair",Or,4),go("UpsampleRgba4444LinePair",Dn,2),go("UpsampleRgb565LinePair",st,2);var K0=C.UpsampleRgbLinePair,Q0=C.UpsampleBgrLinePair,el=C.UpsampleRgbaLinePair,kc=C.UpsampleBgraLinePair,Bl=C.UpsampleArgbLinePair,xu=C.UpsampleRgba4444LinePair,qh=C.UpsampleRgb565LinePair,ka=16,Oo=1<<ka-1,nr=-227,ar=482,tl=6,Yi=0,Ms=s(256),Vl=s(256),Ec=s(256),Os=s(256),gd=s(ar-nr),cp=s(ar-nr);sr("YuvToRgbRow",Ae,3),sr("YuvToBgrRow",Oe,3),sr("YuvToRgbaRow",zn,4),sr("YuvToBgraRow",Nn,4),sr("YuvToArgbRow",Or,4),sr("YuvToRgba4444Row",Dn,2),sr("YuvToRgb565Row",st,2);var Hh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ul=[0,2,8],up=[8,7,6,4,4,2,2,2,1,1,1,1],Ea=1;this.WebPDecodeRGBA=function(p,b,E,M,H){var G=Za,K=new He,J=new Qt;K.ba=J,J.S=G,J.width=[J.width],J.height=[J.height];var te=J.width,oe=J.height,xe=new bt;if(xe==null||p==null)var Pe=2;else e(xe!=null),Pe=vo(p,b,E,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Pe!=0?te=0:(te!=null&&(te[0]=xe.width[0]),oe!=null&&(oe[0]=xe.height[0]),te=1),te){J.width=J.width[0],J.height=J.height[0],M!=null&&(M[0]=J.width),H!=null&&(H[0]=J.height);e:{if(M=new ho,(H=new Ke).data=p,H.w=b,H.ha=E,H.kd=1,b=[0],e(H!=null),((p=vo(H.data,H.w,H.ha,null,null,null,b,null,H))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(e(K!=null),M.data=H.data,M.w=H.w+H.offset,M.ha=H.ha-H.offset,M.put=Vt,M.ac=Vr,M.bc=Hn,M.ma=K,H.xa){if((p=Qs())==null){K=1;break e}if((function(ae,ke){var Ie=[0],qe=[0],Re=[0];t:for(;;){if(ae==null)return 0;if(ke==null)return ae.a=2,0;if(ae.l=ke,ae.a=0,ye(ae.m,ke.data,ke.w,ke.ha),!ts(ae.m,Ie,qe,Re)){ae.a=3;break t}if(ae.xb=Sc,ke.width=Ie[0],ke.height=qe[0],!ns(Ie[0],qe[0],1,ae,null))break t;return 1}return e(ae.a!=0),0})(p,M)){if(M=(b=wa(M.width,M.height,K.Oa,K.ba))==0){t:{M=p;n:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((E=M.l)!=null),e((H=E.ma)!=null),M.xb!=0){if(M.ca=H.ba,M.tb=H.tb,e(M.ca!=null),!pc(H.Oa,E,mu)){M.a=2;break n}if(!Cs(M,E.width)||E.da)break n;if((E.da||zt(M.ca.S))&&Ts(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Ts()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!ie(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!ui(M,M.V,M.Ba,M.c,M.i,E.o,co))break n;H.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(b=p.a)}else b=p.a}else{if((p=new Wa)==null){K=1;break e}if(p.Fa=H.na,p.P=H.P,p.qc=H.Sa,We(p,M)){if((b=wa(M.width,M.height,K.Oa,K.ba))==0){if(p.Aa=0,E=K.Oa,e((H=p)!=null),E!=null){if(0<(te=0>(te=E.Md)?0:100<te?255:255*te/100)){for(oe=xe=0;4>oe;++oe)12>(Pe=H.pb[oe]).lc&&(Pe.ia=te*up[0>Pe.lc?0:Pe.lc]>>3),xe|=Pe.ia;xe&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=E.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}(function(ae,ke){if(ae==null)return 0;if(ke==null)return $(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!We(ae,ke))return 0;if(e(ae.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(ae.L=0);var Ie=Ul[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=ke.v-Ie>>4,ae.zb=ke.j-Ie>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=ke.o+15+Ie>>4,ae.Hb=ke.va+15+Ie>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var qe=ae.ed;for(Ie=0;4>Ie;++Ie){var Re;if(ae.Qa.Cb){var Ue=ae.Qa.Lb[Ie];ae.Qa.Fb||(Ue+=qe.Tb)}else Ue=qe.Tb;for(Re=0;1>=Re;++Re){var ze=ae.gd[Ie][Re],$e=Ue;if(qe.Pc&&($e+=qe.vd[0],Re&&($e+=qe.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var Ye=$e;0<qe.wb&&(Ye=4<qe.wb?Ye>>2:Ye>>1)>9-qe.wb&&(Ye=9-qe.wb),1>Ye&&(Ye=1),ze.dd=Ye,ze.tc=2*$e+Ye,ze.ld=40<=$e?2:15<=$e?1:0}else ze.tc=0;ze.La=Re}}}Ie=0}else $(ae,6,"Frame setup failed"),Ie=ae.a;if(Ie=Ie==0){if(Ie){ae.$c=0,0<ae.Aa||(ae.Ic=Ea);t:{Ie=ae.Ic,qe=4*(Ye=ae.za);var jt=32*Ye,yt=Ye+1,pn=0<ae.L?Ye*(0<ae.Aa?2:1):0,Et=(ae.Aa==2?2:1)*Ye;if((ze=qe+832+(Re=3*(16*Ie+Ul[ae.L])/2*jt)+(Ue=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=ze)Ie=0;else{if(ze>ae.Vb){if(ae.Vb=0,ae.Ec=s(ze),ae.Fc=0,ae.Ec==null){Ie=$(ae,1,"no memory during frame initialization.");break t}ae.Vb=ze}ze=ae.Ec,$e=ae.Fc,ae.Ac=ze,ae.Bc=$e,$e+=qe,ae.Gd=a(jt,Di),ae.Hd=0,ae.rb=a(yt+1,Pi),ae.sb=1,ae.wa=pn?a(pn,Jr):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=Ye),e(!0),ae.oc=ze,ae.pc=$e,$e+=832,ae.ya=a(Et,ps),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=Ye),ae.R=16*Ye,ae.B=8*Ye,Ye=(jt=Ul[ae.L])*ae.R,jt=jt/2*ae.B,ae.sa=ze,ae.ta=$e+Ye,ae.qa=ae.sa,ae.ra=ae.ta+16*Ie*ae.R+jt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Ie*ae.B+jt,ae.$c=0,$e+=Re,ae.mb=Ue?ze:null,ae.nb=Ue?$e:null,e($e+Ue<=ae.Fc+ae.Vb),Rt(ae),i(ae.Ac,ae.Bc,0,qe),Ie=1}}if(Ie){if(ke.ka=0,ke.y=ae.sa,ke.O=ae.ta,ke.f=ae.qa,ke.N=ae.ra,ke.ea=ae.Ha,ke.Vd=ae.Ia,ke.fa=ae.R,ke.Rc=ae.B,ke.F=null,ke.J=0,!Bh){for(Ie=-255;255>=Ie;++Ie)Mh[255+Ie]=0>Ie?-Ie:Ie;for(Ie=-1020;1020>=Ie;++Ie)Oh[1020+Ie]=-128>Ie?-128:127<Ie?127:Ie;for(Ie=-112;112>=Ie;++Ie)jh[112+Ie]=-16>Ie?-16:15<Ie?15:Ie;for(Ie=-255;510>=Ie;++Ie)Fh[255+Ie]=0>Ie?0:255<Ie?255:Ie;Bh=1}Ja=Ht,Ll=kn,Ds=qt,$n=_r,or=ut,Wr=yn,$r=di,hi=Wi,Mo=q,hu=le,yc=ya,Sa=_,ud=ve,wc=Ce,dd=mo,Dh=Li,fu=Ga,Rl=va,bo[0]=hc,bo[1]=Ir,bo[2]=fo,bo[3]=du,bo[4]=zr,bo[5]=fc,bo[6]=Do,bo[7]=Lo,bo[8]=$a,bo[9]=po,ys[0]=wi,ys[1]=dr,ys[2]=ei,ys[3]=Js,ys[4]=Ui,ys[5]=ms,ys[6]=Xo,Ls[0]=Jo,Ls[1]=Zr,Ls[2]=zi,Ls[3]=Zs,Ls[4]=Al,Ls[5]=ir,Ls[6]=Ya,Ie=1}else Ie=0}Ie&&(Ie=(function(Tn,Yr){for(Tn.M=0;Tn.M<Tn.Va;++Tn.M){var wn,wt=Tn.Jc[Tn.M&Tn.Xb],lt=Tn.m,ni=Tn;for(wn=0;wn<ni.za;++wn){var an=lt,Cn=ni,Sr=Cn.Ac,Oi=Cn.Bc+4*wn,fi=Cn.zc,jr=Cn.ya[Cn.aa+wn];if(Cn.Qa.Bb?jr.$b=Ve(an,Cn.Pa.jb[0])?2+Ve(an,Cn.Pa.jb[2]):Ve(an,Cn.Pa.jb[1]):jr.$b=0,Cn.kc&&(jr.Ad=Ve(an,Cn.Bd)),jr.Za=!Ve(an,145)+0,jr.Za){var bi=jr.Ob,ji=0;for(Cn=0;4>Cn;++Cn){var Pr,Ln=fi[0+Cn];for(Pr=0;4>Pr;++Pr){Ln=Y0[Sr[Oi+Pr]][Ln];for(var Yn=ap[Ve(an,Ln[0])];0<Yn;)Yn=ap[2*Yn+Ve(an,Ln[Yn])];Ln=-Yn,Sr[Oi+Pr]=Ln}n(bi,ji,Sr,Oi,4),ji+=4,fi[0+Cn]=Ln}}else Ln=Ve(an,156)?Ve(an,128)?1:3:Ve(an,163)?2:0,jr.Ob[0]=Ln,i(Sr,Oi,Ln,4),i(fi,0,Ln,4);jr.Dd=Ve(an,142)?Ve(an,114)?Ve(an,183)?1:3:2:0}if(ni.m.Ka)return $(Tn,7,"Premature end-of-partition0 encountered.");for(;Tn.ja<Tn.za;++Tn.ja){if(ni=wt,an=(lt=Tn).rb[lt.sb-1],Sr=lt.rb[lt.sb+lt.ja],wn=lt.ya[lt.aa+lt.ja],Oi=lt.kc?wn.Ad:0)an.la=Sr.la=0,wn.Za||(an.Na=Sr.Na=0),wn.Hc=0,wn.Gc=0,wn.ia=0;else{var Dr,Gn;if(an=Sr,Sr=ni,Oi=lt.Pa.Xc,fi=lt.ya[lt.aa+lt.ja],jr=lt.pb[fi.$b],Cn=fi.ad,bi=0,ji=lt.rb[lt.sb-1],Ln=Pr=0,i(Cn,bi,0,384),fi.Za)var Gr=0,Kr=Oi[3];else{Yn=s(16);var fr=an.Na+ji.Na;if(fr=Fl(Sr,Oi[1],fr,jr.Eb,0,Yn,0),an.Na=ji.Na=(0<fr)+0,1<fr)Ja(Yn,0,Cn,bi);else{var ss=Yn[0]+3>>3;for(Yn=0;256>Yn;Yn+=16)Cn[bi+Yn]=ss}Gr=1,Kr=Oi[0]}var lr=15&an.la,pr=15&ji.la;for(Yn=0;4>Yn;++Yn){var pi=1&pr;for(ss=Gn=0;4>ss;++ss)lr=lr>>1|(pi=(fr=Fl(Sr,Kr,fr=pi+(1&lr),jr.Sc,Gr,Cn,bi))>Gr)<<7,Gn=Gn<<2|(3<fr?3:1<fr?2:Cn[bi+0]!=0),bi+=16;lr>>=4,pr=pr>>1|pi<<7,Pr=(Pr<<8|Gn)>>>0}for(Kr=lr,Gr=pr>>4,Dr=0;4>Dr;Dr+=2){for(Gn=0,lr=an.la>>4+Dr,pr=ji.la>>4+Dr,Yn=0;2>Yn;++Yn){for(pi=1&pr,ss=0;2>ss;++ss)fr=pi+(1&lr),lr=lr>>1|(pi=0<(fr=Fl(Sr,Oi[2],fr,jr.Qc,0,Cn,bi)))<<3,Gn=Gn<<2|(3<fr?3:1<fr?2:Cn[bi+0]!=0),bi+=16;lr>>=2,pr=pr>>1|pi<<5}Ln|=Gn<<4*Dr,Kr|=lr<<4<<Dr,Gr|=(240&pr)<<Dr}an.la=Kr,ji.la=Gr,fi.Hc=Pr,fi.Gc=Ln,fi.ia=43690&Ln?0:jr.ia,Oi=!(Pr|Ln)}if(0<lt.L&&(lt.wa[lt.Y+lt.ja]=lt.gd[wn.$b][wn.Za],lt.wa[lt.Y+lt.ja].La|=!Oi),ni.Ka)return $(Tn,7,"Premature end-of-file encountered.")}if(Rt(Tn),lt=Yr,ni=1,wn=(wt=Tn).D,an=0<wt.L&&wt.M>=wt.zb&&wt.M<=wt.Va,wt.Aa==0)t:{if(wn.M=wt.M,wn.uc=an,Mi(wt,wn),ni=1,wn=(Gn=wt.D).Nb,an=(Ln=Ul[wt.L])*wt.R,Sr=Ln/2*wt.B,Yn=16*wn*wt.R,ss=8*wn*wt.B,Oi=wt.sa,fi=wt.ta-an+Yn,jr=wt.qa,Cn=wt.ra-Sr+ss,bi=wt.Ha,ji=wt.Ia-Sr+ss,pr=(lr=Gn.M)==0,Pr=lr>=wt.Va-1,wt.Aa==2&&Mi(wt,Gn),Gn.uc)for(pi=(fr=wt).D.M,e(fr.D.uc),Gn=fr.yb;Gn<fr.Hb;++Gn){Gr=Gn,Kr=pi;var Gi=(js=(si=fr).D).Nb;Dr=si.R;var js=js.wa[js.Y+Gr],ri=si.sa,ii=si.ta+16*Gi*Dr+16*Gr,os=js.dd,mr=js.tc;if(mr!=0)if(e(3<=mr),si.L==1)0<Gr&&Dh(ri,ii,Dr,mr+4),js.La&&Rl(ri,ii,Dr,mr),0<Kr&&dd(ri,ii,Dr,mr+4),js.La&&fu(ri,ii,Dr,mr);else{var as=si.B,xo=si.qa,jo=si.ra+8*Gi*as+8*Gr,Fi=si.Ha,si=si.Ia+8*Gi*as+8*Gr;Gi=js.ld,0<Gr&&(hi(ri,ii,Dr,mr+4,os,Gi),hu(xo,jo,Fi,si,as,mr+4,os,Gi)),js.La&&(Sa(ri,ii,Dr,mr,os,Gi),wc(xo,jo,Fi,si,as,mr,os,Gi)),0<Kr&&($r(ri,ii,Dr,mr+4,os,Gi),Mo(xo,jo,Fi,si,as,mr+4,os,Gi)),js.La&&(yc(ri,ii,Dr,mr,os,Gi),ud(xo,jo,Fi,si,as,mr,os,Gi))}}if(wt.ia&&alert("todo:DitherRow"),lt.put!=null){if(Gn=16*lr,lr=16*(lr+1),pr?(lt.y=wt.sa,lt.O=wt.ta+Yn,lt.f=wt.qa,lt.N=wt.ra+ss,lt.ea=wt.Ha,lt.W=wt.Ia+ss):(Gn-=Ln,lt.y=Oi,lt.O=fi,lt.f=jr,lt.N=Cn,lt.ea=bi,lt.W=ji),Pr||(lr-=Ln),lr>lt.o&&(lr=lt.o),lt.F=null,lt.J=null,wt.Fa!=null&&0<wt.Fa.length&&Gn<lr&&(lt.J=tr(wt,lt,Gn,lr-Gn),lt.F=wt.mb,lt.F==null&&lt.F.length==0)){ni=$(wt,3,"Could not decode alpha data.");break t}Gn<lt.j&&(Ln=lt.j-Gn,Gn=lt.j,e(!(1&Ln)),lt.O+=wt.R*Ln,lt.N+=wt.B*(Ln>>1),lt.W+=wt.B*(Ln>>1),lt.F!=null&&(lt.J+=lt.width*Ln)),Gn<lr&&(lt.O+=lt.v,lt.N+=lt.v>>1,lt.W+=lt.v>>1,lt.F!=null&&(lt.J+=lt.v),lt.ka=Gn-lt.j,lt.U=lt.va-lt.v,lt.T=lr-Gn,ni=lt.put(lt))}wn+1!=wt.Ic||Pr||(n(wt.sa,wt.ta-an,Oi,fi+16*wt.R,an),n(wt.qa,wt.ra-Sr,jr,Cn+8*wt.B,Sr),n(wt.Ha,wt.Ia-Sr,bi,ji+8*wt.B,Sr))}if(!ni)return $(Tn,6,"Output aborted.")}return 1})(ae,ke)),ke.bc!=null&&ke.bc(ke),Ie&=1}return Ie?(ae.cb=0,Ie):0})(p,M)||(b=p.a)}}else b=p.a}b==0&&K.Oa!=null&&K.Oa.fd&&(b=mc(K.ba))}K=b}G=K!=0?null:11>G?J.f.RGBA.eb:J.f.kb.y}else G=null;return G};var _u=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(C,j){for(var N="",k=0;k<4;k++)N+=String.fromCharCode(C[j++]);return N}function f(C,j){return C[j+0]|C[j+1]<<8}function w(C,j){return(C[j+0]|C[j+1]<<8|C[j+2]<<16)>>>0}function x(C,j){return(C[j+0]|C[j+1]<<8|C[j+2]<<16|C[j+3]<<24)>>>0}new u;var g=[0],A=[0],R=[],P=new u,L=r,V=(function(C,j){var N={},k=0,D=!1,X=0,ue=0;if(N.frames=[],!(function(F,Q){for(var se=0;se<4;se++)if(F[Q+se]!="RIFF".charCodeAt(se))return!0;return!1})(C,j)){for(x(C,j+=4),j+=8;j<C.length;){var ge=d(C,j),me=x(C,j+=4);j+=4;var re=me+(1&me);switch(ge){case"VP8 ":case"VP8L":N.frames[k]===void 0&&(N.frames[k]={}),(Z=N.frames[k]).src_off=D?ue:j-8,Z.src_size=X+me+8,k++,D&&(D=!1,X=0,ue=0);break;case"VP8X":(Z=N.header={}).feature_flags=C[j];var ye=j+4;Z.canvas_width=1+w(C,ye),ye+=3,Z.canvas_height=1+w(C,ye),ye+=3;break;case"ALPH":D=!0,X=re+8,ue=j-8;break;case"ANIM":(Z=N.header).bgcolor=x(C,j),ye=j+4,Z.loop_count=f(C,ye),ye+=2;break;case"ANMF":var de,Z;(Z=N.frames[k]={}).offset_x=2*w(C,j),j+=3,Z.offset_y=2*w(C,j),j+=3,Z.width=1+w(C,j),j+=3,Z.height=1+w(C,j),j+=3,Z.duration=w(C,j),j+=3,de=C[j++],Z.dispose=1&de,Z.blend=de>>1&1}ge!="ANMF"&&(j+=re)}return N}})(L,0);V.response=L,V.rgbaoutput=!0,V.dataurl=!1;var U=V.header?V.header:null,z=V.frames?V.frames:null;if(U){U.loop_counter=U.loop_count,g=[U.canvas_height],A=[U.canvas_width];for(var ne=0;ne<z.length&&z[ne].blend!=0;ne++);}var ce=z[0],W=P.WebPDecodeRGBA(L,ce.src_off,ce.src_size,A,g);ce.rgba=W,ce.imgwidth=A[0],ce.imgheight=g[0];for(var O=0;O<A[0]*g[0]*4;O++)R[O]=W[O];return this.width=A,this.height=g,this.data=R,this}(function(r){var e,t,n,i,s,a,c,u,d,f=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new u,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new a,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new a,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var w=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=F;Object.defineProperty(this,"pdf",{get:function(){return Q}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(ie){se=!!ie}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(ie){he=!!ie}});var we=0;Object.defineProperty(this,"posX",{get:function(){return we},set:function(ie){isNaN(ie)||(we=ie)}});var Ee=0;Object.defineProperty(this,"posY",{get:function(){return Ee},set:function(ie){isNaN(ie)||(Ee=ie)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ie){var at;typeof ie=="number"?at=[ie,ie,ie,ie]:((at=new Array(4))[0]=ie[0],at[1]=ie.length>=2?ie[1]:at[0],at[2]=ie.length>=3?ie[2]:at[0],at[3]=ie.length>=4?ie[3]:at[1]),d.margin=at}});var Te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Te},set:function(ie){Te=ie}});var Le=0;Object.defineProperty(this,"lastBreak",{get:function(){return Le},set:function(ie){Le=ie}});var Ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ve},set:function(ie){Ve=ie}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ie){ie instanceof f&&(d=ie)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ie){d.path=ie}});var Xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xe},set:function(ie){Xe=ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ie){var at;at=x(ie),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ie){var at=x(ie);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ie){["butt","round","square"].indexOf(ie)!==-1&&(this.ctx.lineCap=ie,this.pdf.setLineCap(ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ie){isNaN(ie)||(this.ctx.lineWidth=ie,this.pdf.setLineWidth(ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ie){["bevel","round","miter"].indexOf(ie)!==-1&&(this.ctx.lineJoin=ie,this.pdf.setLineJoin(ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ie){isNaN(ie)||(this.ctx.miterLimit=ie,this.pdf.setMiterLimit(ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ie){this.ctx.textBaseline=ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ie){["right","end","center","left","start"].indexOf(ie)!==-1&&(this.ctx.textAlign=ie)}});var ct=null,rt=null,mt=null;Object.defineProperty(this,"fontFaces",{get:function(){return mt},set:function(ie){ct=null,rt=null,mt=ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ie){var at;if(this.ctx.font=ie,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ie))!==null){var cn=at[1];at[2];var Tt=at[3],Ge=at[4];at[5];var Pt=at[6],dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(dt==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:dt==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var Dt=(function(Fe){var Bn,kt,sn=[],ft=Fe.trim();if(ft==="")return Cv;if(ft in lx)return[lx[ft]];for(;ft!=="";){switch(kt=null,Bn=(ft=ux(ft)).charAt(0)){case'"':case"'":kt=o7(ft.substring(1),Bn);break;default:kt=a7(ft)}if(kt===null||(sn.push(kt[0]),(ft=ux(kt[1]))!==""&&ft.charAt(0)!==","))return Cv;ft=ft.replace(/^,/,"")}return sn})(Pt);if(this.fontFaces){var xt=(function(Fe,Bn){var kt=Fe.getFontList(),sn=JSON.stringify(kt);if(ct===null||rt!==sn){var ft=(function(Vn){var Nt=[];return Object.keys(Vn).forEach(function(Mn){Vn[Mn].forEach(function(zt){var Jt=null;switch(zt){case"bold":Jt={family:Mn,weight:"bold"};break;case"italic":Jt={family:Mn,style:"italic"};break;case"bolditalic":Jt={family:Mn,weight:"bold",style:"italic"};break;case"":case"normal":Jt={family:Mn}}Jt!==null&&(Jt.ref={name:Mn,style:zt},Nt.push(Jt))})}),Nt})(kt);ct=(function(Vn){for(var Nt={},Mn=0;Mn<Vn.length;++Mn){var zt=Nv(Vn[Mn]),Jt=zt.family,gn=zt.stretch,Qt=zt.style,bt=zt.weight;Nt[Jt]=Nt[Jt]||{},Nt[Jt][gn]=Nt[Jt][gn]||{},Nt[Jt][gn][Qt]=Nt[Jt][gn][Qt]||{},Nt[Jt][gn][Qt][bt]=zt}return Nt})(ft.concat(Bn)),rt=sn}return ct})(this.pdf,this.fontFaces),En=Dt.map(function(Fe){return{family:Fe,stretch:"normal",weight:Tt,style:cn}}),mn=(function(Fe,Bn,kt){for(var sn=(kt=kt||{}).defaultFontFamily||"times",ft=Object.assign({},s7,kt.genericFontFamilies||{}),Vn=null,Nt=null,Mn=0;Mn<Bn.length;++Mn)if(ft[(Vn=Nv(Bn[Mn])).family]&&(Vn.family=ft[Vn.family]),Fe.hasOwnProperty(Vn.family)){Nt=Fe[Vn.family];break}if(!(Nt=Nt||Fe[sn]))throw new Error("Could not find a font-family for the rule '"+cx(Vn)+"' and default family '"+sn+"'.");if(Nt=(function(zt,Jt){if(Jt[zt])return Jt[zt];var gn=x1[zt],Qt=gn<=x1.normal?-1:1,bt=ax(Jt,kE,gn,Qt);if(!bt)throw new Error("Could not find a matching font-stretch value for "+zt);return bt})(Vn.stretch,Nt),Nt=(function(zt,Jt){if(Jt[zt])return Jt[zt];for(var gn=SE[zt],Qt=0;Qt<gn.length;++Qt)if(Jt[gn[Qt]])return Jt[gn[Qt]];throw new Error("Could not find a matching font-style for "+zt)})(Vn.style,Nt),!(Nt=(function(zt,Jt){if(Jt[zt])return Jt[zt];if(zt===400&&Jt[500])return Jt[500];if(zt===500&&Jt[400])return Jt[400];var gn=i7[zt],Qt=ax(Jt,EE,gn,zt<400?-1:1);if(!Qt)throw new Error("Could not find a matching font-weight for value "+zt);return Qt})(Vn.weight,Nt)))throw new Error("Failed to resolve a font for the rule '"+cx(Vn)+"'.");return Nt})(xt,En);this.pdf.setFont(mn.ref.name,mn.ref.style)}else{var _t="";(Tt==="bold"||parseInt(Tt,10)>=700||cn==="bold")&&(_t="bold"),cn==="italic"&&(_t+="italic"),_t.length===0&&(_t="normal");for(var Lt="",nn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<Dt.length;vt++){if(this.pdf.internal.getFont(Dt[vt],_t,{noFallback:!0,disableWarning:!0})!==void 0){Lt=Dt[vt];break}if(_t==="bolditalic"&&this.pdf.internal.getFont(Dt[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Lt=Dt[vt],_t="bold";else if(this.pdf.internal.getFont(Dt[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Lt=Dt[vt],_t="normal";break}}if(Lt===""){for(var Kt=0;Kt<Dt.length;Kt++)if(nn[Dt[Kt]]){Lt=nn[Dt[Kt]];break}}Lt=Lt===""?"Times":Lt,this.pdf.setFont(Lt,_t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ie){this.ctx.globalCompositeOperation=ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ie){this.ctx.globalAlpha=ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ie){this.ctx.lineDashOffset=ie,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ie){this.ctx.lineDash=ie,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ie){this.ctx.ignoreClearRect=!!ie}})};w.prototype.setLineDash=function(F){this.lineDash=F},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){z.call(this,"fill",!1)},w.prototype.stroke=function(){z.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(F,Q){if(isNaN(F)||isNaN(Q))throw Nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new a(F,Q));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new a(F,Q)},w.prototype.closePath=function(){var F=new a(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&vr(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){F=new a(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(F.x,F.y)},w.prototype.lineTo=function(F,Q){if(isNaN(F)||isNaN(Q))throw Nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new a(F,Q));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},w.prototype.quadraticCurveTo=function(F,Q,se,he){if(isNaN(se)||isNaN(he)||isNaN(F)||isNaN(Q))throw Nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var we=this.ctx.transform.applyToPoint(new a(se,he)),Ee=this.ctx.transform.applyToPoint(new a(F,Q));this.path.push({type:"qct",x1:Ee.x,y1:Ee.y,x:we.x,y:we.y}),this.ctx.lastPoint=new a(we.x,we.y)},w.prototype.bezierCurveTo=function(F,Q,se,he,we,Ee){if(isNaN(we)||isNaN(Ee)||isNaN(F)||isNaN(Q)||isNaN(se)||isNaN(he))throw Nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Te=this.ctx.transform.applyToPoint(new a(we,Ee)),Le=this.ctx.transform.applyToPoint(new a(F,Q)),Ve=this.ctx.transform.applyToPoint(new a(se,he));this.path.push({type:"bct",x1:Le.x,y1:Le.y,x2:Ve.x,y2:Ve.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new a(Te.x,Te.y)},w.prototype.arc=function(F,Q,se,he,we,Ee){if(isNaN(F)||isNaN(Q)||isNaN(se)||isNaN(he)||isNaN(we))throw Nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ee=!!Ee,!this.ctx.transform.isIdentity){var Te=this.ctx.transform.applyToPoint(new a(F,Q));F=Te.x,Q=Te.y;var Le=this.ctx.transform.applyToPoint(new a(0,se)),Ve=this.ctx.transform.applyToPoint(new a(0,0));se=Math.sqrt(Math.pow(Le.x-Ve.x,2)+Math.pow(Le.y-Ve.y,2))}Math.abs(we-he)>=2*Math.PI&&(he=0,we=2*Math.PI),this.path.push({type:"arc",x:F,y:Q,radius:se,startAngle:he,endAngle:we,counterclockwise:Ee})},w.prototype.arcTo=function(F,Q,se,he,we){throw new Error("arcTo not implemented.")},w.prototype.rect=function(F,Q,se,he){if(isNaN(F)||isNaN(Q)||isNaN(se)||isNaN(he))throw Nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,Q),this.lineTo(F+se,Q),this.lineTo(F+se,Q+he),this.lineTo(F,Q+he),this.lineTo(F,Q),this.lineTo(F+se,Q),this.lineTo(F,Q)},w.prototype.fillRect=function(F,Q,se,he){if(isNaN(F)||isNaN(Q)||isNaN(se)||isNaN(he))throw Nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var we={};this.lineCap!=="butt"&&(we.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(we.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,Q,se,he),this.fill(),we.hasOwnProperty("lineCap")&&(this.lineCap=we.lineCap),we.hasOwnProperty("lineJoin")&&(this.lineJoin=we.lineJoin)}},w.prototype.strokeRect=function(F,Q,se,he){if(isNaN(F)||isNaN(Q)||isNaN(se)||isNaN(he))throw Nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(F,Q,se,he),this.stroke())},w.prototype.clearRect=function(F,Q,se,he){if(isNaN(F)||isNaN(Q)||isNaN(se)||isNaN(he))throw Nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,Q,se,he))},w.prototype.save=function(F){F=typeof F!="boolean"||F;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},w.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(F){var Q,se,he,we;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))Q=0,se=0,he=0,we=0;else{var Ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(Ee!==null)Q=parseInt(Ee[1]),se=parseInt(Ee[2]),he=parseInt(Ee[3]),we=1;else if((Ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)Q=parseInt(Ee[1]),se=parseInt(Ee[2]),he=parseInt(Ee[3]),we=parseFloat(Ee[4]);else{if(we=1,typeof F=="string"&&F.charAt(0)!=="#"){var Te=new gE(F);F=Te.ok?Te.toHex():"#000000"}F.length===4?(Q=F.substring(1,2),Q+=Q,se=F.substring(2,3),se+=se,he=F.substring(3,4),he+=he):(Q=F.substring(1,3),se=F.substring(3,5),he=F.substring(5,7)),Q=parseInt(Q,16),se=parseInt(se,16),he=parseInt(he,16)}}return{r:Q,g:se,b:he,a:we,style:F}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(F,Q,se,he){if(isNaN(Q)||isNaN(se)||typeof F!="string")throw Nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!g.call(this)){var we=re(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;k.call(this,{text:F,x:Q,y:se,scale:Ee,angle:we,align:this.textAlign,maxWidth:he})}},w.prototype.strokeText=function(F,Q,se,he){if(isNaN(Q)||isNaN(se)||typeof F!="string")throw Nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){he=isNaN(he)?void 0:he;var we=re(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;k.call(this,{text:F,x:Q,y:se,scale:Ee,renderingMode:"stroke",angle:we,align:this.textAlign,maxWidth:he})}},w.prototype.measureText=function(F){if(typeof F!="string")throw Nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,se=this.pdf.internal.scaleFactor,he=Q.internal.getFontSize(),we=Q.getStringUnitWidth(F)*he/Q.internal.scaleFactor;return new function(Ee){var Te=(Ee=Ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this}({width:we*=Math.round(96*se/72*1e4)/1e4})},w.prototype.scale=function(F,Q){if(isNaN(F)||isNaN(Q))throw Nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new u(F,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},w.prototype.rotate=function(F){if(isNaN(F))throw Nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new u(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},w.prototype.translate=function(F,Q){if(isNaN(F)||isNaN(Q))throw Nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new u(1,0,0,1,F,Q);this.ctx.transform=this.ctx.transform.multiply(se)},w.prototype.transform=function(F,Q,se,he,we,Ee){if(isNaN(F)||isNaN(Q)||isNaN(se)||isNaN(he)||isNaN(we)||isNaN(Ee))throw Nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Te=new u(F,Q,se,he,we,Ee);this.ctx.transform=this.ctx.transform.multiply(Te)},w.prototype.setTransform=function(F,Q,se,he,we,Ee){F=isNaN(F)?1:F,Q=isNaN(Q)?0:Q,se=isNaN(se)?0:se,he=isNaN(he)?1:he,we=isNaN(we)?0:we,Ee=isNaN(Ee)?0:Ee,this.ctx.transform=new u(F,Q,se,he,we,Ee)};var R=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(F,Q,se,he,we,Ee,Te,Le,Ve){var Xe=this.pdf.getImageProperties(F),ct=1,rt=1,mt=1,ie=1;he!==void 0&&Le!==void 0&&(mt=Le/he,ie=Ve/we,ct=Xe.width/he*Le/he,rt=Xe.height/we*Ve/we),Ee===void 0&&(Ee=Q,Te=se,Q=0,se=0),he!==void 0&&Le===void 0&&(Le=he,Ve=we),he===void 0&&Le===void 0&&(Le=Xe.width,Ve=Xe.height);var at=this.ctx.transform.decompose(),cn=re(at.rotate.shx),Tt=new u,Ge=(Tt=(Tt=(Tt=Tt.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new c(Ee-Q*mt,Te-se*ie,he*ct,we*rt));if(this.autoPaging){for(var Pt,dt=P.call(this,Ge),Dt=[],xt=0;xt<dt.length;xt+=1)Dt.indexOf(dt[xt])===-1&&Dt.push(dt[xt]);U(Dt);for(var En=Dt[0],mn=Dt[Dt.length-1],_t=En;_t<mn+1;_t++){this.pdf.setPage(_t);var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nn=_t===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=_t===1?0:vt+(_t-2)*Kt;if(this.ctx.clip_path.length!==0){var Bn=this.path;Pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(Pt,this.posX+this.margin[3],-Fe+nn+this.ctx.prevPageLastElemOffset),ne.call(this,"fill",!0),this.path=Bn}var kt=JSON.parse(JSON.stringify(Ge));kt=V([kt],this.posX+this.margin[3],-Fe+nn+this.ctx.prevPageLastElemOffset)[0];var sn=(_t>En||_t<mn)&&R.call(this);sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Kt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,cn),sn&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(F,"JPEG",Ge.x,Ge.y,Ge.w,Ge.h,null,null,cn)};var P=function(F,Q,se){var he=[];Q=Q||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var we=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":he.push(Math.floor((F.y+we)/se)+1);break;case"arc":he.push(Math.floor((F.y+we-F.radius)/se)+1),he.push(Math.floor((F.y+we+F.radius)/se)+1);break;case"qct":var Ee=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);he.push(Math.floor((Ee.y+we)/se)+1),he.push(Math.floor((Ee.y+Ee.h+we)/se)+1);break;case"bct":var Te=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);he.push(Math.floor((Te.y+we)/se)+1),he.push(Math.floor((Te.y+Te.h+we)/se)+1);break;case"rect":he.push(Math.floor((F.y+we)/se)+1),he.push(Math.floor((F.y+F.h+we)/se)+1)}for(var Le=0;Le<he.length;Le+=1)for(;this.pdf.internal.getNumberOfPages()<he[Le];)L.call(this);return he},L=function(){var F=this.fillStyle,Q=this.strokeStyle,se=this.font,he=this.lineCap,we=this.lineWidth,Ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=Q,this.font=se,this.lineCap=he,this.lineWidth=we,this.lineJoin=Ee},V=function(F,Q,se){for(var he=0;he<F.length;he++)switch(F[he].type){case"bct":F[he].x2+=Q,F[he].y2+=se;case"qct":F[he].x1+=Q,F[he].y1+=se;default:F[he].x+=Q,F[he].y+=se}return F},U=function(F){return F.sort(function(Q,se){return Q-se})},z=function(F,Q){var se=this.fillStyle,he=this.strokeStyle,we=this.lineCap,Ee=this.lineWidth,Te=Math.abs(Ee*this.ctx.transform.scaleX),Le=this.lineJoin;if(this.autoPaging){for(var Ve,Xe,ct=JSON.parse(JSON.stringify(this.path)),rt=JSON.parse(JSON.stringify(this.path)),mt=[],ie=0;ie<rt.length;ie++)if(rt[ie].x!==void 0)for(var at=P.call(this,rt[ie]),cn=0;cn<at.length;cn+=1)mt.indexOf(at[cn])===-1&&mt.push(at[cn]);for(var Tt=0;Tt<mt.length;Tt++)for(;this.pdf.internal.getNumberOfPages()<mt[Tt];)L.call(this);U(mt);for(var Ge=mt[0],Pt=mt[mt.length-1],dt=Ge;dt<Pt+1;dt++){this.pdf.setPage(dt),this.fillStyle=se,this.strokeStyle=he,this.lineCap=we,this.lineWidth=Te,this.lineJoin=Le;var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=dt===1?this.posY+this.margin[0]:this.margin[0],En=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=dt===1?0:En+(dt-2)*mn;if(this.ctx.clip_path.length!==0){var Lt=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(Ve,this.posX+this.margin[3],-_t+xt+this.ctx.prevPageLastElemOffset),ne.call(this,F,!0),this.path=Lt}if(Xe=JSON.parse(JSON.stringify(ct)),this.path=V(Xe,this.posX+this.margin[3],-_t+xt+this.ctx.prevPageLastElemOffset),Q===!1||dt===0){var nn=(dt>Ge||dt<Pt)&&R.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,mn,null).clip().discardPath()),ne.call(this,F,Q),nn&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}this.path=ct}else this.lineWidth=Te,ne.call(this,F,Q),this.lineWidth=Ee},ne=function(F,Q){if((F!=="stroke"||Q||!A.call(this))&&(F==="stroke"||Q||!g.call(this))){for(var se,he,we=[],Ee=this.path,Te=0;Te<Ee.length;Te++){var Le=Ee[Te];switch(Le.type){case"begin":we.push({begin:!0});break;case"close":we.push({close:!0});break;case"mt":we.push({start:Le,deltas:[],abs:[]});break;case"lt":var Ve=we.length;if(Ee[Te-1]&&!isNaN(Ee[Te-1].x)&&(se=[Le.x-Ee[Te-1].x,Le.y-Ee[Te-1].y],Ve>0)){for(;Ve>=0;Ve--)if(we[Ve-1].close!==!0&&we[Ve-1].begin!==!0){we[Ve-1].deltas.push(se),we[Ve-1].abs.push(Le);break}}break;case"bct":se=[Le.x1-Ee[Te-1].x,Le.y1-Ee[Te-1].y,Le.x2-Ee[Te-1].x,Le.y2-Ee[Te-1].y,Le.x-Ee[Te-1].x,Le.y-Ee[Te-1].y],we[we.length-1].deltas.push(se);break;case"qct":var Xe=Ee[Te-1].x+2/3*(Le.x1-Ee[Te-1].x),ct=Ee[Te-1].y+2/3*(Le.y1-Ee[Te-1].y),rt=Le.x+2/3*(Le.x1-Le.x),mt=Le.y+2/3*(Le.y1-Le.y),ie=Le.x,at=Le.y;se=[Xe-Ee[Te-1].x,ct-Ee[Te-1].y,rt-Ee[Te-1].x,mt-Ee[Te-1].y,ie-Ee[Te-1].x,at-Ee[Te-1].y],we[we.length-1].deltas.push(se);break;case"arc":we.push({deltas:[],abs:[],arc:!0}),Array.isArray(we[we.length-1].abs)&&we[we.length-1].abs.push(Le)}}he=Q?null:F==="stroke"?"stroke":"fill";for(var cn=!1,Tt=0;Tt<we.length;Tt++)if(we[Tt].arc)for(var Ge=we[Tt].abs,Pt=0;Pt<Ge.length;Pt++){var dt=Ge[Pt];dt.type==="arc"?O.call(this,dt.x,dt.y,dt.radius,dt.startAngle,dt.endAngle,dt.counterclockwise,void 0,Q,!cn):D.call(this,dt.x,dt.y),cn=!0}else if(we[Tt].close===!0)this.pdf.internal.out("h"),cn=!1;else if(we[Tt].begin!==!0){var Dt=we[Tt].start.x,xt=we[Tt].start.y;X.call(this,we[Tt].deltas,Dt,xt),cn=!0}he&&C.call(this,he),Q&&j.call(this)}},ce=function(F){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-se;case"top":return F+Q-se;case"hanging":return F+Q-2*se;case"middle":return F+Q/2-se;default:return F}},W=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(Q,se){this.colorStops.push([Q,se])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(F,Q,se,he,we,Ee,Te,Le,Ve){for(var Xe=ge.call(this,se,he,we,Ee),ct=0;ct<Xe.length;ct++){var rt=Xe[ct];ct===0&&(Ve?N.call(this,rt.x1+F,rt.y1+Q):D.call(this,rt.x1+F,rt.y1+Q)),ue.call(this,F,Q,rt.x2,rt.y2,rt.x3,rt.y3,rt.x4,rt.y4)}Le?j.call(this):C.call(this,Te)},C=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(F,Q){this.pdf.internal.out(t(F)+" "+n(Q)+" m")},k=function(F){var Q;switch(F.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var se,he,we,Ee=this.pdf.getTextDimensions(F.text),Te=ce.call(this,F.y),Le=W.call(this,Te)-Ee.h,Ve=this.ctx.transform.applyToPoint(new a(F.x,Te));if(this.autoPaging){var Xe=this.ctx.transform.decompose(),ct=new u;ct=(ct=(ct=ct.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale);for(var rt=this.ctx.transform.applyToRectangle(new c(F.x,Te,Ee.w,Ee.h)),mt=ct.applyToRectangle(new c(F.x,Le,Ee.w,Ee.h)),ie=P.call(this,mt),at=[],cn=0;cn<ie.length;cn+=1)at.indexOf(ie[cn])===-1&&at.push(ie[cn]);U(at);for(var Tt=at[0],Ge=at[at.length-1],Pt=Tt;Pt<Ge+1;Pt++){this.pdf.setPage(Pt);var dt=Pt===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[2],En=xt-this.margin[0],mn=this.pdf.internal.pageSize.width-this.margin[1],_t=mn-this.margin[3],Lt=Pt===1?0:Dt+(Pt-2)*En;if(this.ctx.clip_path.length!==0){var nn=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(se,this.posX+this.margin[3],-1*Lt+dt),ne.call(this,"fill",!0),this.path=nn}var vt=V([JSON.parse(JSON.stringify(mt))],this.posX+this.margin[3],-Lt+dt+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*F.scale),we=this.lineWidth,this.lineWidth=we*F.scale);var Kt=this.autoPaging!=="text";if(Kt||vt.y+vt.h<=xt){if(Kt||vt.y>=dt&&vt.x<=mn){var Fe=Kt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||mn-vt.x)[0],Bn=V([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-Lt+dt+this.ctx.prevPageLastElemOffset)[0],kt=Kt&&(Pt>Tt||Pt<Ge)&&R.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,En,null).clip().discardPath()),this.pdf.text(Fe,Bn.x,Bn.y,{angle:F.angle,align:Q,renderingMode:F.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else vt.y<xt&&(this.ctx.prevPageLastElemOffset+=xt-vt.y);F.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=we)}}else F.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*F.scale),we=this.lineWidth,this.lineWidth=we*F.scale),this.pdf.text(F.text,Ve.x+this.posX,Ve.y+this.posY,{angle:F.angle,align:Q,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=we)},D=function(F,Q,se,he){se=se||0,he=he||0,this.pdf.internal.out(t(F+se)+" "+n(Q+he)+" l")},X=function(F,Q,se){return this.pdf.lines(F,Q,se,null,null)},ue=function(F,Q,se,he,we,Ee,Te,Le){this.pdf.internal.out([e(i(se+F)),e(s(he+Q)),e(i(we+F)),e(s(Ee+Q)),e(i(Te+F)),e(s(Le+Q)),"c"].join(" "))},ge=function(F,Q,se,he){for(var we=2*Math.PI,Ee=Math.PI/2;Q>se;)Q-=we;var Te=Math.abs(se-Q);Te<we&&he&&(Te=we-Te);for(var Le=[],Ve=he?-1:1,Xe=Q;Te>1e-5;){var ct=Xe+Ve*Math.min(Te,Ee);Le.push(me.call(this,F,Xe,ct)),Te-=Math.abs(ct-Xe),Xe=ct}return Le},me=function(F,Q,se){var he=(se-Q)/2,we=F*Math.cos(he),Ee=F*Math.sin(he),Te=we,Le=-Ee,Ve=Te*Te+Le*Le,Xe=Ve+Te*we+Le*Ee,ct=4/3*(Math.sqrt(2*Ve*Xe)-Xe)/(Te*Ee-Le*we),rt=Te-ct*Le,mt=Le+ct*Te,ie=rt,at=-mt,cn=he+Q,Tt=Math.cos(cn),Ge=Math.sin(cn);return{x1:F*Math.cos(Q),y1:F*Math.sin(Q),x2:rt*Tt-mt*Ge,y2:rt*Ge+mt*Tt,x3:ie*Tt-at*Ge,y3:ie*Ge+at*Tt,x4:F*Math.cos(se),y4:F*Math.sin(se)}},re=function(F){return 180*F/Math.PI},ye=function(F,Q,se,he,we,Ee){var Te=F+.5*(se-F),Le=Q+.5*(he-Q),Ve=we+.5*(se-we),Xe=Ee+.5*(he-Ee),ct=Math.min(F,we,Te,Ve),rt=Math.max(F,we,Te,Ve),mt=Math.min(Q,Ee,Le,Xe),ie=Math.max(Q,Ee,Le,Xe);return new c(ct,mt,rt-ct,ie-mt)},de=function(F,Q,se,he,we,Ee,Te,Le){var Ve,Xe,ct,rt,mt,ie,at,cn,Tt,Ge,Pt,dt,Dt,xt,En=se-F,mn=he-Q,_t=we-se,Lt=Ee-he,nn=Te-we,vt=Le-Ee;for(Xe=0;Xe<41;Xe++)Tt=(at=(ct=F+(Ve=Xe/40)*En)+Ve*((mt=se+Ve*_t)-ct))+Ve*(mt+Ve*(we+Ve*nn-mt)-at),Ge=(cn=(rt=Q+Ve*mn)+Ve*((ie=he+Ve*Lt)-rt))+Ve*(ie+Ve*(Ee+Ve*vt-ie)-cn),Xe==0?(Pt=Tt,dt=Ge,Dt=Tt,xt=Ge):(Pt=Math.min(Pt,Tt),dt=Math.min(dt,Ge),Dt=Math.max(Dt,Tt),xt=Math.max(xt,Ge));return new c(Math.round(Pt),Math.round(dt),Math.round(Dt-Pt),Math.round(xt-dt))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,Q,se=(F=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:Q}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(Ut.API),(function(r){var e=function(a){var c,u,d,f,w,x,g,A,R,P;for(u=[],d=0,f=(a+=c="\0\0\0\0".slice(a.length%4||4)).length;f>d;d+=4)(w=(a.charCodeAt(d)<<24)+(a.charCodeAt(d+1)<<16)+(a.charCodeAt(d+2)<<8)+a.charCodeAt(d+3))!==0?(x=(w=((w=((w=((w=(w-(P=w%85))/85)-(R=w%85))/85)-(A=w%85))/85)-(g=w%85))/85)%85,u.push(x+33,g+33,A+33,R+33,P+33)):u.push(122);return(function(L,V){for(var U=V;U>0;U--)L.pop()})(u,c.length),String.fromCharCode.apply(String,u)+"~>"},t=function(a){var c,u,d,f,w,x=String,g="length",A=255,R="charCodeAt",P="slice",L="replace";for(a[P](-2),a=a[P](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),d=[],f=0,w=(a+=c="uuuuu"[P](a[g]%5||5))[g];w>f;f+=5)u=52200625*(a[R](f)-33)+614125*(a[R](f+1)-33)+7225*(a[R](f+2)-33)+85*(a[R](f+3)-33)+(a[R](f+4)-33),d.push(A&u>>24,A&u>>16,A&u>>8,A&u);return(function(V,U){for(var z=U;z>0;z--)V.pop()})(d,c[g]),x.fromCharCode.apply(x,d)},n=function(a){return a.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),c.test(a)===!1)return"";for(var u="",d=0;d<a.length;d+=2)u+=String.fromCharCode("0x"+(a[d]+a[d+1]));return u},s=function(a){for(var c=new Uint8Array(a.length),u=a.length;u--;)c[u]=a.charCodeAt(u);return(c=p1(c)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};r.processDataByFilters=function(a,c){var u=0,d=a||"",f=[];for(typeof(c=c||[])=="string"&&(c=[c]),u=0;u<c.length;u+=1)switch(c[u]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[u]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(Ut.API),(function(r){r.loadFile=function(e,t,n){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var c=void 0;try{c=(function(u,d,f){var w=new XMLHttpRequest,x=0,g=function(A){var R=A.length,P=[],L=String.fromCharCode;for(x=0;x<R;x+=1)P.push(L(255&A.charCodeAt(x)));return P.join("")};if(w.open("GET",u,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?f(g(this.responseText)):f(void 0)}),w.send(null),d&&w.status===200)return g(w.responseText)})(i,s,a)}catch{}return c})(e,t,n)},r.loadImageFile=r.loadFile})(Ut.API),(function(r){function e(){return(hn.html2canvas?Promise.resolve(hn.html2canvas):lv(()=>import("./html2canvas.esm-DXEQVQnt.js"),[],import.meta.url)).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(hn.DOMPurify?Promise.resolve(hn.DOMPurify):lv(()=>import("./purify.es-Bzr520pe.js"),[],import.meta.url)).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var u=vr(c);return u==="undefined"?"undefined":u==="string"||c instanceof String?"string":u==="number"||c instanceof Number?"number":u==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(c,u){var d=document.createElement(c);for(var f in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[f]=u.style[f];return d},s=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),w=u.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||f.appendChild(c(w,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},a=function c(u){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),f=c.convert(Promise.resolve(),d);return(f=f.setProgress(1,c,1,[c])).set(u)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(c,u){return c.__proto__=u||a.prototype,c},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(c,u){return this.then(function(){switch(u=u||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),u){case"string":return this.then(t).then(function(d){return this.set({src:i("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},a.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(u){var d=this.opt.jsPDF,f=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var A=f[g],R=A.src.find(function(P){return P.format==="truetype"});R&&d.addFont(R.url,A.ref.name,A.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(c,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,u):this.outputPdf(c,u)},a.prototype.outputPdf=function(c,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,u)})},a.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},a.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(c){if(n(c)!=="object")return this;var u=Object.keys(c||{}).map(function(d){if(d in a.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(u)})},a.prototype.get=function(c,u){return this.then(function(){var d=c in a.template.prop?this.prop[c]:this.opt[c];return u?u(d):d})},a.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},a.prototype.setPageSize=function(c){function u(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(c=c||Ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:u(c.inner.width,c.k),height:u(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},a.prototype.setProgress=function(c,u,d,f){return c!=null&&(this.progress.val=c),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(c,u,d,f){return this.setProgress(c?this.progress.val+c:null,u||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(c,u){var d=this;return this.thenCore(c,u,function(f,w){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,f),x}).then(f,w).then(function(x){return d.updateProgress(1),x})})},a.prototype.thenCore=function(c,u,d){d=d||Promise.prototype.then;var f=this;c&&(c=c.bind(f)),u&&(u=u.bind(f));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:a.convert(Object.assign({},f),Promise.prototype),x=d.call(w,c,u);return a.convert(x,f.__proto__)},a.prototype.thenExternal=function(c,u){return Promise.prototype.then.call(this,c,u)},a.prototype.thenList=function(c){var u=this;return c.forEach(function(d){u=u.thenCore(d)}),u},a.prototype.catch=function(c){c&&(c=c.bind(this));var u=Promise.prototype.catch.call(this,c);return a.convert(u,this)},a.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},a.prototype.error=function(c){return this.then(function(){throw new Error(c)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ut.getPageSize=function(c,u,d){if(vr(c)==="object"){var f=c;c=f.orientation,u=f.unit||u,d=f.format||d}u=u||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var w,x=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+u}var A,R=0,P=0;if(g.hasOwnProperty(x))R=g[x][1]/w,P=g[x][0]/w;else try{R=d[1],P=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",P>R&&(A=P,P=R,R=A);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",R>P&&(A=P,P=R,R=A)}return{width:P,height:R,unit:u,k:w,orientation:c}},r.html=function(c,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Nv):null;var d=new a(u);return u.worker?d:d.from(c).doCallback()}})(Ut.API),Ut.API.addJS=function(r){return hx=r,this.internal.events.subscribe("postPutResources",function(){om=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(om+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hx+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){om!==void 0&&dx!==void 0&&this.internal.out("/Names <</JavaScript "+om+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],c=n.exec(a);if(c!=null){var u=c[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var w=t.internal.newObject();f.push(w);var x=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<f.length;s++)t.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var c=this.count=this.count_r({count:0},a);if(c>0&&this.line("/Count "+c),a.options&&a.options.pageNumber){var u=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])})(Ut.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,s,a,c){var u,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(w){for(var x,g=256*w.charCodeAt(4)+w.charCodeAt(5),A=w.length,R={width:0,height:0,numcomponents:1},P=4;P<A;P+=2){if(P+=g,e.indexOf(w.charCodeAt(P+1))!==-1){x=256*w.charCodeAt(P+5)+w.charCodeAt(P+6),R={width:256*w.charCodeAt(P+7)+w.charCodeAt(P+8),height:x,numcomponents:w.charCodeAt(P+9)};break}g=256*w.charCodeAt(P+2)+w.charCodeAt(P+3)}return R})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}f={data:t,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:d,index:n,alias:i}}return f}})(Ut.API),Ut.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,s=HO(r,{checkCrc:!0}),a=s.width,c=s.height,u=s.channels,d=s.palette,f=s.depth;i=d&&u===1?(function(O){for(var C=O.width,j=O.height,N=O.data,k=O.palette,D=O.depth,X=!1,ue=[],ge=[],me=void 0,re=!1,ye=0,de=0;de<k.length;de++){var Z=gb(k[de],4),F=Z[0],Q=Z[1],se=Z[2],he=Z[3];ue.push(F,Q,se),he!=null&&(he===0?(ye++,ge.length<1&&ge.push(de)):he<255&&(re=!0))}if(re||ye>1){X=!0,ge=void 0;var we=C*j;me=new Uint8Array(we);for(var Ee=new DataView(N.buffer),Te=0;Te<we;Te++){var Le=Av(Ee,Te,D),Ve=gb(k[Le],4)[3];me[Te]=Ve}}else ye===0&&(ge=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:X?8:void 0,colorBytes:N,alphaBytes:me,needSMask:X,palette:ue,mask:ge}})(s):u===2||u===4?(function(O){for(var C=O.data,j=O.width,N=O.height,k=O.channels,D=O.depth,X=k===2?"DeviceGray":"DeviceRGB",ue=k-1,ge=j*N,me=ue,re=ge*me,ye=1*ge,de=Math.ceil(re*D/8),Z=Math.ceil(ye*D/8),F=new Uint8Array(de),Q=new Uint8Array(Z),se=new DataView(C.buffer),he=new DataView(F.buffer),we=new DataView(Q.buffer),Ee=!1,Te=0;Te<ge;Te++){for(var Le=Te*k,Ve=0;Ve<me;Ve++)xx(he,Av(se,Le+Ve,D),Te*me+Ve,D);var Xe=Av(se,Le+me,D);Xe<(1<<D)-1&&(Ee=!0),xx(we,Xe,1*Te,D)}return{colorSpace:X,colorsPerPixel:ue,sMaskBitsPerComponent:Ee?D:void 0,colorBytes:F,alphaBytes:Q,needSMask:Ee}})(s):(function(O){var C=O.data,j=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:j,colorsPerPixel:j==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?(function(N){for(var k=N.length,D=new Uint8Array(2*k),X=new DataView(D.buffer,D.byteOffset,D.byteLength),ue=0;ue<k;ue++)X.setUint16(2*ue,N[ue],!1);return D})(C):C,needSMask:!1}})(s);var w,x,g,A=i,R=A.colorSpace,P=A.colorsPerPixel,L=A.sMaskBitsPerComponent,V=A.colorBytes,U=A.alphaBytes,z=A.needSMask,ne=A.palette,ce=A.mask,W=null;return n!==Ut.API.image_compression.NONE&&typeof p1=="function"?(W=(function(O){var C;switch(O){case Ut.API.image_compression.FAST:C=11;break;case Ut.API.image_compression.MEDIUM:C=13;break;case Ut.API.image_compression.SLOW:C=14;break;default:C=12}return C})(n),w=this.decode.FLATE_DECODE,x="/Predictor ".concat(W," /Colors ").concat(P," /BitsPerComponent ").concat(f," /Columns ").concat(a),r=gx(V,Math.ceil(a*P*f/8),P,f,n),z&&(g=gx(U,Math.ceil(a*L/8),1,L,n))):(w=void 0,x=void 0,r=V,z&&(g=U)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:r,index:e,filter:w,decodeParameters:x,transparency:ce,palette:ne,sMask:g,predictor:W,width:a,height:c,bitsPerComponent:f,sMaskBitsPerComponent:L,colorSpace:R}}},(function(r){r.processGIF89A=function(e,t,n,i){var s=new d7(e),a=s.width,c=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:a,height:c},f=new Iv(100).encode(d,100);return r.processJPEG.call(this,f,t,n,i)},r.processGIF87A=r.processGIF89A})(Ut.API),La.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},La.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Nr.log("bit decode error:"+t)}},La.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var u=this.palette[s>>7-c&1];this.data[a+4*c]=u.blue,this.data[a+4*c+1]=u.green,this.data[a+4*c+2]=u.red,this.data[a+4*c+3]=255}t!==0&&(this.pos+=4-t)}},La.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,c=s>>4,u=15&s,d=this.palette[c];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},La.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},La.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,c=(s>>5&e)/e*255|0,u=(s>>10&e)/e*255|0,d=s>>15?255:0,f=n*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=a,this.data[f+3]=d}this.pos+=r}},La.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(a&e)/e*255|0,u=(a>>5&t)/t*255|0,d=(a>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=c,this.data[f+3]=255}this.pos+=r}},La.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},La.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=s,this.data[c+1]=i,this.data[c+2]=n,this.data[c+3]=a}},La.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,i){var s=new La(e,!1),a=s.width,c=s.height,u={data:s.getData(),width:a,height:c},d=new Iv(100).encode(u,100);return r.processJPEG.call(this,d,t,n,i)}})(Ut.API),Sx.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,i){var s=new Sx(e),a=s.width,c=s.height,u={data:s.getData(),width:a,height:c},d=new Iv(100).encode(u,100);return r.processJPEG.call(this,d,t,n,i)}})(Ut.API),Ut.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),c=0,u=0,d=0;d<i;d+=4){var f=n[d],w=n[d+1],x=n[d+2],g=n[d+3];s[c++]=f,s[c++]=w,s[c++]=x,a[u++]=g}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Ut.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jd=Ut.API,am=jd.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,u=c.fof?c.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,w=e.doKerning!==!1,x=0,g=r.length,A=0,R=c[0]||u,P=[];for(t=0;t<g;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?P.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(x=w&&vr(d[n])==="object"&&!isNaN(parseInt(d[n][A],10))?d[n][A]/f:0,P.push((c[n]||R)/u+x)),A=n;return P},fx=jd.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return jd.processArabic&&(r=jd.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:am.apply(this,arguments).reduce(function(s,a){return s+a},0)},px=function(r,e,t,n){for(var i=[],s=0,a=r.length,c=0;s!==a&&c+e[s]<t;)c+=e[s],s++;i.push(r.slice(0,s));var u=s;for(c=0;s!==a;)c+e[s]>n&&(i.push(r.slice(u,s)),c=0,u=s),c+=e[s],s++;return u!==s&&i.push(r.slice(u,s)),i},mx=function(r,e,t){t||(t={});var n,i,s,a,c,u,d,f=[],w=[f],x=t.textIndent||0,g=0,A=0,R=r.split(" "),P=am.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?R[0].length+2:t.lineIndent||0){var L=Array(u).join(" "),V=[];R.map(function(z){(z=z.split(/\s*\n/)).length>1?V=V.concat(z.map(function(ne,ce){return(ce&&ne.length?`
`:"")+ne})):V.push(z[0])}),R=V,u=fx.apply(this,[L,t])}for(s=0,a=R.length;s<a;s++){var U=0;if(n=R[s],u&&n[0]==`
`&&(n=n.substr(1),U=1),x+g+(A=(i=am.apply(this,[n,t])).reduce(function(z,ne){return z+ne},0))>e||U){if(A>e){for(c=px.apply(this,[n,i,e-(x+g),e]),f.push(c.shift()),f=[c.pop()];c.length;)w.push([c.shift()]);A=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(z,ne){return z+ne},0)}else f=[n];w.push(f),x=A+u,g=P}else f.push(n),x+=g+A,g=P}return d=u?function(z,ne){return(ne?L:"")+z.join(" ")}:function(z){return z.join(" ")},w.map(d)},jd.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var w=this.internal.getFont(f.fontName,f.fontStyle),x="Unicode";return w.metadata[x]?{widths:w.metadata[x].widths||{0:1},kerning:w.metadata[x].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var c,u,d=[];for(c=0,u=n.length;c<u;c++)d=d.concat(mx.apply(this,[n[c],a,s]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[t[s]]=e[s],i[e[s]]=t[s];var a=function(x){return"0x"+parseInt(x,10).toString(16)},c=r.__fontmetrics__.compress=function(x){var g,A,R,P,L=["{"];for(var V in x){if(g=x[V],isNaN(parseInt(V,10))?A="'"+V+"'":(V=parseInt(V,10),A=(A=a(V).slice(2)).slice(0,-1)+i[A.slice(-1)]),typeof g=="number")g<0?(R=a(g).slice(3),P="-"):(R=a(g).slice(2),P=""),R=P+R.slice(0,-1)+i[R.slice(-1)];else{if(vr(g)!=="object")throw new Error("Don't know what to do with value type "+vr(g)+".");R=c(g)}L.push(A+R)}return L.push("}"),L.join("")},u=r.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,A,R,P,L={},V=1,U=L,z=[],ne="",ce="",W=x.length-1,O=1;O<W;O+=1)(P=x[O])=="'"?g?(R=g.join(""),g=void 0):g=[]:g?g.push(P):P=="{"?(z.push([U,R]),U={},R=void 0):P=="}"?((A=z.pop())[0][A[1]]=U,R=void 0,U=A[0]):P=="-"?V=-1:R===void 0?n.hasOwnProperty(P)?(ne+=n[P],R=parseInt(ne,16)*V,V=1,ne=""):ne+=P:n.hasOwnProperty(P)?(ce+=n[P],U[R]=parseInt(ce,16)*V,V=1,R=void 0,ce=""):ce+=P;return L},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(x){var g=x.font,A=w.Unicode[g.postScriptName];A&&(g.metadata.Unicode={},g.metadata.Unicode.widths=A.widths,g.metadata.Unicode.kerning=A.kerning);var R=f.Unicode[g.postScriptName];R&&(g.metadata.Unicode.encoding=R,g.encoding=R.codePages[0])}])})(Ut.API),(function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=t.charCodeAt(s);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Em(c)),a.metadata=r.API.TTFFont.open(c),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])})(Ut),Ut.API.addSvgAsImage=function(r,e,t,n,i,s,a,c){if(isNaN(e)||isNaN(t))throw Nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=i;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(hn.canvg?Promise.resolve(hn.canvg):lv(()=>import("./index.es-b_VBjVhN.js"),[],import.meta.url)).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(f)}).then(function(){w.addImage(u.toDataURL("image/jpeg",1),e,t,n,i,a,c)})},Ut.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},Ut.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(a),u=[],d=0,f=0,w=0;function x(A,R){var P,L=!1;for(P=0;P<A.length;P+=1)A[P]===R&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var g=c.length;for(w=0;w<g;w+=1)t[c[w]].value=t[c[w]].defaultValue,t[c[w]].explicitSet=!1}if(vr(r)==="object"){for(i in r)if(s=r[i],x(c,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&x(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")u.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(n=!1);n===!0&&u.push([s[d][0]-1,s[d][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,R=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?R.push("/"+A+" /"+t[A].value):R.push("/"+A+" "+t[A].value));R.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+R.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+a.length+c.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+c+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Ut.API),(function(r){var e=r.API,t=e.pdfEscape16=function(s,a){for(var c,u=a.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],w=0,x=s.length;w<x;++w){if(c=a.metadata.characterToGlyph(s.charCodeAt(w)),a.metadata.glyIdsUsed.push(c),a.metadata.toUnicode[c]=s.charCodeAt(w),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(a.metadata.widthOfGlyph(c),10)])),c=="0")return f.join("");c=c.toString(16),f.push(d[4-c.length],c)}return f.join("")},n=function(s){var a,c,u,d,f,w,x;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],w=0,x=(c=Object.keys(s).sort(function(g,A){return g-A})).length;w<x;w++)a=c[w],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(d=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var c=a.font,u=a.out,d=a.newObject,f=a.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",A=0;A<x.length;A++)g+=String.fromCharCode(x[A]);var R=d();f({data:g,addLength1:!0,objectId:R}),u("endobj");var P=d();f({data:n(c.metadata.toUnicode),addLength1:!0,objectId:P}),u("endobj");var L=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Hd(c.fontName)),u("/FontFile2 "+R+" 0 R"),u("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var V=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Hd(c.fontName)),u("/FontDescriptor "+L+" 0 R"),u("/W "+r.API.PDFObject.convert(w)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+P+" 0 R"),u("/BaseFont /"+Hd(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+V+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var c=a.font,u=a.out,d=a.newObject,f=a.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,x="",g=0;g<w.length;g++)x+=String.fromCharCode(w[g]);var A=d();f({data:x,addLength1:!0,objectId:A}),u("endobj");var R=d();f({data:n(c.metadata.toUnicode),addLength1:!0,objectId:R}),u("endobj");var P=d();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+A+" 0 R"),u("/Flags 96"),u("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Hd(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=d();for(var L=0;L<c.metadata.hmtx.widths.length;L++)c.metadata.hmtx.widths[L]=parseInt(c.metadata.hmtx.widths[L]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+R+" 0 R/BaseFont/"+Hd(c.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,c=s.text||"",u=s.x,d=s.y,f=s.options||{},w=s.mutex||{},x=w.pdfEscape,g=w.activeFontKey,A=w.fonts,R=g,P="",L=0,V="",U=A[R].encoding;if(A[R].encoding!=="Identity-H")return{text:c,x:u,y:d,options:f,mutex:w};for(V=c,R=g,Array.isArray(c)&&(V=c[0]),L=0;L<V.length;L+=1)A[R].metadata.hasOwnProperty("cmap")&&(a=A[R].metadata.cmap.unicode.codeMap[V[L].charCodeAt(0)]),a||V[L].charCodeAt(0)<256&&A[R].metadata.hasOwnProperty("Unicode")?P+=V[L]:P+="";var z="";return parseInt(R.slice(1))<14||U==="WinAnsiEncoding"?z=x(P,R).split("").map(function(ne){return ne.charCodeAt(0).toString(16)}).join(""):U==="Identity-H"&&(z=t(P,A[R])),w.isHex=!0,{text:z,x:u,y:d,options:f,mutex:w}};e.events.push(["postProcessText",function(s){var a=s.text||"",c=[],u={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?c.push([i(Object.assign({},u,{text:a[d][0]})).text,a[d][1],a[d][2]]):c.push(i(Object.assign({},u,{text:a[d]})).text);s.text=c}else s.text=i(Object.assign({},u,{text:a})).text}])})(Ut),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ut.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,a,c,u,d,f,w=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},R={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),V=!1,U=0;this.__bidiEngine__={};var z=function(N){var k=N.charCodeAt(),D=k>>8,X=R[D];return X!==void 0?w[256*X+(255&k)]:D===252||D===253?"AL":L.test(D)?"L":D===8?"R":"N"},ne=function(N){for(var k,D=0;D<N.length;D++){if((k=z(N.charAt(D)))==="L")return!1;if(k==="R")return!0}return!1},ce=function(N,k,D,X){var ue,ge,me,re,ye=k[X];switch(ye){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":V=!1;break;case"N":case"AN":break;case"EN":V&&(ye="AN");break;case"AL":V=!0,ye="R";break;case"WS":case"BN":ye="N";break;case"CS":X<1||X+1>=k.length||(ue=D[X-1])!=="EN"&&ue!=="AN"||(ge=k[X+1])!=="EN"&&ge!=="AN"?ye="N":V&&(ge="AN"),ye=ge===ue?ge:"N";break;case"ES":ye=(ue=X>0?D[X-1]:"B")==="EN"&&X+1<k.length&&k[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&D[X-1]==="EN"){ye="EN";break}if(V){ye="N";break}for(me=X+1,re=k.length;me<re&&k[me]==="ET";)me++;ye=me<re&&k[me]==="EN"?"EN":"N";break;case"NSM":if(a&&!c){for(re=k.length,me=X+1;me<re&&k[me]==="NSM";)me++;if(me<re){var de=N[X],Z=de>=1425&&de<=2303||de===64286;if(ue=k[me],Z&&(ue==="R"||ue==="AL")){ye="R";break}}}ye=X<1||(ue=k[X-1])==="B"?"N":D[X-1];break;case"B":V=!1,i=!0,ye=U;break;case"S":s=!0,ye="N"}return ye},W=function(N,k,D){var X=N.split("");return D&&O(X,D,{hiLevel:U}),X.reverse(),k&&k.reverse(),X.join("")},O=function(N,k,D){var X,ue,ge,me,re,ye=-1,de=N.length,Z=0,F=[],Q=U?g:x,se=[];for(V=!1,i=!1,s=!1,ue=0;ue<de;ue++)se[ue]=z(N[ue]);for(ge=0;ge<de;ge++){if(re=Z,F[ge]=ce(N,se,F,ge),X=240&(Z=Q[re][A[F[ge]]]),Z&=15,k[ge]=me=Q[Z][5],X>0)if(X===16){for(ue=ye;ue<ge;ue++)k[ue]=1;ye=-1}else ye=-1;if(Q[Z][6])ye===-1&&(ye=ge);else if(ye>-1){for(ue=ye;ue<ge;ue++)k[ue]=me;ye=-1}se[ge]==="B"&&(k[ge]=0),D.hiLevel|=me}s&&(function(he,we,Ee){for(var Te=0;Te<Ee;Te++)if(he[Te]==="S"){we[Te]=U;for(var Le=Te-1;Le>=0&&he[Le]==="WS";Le--)we[Le]=U}})(se,k,de)},C=function(N,k,D,X,ue){if(!(ue.hiLevel<N)){if(N===1&&U===1&&!i)return k.reverse(),void(D&&D.reverse());for(var ge,me,re,ye,de=k.length,Z=0;Z<de;){if(X[Z]>=N){for(re=Z+1;re<de&&X[re]>=N;)re++;for(ye=Z,me=re-1;ye<me;ye++,me--)ge=k[ye],k[ye]=k[me],k[me]=ge,D&&(ge=D[ye],D[ye]=D[me],D[me]=ge);Z=re}Z++}}},j=function(N,k,D){var X=N.split(""),ue={hiLevel:U};return D||(D=[]),O(X,D,ue),(function(ge,me,re){if(re.hiLevel!==0&&f)for(var ye,de=0;de<ge.length;de++)me[de]===1&&(ye=P.indexOf(ge[de]))>=0&&(ge[de]=P[ye+1])})(X,D,ue),C(2,X,k,D,ue),C(1,X,k,D,ue),X.join("")};return this.__bidiEngine__.doBidiReorder=function(N,k,D){if((function(ue,ge){if(ge)for(var me=0;me<ue.length;me++)ge[me]=me;c===void 0&&(c=ne(ue)),d===void 0&&(d=ne(ue))})(N,k),a||!u||d)if(a&&u&&c^d)U=c?1:0,N=W(N,k,D);else if(!a&&u&&d)U=c?1:0,N=j(N,k,D),N=W(N,k);else if(!a||c||u||d){if(a&&!u&&c^d)N=W(N,k),c?(U=0,N=j(N,k,D)):(U=1,N=j(N,k,D),N=W(N,k));else if(a&&c&&!u&&d)U=1,N=j(N,k,D),N=W(N,k);else if(!a&&!u&&c^d){var X=f;c?(U=1,N=j(N,k,D),U=0,f=!1,N=j(N,k,D),f=X):(U=0,N=j(N,k,D),N=W(N,k),U=1,f=!1,N=j(N,k,D),f=X,N=W(N,k))}}else U=0,N=j(N,k,D);else U=c?1:0,N=j(N,k,D);return N},this.__bidiEngine__.setOptions=function(N){N&&(a=N.isInputVisual,u=N.isOutputVisual,c=N.isInputRtl,d=N.isOutputRtl,f=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(a=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?a.push([t.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):a.push([t.doBidiReorder(i[c])]);n.text=a}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Ut),Ut.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new lu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new N7(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new h7(this.contents),this.head=new p7(this),this.name=new w7(this),this.cmap=new CE(this),this.toUnicode={},this.hhea=new m7(this),this.maxp=new b7(this),this.hmtx=new x7(this),this.post=new v7(this),this.os2=new g7(this),this.loca=new E7(this),this.glyf=new _7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,c,u,d;for(d=[],a=0,c=(u=this.bbox).length;a<c;a++)e=u[a],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,s,a,c;for(a=0,s=0,c=(e=""+e).length;0<=c?s<c:s>c;s=0<=c?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var Ha,lu=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,s,a,c,u;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),c=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^c)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*a+256*c+u},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)t=e[n],s.push(this.writeByte(t));return s},r})(),h7=(function(){var r;function e(t){var n,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,s,a,c,u,d,f,w,x,g,A,R;for(R in g=Object.keys(t).length,u=Math.log(2),w=16*Math.floor(Math.log(g)/u),a=Math.floor(w/u),f=16*g-w,(i=new lu).writeInt(this.scalarType),i.writeShort(g),i.writeShort(w),i.writeShort(a),i.writeShort(f),s=16*g,d=i.pos+s,c=null,A=[],t)for(x=t[R],i.writeString(R),i.writeInt(r(x)),i.writeInt(d),i.writeInt(x.length),A=A.concat(x),R==="head"&&(c=d),d+=x.length;d%4;)A.push(0),d++;return i.write(A),n=2981146554-r(i.data),i.pos=c+8,i.writeUInt32(n),i.data},r=function(t){var n,i,s,a;for(t=AE.call(t);t.length%4;)t.push(0);for(s=new lu(t),i=0,n=0,a=t.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e})(),f7={}.hasOwnProperty,Nl=function(r,e){for(var t in e)f7.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Ha=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var p7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Nl(r,Ha),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new lu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),kx=(function(){function r(e,t){var n,i,s,a,c,u,d,f,w,x,g,A,R,P,L,V,U;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),x=g/2,e.pos+=6,s=(function(){var z,ne;for(ne=[],u=z=0;0<=x?z<x:z>x;u=0<=x?++z:--z)ne.push(e.readUInt16());return ne})(),e.pos+=2,R=(function(){var z,ne;for(ne=[],u=z=0;0<=x?z<x:z>x;u=0<=x?++z:--z)ne.push(e.readUInt16());return ne})(),d=(function(){var z,ne;for(ne=[],u=z=0;0<=x?z<x:z>x;u=0<=x?++z:--z)ne.push(e.readUInt16());return ne})(),f=(function(){var z,ne;for(ne=[],u=z=0;0<=x?z<x:z>x;u=0<=x?++z:--z)ne.push(e.readUInt16());return ne})(),i=(this.length-e.pos+this.offset)/2,c=(function(){var z,ne;for(ne=[],u=z=0;0<=i?z<i:z>i;u=0<=i?++z:--z)ne.push(e.readUInt16());return ne})(),u=L=0,U=s.length;L<U;u=++L)for(P=s[u],n=V=A=R[u];A<=P?V<=P:V>=P;n=A<=P?++V:--V)f[u]===0?a=n+d[u]:(a=c[f[u]/2+(n-A)-(x-u)]||0)!==0&&(a+=d[u]),this.codeMap[n]=65535&a}e.pos=w}return r.encode=function(e,t){var n,i,s,a,c,u,d,f,w,x,g,A,R,P,L,V,U,z,ne,ce,W,O,C,j,N,k,D,X,ue,ge,me,re,ye,de,Z,F,Q,se,he,we,Ee,Te,Le,Ve,Xe,ct;switch(X=new lu,a=Object.keys(e).sort(function(rt,mt){return rt-mt}),t){case"macroman":for(R=0,P=(function(){var rt=[];for(A=0;A<256;++A)rt.push(0);return rt})(),V={0:0},s={},ue=0,ye=a.length;ue<ye;ue++)V[Le=e[i=a[ue]]]==null&&(V[Le]=++R),s[i]={old:e[i],new:V[e[i]]},P[i]=V[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(P),{charMap:s,subtable:X.data,maxGlyphID:R+1};case"unicode":for(k=[],w=[],U=0,V={},n={},L=d=null,ge=0,de=a.length;ge<de;ge++)V[ne=e[i=a[ge]]]==null&&(V[ne]=++U),n[i]={old:ne,new:V[ne]},c=V[ne]-i,L!=null&&c===d||(L&&w.push(L),k.push(i),d=c),L=i;for(L&&w.push(L),w.push(65535),k.push(65535),j=2*(C=k.length),O=2*Math.pow(Math.log(C)/Math.LN2,2),x=Math.log(O/2)/Math.LN2,W=2*C-O,u=[],ce=[],g=[],A=me=0,Z=k.length;me<Z;A=++me){if(N=k[A],f=w[A],N===65535){u.push(0),ce.push(0);break}if(N-(D=n[N].new)>=32768)for(u.push(0),ce.push(2*(g.length+C-A)),i=re=N;N<=f?re<=f:re>=f;i=N<=f?++re:--re)g.push(n[i].new);else u.push(D-N),ce.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*C+2*g.length),X.writeUInt16(0),X.writeUInt16(j),X.writeUInt16(O),X.writeUInt16(x),X.writeUInt16(W),Ee=0,F=w.length;Ee<F;Ee++)i=w[Ee],X.writeUInt16(i);for(X.writeUInt16(0),Te=0,Q=k.length;Te<Q;Te++)i=k[Te],X.writeUInt16(i);for(Ve=0,se=u.length;Ve<se;Ve++)c=u[Ve],X.writeUInt16(c);for(Xe=0,he=ce.length;Xe<he;Xe++)z=ce[Xe],X.writeUInt16(z);for(ct=0,we=g.length;ct<we;ct++)R=g[ct],X.writeUInt16(R);return{charMap:n,subtable:X.data,maxGlyphID:U+1}}},r})(),CE=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Nl(r,Ha),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new kx(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=kx.encode(e,t),(i=new lu).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r})(),m7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Nl(r,Ha),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),g7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Nl(r,Ha),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),v7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Nl(r,Ha),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,c,u;for(u=[],s=a=0,c=this.file.maxp.numGlyphs;0<=c?a<c:a>c;s=0<=c?++a:--a)u.push(e.readUInt32());return u}).call(this)}},r})(),y7=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},w7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Nl(r,Ha),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,s,a,c,u,d,f,w,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(u={},s=f=0,w=n.length;f<w;s=++f)i=n[s],e.pos=i.offset,d=e.readString(i.length),a=new y7(d,i),u[x=i.nameID]==null&&(u[x]=[]),u[i.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},r})(),b7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Nl(r,Ha),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),x7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Nl(r,Ha),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,s,a,c,u;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],t=d=0;0<=i?d<i:d>i;t=0<=i?++d:--d)f.push(e.readInt16());return f})(),this.widths=(function(){var d,f,w,x;for(x=[],d=0,f=(w=this.metrics).length;d<f;d++)s=w[d],x.push(s.advance);return x}).call(this),n=this.widths[this.widths.length-1],u=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)u.push(this.widths.push(n));return u},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),AE=[].slice,_7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Nl(r,Ha),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,s,a,c,u,d,f,w;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,a=(c=new lu(t.read(i))).readShort(),d=c.readShort(),w=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[e]=a===-1?new k7(c,d,w,u,f):new S7(c,a,d,w,u,f),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,s,a,c,u;for(a=[],s=[],c=0,u=t.length;c<u;c++)i=e[t[c]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},r})(),S7=(function(){function r(e,t,n,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),k7=(function(){function r(e,t,n,i,s){var a,c;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;c=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&c;)a.pos+=1&c?4:2,128&c?a.pos+=8:64&c?a.pos+=4:8&c&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new lu(AE.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),E7=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Nl(r,Ha),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<t.length&&t[s]==a){++s,n[a]=i;var c=this.offsets[a],u=this.offsets[a+1]-c;u>0&&(i+=u)}for(var d=new Array(4*n.length),f=0;f<n.length;++f)d[4*f+3]=255&n[f],d[4*f+2]=(65280&n[f])>>8,d[4*f+1]=(16711680&n[f])>>16,d[4*f]=(4278190080&n[f])>>24;return d},r})(),N7=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,s,a,c,u;for(i={},a=0,c=e.length;a<c;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(n=i[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in u=this.glyphsFor(t))n=u[s],i[s]=n;return i},r.prototype.encode=function(e,t){var n,i,s,a,c,u,d,f,w,x,g,A,R,P,L;for(i in n=CE.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),g={0:0},L=n.charMap)g[(u=L[i]).old]=u.new;for(A in x=n.maxGlyphID,a)A in g||(g[A]=x++);return f=(function(V){var U,z;for(U in z={},V)z[V[U]]=U;return z})(g),w=Object.keys(f).sort(function(V,U){return V-U}),R=(function(){var V,U,z;for(z=[],V=0,U=w.length;V<U;V++)c=w[V],z.push(f[c]);return z})(),s=this.font.glyf.encode(a,R,g),d=this.font.loca.encode(s.offsets,R),P={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},r})();Ut.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,s,a;if(Array.isArray(t))return"["+(function(){var c,u,d;for(d=[],c=0,u=t.length;c<u;c++)n=t[c],d.push(e.convert(n));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e})();function IE(r,e,t,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,c=i.internal.getFontSize()/a,u=i.getLineHeightFactor?i.getLineHeightFactor():s,d=c*u,f=/\r\n|\r|\n/g,w="",x=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(w=typeof r=="string"?r.split(f):r,x=w.length||1),t+=c*(2-s),n.valign==="middle"?t-=x/2*d:n.valign==="bottom"&&(t-=x*d),n.halign==="center"||n.halign==="right"){var g=c;if(n.halign==="center"&&(g*=.5),w&&x>=1){for(var A=0;A<w.length;A++)i.text(w[A],e-i.getStringUnitWidth(w[A])*g,t),t+=d;return i}e-=i.getStringUnitWidth(r)*g}return n.halign==="justify"?i.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,e,t),i}var Ex={},sh=(function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Ex=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),c=a.fontStyle,u=a.fontName;if(e.font&&(u=e.font),e.fontStyle){c=e.fontStyle;var d=this.getFontList()[u];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(u,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var f=r.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=r.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=r.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,i,s){return this.jsPDFDocument.rect(e,t,n,i,s)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return Ex||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r})(),_1=function(r,e){return _1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},_1(r,e)};function TE(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_1(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var PE=(function(r){TE(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e})(Array);function C7(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function A7(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function u0(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(s){return t.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function DE(r,e,t,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:s});var a=LE(i,!1);a&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,a)}function LE(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function H0(r,e){var t,n,i,s;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(i=r.right)!==null&&i!==void 0?i:e,bottom:(s=r.bottom)!==null&&s!==void 0?s:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function RE(r,e){var t=H0(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function I7(r,e,t,n,i){var s={},a=1.3333333333333333,c=Tv(e,function(U){return i.getComputedStyle(U).backgroundColor});c!=null&&(s.fillColor=c);var u=Tv(e,function(U){return i.getComputedStyle(U).color});u!=null&&(s.textColor=u);var d=P7(n,t);d&&(s.cellPadding=d);var f="borderTopColor",w=a*t,x=n.borderTopWidth;if(n.borderBottomWidth===x&&n.borderRightWidth===x&&n.borderLeftWidth===x){var g=(parseFloat(x)||0)/w;g&&(s.lineWidth=g)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/w,right:(parseFloat(n.borderRightWidth)||0)/w,bottom:(parseFloat(n.borderBottomWidth)||0)/w,left:(parseFloat(n.borderLeftWidth)||0)/w},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var A=Tv(e,function(U){return i.getComputedStyle(U)[f]});A!=null&&(s.lineColor=A);var R=["left","right","center","justify"];R.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),R=["middle","bottom","top"],R.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var P=parseInt(n.fontSize||"");isNaN(P)||(s.fontSize=P/a);var L=T7(n);L&&(s.fontStyle=L);var V=(n.fontFamily||"").toLowerCase();return r.indexOf(V)!==-1&&(s.font=V),s}function T7(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function Tv(r,e){var t=ME(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function ME(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:ME(r.parentElement,e):t}function P7(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,s=t.map(function(c){return parseInt(c||"0")/n}),a=H0(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function OE(r,e,t,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var u=Object.keys(r.getFontList()),d=r.scaleFactor(),f=[],w=[],x=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:f,body:w,foot:x};for(var g=0;g<c.rows.length;g++){var A=c.rows[g],R=(a=(s=A?.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),P=D7(u,d,t,A,n,i);P&&(R==="thead"?f.push(P):R==="tfoot"?x.push(P):w.push(P))}return{head:f,body:w,foot:x}}function D7(r,e,t,n,i,s){for(var a=new PE(n),c=0;c<n.cells.length;c++){var u=n.cells[c],d=t.getComputedStyle(u);if(i||d.display!=="none"){var f=void 0;s&&(f=I7(r,u,e,d,t)),a.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:f,_element:u,content:L7(u)})}}var w=t.getComputedStyle(n);if(a.length>0&&(i||w.display!=="none"))return a}function L7(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function R7(r,e,t){for(var n=0,i=[r,e,t];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function tc(r,e,t,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),a=1;a<arguments.length;a++){var c=arguments[a];if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(s[u]=c[u])}return s}function jE(r,e){var t=new sh(r),n=t.getDocumentOptions(),i=t.getGlobalOptions();R7(i,n,e);var s=tc({},i,n,e),a;typeof window<"u"&&(a=window);var c=M7(i,n,e),u=O7(i,n,e),d=j7(t,s),f=B7(t,s,a);return{id:e.tableId,content:f,hooks:u,styles:c,settings:d}}function M7(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var d=r[u],f=e[u],w=t[u];n.columnStyles=tc({},d,f,w)}else{var x=[r,e,t],g=x.map(function(A){return A[u]||{}});n[u]=tc({},g[0],g[1],g[2])}},s=0,a=Object.keys(n);s<a.length;s++){var c=a[s];i(c)}return n}function O7(r,e,t){for(var n=[r,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var c=a[s];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function j7(r,e){var t,n,i,s,a,c,u,d,f,w,x,g,A=H0(e.margin,40/r.scaleFactor()),R=(t=F7(r,e.startY))!==null&&t!==void 0?t:A.top,P;e.showFoot===!0?P="everyPage":e.showFoot===!1?P="never":P=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var L;e.showHead===!0?L="everyPage":e.showHead===!1?L="never":L=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var V=(s=e.useCss)!==null&&s!==void 0?s:!1,U=e.theme||(V?"plain":"striped"),z=!!e.horizontalPageBreak,ne=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:V,theme:U,startY:R,margin:A,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:L,showFoot:P,tableLineWidth:(w=e.tableLineWidth)!==null&&w!==void 0?w:0,tableLineColor:(x=e.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:z,horizontalPageBreakRepeat:ne,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function F7(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),s=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&t?.finalY!=null?t.finalY+20/n:null}function B7(r,e,t){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var c=OE(r,e.html,t,a,e.useCss)||{};n=c.head||n,i=c.body||n,s=c.foot||n}else console.error("Cannot parse html in non browser environment")}var u=e.columns||V7(n,i,s);return{columns:u,head:n,body:i,foot:s}}function V7(r,e,t){var n=r[0]||e[0]||t[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,c;Array.isArray(n)?c=n[parseInt(s)]:c=n[s],typeof c=="object"&&!Array.isArray(c)&&(a=c?.colSpan||1);for(var u=0;u<a;u++){var d=void 0;Array.isArray(n)?d=i.length:d=s+(u>0?"_".concat(u):"");var f={dataKey:d};i.push(f)}}),i}var S1=(function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r})(),U7=(function(r){TE(e,r);function e(t,n,i,s,a,c){var u=r.call(this,t,n,c)||this;return u.cell=i,u.row=s,u.column=a,u.section=s.section,u}return e})(S1),z7=(function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,i,s,a){for(var c=0,u=t;c<u.length;c++){var d=u[c],f=new U7(e,this,n,i,s,a),w=d(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],w)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new S1(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new S1(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r})(),FE=(function(){function r(e,t,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof PE&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=i,this.spansMultiplePages=s}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var i=t.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var c=t.getLineHeight(a.styles.fontSize),u=a.padding("vertical"),d=u+c;return d>i?d:i},0)},r})(),BE=(function(){function r(e,t,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",c=/\r\n|\r|\n/g;this.text=a.split(c)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=H0(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r})(),q7=(function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},r})();function H7(r,e){W7(r,e);var t=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,t.push(s)),n+=s.width});var i=e.getWidth(r.pageSize().width)-n;i&&(i=k1(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=k1(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Y7(e),G7(e,r),$7(e)}function W7(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,i=RE(r,e);e.allRows().forEach(function(s){for(var a=0,c=e.columns;a<c.length;a++){var u=c[a],d=s.cells[u.index];if(d){var f=e.hooks.didParseCell;e.callCellHooks(r,f,d,s,u,null);var w=d.padding("horizontal");d.contentWidth=u0(d.text,d.styles,r)+w;var x=u0(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,r);if(d.minReadableWidth=x+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>i?(d.minWidth=i,d.wrappedWidth=i):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var g=10/t;d.minWidth=d.styles.minCellWidth||g,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,c=e.columns;a<c.length;a++){var u=c[a],d=s.cells[u.index];if(d&&d.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,d.wrappedWidth),u.minWidth=Math.max(u.minWidth,d.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,d.minReadableWidth);else{var f=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},w=f.cellWidth||f.minCellWidth;w&&typeof w=="number"&&(u.minWidth=w,u.wrappedWidth=w)}d&&(d.colSpan>1&&!u.minWidth&&(u.minWidth=d.minWidth),d.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=d.minWidth))}})}function k1(r,e,t){for(var n=e,i=r.reduce(function(g,A){return g+A.wrappedWidth},0),s=0;s<r.length;s++){var a=r[s],c=a.wrappedWidth/i,u=n*c,d=a.width+u,f=t(a),w=d<f?f:d;e-=w-a.width,a.width=w}if(e=Math.round(e*1e10)/1e10,e){var x=r.filter(function(g){return e<0?g.width>t(g):!0});x.length&&(e=k1(x,e,t))}return e}function $7(r){for(var e={},t=1,n=r.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,c=r.columns;a<c.length;a++){var u=c[a],d=e[u.index];if(t>1)t--,delete s.cells[u.index];else if(d)d.cell.height+=s.height,t=d.cell.colSpan,delete s.cells[u.index],d.left--,d.left<=1&&delete e[u.index];else{var f=s.cells[u.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var w=n.length-i,x=f.rowSpan>w?w:f.rowSpan;e[u.index]={cell:f,left:x,row:s}}}}}function Y7(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],i=null,s=0,a=0,c=0;c<r.columns.length;c++){var u=r.columns[c];if(a-=1,a>1&&r.columns[c+1])s+=u.width,delete n.cells[u.index];else if(i){var d=i;delete n.cells[u.index],i=null,d.width=u.width+s}else{var d=n.cells[u.index];if(!d)continue;if(a=d.colSpan,s=0,d.colSpan>1){i=d,s+=u.width;continue}d.width=u.width+s}}}function G7(r,e){for(var t={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var s=i[n],a=0,c=r.columns;a<c.length;a++){var u=c[a],d=s.cells[u.index];if(d){e.applyStyles(d.styles,!0);var f=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,f+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Nx(d.text,f,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Nx(d.text,f,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var w=d.styles.overflow(d.text,f);typeof w=="string"?d.text=[w]:d.text=w}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var x=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<x*d.rowSpan?t={height:x,count:d.rowSpan}:t&&t.count>0&&t.height>x&&(x=t.height),x>s.height&&(s.height=x)}}t.count--}}function Nx(r,e,t,n,i){return r.map(function(s){return K7(s,e,t,n,i)})}function K7(r,e,t,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=u0(r,t,n))return r;for(;e<u0(r+i,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function VE(r,e){var t=new sh(r),n=Q7(e,t.scaleFactor()),i=new z7(e,n);return H7(t,i),t.applyStyles(t.userStyles),i}function Q7(r,e){var t=r.content,n=J7(t.columns);if(t.head.length===0){var i=Cx(n,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=Cx(n,"foot");i&&t.foot.push(i)}var s=r.settings.theme,a=r.styles;return{columns:n,head:Pv("head",t.head,n,a,s,e),body:Pv("body",t.body,n,a,s,e),foot:Pv("foot",t.foot,n,a,s,e)}}function Pv(r,e,t,n,i,s){var a={},c=e.map(function(u,d){for(var f=0,w={},x=0,g=0,A=0,R=t;A<R.length;A++){var P=R[A];if(a[P.index]==null||a[P.index].left===0)if(g===0){var L=void 0;Array.isArray(u)?L=u[P.index-x-f]:L=u[P.dataKey];var V={};typeof L=="object"&&!Array.isArray(L)&&(V=L?.styles||{});var U=Z7(r,P,d,i,n,s,V),z=new BE(L,U,r);w[P.dataKey]=z,w[P.index]=z,g=z.colSpan-1,a[P.index]={left:z.rowSpan-1,times:g}}else g--,x++;else a[P.index].left--,g=a[P.index].times,f++}return new FE(u,d,r,w)});return c}function Cx(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var i=X7(e,n.raw);i!=null&&(t[n.dataKey]=i)}}),Object.keys(t).length>0?t:null}function X7(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function J7(r){return r.map(function(e,t){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:t:i=t,new q7(i,e,t)})}function Z7(r,e,t,n,i,s,a){var c=A7(n),u;r==="head"?u=i.headStyles:r==="body"?u=i.bodyStyles:r==="foot"&&(u=i.footStyles);var d=tc({},c.table,c[r],i.styles,u),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},w=r==="body"?f:{},x=r==="body"&&t%2===0?tc({},c.alternateRow,i.alternateRowStyles):{},g=C7(s),A=tc({},g,d,x,w);return tc(A,a)}function ej(r,e,t){var n;t===void 0&&(t={});var i=RE(r,e),s=new Map,a=[],c=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(x){var g=e.columns.find(function(A){return A.dataKey===x||A.index===x});g&&!s.has(g.index)&&(s.set(g.index,!0),a.push(g.index),c.push(e.columns[g.index]),i-=g.wrappedWidth)});for(var d=!0,f=(n=t?.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(s.has(f)){f++;continue}var w=e.columns[f].wrappedWidth;if(d||i>=w)d=!1,a.push(f),c.push(e.columns[f]),i-=w;else break;f++}return{colIndexes:a,columns:c,lastIndex:f-1}}function tj(r,e){for(var t=[],n=0;n<e.columns.length;n++){var i=ej(r,e,{start:n});i.columns.length&&(t.push(i),n=i.lastIndex)}return t}function UE(r,e){var t=e.settings,n=t.startY,i=t.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=n+i.bottom+a;if(t.pageBreak==="avoid"){var u=e.body,d=u.reduce(function(x,g){return x+g.height},0);c+=d}var f=new sh(r);(t.pageBreak==="always"||t.startY!=null&&c>f.pageSize().height)&&(qE(f),s.y=i.top),e.callWillDrawPageHooks(f,s);var w=tc({},s);e.startPageNumber=f.pageNumber(),t.horizontalPageBreak?nj(f,e,w,s):(f.applyStyles(f.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(x){return cc(f,e,x,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(x,g){var A=g===e.body.length-1;d0(f,e,x,A,w,s,e.columns)}),f.applyStyles(f.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(x){return cc(f,e,x,s,e.columns)})),DE(f,e,w,s),e.callEndPageHooks(f,s),e.finalY=s.y,r.lastAutoTable=e,f.applyStyles(f.userStyles)}function nj(r,e,t,n){var i=tj(r,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(d,f){r.applyStyles(r.userStyles),f>0?Nf(r,e,t,n,d.columns,!0):Ax(r,e,n,d.columns),rj(r,e,t,n,d.columns),Dv(r,e,n,d.columns)});else for(var a=-1,c=i[0],u=function(){var d=a;if(c){r.applyStyles(r.userStyles);var f=c.columns;a>=0?Nf(r,e,t,n,f,!0):Ax(r,e,n,f),d=Ix(r,e,a+1,n,f),Dv(r,e,n,f)}var w=d-a;i.slice(1).forEach(function(x){r.applyStyles(r.userStyles),Nf(r,e,t,n,x.columns,!0),Ix(r,e,a+1,n,x.columns,w),Dv(r,e,n,x.columns)}),a=d};a<e.body.length-1;)u()}function Ax(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return cc(r,e,s,t,n)})}function rj(r,e,t,n,i){r.applyStyles(r.userStyles),e.body.forEach(function(s,a){var c=a===e.body.length-1;d0(r,e,s,c,t,n,i)})}function Ix(r,e,t,n,i,s){r.applyStyles(r.userStyles),s=s??e.body.length;var a=Math.min(t+s,e.body.length),c=-1;return e.body.slice(t,a).forEach(function(u,d){var f=t+d===e.body.length-1,w=zE(r,e,f,n);u.canEntireRowFit(w,i)&&(cc(r,e,u,n,i),c=t+d)}),c}function Dv(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return cc(r,e,s,t,n)})}function ij(r,e,t){var n=t.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function sj(r,e,t,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var s=0,a=0,c=t.columns;a<c.length;a++){var u=c[a],d=r.cells[u.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var f=new BE(d.raw,d.styles,d.section);f=tc(f,d),f.text=[];var w=ij(d,e,n);d.text.length>w&&(f.text=d.text.splice(w,d.text.length));var x=n.scaleFactor(),g=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(x,g),d.contentHeight>=e&&(d.contentHeight=e,f.styles.minCellHeight-=e),d.contentHeight>r.height&&(r.height=d.contentHeight),f.contentHeight=f.getContentHeight(x,g),f.contentHeight>s&&(s=f.contentHeight),i[u.index]=f}}var A=new FE(r.raw,-1,r.section,i,!0);A.height=s;for(var R=0,P=t.columns;R<P.length;R++){var u=P[R],f=A.cells[u.index];f&&(f.height=A.height);var d=r.cells[u.index];d&&(d.height=r.height)}return A}function oj(r,e,t,n){var i=r.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,c=i-a;e.section==="body"&&(c-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var u=e.getMinimumRowHeight(n.columns,r),d=u<t;if(u>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var f=e.hasRowSpan(n.columns),w=e.getMaxCellHeight(n.columns)>c;return w?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function d0(r,e,t,n,i,s,a){var c=zE(r,e,n,s);if(t.canEntireRowFit(c,a))cc(r,e,t,s,a);else if(oj(r,t,c,e)){var u=sj(t,c,e,r);cc(r,e,t,s,a),Nf(r,e,i,s,a),d0(r,e,u,n,i,s,a)}else Nf(r,e,i,s,a),d0(r,e,t,n,i,s,a)}function cc(r,e,t,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var c=a[s],u=t.cells[c.index];if(!u){n.x+=c.width;continue}r.applyStyles(u.styles),u.x=n.x,u.y=n.y;var d=e.callCellHooks(r,e.hooks.willDrawCell,u,t,c,n);if(d===!1){n.x+=c.width;continue}aj(r,u,n);var f=u.getTextPos();IE(u.text,f.x,f.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,u,t,c,n),n.x+=c.width}n.y+=t.height}function aj(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=LE(n.lineWidth,n.fillColor);i&&r.rect(e.x,t.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),lj(r,e,t,n.lineWidth))}function lj(r,e,t,n){var i,s,a,c;n.top&&(i=t.x,s=t.y,a=t.x+e.width,c=t.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),u(n.top,i,s,a,c)),n.bottom&&(i=t.x,s=t.y+e.height,a=t.x+e.width,c=t.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),u(n.bottom,i,s,a,c)),n.left&&(i=t.x,s=t.y,a=t.x,c=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(c+=.5*n.bottom),u(n.left,i,s,a,c)),n.right&&(i=t.x+e.width,s=t.y,a=t.x+e.width,c=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(c+=.5*n.bottom),u(n.right,i,s,a,c));function u(d,f,w,x,g){r.getDocument().setLineWidth(d),r.getDocument().line(f,w,x,g,"S")}}function zE(r,e,t,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-i}function Nf(r,e,t,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(c){return cc(r,e,c,n,i)}),e.callEndPageHooks(r,n);var a=e.settings.margin;DE(r,e,t,n),qE(r),e.pageNumber++,n.x=a.left,n.y=a.top,t.y=a.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return cc(r,e,c,n,i)}),r.applyStyles(r.userStyles))}function qE(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function cj(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],i=jE(this,n),s=VE(this,i);return UE(this,s),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,i){IE(e,t,n,i,this)},r.API.autoTableSetDefaults=function(e){return sh.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){sh.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new sh(this),s=OE(i,e,window,t,!1),a=s.head,c=s.body,u=((n=a[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:u,rows:c,data:c}}}var Lv;function Tx(r,e){var t=jE(r,e),n=VE(r,t);UE(r,n)}try{if(typeof window<"u"&&window){var Px=window,Dx=Px.jsPDF||((Lv=Px.jspdf)===null||Lv===void 0?void 0:Lv.jsPDF);Dx&&cj(Dx)}}catch(r){console.error("Could not apply autoTable plugin",r)}const uj=({inventory:r,kits:e,lists:t,activeListId:n,setActiveListId:i})=>{const s=()=>[{id:crypto.randomUUID(),name:"Audio",components:[]},{id:crypto.randomUUID(),name:"Luci",components:[]},{id:crypto.randomUUID(),name:"Video",components:[]},{id:crypto.randomUUID(),name:"Strutture",components:[]},{id:crypto.randomUUID(),name:"Elettrico",components:[]},{id:crypto.randomUUID(),name:"Regia",components:[]},{id:crypto.randomUUID(),name:"Attrezzi",components:[]}],[a,c]=Se.useState("list"),[u,d]=Se.useState(""),[f,w]=Se.useState(""),[x,g]=Se.useState(""),[A,R]=Se.useState(""),P=Se.useRef(null),[L,V]=Se.useState("All"),[U,z]=Se.useState(""),[ne,ce]=Se.useState(null),[W,O]=Se.useState(null),[C,j]=Se.useState(new Set),[N,k]=Se.useState(!1),[D,X]=Se.useState(null),[ue,ge]=Se.useState(null),[me,re]=Se.useState(null),[ye,de]=Se.useState(null),[Z,F]=Se.useState(new Set),[Q,se]=Se.useState([]),[he,we]=Se.useState(!1),[Ee,Te]=Se.useState(!1),[Le,Ve]=Se.useState(null),[Xe,ct]=Se.useState(!1),[rt,mt]=Se.useState({isOpen:!1,target:"section",type:"create",targetId:void 0,name:""}),[ie,at]=Se.useState({isOpen:!1,zoneId:"",note:""}),cn=()=>{if(!Fe||!ie.zoneId)return;const $=Fe.zones.map(be=>be.id===ie.zoneId?{...be,notes:ie.note}:be);gn({zones:$}),at(be=>({...be,isOpen:!1}))},Tt=Se.useRef(null),Ge=Se.useRef(null),[Pt,dt]=Se.useState(!1),Dt=Se.useRef({}),[xt,En]=Se.useState(null),[mn,_t]=Se.useState(!1),Lt=Se.useRef(null),nn=Se.useRef(!1),vt=($=!1)=>{$&&(nn.current=!0),Lt.current&&(clearTimeout(Lt.current),Lt.current=null),_t(!0)},Kt=($=!1)=>{$&&(nn.current=!1,P.current===document.activeElement)||!$&&nn.current||(Lt.current&&clearTimeout(Lt.current),Lt.current=setTimeout(()=>{_t(!1)},600))},Fe=Se.useMemo(()=>{const $=t.find(be=>be.id===n);if($){if(!$.zones||$.zones.length===0){const be=$.sections&&$.sections.length>0?$.sections:s();return{...$,zones:[{id:"default-zone",name:"Zona Principale",sections:be}]}}return $}},[t,n]),Bn=Fe?.zones||[],kt=Bn.find($=>$.id===f),sn=kt?.sections||[],ft=sn.find($=>$.id===x);Se.useMemo(()=>{const $=new Map;return!Fe||!Fe.zones||Fe.zones.forEach(be=>{be.sections.forEach(We=>{We.components.forEach(Qe=>{const Rt=$.get(Qe.referenceId)||0;$.set(Qe.referenceId,Rt+Qe.quantity)})})}),$},[Fe]);const Vn=Se.useMemo(()=>{const $=(A||"").toLowerCase().trim().split(/\s+/).filter(be=>be.length>0);return $.length===0?r.filter(be=>L==="All"||be.category===L).sort((be,We)=>be.name.localeCompare(We.name)):r.map(be=>{const We=(be.name||"").toLowerCase(),Qe=(be.category||"").toLowerCase(),Rt=(be.description||"").toLowerCase(),$t=We.split(/[\s\-_/()]+/),Gt=`${We} ${Qe} ${Rt}`;if(!$.every(Sn=>Gt.includes(Sn)))return{item:be,score:-1};if(L!=="All"&&be.category!==L)return{item:be,score:-1};let et=0;return $.forEach(Sn=>{We===Sn&&(et+=1e4),$t.includes(Sn)?et+=1e3:$t.some(yn=>yn.startsWith(Sn))?et+=500:We.includes(Sn)&&(et+=100),Qe.includes(Sn)&&(et+=50)}),{item:be,score:et}}).filter(be=>be.score>-1).sort((be,We)=>We.score!==be.score?We.score-be.score:be.item.name.localeCompare(We.item.name)).map(be=>be.item)},[r,A,L]),Nt=Se.useMemo(()=>{const $=(A||"").toLowerCase().split(" ").filter(be=>be.trim()!=="");return e.map(be=>{const We=`${(be.name||"").toLowerCase()} ${(be.category||"").toLowerCase()} ${(be.description||"").toLowerCase()}`;return $.every(Qe=>We.includes(Qe))?L!=="All"&&be.category!==L?{kit:be,score:-1,nameMatches:0}:{kit:be,score:1,nameMatches:1}:{kit:be,score:-1,nameMatches:0}}).filter(be=>be.score>-1).map(be=>be.kit)},[e,A,L]);Se.useEffect(()=>{n&&a==="list"&&c("edit")},[n,a]);const Mn=Se.useMemo(()=>t.filter(be=>be.eventName.toLowerCase().includes(u.toLowerCase())||be.location.toLowerCase().includes(u.toLowerCase())).sort((be,We)=>new Date(We.eventDate||0).getTime()-new Date(be.eventDate||0).getTime()),[t,u]),zt=$=>{i($),c("edit")},Jt=()=>{c("list"),i("")};Se.useEffect(()=>{if(Fe&&Fe.zones&&Fe.zones.length>0){let $=f;if(!$){const be=localStorage.getItem(`cuepack_active_zone_${Fe.id}`);be&&Fe.zones.find(We=>We.id===be)&&($=be)}(!$||!Fe.zones.find(be=>be.id===$))&&($=Fe.zones[0].id),$!==f&&w($)}},[Fe]),Se.useEffect(()=>{if(kt&&kt.sections.length>0){let $=x;if(!($&&kt.sections.find(We=>We.id===$))){const We=localStorage.getItem(`cuepack_active_section_${kt.id}`);We&&kt.sections.find(Qe=>Qe.id===We)?$=We:$=kt.sections[0].id}$!==x&&g($)}else g("")},[f,kt]),Se.useEffect(()=>{n&&f&&localStorage.setItem(`cuepack_active_zone_${n}`,f)},[n,f]),Se.useEffect(()=>{f&&x&&localStorage.setItem(`cuepack_active_section_${f}`,x)},[f,x]),Se.useEffect(()=>{F(new Set),Ve(null),z("")},[n,f,x]),Se.useEffect(()=>{if(xt&&Dt.current[xt]){const $=Dt.current[xt];$&&setTimeout(()=>{$.focus(),$.select()},10),En(null)}},[sn,xt]);const gn=async $=>{if(!Fe)return;const be={...Fe,...$};be.zones&&be.zones.length>0&&delete be.sections,await hs(Ma,be)},Qt=$=>{if(!Fe||!kt)return;const be=Fe.zones.map(We=>We.id===kt.id?{...We,...$}:We);gn({zones:be})},bt=$=>{if(!Fe||!kt||!ft)return;const be=kt.sections.map(We=>We.id===ft.id?{...We,...$}:We);Qt({sections:be})},[vn,Ii]=Se.useState(!1),[rn,br]=Se.useState({}),Vr=($,be)=>{be&&be.stopPropagation(),br($?{...$}:{eventName:"",location:"",eventDate:"",setupDate:"",creationDate:new Date().toISOString(),zones:[{id:crypto.randomUUID(),name:"Zona Principale",sections:s()}]}),Ii(!0)},Vt=async()=>{if(!rn.eventName)return;const $={...rn,id:rn.id||crypto.randomUUID(),creationDate:rn.creationDate||new Date().toISOString()};await hs(Ma,$),Ii(!1),rn.id||(i($.id),c("edit"))},Hn=()=>Vr(),ts=async()=>{const $=D?D.id:n;if($){if($===n){const be=t.filter(We=>We.id!==$);i(be.length>0?be[0].id:"")}await wy(Ma,$),X(null),k(!1)}},Cr=async()=>{if(!ue)return;const $=ue.zones&&ue.zones.length>0?ue.zones:[{id:"def",name:"Zona Principale",sections:ue.sections||[]}],be={...ue,id:crypto.randomUUID(),eventName:`${ue.eventName} (Copia)`,creationDate:new Date().toISOString(),zones:$.map(We=>({...We,id:crypto.randomUUID(),sections:We.sections.map(Qe=>({...Qe,id:crypto.randomUUID(),components:Qe.components.map(Rt=>({...Rt,uniqueId:crypto.randomUUID()}))}))}))};be.sections&&delete be.sections,await hs(Ma,be),ge(null)},ci=($,be)=>{be.stopPropagation(),ge($)},Xn=$=>{const be=new Set(Z);be.has($)?be.delete($):be.add($),F(be)},kr=()=>{if(!ft)return;const $=new Set(Z);ft.components.forEach(be=>$.add(be.uniqueId)),F($)},er=()=>F(new Set),Ns=()=>!Fe||!Fe.zones?[]:Fe.zones.flatMap(be=>be.sections.flatMap(We=>We.components)).filter(be=>Z.has(be.uniqueId)),co=()=>{const $=Ns();$.length>0&&(se($),we(!1))},Ti=()=>{const $=Ns();$.length>0&&(se($),we(!1),ui())},fs=()=>{if(he){Te(!0);return}Ar()},Ar=()=>{if(!ft||Q.length===0)return;let $=[...ft.components];Q.forEach(be=>{const We=$.find(Qe=>Qe.type===be.type&&Qe.referenceId===be.referenceId);We?$=$.map(Qe=>Qe.uniqueId===We.uniqueId?{...Qe,quantity:Qe.quantity+be.quantity}:Qe):$.push({...be,uniqueId:crypto.randomUUID()})}),bt({components:$}),F(new Set),we(!0)},ui=()=>{if(!(!Fe||!Fe.zones)&&ft){const $=ft.components.filter(be=>!Z.has(be.uniqueId));bt({components:$}),F(new Set)}},cr=($,be,We,Qe)=>{mt({isOpen:!0,target:$,type:be,targetId:We,name:Qe||""})},Qs=()=>{if(!(!Fe||!rt.name.trim())){if(rt.target==="zone")if(rt.type==="create"){const $=crypto.randomUUID(),be={id:$,name:rt.name.trim(),sections:s()},We=[...Fe.zones||[],be];gn({zones:We}),w($)}else{const $=Fe.zones.map(be=>be.id===rt.targetId?{...be,name:rt.name.trim()}:be);gn({zones:$})}else{if(!kt)return;if(rt.type==="create"){const $=crypto.randomUUID(),be={id:$,name:rt.name.trim(),components:[]},We=[...kt.sections,be];Qt({sections:We}),g($)}else{const $=kt.sections.map(be=>be.id===rt.targetId?{...be,name:rt.name.trim()}:be);Qt({sections:$})}}mt($=>({...$,isOpen:!1}))}},ns=()=>{if(!kt||!me)return;if(kt.sections.length<=1){re(null);return}const $=kt.sections.filter(be=>be.id!==me);Qt({sections:$}),re(null)},Cs=()=>{if(!Fe||!ye)return;if((Fe.zones||[]).length<=1){de(null);return}const $=Fe.zones.filter(be=>be.id!==ye);gn({zones:$}),f===ye&&w($[0].id),de(null)},As=($,be)=>{if(be==="kit"){const We=$;return{type:"kit",referenceId:We.id,name:We.name,category:"Kit",contents:We.items.map(Qe=>{const Rt=r.find($t=>$t.id===Qe.itemId);return{itemId:Rt?.id,name:Rt?.name||"?",quantity:Qe.quantity,category:Rt?.category||"Altro"}})}}else{const We=$;return{type:"item",referenceId:We.id,name:We.name,category:We.category,contents:(We.accessories||[]).map(Qe=>{const Rt=r.find($t=>$t.id===Qe.itemId);return{itemId:Qe.itemId,name:Rt?.name||"?",quantity:Qe.quantity,category:Rt?.category||"Altro"}})}}},Is=($,be)=>{if(!ft)return;if(Le){const Qe=As($,be),Rt=ft.components.map($t=>$t.uniqueId===Le?{...$t,...Qe}:$t);bt({components:Rt}),Ve(null);return}const We=ft.components.find(Qe=>Qe.type===be&&Qe.referenceId===$.id);if(We){const Qe=ft.components.map(Rt=>Rt.uniqueId===We.uniqueId?{...Rt,quantity:Rt.quantity+1}:Rt);bt({components:Qe}),En(We.uniqueId)}else{const Qe={uniqueId:crypto.randomUUID(),quantity:1,notes:"",...As($,be)};bt({components:[...ft.components,Qe]}),En(Qe.uniqueId)}},Po=($,be)=>{if(!ft||be<1)return;const We=ft.components.map(Qe=>Qe.uniqueId===$?{...Qe,quantity:be}:Qe);bt({components:We})},Cl=($,be)=>{if(!ft)return;const We=ft.components.map(Qe=>Qe.uniqueId===$?{...Qe,notes:be}:Qe);bt({components:We})},Un=$=>{if(!ft)return;const be=ft.components.filter(We=>We.uniqueId!==$);bt({components:be})},ga=($,be,We,Qe)=>{Tt.current={zoneId:f,sectionId:be,index:We,uniqueId:Qe},dt(!0)},uo=($,be,We)=>{$.preventDefault(),Ge.current={zoneId:f,sectionId:be,index:We}},Jr=()=>{if(dt(!1),Tt.current&&Ge.current&&ft&&Tt.current.sectionId===Ge.current.sectionId){const $=Z.has(Tt.current.uniqueId)?Z:new Set([Tt.current.uniqueId]),be=[],We=[];ft.components.forEach(et=>{$.has(et.uniqueId)?be.push(et):We.push(et)});const Qe=Ge.current.index,Rt=ft.components[Qe];let $t=We.findIndex(et=>et.uniqueId===Rt?.uniqueId);$t===-1&&($t=We.length);const Gt=[...We.slice(0,$t),...be,...We.slice($t)];bt({components:Gt})}Tt.current=null,Ge.current=null},Pi=async $=>{const be={...$,id:crypto.randomUUID()};await hs(Ra,be),Is(be,"item")},Ko=async $=>{const be=$.id?$:{...$,id:crypto.randomUUID()};await hs(Ra,be)},ps=Se.useMemo(()=>t.find($=>$.id===ne),[t,ne]),Xs=async $=>{ps&&await hs(Ma,{...ps,reminders:$})},Di=async()=>{if(!Fe||!Fe.zones)return;let $="1.0";if(Fe.version){const $t=Fe.version.split("."),Gt=parseInt($t[0]),et=parseInt($t[1]);$=`${Gt}.${et+1}`}const be=Fe.snapshot||[],We=Fe.zones,Qe=[...Fe.deletedItems||[]];be.forEach($t=>{$t.sections.forEach(Gt=>{Gt.components.forEach(et=>{let Sn=!1;We.forEach(yn=>{yn.sections.forEach(kn=>{kn.components.some(qt=>qt.uniqueId===et.uniqueId)&&(Sn=!0)})}),Sn||Qe.some(yn=>yn.originalComponent.uniqueId===et.uniqueId)||Qe.push({originalComponent:et,zoneName:$t.name,sectionName:Gt.name,deletedAt:new Date().toISOString()})})})});const Rt=We.map($t=>({...$t,sections:$t.sections.map(Gt=>({...Gt,components:Gt.components.map(et=>{let Sn;if(be.forEach(yn=>{yn.sections.forEach(kn=>{const qt=kn.components.find(_r=>_r.uniqueId===et.uniqueId);qt&&(Sn=qt)})}),Sn){if(Sn.quantity!==et.quantity){const yn=et.contents?.map(kn=>({...kn,warehouseState:{...kn.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},inDistinta:!1,loaded:!1}}));return{...et,contents:yn,warehouseState:{...et.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},inDistinta:!1,loaded:!1,changeLog:{previousQuantity:Sn.quantity,changedAt:new Date().toISOString()}}}}}else if(Fe.version)return{...et,warehouseState:{...et.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},inDistinta:!1,loaded:!1,changeLog:{previousQuantity:0,changedAt:new Date().toISOString()}}};return et})}))}));await gn({version:$,snapshot:Rt,zones:Rt,deletedItems:Qe}),alert(`Lista completata! Versione aggiornata a ${$}`)},Qo=$=>{const be=new Map;return $.sections.forEach(We=>We.components.forEach(Qe=>{be.set(Qe.name,(be.get(Qe.name)||0)+Qe.quantity),Qe.contents?.forEach(Rt=>be.set(Rt.name,(be.get(Rt.name)||0)+Rt.quantity*Qe.quantity))})),be},xr=()=>{if(!Fe||!Fe.zones)return;const $=new Ut,be=(yn,kn)=>{const qt=$.internal.pageSize.getWidth();$.setFontSize(16),$.setFont("helvetica","bold"),$.setTextColor(0);const _r=Fe.eventName.toUpperCase();$.text(_r,14,12);const ut=Fe.version?`v${Fe.version}`:"LISTA NON PRONTA",Ht=$.getTextWidth(_r);$.setFontSize(10),Fe.version?$.setTextColor(100):$.setTextColor(220,0,0),$.text(ut,14+Ht+3,12),$.setFontSize(8),$.setFont("helvetica","normal"),$.setTextColor(100),$.text(`${Fe.eventDate}  |  Pagina ${kn}`,qt-14,12,{align:"right"}),$.setFontSize(13),$.setFont("helvetica","bold"),$.setTextColor(0),$.text(`ZONA: ${yn.toUpperCase()}`,14,20)};Fe.zones.forEach((yn,kn)=>{kn>0&&$.addPage();let qt=25;if(yn.notes){$.setFontSize(10),$.setFont("helvetica","italic"),$.setTextColor(50);const Ht=$.splitTextToSize(`NOTE: ${yn.notes}`,180);$.text(Ht,14,qt),qt+=Ht.length*5+5}const _r=Qo(yn),ut=[];yn.sections.forEach(Ht=>{Ht.components.length!==0&&(ut.push([{content:Ht.name.toUpperCase(),colSpan:4,styles:{fillColor:[230,230,230],fontStyle:"bold",textColor:[0,0,0]}}]),Ht.components.forEach(ur=>{let Ir=ur.name;ur.type==="kit"&&(Ir=`[KIT] ${ur.name}`),ur.notes&&(Ir+=`
NOTE: ${ur.notes}`);const Zr=_r.get(ur.name)||0;ut.push([Ir,ur.quantity,Zr,""]),ur.contents?.forEach(dr=>{const ei=_r.get(dr.name)||0;ut.push([{content:`  - ${dr.name}`,styles:{fontSize:10,textColor:[80,80,80]}},dr.quantity*ur.quantity,ei,""])})}))}),Tx($,{head:[["Materiale","Qta","Totale Zona","Check"]],body:ut,startY:qt,margin:{top:25},theme:"grid",headStyles:{fillColor:[245,245,245],textColor:[0,0,0],lineWidth:.1,lineColor:[200,200,200]},styles:{fontSize:11,cellPadding:3,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:20,halign:"center"},2:{cellWidth:25,halign:"center",fontStyle:"bold"},3:{cellWidth:20}},didDrawPage:Ht=>{be(yn.name,$.internal.getCurrentPageInfo().pageNumber)}})}),Fe.notes&&($.addPage(),be("Note Generali",$.internal.getCurrentPageInfo().pageNumber),$.setFontSize(14),$.text("Note Evento",14,30),$.setFontSize(11),$.setFont("helvetica","normal"),$.text(Fe.notes,14,40));const We=new Date,Qe=String(We.getDate()).padStart(2,"0"),Rt=String(We.getMonth()+1).padStart(2,"0"),$t=We.getFullYear(),Gt=String(We.getHours()).padStart(2,"0"),et=String(We.getMinutes()).padStart(2,"0"),Sn=(Fe.eventName||"evento").replace(/[^a-z0-9\s-_]/gi,"").trim().replace(/\s+/g,"_");$.save(`${Sn}_${$t}-${Rt}-${Qe}_${Gt}-${et}.pdf`)},ho=()=>{if(!Fe||!Fe.zones)return;const $=new Ut,be=(Gt,et)=>{const Sn=$.internal.pageSize.getWidth();$.setFontSize(16),$.setFont("helvetica","bold"),$.setTextColor(0);const yn=Fe.eventName.toUpperCase();$.text(yn,14,12);const kn=Fe.version?`v${Fe.version}`:"LISTA NON PRONTA",qt=$.getTextWidth(yn);$.setFontSize(10),Fe.version?$.setTextColor(100):$.setTextColor(220,0,0),$.text(kn,14+qt+3,12),$.setFontSize(8),$.setFont("helvetica","normal"),$.setTextColor(100),$.text(`Pagina ${et}`,Sn-14,12,{align:"right"}),$.setFontSize(11),$.setFont("helvetica","bold"),$.setTextColor(80),$.text("RECAP TOTALI MATERIALE",14,18),$.setFontSize(13),$.setFont("helvetica","bold"),$.setTextColor(0),$.text(`ZONA: ${Gt.toUpperCase()}`,14,26)};Fe.zones.forEach((Gt,et)=>{et>0&&$.addPage();const Sn=new Map,yn=new Map;Gt.sections.forEach(ut=>{ut.components.forEach(Ht=>{if(Ht.type==="kit"||Ht.contents&&Ht.contents.length>0){const Ir=Ht.type==="kit"?`KIT-${Ht.name}`:Ht.name;Sn.has(Ir)||Sn.set(Ir,{totalQty:0,children:new Map});const Zr=Sn.get(Ir);Zr.totalQty+=Ht.quantity,Ht.contents?.forEach(dr=>{Zr.children.has(dr.name)||Zr.children.set(dr.name,{qty:0,prepNote:dr.prepNote||""});const ei=Zr.children.get(dr.name);ei.qty+=dr.quantity*Ht.quantity,dr.prepNote&&(ei.prepNote=dr.prepNote)})}else{const Ir=yn.get(Ht.name)||0;yn.set(Ht.name,Ir+Ht.quantity)}})});const kn=[],qt=Array.from(Sn.entries()).sort((ut,Ht)=>ut[0].localeCompare(Ht[0]));qt.length>0&&(kn.push([{content:"KIT & MACCHINE (Assemblati)",colSpan:3,styles:{fontStyle:"bold",fillColor:[220,220,240],textColor:[0,0,50],halign:"left",fontSize:10}}]),qt.forEach(([ut,Ht])=>{let ur=ut;const Ir=yn.has(ut);kn.push([{content:ur,styles:{fontStyle:"bold",textColor:[0,0,0]},_warning:Ir},Ht.totalQty,""]),Array.from(Ht.children.entries()).sort((dr,ei)=>dr[0].localeCompare(ei[0])).forEach(([dr,ei])=>{let Js=`  - ${dr}`;const Ur=yn.has(dr);ei.prepNote&&(Js+=` [${ei.prepNote.toUpperCase()}]`),kn.push([{content:Js,styles:{fontSize:10,textColor:[80,80,80],fontStyle:"normal"},_warning:Ur},ei.qty,""])})}));const _r=Array.from(yn.entries()).sort((ut,Ht)=>ut[0].localeCompare(Ht[0]));_r.length>0&&(qt.length>0&&kn.push([{content:"",colSpan:3,styles:{cellPadding:1,fillColor:[255,255,255]}}]),kn.push([{content:"MATERIALE SFUSO (Totali Unificati)",colSpan:3,styles:{fontStyle:"bold",fillColor:[230,230,230],textColor:[50,50,50],halign:"left",fontSize:10}}]),_r.forEach(([ut,Ht])=>{kn.push([ut,Ht,""])})),Tx($,{head:[["Materiale","Qta","Check"]],body:kn,startY:32,margin:{top:32},theme:"grid",headStyles:{fillColor:[245,245,245],textColor:[0,0,0],lineWidth:.1,lineColor:[200,200,200]},styles:{fontSize:11,cellPadding:3,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:40,halign:"center",fontStyle:"bold"},2:{cellWidth:20}},didDrawPage:ut=>{be(Gt.name,$.internal.getCurrentPageInfo().pageNumber)},didDrawCell:ut=>{if(ut.column.index===0&&ut.cell.raw&&ut.cell.raw._warning){const Ht=ut.doc,ur=Ht.getFont().fontName,Ir=Ht.getFont().fontStyle;Ht.setFont("helvetica","bold"),Ht.setFontSize(9),Ht.setTextColor(0,0,0);const Zr="!!!ALTRI IN SFUSI!!!",dr=Ht.getTextWidth(Zr),ei=ut.cell.x+ut.cell.width-dr-2,Js=ut.cell.y+ut.cell.height/2+1;Ht.text(Zr,ei,Js),Ht.setFont(ur,Ir)}}})});const We=new Date,Qe=String(We.getDate()).padStart(2,"0"),Rt=String(We.getMonth()+1).padStart(2,"0"),$t=(Fe.eventName||"evento").replace(/[^a-z0-9\s-_]/gi,"").trim().replace(/\s+/g,"_");$.save(`TOTALI_${$t}_${Qe}-${Rt}-${We.getFullYear()}.pdf`)},Wa=()=>{if(!Fe||!Fe.zones)return;let $="data:text/csv;charset=utf-8,";$+=`Zona,Sezione,Tipo,Nome,Quantit,Totale Zona,Note,Contenuto Kit/Accessori
`,Fe.zones.forEach(kn=>{const qt=Qo(kn);kn.sections.forEach(_r=>{_r.components.forEach(ut=>{const Ht=ut.notes?ut.notes.replace(/"/g,'""'):"",ur=ut.type==="kit"?"KIT":"Singolo",Ir=qt.get(ut.name)||0;$+=`"${kn.name}","${_r.name}",${ur},"${ut.name}",${ut.quantity},${Ir},"${Ht}",""
`,ut.contents?.forEach(Zr=>{const dr=qt.get(Zr.name)||0;$+=`"${kn.name}","${_r.name}",${ut.type==="kit"?"Parte Kit":"Accessorio"},"${Zr.name}",${Zr.quantity*ut.quantity},${dr},"","Appartiene a: ${ut.name}"
`})})})});const be=encodeURI($),We=document.createElement("a");We.setAttribute("href",be);const Qe=new Date,Rt=String(Qe.getDate()).padStart(2,"0"),$t=String(Qe.getMonth()+1).padStart(2,"0"),Gt=Qe.getFullYear(),et=String(Qe.getHours()).padStart(2,"0"),Sn=String(Qe.getMinutes()).padStart(2,"0"),yn=(Fe.eventName||"evento").replace(/[^a-z0-9\s-_]/gi,"").trim().replace(/\s+/g,"_");We.setAttribute("download",`${yn}_${Gt}-${$t}-${Rt}_${et}-${Sn}.csv`),document.body.appendChild(We),We.click(),document.body.removeChild(We)};return a==="list"?y.jsxs("div",{className:"h-full flex flex-col p-6 bg-slate-950",children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Liste Eventi"}),y.jsx("p",{className:"text-slate-400",children:"Gestisci le tue liste di materiali per eventi"})]}),y.jsxs("div",{className:"flex gap-4 mb-6",children:[y.jsxs("div",{className:"relative flex-1 max-w-md",children:[y.jsx(Zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:16}),y.jsx("input",{placeholder:"Cerca evento...",className:"w-full bg-slate-900 border border-slate-700 text-white pl-10 pr-4 py-2 rounded-lg outline-none focus:border-emerald-500",value:u,onChange:$=>d($.target.value)})]}),y.jsxs("button",{onClick:()=>{Hn(),c("edit")},className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 font-medium transition-colors",children:[y.jsx(Qi,{size:16})," Nuovo Evento"]})]}),y.jsx("div",{className:"flex flex-col gap-2 overflow-y-auto",children:Mn.map($=>{const We=($.zones||($.sections?[{sections:$.sections}]:[])).reduce((Qe,Rt)=>Qe+(Rt.sections?.reduce(($t,Gt)=>$t+Gt.components.length,0)||0),0);return y.jsxs("div",{onClick:()=>zt($.id),className:"bg-slate-800 border border-slate-700 rounded-lg p-3 hover:border-slate-600 transition-colors cursor-pointer group relative flex flex-col md:flex-row items-center gap-4",children:[y.jsx("div",{className:"flex-1 min-w-0",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded bg-emerald-900/20 flex items-center justify-center text-emerald-500 shrink-0 font-bold",children:$.eventName.substring(0,1).toUpperCase()}),y.jsxs("div",{className:"min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h3",{className:"font-bold text-base text-white group-hover:text-emerald-400 transition-colors truncate",children:$.eventName}),y.jsx("button",{onClick:Qe=>{Qe.stopPropagation(),ce($.id)},className:`p-1 rounded-full hover:bg-slate-700 transition-colors ${$.reminders?.some(Qe=>!Qe.isCompleted)?"text-yellow-400":"text-slate-600 hover:text-slate-300"}`,title:"Note & Promemoria",children:y.jsx(hl,{size:16,className:$.reminders?.some(Qe=>!Qe.isCompleted)?"fill-current":""})}),$.version&&y.jsxs("span",{className:"text-[10px] bg-slate-700 text-slate-300 px-1.5 py-0.5 rounded font-mono",children:["v",$.version]})]}),y.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400 mt-0.5",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(ym,{size:12})," ",y.jsx("span",{className:"truncate max-w-[150px]",children:$.location||"Nessuna location"})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(Ud,{size:12})," ",y.jsx("span",{children:$.eventDate?new Date($.eventDate).toLocaleDateString():"Nessuna data"})]})]})]})]})}),y.jsxs("div",{className:"hidden sm:flex items-center gap-6 text-sm text-slate-500",children:[y.jsxs("div",{className:"flex flex-col items-end",children:[y.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider text-slate-600",children:"Elementi"}),y.jsx("span",{className:"text-slate-300 font-medium",children:We})]}),y.jsxs("div",{className:"flex flex-col items-end w-24",children:[y.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider text-slate-600",children:"Creato il"}),y.jsx("span",{className:"text-xs",children:new Date($.creationDate||Date.now()).toLocaleDateString()})]})]}),y.jsxs("div",{className:"flex gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity shrink-0 border-l border-slate-700 pl-4 ml-2",children:[y.jsxs("button",{onClick:Qe=>ci($,Qe),className:"p-2 bg-slate-700 hover:bg-blue-600 text-slate-300 hover:text-white rounded transition-colors",title:"Duplica Evento",children:[" ",y.jsx(g5,{size:16})," "]}),y.jsxs("button",{onClick:Qe=>Vr($,Qe),className:"p-2 bg-slate-700 hover:bg-emerald-600 text-slate-300 hover:text-white rounded transition-colors",title:"Modifica Dettagli",children:[" ",y.jsx(Bu,{size:16})," "]}),y.jsxs("button",{onClick:Qe=>{Qe.stopPropagation(),X({id:$.id,name:$.eventName})},className:"p-2 bg-slate-700 hover:bg-rose-600 text-slate-300 hover:text-white rounded transition-colors",title:"Elimina Evento",children:[" ",y.jsx(Oa,{size:16})," "]})]})]},$.id)})}),y.jsx($d,{isOpen:!!D,onClose:()=>X(null),onConfirm:ts,title:"Elimina Evento",message:`Eliminare "${D?.name}"?`}),y.jsx($d,{isOpen:!!ue,onClose:()=>ge(null),onConfirm:Cr,title:"Duplica Evento",message:`Vuoi creare una copia di "${ue?.eventName}"? Verranno copiati tutti i materiali e le zone.`}),y.jsx(ja,{isOpen:vn,onClose:()=>Ii(!1),title:rn.id?"Modifica Evento":"Nuovo Evento",size:"lg",children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"col-span-full",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Nome Evento"}),y.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-emerald-500 outline-none",placeholder:"Es. Concerto Estivo 2024",value:rn.eventName||"",onChange:$=>br(be=>({...be,eventName:$.target.value}))})]}),y.jsxs("div",{className:"col-span-full",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Location / Luogo"}),y.jsxs("div",{className:"relative",children:[y.jsx(ym,{className:"absolute left-3 top-2.5 text-slate-500",size:18}),y.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-10 pr-3 py-2.5 text-white focus:border-emerald-500 outline-none",placeholder:"Es. Teatro Comunale, Roma",value:rn.location||"",onChange:$=>br(be=>({...be,location:$.target.value}))})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Data Inizio Allestimento"}),y.jsxs("div",{className:"relative",children:[y.jsx(Ud,{className:"absolute left-3 top-2.5 text-slate-500 z-10 pointer-events-none",size:18}),y.jsx(Rd,{portalId:"root",selected:rn.setupDate?new Date(rn.setupDate):null,onChange:$=>br(be=>({...be,setupDate:$?$.toISOString():""})),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-10 pr-3 py-2.5 text-white focus:border-emerald-500 outline-none",placeholderText:"Seleziona data..."})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Data Inizio Evento"}),y.jsxs("div",{className:"relative",children:[y.jsx(Ud,{className:"absolute left-3 top-2.5 text-slate-500 z-10 pointer-events-none",size:18}),y.jsx(Rd,{portalId:"root",selected:rn.eventDate?new Date(rn.eventDate):null,onChange:$=>br(be=>({...be,eventDate:$?$.toISOString():""})),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-10 pr-3 py-2.5 text-white focus:border-emerald-500 outline-none",placeholderText:"Seleziona data..."})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-1",children:"Data Creazione Lista"}),y.jsx(Rd,{portalId:"root",selected:rn.creationDate?new Date(rn.creationDate):new Date,onChange:$=>br(be=>({...be,creationDate:$?$.toISOString():""})),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-900 border border-slate-800 rounded-lg px-3 py-2 text-slate-400 text-sm focus:border-slate-600 outline-none"})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 border-t border-slate-800 pt-4 mt-2",children:[y.jsx("button",{onClick:()=>Ii(!1),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Annulla"}),y.jsx("button",{onClick:Vt,className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium shadow-lg shadow-emerald-900/20 transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!rn.eventName,children:"Salva Evento"})]})]})}),y.jsx(x5,{isOpen:!!ne,onClose:()=>ce(null),reminders:ps?.reminders||[],onUpdate:Xs,title:ps?.eventName||"Note Evento"})]}):y.jsxs("div",{className:"h-full flex flex-col p-4 overflow-hidden",children:[y.jsxs("div",{className:"flex-1 flex flex-col gap-4 bg-slate-900 border border-slate-800 rounded-xl overflow-hidden shadow-2xl relative",children:[y.jsxs("div",{className:"p-2 bg-slate-950 border-b border-slate-800 flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[y.jsxs("button",{onClick:Jt,className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-white px-3 py-2 rounded-lg transition-all border border-slate-700 hover:border-slate-500 group shadow-lg",title:"Torna alla lista eventi",children:[y.jsx(WP,{size:18,className:"text-emerald-500 group-hover:text-emerald-400"}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Eventi"})]}),y.jsxs("div",{className:"flex flex-col flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-white font-bold text-lg",children:Fe?.eventName}),y.jsx("button",{onClick:()=>Fe&&ce(Fe.id),className:`p-1 rounded-full hover:bg-slate-800 transition-colors ${Fe?.reminders?.some($=>!$.isCompleted)?"text-yellow-400":"text-slate-600 hover:text-slate-300"}`,title:"Note & Promemoria",children:y.jsx(hl,{size:16,className:Fe?.reminders?.some($=>!$.isCompleted)?"fill-current":""})}),y.jsx("button",{onClick:()=>Vr(Fe),className:"text-slate-500 hover:text-emerald-500",children:y.jsx(Bu,{size:14})}),Fe?.version&&y.jsxs("span",{className:"text-xs bg-slate-800 text-emerald-400 px-2 py-0.5 rounded font-bold border border-emerald-900/50",children:["v",Fe.version]})]}),y.jsxs("div",{className:"flex gap-3 text-xs text-slate-500",children:[y.jsx("span",{children:Fe?.location}),y.jsx("span",{children:""}),y.jsx("span",{children:Fe?.eventDate?new Date(Fe.eventDate).toLocaleDateString():"Nessuna data"})]})]})]}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsxs("button",{onClick:Di,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 font-bold text-sm shadow-lg shadow-blue-900/20 transition-all hover:scale-105 active:scale-95",children:[y.jsx(MP,{size:18}),"Lista Completata"]})})]}),Fe&&Bn.length>0&&y.jsxs("div",{className:"flex items-center gap-1 px-4 pt-4 border-b border-slate-800 bg-slate-950/50 overflow-x-auto",children:[Bn.map($=>y.jsxs("div",{onClick:()=>w($.id),className:`px-4 py-2 rounded-t-lg text-sm font-bold transition-colors cursor-pointer flex items-center gap-2 border-t border-x ${f===$.id?"bg-slate-900 text-white border-slate-800":"bg-slate-950 text-slate-500 border-transparent hover:text-slate-300"}`,children:[$.name,f===$.id&&y.jsxs("div",{className:"flex items-center gap-1 ml-2 opacity-50 hover:opacity-100",children:[y.jsx(Bu,{size:12,onClick:be=>{be.stopPropagation(),cr("zone","rename",$.id,$.name)},className:"hover:text-emerald-400"}),y.jsx(Jg,{size:12,onClick:be=>{be.stopPropagation(),at({isOpen:!0,zoneId:$.id,note:$.notes||""})},className:"hover:text-yellow-400"}),Bn.length>1&&y.jsx(Oa,{size:12,className:"hover:text-rose-500",onClick:be=>{be.stopPropagation(),de($.id)}})]})]},$.id)),y.jsx("button",{onClick:()=>cr("zone","create"),className:"ml-2 p-1 bg-slate-800 hover:bg-slate-700 rounded text-slate-400",children:y.jsx(Qi,{size:16})})]}),kt&&kt.notes&&y.jsxs("div",{className:"bg-yellow-900/10 border-b border-slate-800 px-4 py-2 text-sm text-yellow-200/80 italic flex items-start gap-2",children:[y.jsx(Jg,{size:14,className:"mt-1 shrink-0 text-yellow-500"}),kt.notes]}),kt&&y.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border-b border-slate-700 bg-slate-900 overflow-x-auto",children:[sn.map($=>y.jsxs("button",{onClick:()=>g($.id),className:`px-4 py-2 rounded-t-lg text-sm font-medium transition-colors whitespace-nowrap flex items-center gap-2 group ${x===$.id?"bg-slate-800 text-white border-t border-x border-slate-700":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[$.name,y.jsx("span",{className:"bg-slate-950 px-1.5 py-0.5 rounded-full text-xs text-slate-500",children:$.components.length}),x===$.id&&y.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[y.jsx(Bu,{size:12,onClick:be=>{be.stopPropagation(),cr("section","rename",$.id,$.name)},className:"hover:text-emerald-400"}),y.jsx(Oa,{size:12,onClick:be=>{be.stopPropagation(),re($.id)},className:"hover:text-rose-500"})]})]},$.id)),y.jsx("button",{onClick:()=>cr("section","create"),className:"p-2 text-emerald-500 hover:bg-emerald-900/30 rounded-lg hover:text-emerald-400 transition-colors",children:y.jsx(Qi,{size:18})})]}),ft&&y.jsx("div",{className:"px-3 py-2 bg-slate-900 border-b border-slate-800 flex flex-col sm:flex-row items-center gap-3",children:y.jsxs("div",{className:"flex gap-2 w-full items-center",children:[y.jsxs("div",{className:"relative flex-1 min-w-[200px]",onMouseEnter:()=>vt(!0),onMouseLeave:()=>Kt(!0),children:[y.jsx(Zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:14}),y.jsx("input",{ref:P,placeholder:`Cerca materiale per ${ft.name}...`,className:"w-full bg-slate-950 border border-slate-700 text-white pl-9 pr-3 py-2 rounded-lg text-sm outline-none focus:border-emerald-500",value:A,onChange:$=>R($.target.value),onFocus:()=>vt(!1),onBlur:()=>Kt(!1)}),A&&mn&&y.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-900 border border-slate-700 rounded-lg shadow-xl z-50 max-h-64 overflow-y-auto",children:[Nt.length>0&&y.jsxs("div",{className:"px-4 py-1.5 bg-slate-800 text-[10px] font-bold text-purple-400 uppercase tracking-wider sticky top-0 z-10 border-b border-slate-700",children:["Kit & Set (",Nt.length,")"]}),Nt.map($=>{const be=kt?.sections.reduce((We,Qe)=>We+Qe.components.filter(Rt=>Rt.type==="kit"&&Rt.referenceId===$.id).reduce((Rt,$t)=>Rt+$t.quantity,0),0)||0;return y.jsxs("button",{onClick:()=>Is($,"kit"),className:"w-full text-left px-4 py-3 hover:bg-slate-800 border-b border-slate-800 flex justify-between items-center group",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"text-sm text-white flex items-center gap-2",children:[y.jsx(Of,{size:14,className:"text-purple-400"}),$.name,be>0&&y.jsxs("span",{className:"text-[10px] bg-purple-950 text-purple-400 border border-purple-900 px-1.5 rounded font-bold",children:["x",be]})]}),y.jsxs("div",{className:"text-xs text-slate-500 pl-6",children:[$.items.length," componenti"]})]}),y.jsx(Qi,{size:16,className:"text-slate-600 group-hover:text-emerald-500 transition-colors"})]},$.id)}),Vn.length>0&&y.jsx("div",{className:"px-4 py-1.5 bg-slate-800 text-[10px] font-bold text-slate-400 uppercase tracking-wider sticky top-0 z-10 border-b border-slate-700",children:"Materiale Singolo"}),Vn.slice(0,50).map($=>{const be=kt?.sections.reduce((We,Qe)=>We+Qe.components.filter(Rt=>Rt.type==="item"&&Rt.referenceId===$.id).reduce((Rt,$t)=>Rt+$t.quantity,0),0)||0;return y.jsxs("button",{onClick:()=>Is($,"item"),className:"w-full text-left px-4 py-3 hover:bg-slate-800 border-b border-slate-800 flex justify-between items-center group",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"text-sm text-white flex items-center gap-2",children:[$.name,be>0&&y.jsxs("span",{className:"text-[10px] bg-emerald-950 text-emerald-400 border border-emerald-900 px-1.5 rounded font-bold",children:["x",be]})]}),y.jsx("div",{className:"text-xs text-slate-500",children:$.category})]}),y.jsx(Qi,{size:16,className:"text-slate-600 group-hover:text-emerald-500 transition-colors"})]},$.id)}),Vn.length===0&&Nt.length===0&&y.jsxs("button",{onClick:()=>ct(!0),className:"w-full text-left px-4 py-3 hover:bg-slate-800 text-emerald-500 flex gap-2",children:[y.jsx(Qi,{}),' Crea "',A,'"']})]})]}),y.jsxs("select",{value:L,onChange:$=>V($.target.value),className:"bg-slate-950 border border-slate-700 text-white px-2 py-2 rounded-lg text-sm w-32",children:[y.jsx("option",{value:"All",children:"Tutte"}),Object.values(pe).map($=>y.jsx("option",{value:$,children:$},$))]}),y.jsx("button",{onClick:()=>ct(!0),className:"bg-emerald-600 hover:bg-emerald-500 text-white p-2 rounded-lg",children:y.jsx(Qi,{size:16})}),(Z.size>0||Q.length>0)&&y.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-slate-700 animate-in fade-in",children:[y.jsxs("div",{className:"flex flex-col gap-0.5 mr-2",children:[y.jsx("button",{onClick:kr,className:"text-[10px] uppercase font-bold text-slate-500 hover:text-white leading-none",children:"Tutti"}),y.jsx("button",{onClick:er,className:"text-[10px] uppercase font-bold text-slate-500 hover:text-white leading-none",children:"Nessuno"})]}),Z.size>0&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:co,className:"p-2 bg-slate-800 hover:bg-slate-700 text-blue-400 rounded",children:y.jsx(g5,{size:16})}),y.jsx("button",{onClick:Ti,className:"p-2 bg-slate-800 hover:bg-slate-700 text-amber-400 rounded",children:y.jsx(GP,{size:16})}),y.jsx("button",{onClick:ui,className:"p-2 bg-slate-800 hover:bg-rose-900/30 text-rose-400 rounded",children:y.jsx(Oa,{size:16})})]}),Q.length>0&&y.jsxs("div",{className:"flex items-center gap-1 ml-1 bg-slate-800 rounded p-0.5",children:[y.jsxs("button",{onClick:fs,className:`px-3 py-1.5 rounded text-xs font-bold flex gap-1 ${he?"bg-orange-600":"bg-emerald-600"} text-white`,children:[he&&y.jsx(su,{size:14}),y.jsx(BP,{size:14})," ",Q.length]}),y.jsx("button",{onClick:()=>{se([]),we(!1)},className:"p-1.5 text-slate-400 hover:text-rose-400",children:y.jsx(su,{size:14})})]})]})]})}),y.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-950/30",children:kt?ft?ft.components.length===0?y.jsx("div",{className:"text-center py-20 text-slate-600",children:"Sezione vuota"}):y.jsx("div",{className:"space-y-2 p-4",children:ft.components.map(($,be)=>{const We=Z.has($.uniqueId),Qe=Le===$.uniqueId,Rt=$.type==="item"?!r.some(et=>et.id===$.referenceId):!e.some(et=>et.id===$.referenceId),$t=$.type==="kit"?e.find(et=>et.id===$.referenceId):null,Gt=$t?.reminders&&$t.reminders.length>0;return console.log(`Checking item ${$.name} (Ref: ${$.referenceId}): isMissing=${Rt}`),y.jsxs("div",{draggable:!0,onDragStart:et=>ga(et,ft.id,be,$.uniqueId),onDragEnter:et=>uo(et,ft.id,be),onDragEnd:Jr,onDragOver:et=>et.preventDefault(),className:`group relative p-2 rounded-lg border transition-all ${Qe?"border-amber-500 bg-amber-900/10 ring-1 ring-amber-500":We?"bg-blue-900/20 border-blue-500/50":$.type==="kit"?"bg-purple-900/10 border-purple-900/30 hover:border-purple-500/30":"bg-slate-800 border-slate-700 hover:border-slate-600"}`,children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[y.jsx("button",{onClick:et=>{et.stopPropagation(),Xn($.uniqueId)},className:`text-slate-500 p-1 ${We?"text-blue-500":""}`,children:We?y.jsx(da,{size:18}):y.jsx(ha,{size:18})}),$.type==="kit"?y.jsx(Of,{size:18,className:"text-purple-400"}):y.jsx(RP,{size:18,className:"text-slate-400"}),y.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Rt&&y.jsx("button",{onClick:et=>{et.stopPropagation(),alert("Questo oggetto  stato cancellato dall'inventario, devi sostituirlo con un oggetto esistente.")},title:"Oggetto cancellato dall'inventario",className:"text-rose-500 hover:text-rose-400 shrink-0",children:y.jsx(Fu,{size:16})}),y.jsxs("div",{className:"min-w-0",children:[y.jsxs("div",{className:"font-medium text-slate-200 text-sm truncate flex items-center gap-2",children:[$.name,$.type==="kit"&&y.jsx("span",{className:"text-[10px] bg-purple-900 text-purple-200 px-1 rounded align-middle",children:"KIT"}),Gt&&y.jsx("button",{onClick:et=>{et.stopPropagation(),O(W===$.uniqueId?null:$.uniqueId)},className:`p-0.5 rounded-full ${W===$.uniqueId?"bg-yellow-500 text-black":"text-yellow-500 hover:bg-yellow-900/30"} transition-colors`,title:"Ci sono cose da ricordare per questo kit!",children:y.jsx(hl,{size:12,className:W===$.uniqueId?"fill-current":""})})]}),y.jsx("div",{className:"text-xs text-slate-500",children:$.category})]})]})]}),y.jsxs("div",{className:"flex items-center gap-1 shrink-0",onClick:et=>et.stopPropagation(),children:[!U&&y.jsx("div",{className:"p-1.5 cursor-grab active:cursor-grabbing text-slate-600 hover:text-slate-300 mr-1",title:"Trascina per spostare",children:y.jsx(zP,{size:16})}),y.jsx("button",{onClick:()=>Ve($.uniqueId),className:`p-1.5 rounded ${Qe?"text-amber-500 bg-amber-900/30":"text-slate-500 hover:bg-slate-700 hover:text-white"}`,title:"Sostituisci Oggetto",children:y.jsx(m5,{size:14})}),y.jsx("button",{onClick:()=>{const et=new Set(C);et.has($.uniqueId)?et.delete($.uniqueId):et.add($.uniqueId),j(et)},className:`p-1.5 rounded ${$.notes?"text-yellow-400":"text-slate-500 hover:text-white"}`,title:"Aggiungi/Modifica Nota",children:y.jsx(Jg,{size:14})}),y.jsx("input",{ref:et=>{Dt.current[$.uniqueId]=et},type:"number",min:"1",className:"w-12 h-7 bg-slate-900 border border-slate-700 rounded px-1 text-center text-white text-sm focus:border-blue-500 outline-none",value:$.quantity,onChange:et=>Po($.uniqueId,Number(et.target.value)),onKeyDown:et=>{et.key==="Enter"&&(P.current?.focus(),P.current?.select())}}),y.jsx("button",{onClick:()=>Un($.uniqueId),className:"p-1.5 text-slate-500 hover:text-rose-500 opacity-0 group-hover:opacity-100",children:y.jsx(Oa,{size:14})})]})]}),W===$.uniqueId&&Gt&&y.jsxs("div",{className:"mt-2 mx-2 bg-yellow-900/20 border border-yellow-700/30 rounded p-3 animate-in slide-in-from-top-2 fade-in duration-200",children:[y.jsxs("div",{className:"text-[10px] font-bold text-yellow-500 uppercase tracking-wider mb-2 flex items-center gap-2",children:[y.jsx(hl,{size:12,className:"fill-current"})," Cose da ricordare per questo Kit:"]}),y.jsx("ul",{className:"space-y-1",children:$t?.reminders?.map((et,Sn)=>y.jsxs("li",{className:"text-xs text-yellow-100 flex items-start gap-2",children:[y.jsx("span",{className:"mt-1 w-1 h-1 rounded-full bg-yellow-500 shrink-0"}),et]},Sn))})]}),(C.has($.uniqueId)||$.notes)&&y.jsx("div",{className:"mt-1.5 pl-8 pr-16",children:y.jsx("input",{type:"text",placeholder:"Aggiungi una nota...",className:"w-full bg-slate-900/50 border border-slate-700/50 rounded px-2 py-1 text-xs text-slate-300",value:$.notes||"",onChange:et=>Cl($.uniqueId,et.target.value)})}),$.contents&&$.contents.length>0&&y.jsx("div",{className:"mt-2 ml-7 pl-3 border-l-2 border-slate-700 space-y-0.5",children:$.contents.map((et,Sn)=>{const yn=et.itemId?!r.some(kn=>kn.id===et.itemId):!1;return y.jsxs("div",{className:"text-[10px] text-slate-400 flex justify-between w-full max-w-md leading-tight group/acc",children:[y.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[yn&&y.jsx("button",{onClick:kn=>{kn.stopPropagation(),alert("Questo accessorio  stato cancellato dall'inventario.")},className:"text-rose-500 hover:text-rose-400 shrink-0",title:"Accessorio eliminato dall'inventario",children:y.jsx(Fu,{size:10})}),y.jsx("span",{className:`${yn?"text-rose-900 line-through decoration-rose-500/50":""} truncate`,children:et.name})]}),y.jsxs("span",{className:"shrink-0 pl-2",children:["x",et.quantity*$.quantity]})]},Sn)})})]},$.uniqueId)})}):y.jsx("div",{className:"text-center py-20 text-slate-500",children:"Seleziona una Sezione"}):y.jsx("div",{className:"text-center py-20 text-slate-500",children:"Crea una Zona per iniziare"})}),Fe&&y.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-800 flex flex-col md:flex-row gap-4 justify-end items-center z-10",children:y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:Wa,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded text-sm font-medium",children:[y.jsx(Qg,{size:16})," CSV"]}),y.jsxs("button",{onClick:ho,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded shadow-lg shadow-blue-900/20 font-medium",children:[y.jsx(Qg,{size:16})," PDF TOTALI"]}),y.jsxs("button",{onClick:xr,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded shadow-lg shadow-emerald-900/20 font-medium",children:[y.jsx(Qg,{size:16})," PDF"]})]})})]}),y.jsx(ja,{isOpen:rt.isOpen,onClose:()=>mt($=>({...$,isOpen:!1})),title:rt.type==="create"?`Nuova ${rt.target==="zone"?"Zona":"Sezione"}`:`Rinomina ${rt.target==="zone"?"Zona":"Sezione"}`,children:y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white",value:rt.name,onChange:$=>mt(be=>({...be,name:$.target.value})),autoFocus:!0,onKeyDown:$=>$.key==="Enter"&&Qs()}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{onClick:()=>mt($=>({...$,isOpen:!1})),className:"px-4 py-2 text-slate-400",children:"Annulla"}),y.jsx("button",{onClick:Qs,className:"px-6 py-2 bg-blue-600 text-white rounded",children:"Salva"})]})]})}),y.jsx(ja,{isOpen:ie.isOpen,onClose:()=>at($=>({...$,isOpen:!1})),title:"Nota Zona",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white h-32",value:ie.note,onChange:$=>at(be=>({...be,note:$.target.value})),autoFocus:!0,placeholder:"Inserisci una nota per questa zona..."}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{onClick:()=>at($=>({...$,isOpen:!1})),className:"px-4 py-2 text-slate-400",children:"Annulla"}),y.jsx("button",{onClick:cn,className:"px-6 py-2 bg-blue-600 text-white rounded",children:"Salva"})]})]})}),y.jsx(x5,{isOpen:!!ne,onClose:()=>ce(null),reminders:ps?.reminders||[],onUpdate:Xs,title:ps?.eventName||"Note Evento"}),y.jsx($d,{isOpen:!!me,onClose:()=>re(null),onConfirm:ns,title:"Elimina Sezione",message:"Confermi l'eliminazione della sezione?"}),y.jsx($d,{isOpen:!!ye,onClose:()=>de(null),onConfirm:Cs,title:"Elimina Zona",message:"Confermi l'eliminazione della ZONA e di tutto il suo contenuto?"}),y.jsx(Sy,{isOpen:Xe,onClose:()=>ct(!1),onSave:Pi,title:"Nuovo Materiale",inventory:r,onCreateAccessory:Ko,initialName:A}),y.jsx(ja,{isOpen:vn,onClose:()=>Ii(!1),title:rn.id?"Modifica Evento":"Nuovo Evento",size:"lg",children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"col-span-full",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Nome Evento"}),y.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-emerald-500 outline-none",placeholder:"Es. Concerto Estivo 2024",value:rn.eventName||"",onChange:$=>br(be=>({...be,eventName:$.target.value}))})]}),y.jsxs("div",{className:"col-span-full",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Location / Luogo"}),y.jsxs("div",{className:"relative",children:[y.jsx(ym,{className:"absolute left-3 top-2.5 text-slate-500",size:18}),y.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-10 pr-3 py-2.5 text-white focus:border-emerald-500 outline-none",placeholder:"Es. Teatro Comunale, Roma",value:rn.location||"",onChange:$=>br(be=>({...be,location:$.target.value}))})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Data Inizio Allestimento"}),y.jsxs("div",{className:"relative",children:[y.jsx(Ud,{className:"absolute left-3 top-2.5 text-slate-500 z-10 pointer-events-none",size:18}),y.jsx(Rd,{portalId:"root",selected:rn.setupDate?new Date(rn.setupDate):null,onChange:$=>br(be=>({...be,setupDate:$?$.toISOString():""})),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-10 pr-3 py-2.5 text-white focus:border-emerald-500 outline-none",placeholderText:"Seleziona data..."})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Data Inizio Evento"}),y.jsxs("div",{className:"relative",children:[y.jsx(Ud,{className:"absolute left-3 top-2.5 text-slate-500 z-10 pointer-events-none",size:18}),y.jsx(Rd,{portalId:"root",selected:rn.eventDate?new Date(rn.eventDate):null,onChange:$=>br(be=>({...be,eventDate:$?$.toISOString():""})),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-10 pr-3 py-2.5 text-white focus:border-emerald-500 outline-none",placeholderText:"Seleziona data..."})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-1",children:"Data Creazione Lista"}),y.jsx(Rd,{portalId:"root",selected:rn.creationDate?new Date(rn.creationDate):new Date,onChange:$=>br(be=>({...be,creationDate:$?$.toISOString():""})),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-900 border border-slate-800 rounded-lg px-3 py-2 text-slate-400 text-sm focus:border-slate-600 outline-none"})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 border-t border-slate-800 pt-4 mt-2",children:[y.jsx("button",{onClick:()=>Ii(!1),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Annulla"}),y.jsx("button",{onClick:Vt,className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium shadow-lg shadow-emerald-900/20 transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!rn.eventName,children:"Salva Evento"})]})]})}),y.jsx(ja,{isOpen:Ee,onClose:()=>Te(!1),title:"Incolla di nuovo",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Vuoi incollare di nuovo?"}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{onClick:()=>Te(!1),className:"px-4 py-2 text-slate-400",children:"Annulla"}),y.jsx("button",{onClick:()=>{Ar(),Te(!1)},className:"bg-emerald-600 text-white px-4 py-2 rounded",children:"Si"})]})]})}),Le&&y.jsxs("div",{className:"absolute inset-x-0 top-0 z-20 bg-amber-900/95 border-b border-amber-500/50 p-4 shadow-xl text-center text-amber-100 font-bold",children:[y.jsx(m5,{className:"inline mr-2"})," Modalit Sostituzione ",y.jsx("button",{onClick:()=>Ve(null),className:"ml-4 underline text-sm font-normal",children:"Annulla"})]})]})},dj=({inventory:r,kits:e,lists:t,setActiveListId:n,onNavigateToChecklist:i})=>{const s=Se.useRef(null),a=r.length,c=e.length,u=t.length,d=t.reduce((g,A)=>{const R=(A.sections||[]).reduce((L,V)=>L+(V.components?.length||0),0),P=(A.zones||[]).reduce((L,V)=>L+(V.sections||[]).reduce((U,z)=>U+(z.components?.length||0),0),0);return g+R+P},0),f=()=>{const g={type:"cuepack_catalog",exportDate:new Date().toISOString(),inventory:r,kits:e},A=JSON.stringify(g,null,2),R=new Blob([A],{type:"application/json"}),P=URL.createObjectURL(R),L=document.createElement("a");L.href=P;const V=new Date,U=String(V.getDate()).padStart(2,"0"),z=String(V.getMonth()+1).padStart(2,"0"),ne=V.getFullYear(),ce=String(V.getHours()).padStart(2,"0"),W=String(V.getMinutes()).padStart(2,"0");L.download=`CuePack_Catalogo_${ne}-${z}-${U}_${ce}-${W}.json`,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(P)},w=()=>{s.current&&(s.current.value="",s.current.click())},x=g=>{const A=g.target.files?.[0];if(!A)return;const R=new FileReader;R.onload=async P=>{try{const L=P.target?.result,V=JSON.parse(L);if(V.inventory&&Array.isArray(V.inventory)){const U=new Map;r.forEach(ne=>U.set(ne.name.trim().toLowerCase(),ne));const z=[];V.inventory.forEach(ne=>{if(!ne.name)return;const ce=ne.name.trim().toLowerCase(),W=U.get(ce);W?z.push({...ne,id:W.id}):z.push({...ne,id:ne.id||crypto.randomUUID()})}),z.length>0&&await Ym(Ra,z)}if(V.kits&&Array.isArray(V.kits)){const U=new Map;e.forEach(ne=>U.set(ne.name.trim().toLowerCase(),ne));const z=[];V.kits.forEach(ne=>{if(!ne.name)return;const ce=ne.name.trim().toLowerCase(),W=U.get(ce);W?z.push({...ne,id:W.id}):z.push({...ne,id:ne.id||crypto.randomUUID()})}),z.length>0&&await Ym(Jd,z)}alert(`Importazione completata!
Database aggiornato con successo.`)}catch(L){console.error("Import error:",L),alert("Errore durante la lettura del file. Verifica che sia un JSON valido (formato CuePack Catalog).")}},R.readAsText(A)};return y.jsx("div",{className:"h-full p-6 overflow-y-auto custom-scrollbar",children:y.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-blue-600 rounded-xl shadow-lg shadow-blue-900/20",children:y.jsx(y5,{size:32,className:"text-white"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),y.jsx("p",{className:"text-slate-400",children:"Panoramica e gestione workspace"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[y.jsx(lm,{icon:VP,label:"Articoli in Inventario",value:a,color:"bg-slate-800",iconColor:"text-blue-500"}),y.jsx(lm,{icon:Of,label:"Kit Configurati",value:c,color:"bg-slate-800",iconColor:"text-purple-500"}),y.jsx(lm,{icon:v5,label:"Eventi Attivi",value:u,color:"bg-slate-800",iconColor:"text-emerald-500"}),y.jsx(lm,{icon:y5,label:"Totale Materiale Impiegato",value:d,color:"bg-slate-800",iconColor:"text-amber-500"})]}),y.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[y.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[y.jsx(LP,{className:"text-indigo-400"}),"Gestione Catalogo (Inventario & Kit)"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-6 flex flex-col items-center text-center hover:border-indigo-500/50 transition-colors group",children:[y.jsx("div",{className:"w-16 h-16 bg-indigo-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx(UP,{size:32,className:"text-indigo-500"})}),y.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-2",children:"Esporta Catalogo"}),y.jsx("p",{className:"text-sm text-slate-500 mb-6 flex-1",children:"Salva inventario e kit in un file backup."}),y.jsx("button",{onClick:f,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors",children:"Salva Catalogo"})]}),y.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-6 flex flex-col items-center text-center hover:border-indigo-500/50 transition-colors group",children:[y.jsx("div",{className:"w-16 h-16 bg-indigo-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx(KP,{size:32,className:"text-indigo-500"})}),y.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-2",children:"Importa Catalogo"}),y.jsx("p",{className:"text-sm text-slate-500 mb-6 flex-1",children:"Ripristina backup o unisci cataloghi."}),y.jsx("input",{type:"file",ref:s,onChange:x,className:"hidden",accept:".json"}),y.jsx("button",{onClick:w,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors",children:"Carica Catalogo"})]}),y.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-6 flex flex-col items-center text-center hover:border-indigo-500/50 transition-colors group",children:[y.jsx("div",{className:"w-16 h-16 bg-emerald-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx(v5,{size:32,className:"text-emerald-500"})}),y.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-2",children:"Gestione Checklist"}),y.jsx("p",{className:"text-sm text-slate-500 mb-6 flex-1",children:"Modifica la struttura della checklist globale (Settori, Gruppi, Voci)."}),y.jsx("button",{onClick:i,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors",children:"Modifica Checklist"})]})]})]}),y.jsx("div",{className:"text-center text-xs text-slate-600 pb-8",children:"CuePack Manager utilizza Firebase Cloud. I dati sono sincronizzati."})]})})},lm=({icon:r,label:e,value:t,color:n,iconColor:i})=>y.jsxs("div",{className:`${n} border border-slate-700 rounded-xl p-4 flex items-center gap-4`,children:[y.jsx("div",{className:`p-3 rounded-lg bg-slate-950 ${i}`,children:y.jsx(r,{size:24})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold text-white",children:t}),y.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide font-medium",children:e})]})]}),hj=({activeList:r,checklist:e})=>{const[t,n]=Se.useState([]),i=r.checklistEnabledSectors||[],s=r.checklistCheckedItems||[],a=async x=>{const g={...r,...x};await hs(Ma,g)},c=x=>{n(g=>g.includes(x)?g.filter(A=>A!==x):[...g,x])},u=async x=>{let g;i.includes(x)?g=i.filter(A=>A!==x):(g=[...i,x],t.includes(x)||n(A=>[...A,x])),await a({checklistEnabledSectors:g})},d=async x=>{let g;s.includes(x)?g=s.filter(A=>A!==x):g=[...s,x],await a({checklistCheckedItems:g})},f=async()=>{confirm("Vuoi rimuovere tutte le spunte e disattivare i settori?")&&(await a({checklistCheckedItems:[],checklistEnabledSectors:[]}),n([]))},w=(x,g)=>`${x}-${g}`;return y.jsxs("div",{className:"flex flex-col pb-10",children:[(i.length>0||s.length>0)&&y.jsx("div",{className:"px-3 py-2 flex justify-end",children:y.jsxs("button",{onClick:f,className:"text-[10px] text-slate-500 hover:text-rose-400 flex items-center gap-1 transition-colors",children:[y.jsx(YP,{size:10})," Reset Tutto"]})}),y.jsx("div",{className:"space-y-1 p-2",children:e.map(x=>{const g=i.includes(x.id),A=t.includes(x.id),R=x.title.replace(/SETTORE\s*/i,""),P=x.groups.length;let L=0;x.groups.forEach((U,z)=>{s.includes(w(x.id,z))&&L++});const V=P>0&&P===L;return y.jsxs("div",{className:`rounded-lg border transition-all duration-300 overflow-hidden 
                ${g?V?"bg-emerald-900/30 border-emerald-600/50 shadow-md shadow-emerald-900/10":"bg-slate-900 border-slate-700 shadow-sm":"border-transparent opacity-80 hover:opacity-100 hover:bg-slate-900/30"}`,children:[y.jsxs("div",{className:"w-full flex items-center justify-between p-2.5 gap-2 select-none",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0 cursor-pointer group/header",onClick:()=>c(x.id),children:[y.jsx("div",{className:`transition-transform duration-200 ${A?"rotate-90":""} ${V&&g?"text-emerald-400":"text-slate-600 group-hover/header:text-slate-400"}`,children:y.jsx(xy,{size:14})}),y.jsx("div",{className:"flex-1 min-w-0",children:y.jsx("div",{className:`text-xs font-bold truncate ${V&&g?"text-emerald-100":g?"text-blue-100":"text-slate-400 group-hover/header:text-slate-300"}`,children:R})})]}),y.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[g&&y.jsxs("div",{className:`text-[10px] font-mono mr-1 ${V?"text-emerald-400 font-bold":"text-slate-500"}`,children:[L,"/",P]}),y.jsx("button",{onClick:U=>{U.stopPropagation(),u(x.id)},className:`relative w-10 h-5 rounded-full transition-colors duration-200 focus:outline-none 
                            ${g?V?"bg-emerald-500":"bg-blue-600":"bg-slate-700 hover:bg-slate-600"}`,title:g?"Disattiva Settore":"Attiva Settore",children:y.jsx("span",{className:`absolute top-0.5 left-0.5 bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-200 flex items-center justify-center text-[8px] font-bold text-slate-800
                                ${g?"translate-x-5":"translate-x-0"}
                            `,children:g?"SI":"NO"})})]})]}),A&&y.jsxs("div",{className:`border-t p-2 space-y-3 animate-in ${V?"border-emerald-800/50 bg-emerald-950/20":"border-slate-800 bg-slate-950/30"}`,children:[x.groups.map((U,z)=>{const ne=w(x.id,z),ce=s.includes(ne);return y.jsxs("div",{className:`group/item ${g?"":"opacity-50 pointer-events-none"}`,children:[y.jsxs("div",{className:`flex items-center gap-2 cursor-pointer p-1.5 rounded transition-colors select-none
                                ${ce?V?"hover:bg-emerald-900/40 text-emerald-300":"hover:bg-slate-800 text-slate-200":"hover:bg-slate-800 text-slate-300"}`,onClick:()=>d(ne),children:[y.jsx("div",{className:`shrink-0 transition-colors ${ce?"text-emerald-500":"text-slate-500 group-hover/item:text-slate-300"}`,children:ce?y.jsx(da,{size:16}):y.jsx(ha,{size:16})}),y.jsx("h4",{className:`text-[11px] font-bold uppercase tracking-wider leading-tight ${ce?"opacity-80":""}`,children:U.title})]}),y.jsx("div",{className:`pl-7 pr-2 border-l border-slate-800/50 ml-2.5 mt-1 mb-2 ${ce?"opacity-50 grayscale":"opacity-100"}`,children:y.jsx("ul",{className:"space-y-1",children:U.items.map((W,O)=>y.jsxs("li",{className:"flex items-start gap-2 text-[10px] text-slate-400 leading-snug",children:[y.jsx("span",{className:"mt-1 w-1 h-1 rounded-full bg-slate-600 shrink-0"}),y.jsx("span",{children:W})]},O))})})]},ne)}),!g&&y.jsx("div",{className:"text-center text-[10px] text-slate-500 italic py-2",children:"Attiva il settore (SI) per spuntare le voci"})]})]},x.id)})})]})},fj=({checklist:r,onBack:e})=>{const[t,n]=Se.useState([]),[i,s]=Se.useState(new Set),[a,c]=Se.useState(!1);Se.useEffect(()=>{n(JSON.parse(JSON.stringify(r))),c(!1)},[r]);const u=async()=>{try{await gy(ph(cl,r1,"master"),{categories:t}),c(!1),alert("Checklist salvata con successo!")}catch(U){console.error("Error saving checklist:",U),alert("Errore durante il salvataggio.")}},d=U=>{const z=new Set(i);z.has(U)?z.delete(U):z.add(U),s(z)},f=()=>{const U={id:crypto.randomUUID(),title:"Nuovo Settore",subtitle:"Descrizione settore",groups:[]};n([...t,U]),c(!0),s(new Set(i).add(U.id))},w=(U,z)=>{n(ne=>ne.map(ce=>ce.id===U?{...ce,...z}:ce)),c(!0)},x=U=>{confirm("Eliminare questo settore e tutto il suo contenuto?")&&(n(z=>z.filter(ne=>ne.id!==U)),c(!0))},g=U=>{const z={title:"Nuovo Gruppo",items:[]};n(ne=>ne.map(ce=>ce.id===U?{...ce,groups:[...ce.groups,z]}:ce)),c(!0)},A=(U,z,ne)=>{n(ce=>ce.map(W=>{if(W.id===U){const O=[...W.groups];return O[z]={...O[z],...ne},{...W,groups:O}}return W})),c(!0)},R=(U,z)=>{confirm("Eliminare questo gruppo?")&&(n(ne=>ne.map(ce=>ce.id===U?{...ce,groups:ce.groups.filter((W,O)=>O!==z)}:ce)),c(!0))},P=(U,z)=>{n(ne=>ne.map(ce=>{if(ce.id===U){const W=[...ce.groups];return W[z]={...W[z],items:[...W[z].items,"Nuova voce"]},{...ce,groups:W}}return ce})),c(!0)},L=(U,z,ne,ce)=>{n(W=>W.map(O=>{if(O.id===U){const C=[...O.groups],j=[...C[z].items];return j[ne]=ce,C[z]={...C[z],items:j},{...O,groups:C}}return O})),c(!0)},V=(U,z,ne)=>{n(ce=>ce.map(W=>{if(W.id===U){const O=[...W.groups],C=O[z].items.filter((j,N)=>N!==ne);return O[z]={...O[z],items:C},{...W,groups:O}}return W})),c(!0)};return y.jsxs("div",{className:"h-full flex flex-col p-6 bg-slate-950 overflow-hidden",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:e,className:"p-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors",children:y.jsx(by,{size:20})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gestione Checklist"}),y.jsx("p",{className:"text-slate-400",children:"Modifica la struttura della checklist globale"})]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-medium transition-colors",children:[y.jsx(Qi,{size:18})," Nuovo Settore"]}),y.jsxs("button",{onClick:u,disabled:!a,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-bold transition-colors ${a?"bg-emerald-600 hover:bg-emerald-500 text-white":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:[y.jsx(KS,{size:18})," Salva Modifiche"]})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4 pb-20",children:t.map(U=>{const z=i.has(U.id);return y.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:[y.jsxs("div",{className:"p-4 flex items-start gap-4 bg-slate-900 border-b border-slate-800/50",children:[y.jsx("button",{onClick:()=>d(U.id),className:"mt-1 text-slate-500 hover:text-white transition-colors",children:z?y.jsx(jP,{size:20}):y.jsx(xy,{size:20})}),y.jsxs("div",{className:"flex-1 space-y-2",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{className:"bg-transparent text-lg font-bold text-white border-b border-transparent focus:border-blue-500 outline-none w-full",value:U.title,onChange:ne=>w(U.id,{title:ne.target.value}),placeholder:"Titolo Settore"})}),y.jsx("input",{className:"bg-transparent text-sm text-slate-500 border-b border-transparent focus:border-slate-600 outline-none w-full",value:U.subtitle,onChange:ne=>w(U.id,{subtitle:ne.target.value}),placeholder:"Sottotitolo / Descrizione"})]}),y.jsx("button",{onClick:()=>x(U.id),className:"p-2 text-slate-600 hover:text-rose-500 hover:bg-slate-800 rounded transition-colors",children:y.jsx(Oa,{size:18})})]}),z&&y.jsxs("div",{className:"p-4 bg-slate-950/30 space-y-6",children:[U.groups.map((ne,ce)=>y.jsxs("div",{className:"pl-4 border-l-2 border-slate-800",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2 group/header",children:[y.jsx("input",{className:"bg-transparent text-sm font-bold uppercase tracking-wider text-blue-400 border-b border-transparent focus:border-blue-500 outline-none flex-1",value:ne.title,onChange:W=>A(U.id,ce,{title:W.target.value}),placeholder:"NOME GRUPPO"}),y.jsx("button",{onClick:()=>R(U.id,ce),className:"opacity-0 group-hover/header:opacity-100 p-1 text-slate-600 hover:text-rose-500 transition-all",children:y.jsx(Oa,{size:14})})]}),y.jsxs("div",{className:"space-y-2",children:[ne.items.map((W,O)=>y.jsxs("div",{className:"flex items-center gap-2 group/item",children:[y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-700 shrink-0"}),y.jsx("input",{className:"bg-transparent text-sm text-slate-300 border-b border-transparent focus:border-slate-600 outline-none flex-1",value:W,onChange:C=>L(U.id,ce,O,C.target.value)}),y.jsx("button",{onClick:()=>V(U.id,ce,O),className:"opacity-0 group-hover/item:opacity-100 text-slate-600 hover:text-rose-500 p-1",children:y.jsx(Oa,{size:12})})]},O)),y.jsxs("button",{onClick:()=>P(U.id,ce),className:"text-xs text-emerald-600 hover:text-emerald-400 flex items-center gap-1 mt-2 font-medium",children:[y.jsx(Qi,{size:12})," Aggiungi Voce"]})]})]},ce)),y.jsxs("button",{onClick:()=>g(U.id),className:"w-full py-2 border-2 border-dashed border-slate-800 rounded-lg text-slate-500 hover:text-blue-400 hover:border-blue-500/50 hover:bg-slate-900 transition-all text-sm font-medium flex justify-center items-center gap-2",children:[y.jsx(Qi,{size:16})," Nuovo Gruppo"]})]})]},U.id)})})]})},pj=({lists:r})=>{const[e,t]=Se.useState(null),[n,i]=Se.useState(""),[s,a]=Se.useState(""),[c,u]=Se.useState({isOpen:!1,componentId:null,text:""}),[d,f]=Se.useState({isOpen:!1,componentId:null,text:""}),[w,x]=Se.useState(null),g=Se.useMemo(()=>r.find(C=>C.id===e),[r,e]),A=C=>{const j=[];return C.zones&&C.zones.forEach(N=>{N.sections.forEach(k=>{k.components.forEach(D=>{(D.warehouseState?.isBroken||D.warehouseState?.warehouseNote)&&j.push({component:D,zoneName:N.name,sectionName:k.name}),D.contents&&D.contents.forEach(X=>{(X.warehouseState?.isBroken||X.warehouseState?.warehouseNote)&&j.push({component:{...D,name:`${D.name} > ${X.name}`},zoneName:N.name,sectionName:k.name})})})})}),j},R=C=>{const j=C.warehouseState;if(!j?.changeLog)return!1;const N=C.type!=="kit"&&!(j.inDistinta&&j.loaded);let k=!1;return C.contents&&C.contents.length>0&&(k=!C.contents.every(D=>D.warehouseState?.inDistinta&&D.warehouseState?.loaded)),N||k},P=Se.useMemo(()=>r.filter(C=>!!C.version).filter(C=>C.eventName.toLowerCase().includes(n.toLowerCase())||C.location.toLowerCase().includes(n.toLowerCase())).sort((C,j)=>new Date(C.eventDate).getTime()-new Date(j.eventDate).getTime()),[r,n]),L=async(C,j)=>{if(!g||!g.zones)return;const N=g.zones.map(k=>({...k,sections:k.sections.map(D=>({...D,components:D.components.map(X=>X.uniqueId===C?{...X,warehouseState:{...X.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},...j}}:X)}))}));await hs(Ma,{...g,zones:N})},V=async(C,j,N)=>{if(!g||!g.zones)return;const k=g.zones.map(D=>({...D,sections:D.sections.map(X=>({...X,components:X.components.map(ue=>{if(ue.uniqueId===C&&ue.contents){const ge=[...ue.contents],me=ge[j];return ge[j]={...me,warehouseState:{...me.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},...N}},{...ue,contents:ge}}return ue})}))}));await hs(Ma,{...g,zones:k})},U=()=>{c.componentId&&(L(c.componentId,{warehouseNote:c.text}),u({isOpen:!1,componentId:null,text:""}))},z=()=>{d.componentId&&(L(d.componentId,{isBroken:!0,brokenNote:d.text}),f({isOpen:!1,componentId:null,text:""}))},ne=()=>{d.componentId&&(L(d.componentId,{isBroken:!1,brokenNote:""}),f({isOpen:!1,componentId:null,text:""}))},ce=async C=>{if(!g)return;const j=g.deletedItems?.filter(N=>N.zoneName!==C)||[];await hs(Ma,{...g,deletedItems:j})};if(!e)return y.jsxs("div",{className:"h-full flex flex-col p-6 bg-slate-950 overflow-hidden",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[y.jsx(QS,{className:"text-blue-500",size:32}),"Preparazione Materiale"]}),y.jsx("p",{className:"text-slate-400",children:"Gestione carichi, scarichi e segnalazioni magazzino"})]}),y.jsxs("div",{className:"relative mb-6 max-w-md",children:[y.jsx(Zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:16}),y.jsx("input",{placeholder:"Cerca evento...",className:"w-full bg-slate-900 border border-slate-700 text-white pl-10 pr-4 py-2 rounded-lg outline-none focus:border-blue-500",value:n,onChange:C=>i(C.target.value)})]}),y.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 custom-scrollbar",children:P.map(C=>{const N=A(C).length>0,k=C.version==="1.0",D=C.zones?.some(ye=>ye.sections.some(de=>de.components.some(Z=>R(Z))))||C.deletedItems&&C.deletedItems.length>0,X=C.version&&C.version>"1.0"&&D;let ue=!0,ge=!0;C.zones&&C.zones.length>0?C.zones.forEach(ye=>{ye.sections.forEach(de=>{de.components.forEach(Z=>{if(Z.contents&&Z.contents.length>0&&Z.contents.forEach(F=>{const Q=F.warehouseState;(!Q?.inDistinta||!Q?.loaded)&&(ue=!1),Q?.returned||(ge=!1)}),Z.type!=="kit"){const F=Z.warehouseState;(!F?.inDistinta||!F?.loaded)&&(ue=!1),F?.returned||(ge=!1)}})})}):(ue=!1,ge=!1),C.deletedItems&&C.deletedItems.length>0&&(ue=!1);let me="border-slate-800",re="bg-slate-900";return ge?(me="border-purple-500/50",re="bg-purple-900/10"):ue?(me="border-emerald-500/50",re="bg-emerald-900/10"):k?(me="border-blue-500/50",re="bg-blue-900/10"):X&&(me="border-amber-500/50",re="bg-amber-900/10"),y.jsxs("div",{className:`border rounded-xl p-4 hover:border-slate-600 transition-all flex items-center gap-4 group ${me} ${re}`,children:[y.jsxs("div",{className:"w-12 h-12 rounded-lg bg-slate-800 flex items-center justify-center text-slate-400 font-bold text-lg shrink-0 relative",children:[C.eventName.charAt(0).toUpperCase(),C.version&&y.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-slate-950 text-[10px] px-1.5 py-0.5 rounded border border-slate-700 text-slate-300 font-mono",children:["v",C.version]})]}),y.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{t(C.id),a(C.zones?.[0]?.id||"")},children:[y.jsxs("h3",{className:"font-bold text-lg text-white group-hover:text-blue-400 transition-colors truncate flex items-center gap-3",children:[C.eventName,ge&&y.jsx("span",{className:"text-xs bg-purple-500 text-white px-2 py-0.5 rounded font-bold uppercase",children:"Evento rientrato"}),!ge&&ue&&y.jsx("span",{className:"text-xs bg-emerald-500 text-white px-2 py-0.5 rounded font-bold uppercase",children:"Carico Completo"}),!ge&&!ue&&k&&y.jsx("span",{className:"text-xs bg-blue-500 text-white px-2 py-0.5 rounded font-bold uppercase",children:"Pronto"}),!ge&&!ue&&X&&y.jsx("span",{className:"text-xs bg-amber-500 text-black px-2 py-0.5 rounded font-bold uppercase",children:"Modificato"})]}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(ym,{size:14})," ",C.location]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(Ud,{size:14})," ",new Date(C.eventDate).toLocaleDateString()]})]})]}),N&&y.jsx("button",{onClick:ye=>{ye.stopPropagation(),x(C)},className:"w-10 h-10 rounded-full bg-amber-900/20 flex items-center justify-center text-amber-500 animate-pulse hover:bg-amber-900/40 transition-colors",title:"Visualizza segnalazioni",children:y.jsx(Fu,{size:20,className:"fill-current"})}),y.jsx("button",{onClick:()=>{t(C.id),a(C.zones?.[0]?.id||"")},className:"p-3 bg-slate-800 hover:bg-blue-600 hover:text-white text-slate-400 rounded-lg transition-colors",children:y.jsx(xy,{size:20})})]},C.id)})}),y.jsx(ja,{isOpen:!!w,onClose:()=>x(null),title:"Segnalazioni Evento",size:"lg",children:y.jsxs("div",{className:"space-y-4",children:[w&&A(w).length===0&&y.jsx("p",{className:"text-slate-500",children:"Nessuna segnalazione presente."}),w&&A(w).map((C,j)=>y.jsxs("div",{className:"bg-slate-950 border border-slate-800 p-3 rounded-lg flex items-start gap-3",children:[C.component.warehouseState?.isBroken?y.jsx(Kg,{className:"text-rose-500 shrink-0 mt-1"}):y.jsx(Xg,{className:"text-blue-500 shrink-0 mt-1"}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-white",children:C.component.name}),y.jsxs("div",{className:"text-xs text-slate-500 mb-1",children:[C.zoneName," > ",C.sectionName]}),C.component.warehouseState?.isBroken&&y.jsx("div",{className:"mt-1",children:y.jsx("div",{className:"text-rose-400 text-sm font-medium uppercase",children:C.component.warehouseState.brokenNote||"SEGNALATO ROTTO/MANCANTE"})}),C.component.warehouseState?.warehouseNote&&y.jsxs("div",{className:"bg-slate-900 p-2 rounded text-sm text-slate-300 mt-1 italic",children:['"',C.component.warehouseState.warehouseNote,'"']})]})]},j)),y.jsx("div",{className:"flex justify-end pt-4",children:y.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 bg-slate-800 text-white rounded hover:bg-slate-700",children:"Chiudi"})})]})})]});const W=g?.zones?.find(C=>C.id===s),O=g?.deletedItems?.filter(C=>C.zoneName===W?.name);return y.jsxs("div",{className:"h-full flex flex-col bg-slate-950 overflow-hidden",children:[y.jsx("div",{className:"bg-slate-900 border-b border-slate-800 p-4 flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>t(null),className:"p-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg",children:y.jsx(by,{size:20})}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[g?.eventName,g?.version&&y.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded border border-slate-700 text-slate-400",children:["v",g.version]})]}),y.jsxs("div",{className:"text-xs text-slate-500 flex gap-2",children:[y.jsx("span",{children:g?.location}),"  ",y.jsx("span",{children:new Date(g?.eventDate||"").toLocaleDateString()})]})]})]})}),y.jsx("div",{className:"flex bg-slate-900 border-b border-slate-800 overflow-x-auto px-4 gap-1",children:g?.zones?.map(C=>{const j=g.deletedItems?.some(D=>D.zoneName===C.name),N=C.sections.some(D=>D.components.some(X=>R(X))),k=j||N;return y.jsxs("button",{onClick:()=>a(C.id),className:`px-4 py-3 text-sm font-bold border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ${s===C.id?"border-blue-500 text-white bg-slate-800":"border-transparent text-slate-500 hover:text-slate-300"}`,children:[C.name,k&&y.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.5)] animate-pulse",title:"Modifiche rilevate in questa zona"})]},C.id)})}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:W?y.jsxs("div",{className:"space-y-6",children:[O&&O.length>0&&y.jsxs("div",{className:"bg-rose-950/20 border border-rose-900/50 rounded-xl overflow-hidden mb-6",children:[y.jsxs("div",{className:"px-4 py-2 bg-rose-900/20 border-b border-rose-900/30 text-rose-400 font-bold text-sm flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx($S,{size:16})," MATERIALE RIMOSSO NELL'ULTIMA VERSIONE"]}),y.jsx("button",{onClick:()=>ce(W.name),className:"text-[10px] bg-rose-500 text-white px-2 py-1 rounded hover:bg-rose-400 transition-colors",children:"NASCONDI SEGNALAZIONI"})]}),y.jsx("div",{className:"divide-y divide-rose-900/20",children:O.map((C,j)=>y.jsxs("div",{className:"p-3 opacity-75 flex flex-col gap-2",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-8 h-8 rounded bg-rose-900/20 flex items-center justify-center text-rose-500 font-bold text-xs shrink-0",children:"0"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-bold text-rose-200 line-through decoration-rose-500/50",children:C.originalComponent.name}),y.jsxs("div",{className:"text-xs text-rose-400/70",children:["Era in: ",C.sectionName,"  (Era: ",C.originalComponent.quantity,")"]})]})]}),C.originalComponent.contents&&C.originalComponent.contents.length>0&&y.jsx("div",{className:"pl-12 space-y-1",children:C.originalComponent.contents.map((N,k)=>y.jsxs("div",{className:"flex items-center gap-2 text-rose-400/60 text-xs",children:[y.jsx("span",{children:" - "}),y.jsx("span",{className:"line-through",children:N.name}),y.jsxs("span",{className:"font-mono",children:["x",N.quantity*C.originalComponent.quantity]})]},k))})]},j))})]}),W.sections.map(C=>y.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden",children:[y.jsx("div",{className:"px-4 py-2 bg-slate-800/80 border-b border-slate-800 font-bold text-slate-400 text-sm uppercase tracking-wider",children:C.name}),y.jsxs("div",{className:"divide-y divide-slate-800",children:[C.components.length===0&&y.jsx("div",{className:"p-4 text-center text-slate-600 text-sm",children:"Nessun materiale in questa sezione."}),C.components.map(j=>{if(j.type==="kit"){const ue=j.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},ge=ue.changeLog!==void 0,me=ge&&R({...j,warehouseState:ue});return y.jsxs(Be.Fragment,{children:[y.jsxs("div",{className:`p-3 border-l-4 flex flex-col md:flex-row gap-4 items-center transition-colors ${me?"bg-amber-900/10 border-amber-500":"bg-purple-900/10 border-purple-500/50"}`,children:[y.jsxs("div",{className:"flex-1 w-full",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-bold text-white text-lg",children:j.name}),y.jsxs("span",{className:"bg-purple-900 text-purple-200 px-2 py-0.5 rounded text-xs font-mono font-bold",children:["x",j.quantity," (KIT)"]}),ge&&y.jsx("span",{className:`text-xs font-medium ml-2 ${me?"":"opacity-40"}`,children:ue.changeLog?.previousQuantity===0?y.jsx("span",{className:me?"text-emerald-400 font-bold uppercase tracking-wider text-[10px]":"text-white/60 font-bold uppercase tracking-wider text-[10px]",children:" (NUOVO KIT)"}):y.jsxs("span",{className:me?"text-amber-400 font-bold":"text-white/60 font-bold",children:["(Era: ",ue.changeLog?.previousQuantity," v",g?.version,")"]})})]}),y.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:[j.category," ",j.notes&&y.jsxs("span",{className:"text-yellow-600 ml-2",children:[" Nota Prod: ",j.notes]})]}),ue.warehouseNote&&y.jsxs("div",{className:"mt-1 text-xs text-blue-400 bg-blue-900/20 p-1.5 rounded inline-block",children:["Note Magazzino: ",ue.warehouseNote]}),ue.isBroken&&y.jsx("div",{className:"mt-1",children:y.jsxs("div",{className:"text-rose-500 text-xs font-bold flex items-center gap-1 uppercase",children:[y.jsx(Kg,{size:12})," ",ue.brokenNote||"SEGNALATO ROTTO / MANCANTE"]})})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>u({isOpen:!0,componentId:j.uniqueId,text:ue.warehouseNote}),className:`p-2 rounded hover:bg-slate-700 transition-colors ${ue.warehouseNote?"text-blue-400 bg-blue-900/20":"text-slate-500"}`,title:"Aggiungi Nota Magazzino",children:y.jsx(Xg,{size:18,className:ue.warehouseNote?"fill-current":""})}),y.jsx("button",{onClick:()=>f({isOpen:!0,componentId:j.uniqueId,text:ue.brokenNote||""}),className:`p-2 rounded hover:bg-slate-700 transition-colors ${ue.isBroken?"text-rose-500 bg-rose-900/20":"text-slate-500"}`,title:ue.isBroken?"Modifica Segnalazione":"Segnala Rotto/Mancante",children:y.jsx(Fu,{size:18,className:ue.isBroken?"fill-current":""})})]})]}),j.contents?.map((re,ye)=>{const de=re.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},Z=re.quantity*j.quantity,F=ge&&(!de.inDistinta||!de.loaded);return y.jsxs("div",{className:`pl-8 pr-3 py-2 border-b border-slate-800/50 flex flex-col md:flex-row gap-4 items-center transition-colors ${de.isBroken?"bg-rose-900/10":F?"bg-amber-900/5":"hover:bg-slate-800/30"}`,children:[y.jsxs("div",{className:"flex-1 w-full flex items-center gap-3",children:[y.jsx("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${F?"bg-amber-500":"bg-purple-500/50"}`}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-300 font-medium",children:re.name}),y.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded font-mono ${F?"bg-amber-900/20 text-amber-500 font-bold":"bg-slate-800 text-slate-400"}`,children:["x",Z]})]}),de.warehouseNote&&y.jsxs("div",{className:"text-xs text-blue-400 bg-blue-900/20 px-1 rounded inline-block mt-0.5",children:["Nota: ",de.warehouseNote]}),de.isBroken&&y.jsx("div",{className:"text-rose-500 text-xs font-bold uppercase mt-0.5",children:de.brokenNote||"ROTTO"})]})]}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsxs("div",{className:"flex gap-4",children:[y.jsx("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:y.jsx("button",{onClick:()=>V(j.uniqueId,ye,{inDistinta:!de.inDistinta}),className:de.inDistinta?"text-emerald-500":F?"text-rose-500 animate-pulse":"text-slate-600",children:de.inDistinta?y.jsx(da,{size:20}):y.jsx(ha,{size:20})})}),y.jsx("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:y.jsx("button",{onClick:()=>V(j.uniqueId,ye,{loaded:!de.loaded}),className:de.loaded?"text-blue-500":F?"text-rose-500 animate-pulse":"text-slate-600",children:de.loaded?y.jsx(da,{size:20}):y.jsx(ha,{size:20})})}),y.jsx("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:y.jsx("button",{onClick:()=>V(j.uniqueId,ye,{returned:!de.returned}),className:de.returned?"text-purple-500":"text-slate-600",children:de.returned?y.jsx(da,{size:20}):y.jsx(ha,{size:20})})})]})})]},`${j.uniqueId}-sub-${ye}`)})]},j.uniqueId)}const k=j.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},D=k.changeLog!==void 0,X=D&&!R(j)?!1:D;return y.jsxs(Be.Fragment,{children:[y.jsxs("div",{className:`p-3 flex flex-col md:flex-row gap-4 items-center transition-colors ${k.isBroken?"bg-rose-900/10":X?"bg-amber-900/10":"hover:bg-slate-800/50"}`,children:[y.jsxs("div",{className:"flex-1 w-full",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-bold text-white text-lg",children:j.name}),y.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-mono font-bold ${X?"bg-amber-500 text-black":"bg-slate-800 text-slate-300"}`,children:["x",j.quantity]}),D&&y.jsx("span",{className:"text-slate-300 text-xs font-medium",children:k.changeLog?.previousQuantity===0?y.jsx("span",{className:"text-emerald-400 font-bold uppercase tracking-wider text-[10px] ml-1",children:" (NUOVO MATERIALE)"}):`(Era: ${k.changeLog?.previousQuantity} v${g?.version})`})]}),y.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:[j.category," ",j.notes&&y.jsxs("span",{className:"text-yellow-600 ml-2",children:[" Nota Prod: ",j.notes]})]}),k.warehouseNote&&y.jsxs("div",{className:"mt-1 text-xs text-blue-400 bg-blue-900/20 p-1.5 rounded inline-block",children:["Note Magazzino: ",k.warehouseNote]}),k.isBroken&&y.jsx("div",{className:"mt-1",children:y.jsxs("div",{className:"text-rose-500 text-xs font-bold flex items-center gap-1 uppercase",children:[y.jsx(Kg,{size:12})," ",k.brokenNote||"SEGNALATO ROTTO / MANCANTE"]})})]}),y.jsxs("div",{className:"flex items-center gap-2 md:gap-6 w-full md:w-auto justify-between md:justify-end",children:[y.jsxs("div",{className:"flex gap-1 pr-4 border-r border-slate-800",children:[y.jsx("button",{onClick:()=>u({isOpen:!0,componentId:j.uniqueId,text:k.warehouseNote}),className:`p-2 rounded hover:bg-slate-700 transition-colors ${k.warehouseNote?"text-blue-400 bg-blue-900/20":"text-slate-500"}`,title:"Aggiungi Nota Magazzino",children:y.jsx(Xg,{size:18,className:k.warehouseNote?"fill-current":""})}),y.jsx("button",{onClick:()=>f({isOpen:!0,componentId:j.uniqueId,text:k.brokenNote||""}),className:`p-2 rounded hover:bg-slate-700 transition-colors ${k.isBroken?"text-rose-500 bg-rose-900/20":"text-slate-500"}`,title:k.isBroken?"Modifica Segnalazione":"Segnala Rotto/Mancante",children:y.jsx(Fu,{size:18,className:k.isBroken?"fill-current":""})})]}),y.jsxs("div",{className:"flex gap-4",children:[(()=>{const ue=k.inDistinta&&k.loaded,ge=D&&!ue;return y.jsxs(y.Fragment,{children:[y.jsxs("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:[y.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase group-hover:text-slate-300",children:"Distinta"}),y.jsx("button",{onClick:()=>L(j.uniqueId,{inDistinta:!k.inDistinta}),className:k.inDistinta?"text-emerald-500":ge?"text-rose-500 animate-pulse":"text-slate-600",children:k.inDistinta?y.jsx(da,{size:24}):y.jsx(ha,{size:24})})]}),y.jsxs("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:[y.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase group-hover:text-slate-300",children:"Carico"}),y.jsx("button",{onClick:()=>L(j.uniqueId,{loaded:!k.loaded}),className:k.loaded?"text-blue-500":ge?"text-rose-500 animate-pulse":"text-slate-600",children:k.loaded?y.jsx(da,{size:24}):y.jsx(ha,{size:24})})]})]})})(),y.jsxs("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:[y.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase group-hover:text-slate-300",children:"Rientro"}),y.jsx("button",{onClick:()=>L(j.uniqueId,{returned:!k.returned}),className:k.returned?"text-purple-500":"text-slate-600",children:k.returned?y.jsx(da,{size:24}):y.jsx(ha,{size:24})})]})]})]})]}),j.contents?.map((ue,ge)=>{const me=ue.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1},re=ue.quantity*j.quantity,ye=D&&(!me.inDistinta||!me.loaded);return y.jsxs("div",{className:`pl-8 pr-3 py-2 border-b border-slate-800/50 flex flex-col md:flex-row gap-4 items-center transition-colors ${me.isBroken?"bg-rose-900/10":ye?"bg-amber-900/5":"hover:bg-slate-800/30"}`,children:[y.jsxs("div",{className:"flex-1 w-full flex items-center gap-3",children:[y.jsx("div",{className:"text-slate-600 shrink-0",children:" - "}),y.jsx("div",{children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-400 font-medium text-sm",children:ue.name}),y.jsxs("span",{className:"text-xs bg-slate-800 text-slate-500 px-1.5 py-0.5 rounded font-mono",children:["x",re]})]})})]}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsxs("div",{className:"flex gap-4",children:[y.jsx("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:y.jsx("button",{onClick:()=>V(j.uniqueId,ge,{inDistinta:!me.inDistinta}),className:me.inDistinta?"text-emerald-500":ye?"text-rose-500 animate-pulse":"text-slate-600",children:me.inDistinta?y.jsx(da,{size:20}):y.jsx(ha,{size:20})})}),y.jsx("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:y.jsx("button",{onClick:()=>V(j.uniqueId,ge,{loaded:!me.loaded}),className:me.loaded?"text-blue-500":ye?"text-rose-500 animate-pulse":"text-slate-600",children:me.loaded?y.jsx(da,{size:20}):y.jsx(ha,{size:20})})}),y.jsx("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:y.jsx("button",{onClick:()=>V(j.uniqueId,ge,{returned:!me.returned}),className:me.returned?"text-purple-500":"text-slate-600",children:me.returned?y.jsx(da,{size:20}):y.jsx(ha,{size:20})})})]})})]},`${j.uniqueId}-acc-${ge}`)})]},j.uniqueId)})]})]},C.id))]}):y.jsx("div",{className:"text-center py-20 text-slate-500",children:"Seleziona una zona per visualizzare il materiale."})}),y.jsx(ja,{isOpen:c.isOpen,onClose:()=>u(C=>({...C,isOpen:!1})),title:"Nota Magazzino",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white h-32 focus:border-blue-500 outline-none",placeholder:"Scrivi qui la nota per il magazzino...",value:c.text,onChange:C=>u(j=>({...j,text:C.target.value})),autoFocus:!0}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{onClick:()=>u(C=>({...C,isOpen:!1})),className:"px-4 py-2 text-slate-400 hover:text-white",children:"Annulla"}),y.jsxs("button",{onClick:U,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded flex items-center gap-2",children:[y.jsx(KS,{size:16})," Salva Nota"]})]})]})}),y.jsx(ja,{isOpen:d.isOpen,onClose:()=>f(C=>({...C,isOpen:!1})),title:"Segnalazione Problema",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-400 text-sm",children:"Descrivi il problema riscontrato (rotto, mancante, danneggiato...)"}),y.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white h-32 focus:border-rose-500 outline-none",placeholder:"Esempio: Cavo tranciato, Lampada bruciata...",value:d.text,onChange:C=>f(j=>({...j,text:C.target.value})),autoFocus:!0}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("button",{onClick:ne,className:"px-4 py-2 border border-slate-700 hover:bg-slate-800 text-slate-300 rounded text-sm",children:"Risolto / Non Rotto"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>f(C=>({...C,isOpen:!1})),className:"px-4 py-2 text-slate-400 hover:text-white",children:"Annulla"}),y.jsxs("button",{onClick:z,className:"px-6 py-2 bg-rose-600 hover:bg-rose-500 text-white rounded flex items-center gap-2",children:[y.jsx(Fu,{size:16})," Salva Segnalazione"]})]})]})]})})]})},mj=[{id:"acc-clamp-omega",name:"Gancio Aliscaf + Omega",category:pe.STRUCTURE,weight:.8,inStock:200,description:"Per Fari"},{id:"acc-clamp-double",name:"Doppio Aliscaf (Gancio-Gancio)",category:pe.STRUCTURE,weight:1.5,inStock:50,description:"Per unire truss o tubi"},{id:"acc-safety",name:"Cavetto di Sicurezza (Safety)",category:pe.STRUCTURE,weight:.2,inStock:200,description:"Acciaio sicurezza"},{id:"acc-umbrella",name:"Ombrellino Parapioggia (Soft)",category:pe.LIGHTS,weight:.5,inStock:30,description:"Protezione pioggia fari"},{id:"truss-acc-spigot",name:"Conico (Ovetto)",category:pe.STRUCTURE,weight:.2,inStock:600,description:"Spigot per truss"},{id:"truss-acc-pin",name:"Spina Conica (Pin)",category:pe.STRUCTURE,weight:.05,inStock:1200,description:"Pin per truss"},{id:"truss-acc-clip",name:"Coppiglia (R-Clip)",category:pe.STRUCTURE,weight:.01,inStock:1200,description:"Safety clip"},{id:"truss-acc-spacer",name:"Kit Distanziatori Truss",category:pe.STRUCTURE,weight:.5,inStock:20},{id:"truss-acc-hammer",name:"Martello Rame/Gomma",category:pe.TOOLS,weight:1,inStock:10},{id:"stg-acc-clamp",name:"Morsetto Pedana (KDC/Clamp)",category:pe.STRUCTURE,weight:.5,inStock:100,description:"Blocco unione pedane"},{id:"stg-acc-pin",name:"Pipotto Giunzione Riser",category:pe.STRUCTURE,weight:.1,inStock:200,description:"Pin per unione riser"},{id:"cbl-led-pwr-link",name:"Link Corrente Led Generico",category:pe.CABLES,weight:.2,inStock:50,description:"Cabinet to Cabinet"},{id:"cbl-led-data-link",name:"Link Segnale Led Generico",category:pe.CABLES,weight:.1,inStock:50,description:"Cabinet to Cabinet"}],gj=[{id:"lgt-ctrl-ma3-full",name:"GrandMA 3 Full-Size",category:pe.LIGHTS,weight:80,inStock:1,accessories:[{itemId:"ad-tr1-schuko",quantity:1},{itemId:"vid-monitor-24",quantity:2}]},{id:"lgt-ctrl-ma3-cxt",name:"GrandMA 3 Compact XT",category:pe.LIGHTS,weight:45,inStock:2,accessories:[{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-ctrl-w-dmx",name:"Wireless Solution F1 G5",category:pe.LIGHTS,weight:1,inStock:6,accessories:[{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-robe-esprite",name:"Robe Esprite",category:pe.LIGHTS,weight:28,inStock:24,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-robe-megapointe",name:"Robe MegaPointe",category:pe.LIGHTS,weight:22,inStock:24,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-robe-350-spot",name:"Robe LEDBeam 350",category:pe.LIGHTS,weight:10,inStock:36,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-robe-ibeam-350",name:"Robe iBeam 350 (IP65)",category:pe.LIGHTS,weight:12,inStock:12,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-cp-sharpy",name:"Claypaky Sharpy",category:pe.LIGHTS,weight:19,inStock:24,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-pcon-schuko",quantity:1}]},{id:"lgt-cp-minib",name:"Claypaky Mini-B",category:pe.LIGHTS,weight:7,inStock:24,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-cp-k10",name:"Claypaky B-EYE K10",category:pe.LIGHTS,weight:15,inStock:16,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-ledko",name:"Coemar LEDko D (Sagomatore)",category:pe.LIGHTS,weight:14,inStock:20,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-pcon-schuko",quantity:1}]},{id:"lgt-opt-2550",name:"Ottica LEDko 25-50",category:pe.LIGHTS,weight:2,inStock:20},{id:"lgt-helix",name:"Showtec Helix S5000",category:pe.LIGHTS,weight:12,inStock:48,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-opt-helix-40",name:"Ottica Helix 40",category:pe.LIGHTS,weight:.5,inStock:48},{id:"lgt-opt-helix-20",name:"Ottica Helix 20",category:pe.LIGHTS,weight:.5,inStock:24},{id:"lgt-opt-helix-1560",name:"Ottica Helix 15x60",category:pe.LIGHTS,weight:.5,inStock:24},{id:"lgt-opt-helix-90",name:"Ottica Helix 90",category:pe.LIGHTS,weight:.5,inStock:24},{id:"lgt-sgm-q8",name:"SGM Q8",category:pe.LIGHTS,weight:15,inStock:12,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-chauvet-strike",name:"Chauvet Color Strike M",category:pe.LIGHTS,weight:12,inStock:16,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-acme-blinder",name:"Acme Stage Blinder IP",category:pe.LIGHTS,weight:8,inStock:12,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-rj-merlin",name:"Robert Juliat Merlin 2500W",category:pe.LIGHTS,weight:70,inStock:2,description:"Followspot + Tripod + PSU"},{id:"lgt-batt-par",name:"Faro a Batteria (EventSpot)",category:pe.LIGHTS,weight:4,inStock:24}],vj=[{id:"aud-digico-sd21",name:"Digico SD21 Console",category:pe.AUDIO,weight:30,inStock:1,accessories:[{itemId:"cbl-vde-schuko",quantity:2}]},{id:"aud-digico-stagebox",name:"Digico D-Rack Stagebox",category:pe.AUDIO,weight:15,inStock:1},{id:"aud-digico-dante",name:"Scheda Dante x Digico",category:pe.AUDIO,weight:.5,inStock:1},{id:"aud-focusrite",name:"Focusrite Scarlett 18i20",category:pe.AUDIO,weight:4,inStock:2},{id:"aud-k2",name:"L-Acoustics K2",category:pe.AUDIO,weight:56,inStock:24},{id:"aud-ks28",name:"L-Acoustics KS28",category:pe.AUDIO,weight:79,inStock:16},{id:"aud-la12x",name:"Amplificatore LA12X",category:pe.AUDIO,weight:14,inStock:10},{id:"aud-spk-batt",name:"Cassa a Batteria + Mic",category:pe.AUDIO,weight:10,inStock:4},{id:"aud-mic-stand-premium",name:"Asta Microfonica BELLA (K&M)",category:pe.AUDIO,weight:3,inStock:20},{id:"com-ggo-switch",name:"GreenGo Switch 6",category:pe.REGIA,weight:2,inStock:2},{id:"com-ggo-antenna",name:"GreenGo Stride Antenna",category:pe.REGIA,weight:1,inStock:4},{id:"com-ggo-bpx",name:"GreenGo Wireless BPX",category:pe.REGIA,weight:.3,inStock:8},{id:"com-ggo-bp",name:"GreenGo Wired BP",category:pe.REGIA,weight:.3,inStock:8},{id:"com-radio",name:"Radio Midland C1180",category:pe.REGIA,weight:.3,inStock:30}],yj=[{id:"vid-abs-pl25",name:"Absen Polaris PL2.5",category:pe.VIDEO,weight:8,inStock:100,accessories:[{itemId:"cbl-link-true1-100",quantity:1},{itemId:"cbl-eth-100",quantity:1}]},{id:"vid-abs-pl25-l",name:"Absen PL2.5 Angolo SX",category:pe.VIDEO,weight:8,inStock:8},{id:"vid-abs-pl25-r",name:"Absen PL2.5 Angolo DX",category:pe.VIDEO,weight:8,inStock:8},{id:"vid-abs-fly-100",name:"Absen PL Flybar 100cm",category:pe.VIDEO,weight:5,inStock:10,accessories:[{itemId:"rig-steelflex-2",quantity:1},{itemId:"rig-shackle-black",quantity:1}]},{id:"vid-abs-fly-50",name:"Absen PL Flybar 50cm",category:pe.VIDEO,weight:3,inStock:10,accessories:[{itemId:"rig-steelflex-2",quantity:1},{itemId:"rig-shackle-black",quantity:1}]},{id:"vid-abs-d2v",name:"Absen D2V Plus 2.9",category:pe.VIDEO,weight:7.5,inStock:60,accessories:[{itemId:"cbl-link-true1-100",quantity:1},{itemId:"cbl-eth-100",quantity:1}]},{id:"vid-inf-26",name:"Infiled 2.6mm",category:pe.VIDEO,weight:8,inStock:120,accessories:[{itemId:"cbl-link-pcon-050",quantity:1},{itemId:"cbl-eth-050",quantity:1}]},{id:"vid-inf-fly",name:"Infiled Flybar 50cm",category:pe.VIDEO,weight:4,inStock:20,accessories:[{itemId:"rig-steelflex-2",quantity:1},{itemId:"rig-shackle-black",quantity:1}]},{id:"vid-yes-39",name:"Yestech 3.9mm",category:pe.VIDEO,weight:9,inStock:80,accessories:[{itemId:"cbl-led-pwr-link",quantity:1},{itemId:"cbl-led-data-link",quantity:1}]},{id:"vid-yes-fly",name:"Yestech Flybar 50cm",category:pe.VIDEO,weight:4,inStock:10,accessories:[{itemId:"rig-steelflex-2",quantity:1},{itemId:"rig-shackle-black",quantity:1}]},{id:"vid-novastar",name:"MCTRL 4K Processor",category:pe.VIDEO,weight:6,inStock:2},{id:"vid-vx4s",name:"Novastar VX4S",category:pe.VIDEO,weight:4,inStock:2},{id:"vid-msi",name:"Laptop MSI (Resolume/Araneo)",category:pe.REGIA,weight:3,inStock:4},{id:"vid-mac-studio",name:"Mac Studio",category:pe.REGIA,weight:3,inStock:2},{id:"vid-mini-mac",name:"Mac Mini",category:pe.REGIA,weight:1.5,inStock:2},{id:"vid-monitor-24",name:'Monitor 24" HDMI',category:pe.REGIA,weight:4,inStock:6},{id:"vid-streamdeck",name:"Elgato Streamdeck XL",category:pe.REGIA,weight:.5,inStock:2},{id:"vid-splitter-hdmi",name:"Splitter HDMI 1x5 4K 60hz",category:pe.VIDEO,weight:1,inStock:4},{id:"vid-opticis",name:"Opticis HDMI Fiber Kit",category:pe.VIDEO,weight:1,inStock:4},{id:"it-usb-hub",name:"Hub USB-C / USB",category:pe.REGIA,weight:.2,inStock:5},{id:"it-mouse-key",name:"Mouse + Tastiera + Batterie",category:pe.REGIA,weight:1,inStock:5},{id:"net-luminex-16",name:"Luminex Gigacore 16Xt/16Tf",category:pe.REGIA,weight:4,inStock:2},{id:"net-luminex-10",name:"Luminex Gigacore 10/10i",category:pe.REGIA,weight:3,inStock:4},{id:"net-luminode-12",name:"Luminex Luminode 12",category:pe.REGIA,weight:3,inStock:2},{id:"net-switch-8",name:"Switch Gigabit 8 Porte",category:pe.REGIA,weight:.5,inStock:5}],wj=[{id:"pix-ama-175",name:"Stripled Doppia AMA 1.75mt",category:pe.LIGHTS,weight:2,inStock:20},{id:"pix-ama-200",name:"Stripled Doppia AMA 2.00mt",category:pe.LIGHTS,weight:2.5,inStock:20},{id:"pix-ama-250",name:"Stripled Doppia AMA 2.50mt",category:pe.LIGHTS,weight:3,inStock:10},{id:"pix-ama-300",name:"Stripled Doppia AMA 3.00mt",category:pe.LIGHTS,weight:3.5,inStock:10},{id:"pix-psu-12v",name:"Alimentatore PSU 12V + CEE",category:pe.LIGHTS,weight:2,inStock:20},{id:"pix-advatek",name:"Advatek PixLite A4-S MK3",category:pe.REGIA,weight:1,inStock:4},{id:"pix-cbl-flat",name:"Piattina 4mm / 0.75mm",category:pe.CABLES,weight:1,inStock:100,description:"Al metro"},{id:"pix-cbl-adv",name:"Cavo 3x2.5 50cm x Advatek",category:pe.CABLES,weight:.5,inStock:20}],bj=[{id:"cbl-link-true1-100",name:"Link True1 1mt",category:pe.CABLES,weight:.3,inStock:100},{id:"cbl-eth-100",name:"Cavo Ethercon Nero 1mt",category:pe.CABLES,weight:.1,inStock:100},{id:"cbl-link-pcon-050",name:"Link Powercon 0.5mt",category:pe.CABLES,weight:.2,inStock:100},{id:"cbl-eth-050",name:"Cavo Ethercon Nero 0.5mt",category:pe.CABLES,weight:.1,inStock:100},{id:"ad-tr1-schuko",name:"Alim. Schuko M - True1",category:pe.CABLES,weight:.3,inStock:100},{id:"ad-pcon-schuko",name:"Alim. Schuko M - Powercon Blu",category:pe.CABLES,weight:.3,inStock:50},{id:"ad-pcon-cee",name:"Alim. CEE M - Powercon Blu",category:pe.CABLES,weight:.4,inStock:20},{id:"ad-cee-tr1",name:"Alim. CEE M - True1",category:pe.CABLES,weight:.4,inStock:30},{id:"ad-tr1-cee-f",name:"Adatt. True1 M - CEE F",category:pe.CABLES,weight:.4,inStock:30},{id:"ad-tr1-m-pcon-blu",name:"Adatt. True1 M - Powercon Blu",category:pe.CABLES,weight:.3,inStock:20},{id:"ad-tr1-f-pcon-wht",name:"Adatt. True1 F - Powercon Bianco",category:pe.CABLES,weight:.3,inStock:20},{id:"ad-tr1-m-cee-f",name:"Adatt. True1 M - CEE F",category:pe.CABLES,weight:.3,inStock:20},{id:"ad-cee-schuko",name:"Adatt. CEE M - Schuko F",category:pe.CABLES,weight:.3,inStock:20},{id:"ad-schuko-cee",name:"Adatt. Schuko M - CEE F",category:pe.CABLES,weight:.3,inStock:20},{id:"ad-cee-civile",name:"Adatt. CEE M - Civile F (Bipasso)",category:pe.CABLES,weight:.2,inStock:20},{id:"ad-civile-cee",name:"Adatt. Civile M - CEE F",category:pe.CABLES,weight:.2,inStock:20},{id:"ad-mazz-cee",name:"Adatt. Mazzeri M - CEE F",category:pe.CABLES,weight:.3,inStock:10},{id:"ad-cee-mazz",name:"Adatt. CEE M - Mazzeri F",category:pe.CABLES,weight:.3,inStock:10},{id:"ad-mazz-civ",name:"Adatt. Mazzeri M - Civile F",category:pe.CABLES,weight:.2,inStock:10},{id:"ad-civ-mazz",name:"Adatt. Civile M - Mazzeri F",category:pe.CABLES,weight:.2,inStock:10},{id:"cbl-vde-schuko",name:"Alim. Schuko M - VDE",category:pe.CABLES,weight:.2,inStock:50},{id:"cbl-vde-civile",name:"Alim. Civile M - VDE",category:pe.CABLES,weight:.2,inStock:20},{id:"cbl-vde-cee",name:"Alim. CEE M - VDE",category:pe.CABLES,weight:.3,inStock:10},{id:"ad-split-cee",name:"Sdoppia CEE (T o Y)",category:pe.CABLES,weight:.6,inStock:30},{id:"ad-split-tr1",name:"Sdoppia True1 (Ciabatta/Y)",category:pe.CABLES,weight:.6,inStock:20},{id:"ad-split-tr1-hybrid",name:"Sdoppia Ibrida TR1 M -> TR1 F + PCON Blu",category:pe.CABLES,weight:.5,inStock:10},{id:"cbl-ciabatta-cee",name:"Ciabatta CEE Nera (Stage)",category:pe.CABLES,weight:1.5,inStock:20},{id:"cbl-ciabatta-nice",name:'Ciabatta CEE "Bella" (Cliente)',category:pe.CABLES,weight:1.5,inStock:10},{id:"cbl-ciabatta-civil",name:"Ciabatta Civile (Bianca/Nera)",category:pe.CABLES,weight:.5,inStock:20},{id:"ad-xlr-3-5",name:"Kit Adattatori XLR 3p-5p / 5p-3p",category:pe.CABLES,weight:.5,inStock:10},{id:"ad-jack-xlr",name:"Adatt. Jack - XLR M",category:pe.CABLES,weight:.1,inStock:10},{id:"ad-minijack-xlr",name:"Adatt. Mini Jack - XLR M",category:pe.CABLES,weight:.1,inStock:10},{id:"ad-usbc-hdmi",name:"Adatt. USB-C - HDMI",category:pe.CABLES,weight:.1,inStock:5},{id:"ad-eth-barrel",name:"Barilotto Ethercon F-F",category:pe.CABLES,weight:.1,inStock:20},{id:"cbl-fiber-opt-150",name:"Rulla Fibra OpticalCon 150mt",category:pe.CABLES,weight:10,inStock:2},{id:"cbl-fiber-lc-100",name:"Rulla Fibra 4xLC 100mt",category:pe.CABLES,weight:6,inStock:2},{id:"cbl-hdmi-fib-30",name:"Cavo HDMI Fibra 30mt",category:pe.VIDEO,weight:1.5,inStock:4},{id:"cbl-hdmi-fib-50",name:"Cavo HDMI Fibra 50mt",category:pe.VIDEO,weight:2.5,inStock:4},{id:"cbl-hdmi-fib-100",name:"Cavo HDMI Fibra 100mt",category:pe.VIDEO,weight:5,inStock:2},{id:"cbl-soca-bin",name:"Sfrangio Socapex -> 6x CEE M",category:pe.CABLES,weight:2,inStock:10},{id:"cbl-soca-bout",name:"Sfrangio Socapex -> 6x CEE F",category:pe.CABLES,weight:2,inStock:10}],xj=[{id:"pwr-frig-400",name:"Powerbox Friggeri 400A Powerlock",category:pe.CABLES,weight:60,inStock:1},{id:"pwr-events-125",name:"Powerbox Power4Events 125A Socapex",category:pe.CABLES,weight:40,inStock:1},{id:"pwr-frig-125-soca",name:"Powerbox Friggeri 125A -> Socapex",category:pe.CABLES,weight:35,inStock:2},{id:"pwr-frig-63-soca",name:"Powerbox Friggeri 63A -> Socapex",category:pe.CABLES,weight:25,inStock:2},{id:"pwr-quadro-63",name:"Quadro 63A (Prese CEE)",category:pe.CABLES,weight:20,inStock:2},{id:"pwr-menn-63",name:"Powerbox Mennekes 63A",category:pe.CABLES,weight:15,inStock:4},{id:"pwr-quadro-32-soca",name:"Quadro 32A -> Socapex",category:pe.CABLES,weight:10,inStock:4},{id:"pwr-val-32",name:"Powerbox Valigetta 32A con CEE",category:pe.CABLES,weight:5,inStock:8},{id:"pwr-quadro-32-mono",name:"Quadro 32A Monofase",category:pe.CABLES,weight:5,inStock:2},{id:"pwr-sdoppio-63",name:"Quadro Sdoppio 63A -> 2x32A",category:pe.CABLES,weight:8,inStock:2},{id:"pwr-ups-1500",name:"UPS 1500VA Rack",category:pe.CABLES,weight:15,inStock:2},{id:"pwr-ups-3000",name:"UPS Legrand 3000VA",category:pe.CABLES,weight:30,inStock:1}],_j=[{id:"rig-soft-1",name:"Softsteel 1mt (Spanset Acciaio)",category:pe.STRUCTURE,weight:1,inStock:20},{id:"rig-soft-2",name:"Softsteel 2mt (Spanset Acciaio)",category:pe.STRUCTURE,weight:2,inStock:20},{id:"rig-steelflex-2",name:"Steelflex 2mt (Spanset Acciaio)",category:pe.STRUCTURE,weight:2,inStock:20},{id:"rig-reutlinger",name:"Reutlinger Type 50 + Cavo",category:pe.STRUCTURE,weight:.5,inStock:40},{id:"rig-shackle-big",name:"Grillo 3.25T (Grosso)",category:pe.STRUCTURE,weight:.5,inStock:50},{id:"rig-shackle-black",name:"Grillo Nero (Medio)",category:pe.STRUCTURE,weight:.3,inStock:100},{id:"rig-moschettoni",name:"Moschettoni",category:pe.STRUCTURE,weight:.1,inStock:50},{id:"rig-fascia-5m",name:"Fascia Crick 5mt Piccola",category:pe.STRUCTURE,weight:.5,inStock:20},{id:"rig-corda-30",name:"Corda Nera 30mt",category:pe.STRUCTURE,weight:2,inStock:10},{id:"rig-base-steel",name:"Base Ferro Pesante 80x80",category:pe.STRUCTURE,weight:35,inStock:12},{id:"rig-cube",name:"Cubo (Dado) Truss",category:pe.STRUCTURE,weight:8,inStock:8},{id:"rig-book-corner",name:"Book Corner (Cerniera)",category:pe.STRUCTURE,weight:10,inStock:4},{id:"rig-inclinator",name:"Inclinatore 8 Truss",category:pe.STRUCTURE,weight:2,inStock:8},{id:"rig-pipe-black-150",name:"Palo Nero 1.5mt",category:pe.STRUCTURE,weight:3,inStock:20},{id:"rig-pipe-black-200",name:"Palo Nero 2.0mt (Conn. Truss)",category:pe.STRUCTURE,weight:4,inStock:10},{id:"rig-pipe-black-350",name:"Palo Nero 3.5mt",category:pe.STRUCTURE,weight:7,inStock:10},{id:"rig-pipe-black-400",name:"Palo Nero 4.0mt",category:pe.STRUCTURE,weight:8,inStock:10},{id:"rig-altalena",name:"Altalena Unirig Regolabile",category:pe.STRUCTURE,weight:5,inStock:10},{id:"rig-carrucola",name:"Carrucola x Tiro",category:pe.STRUCTURE,weight:1,inStock:10},{id:"rig-water-tank",name:"Tanica Acqua (Zavorra) + Attacchi",category:pe.STRUCTURE,weight:2,inStock:20,description:"Vuota"},{id:"rig-wood-shim",name:"Assette Legno (Spessori)",category:pe.STRUCTURE,weight:.5,inStock:50},{id:"rig-water-hose",name:"Kit Tubi Acqua 20mt",category:pe.TOOLS,weight:3,inStock:2}],Sj=[{id:"fx-hazer-tour",name:"Smoke Factory Tour Hazer II",category:pe.LIGHTS,weight:18,inStock:4,accessories:[{itemId:"ad-pcon-schuko",quantity:1},{itemId:"cons-liq-hazer",quantity:1}]},{id:"fx-antari-f7",name:"Antari F7 Smaze",category:pe.LIGHTS,weight:45,inStock:2,accessories:[{itemId:"cons-liq-hazer",quantity:1}]},{id:"fx-spok",name:"Smoke Factory Spok",category:pe.LIGHTS,weight:10,inStock:2,accessories:[{itemId:"cons-liq-hazer",quantity:1}]},{id:"fx-fan",name:"Ventola Chiocciola",category:pe.LIGHTS,weight:8,inStock:6},{id:"cons-liq-hazer",name:"Liquido Fumo/Hazer (5L)",category:pe.OTHER,weight:5,inStock:10}],kj=()=>{const r=[1,2.5,5,10,15,20,50],e=[{name:"Cavo XLR 3P",category:pe.AUDIO,maxLen:100,weightM:.1},{name:"Cavo Jack TS",category:pe.AUDIO,maxLen:10,weightM:.1},{name:"Cavo RCA",category:pe.AUDIO,maxLen:5,weightM:.05},{name:"Cavo Speakon NL4",category:pe.AUDIO,maxLen:25,weightM:.2},{name:"Cavo DMX 5P",category:pe.LIGHTS,maxLen:100,weightM:.12},{name:"Cavo DMX 3P",category:pe.LIGHTS,maxLen:100,weightM:.12},{name:"Cavo Ethercon Nero",category:pe.CABLES,maxLen:100,weightM:.08},{name:"Cavo Rete RJ45",category:pe.CABLES,maxLen:100,weightM:.05},{name:"Cavo BNC (SDI)",category:pe.VIDEO,maxLen:100,weightM:.06},{name:"Cavo HDMI (Rame)",category:pe.VIDEO,maxLen:10,weightM:.1},{name:"Cavo Fibra MM",category:pe.CABLES,maxLen:100,weightM:.02},{name:"Cavo Fibra SM",category:pe.CABLES,maxLen:100,weightM:.02},{name:"Link True1",category:pe.CABLES,maxLen:100,weightM:.2},{name:"Link Powercon (Blu/White)",category:pe.CABLES,maxLen:100,weightM:.2},{name:"Combo True1 + DMX",category:pe.CABLES,maxLen:100,weightM:.35},{name:"Combo PCON + DMX",category:pe.CABLES,maxLen:100,weightM:.35},{name:"Prolunga CEE 16A (Blu)",category:pe.CABLES,maxLen:100,weightM:.25},{name:"Prolunga CEE 32A (Rossa)",category:pe.CABLES,maxLen:100,weightM:.5},{name:"Prolunga CEE 63A (Rossa)",category:pe.CABLES,maxLen:100,weightM:.9},{name:"Prolunga CEE 125A (Rossa)",category:pe.CABLES,maxLen:100,weightM:2.5},{name:"Corda Powerlock (Singola)",category:pe.CABLES,maxLen:100,weightM:1.5},{name:"Cavo Socapex 19p",category:pe.CABLES,maxLen:25,weightM:.8},{name:"Cavo Mazzeri",category:pe.CABLES,maxLen:50,weightM:.15},{name:"Cavo Civile",category:pe.CABLES,maxLen:50,weightM:.15}],t=[];let n=1e4;return e.forEach(i=>{r.forEach(s=>{if(s>i.maxLen)return;n++;const a=s.toString().replace(".",",");t.push({id:`gen-cbl-${n}`,name:`${i.name} ${a}mt`,category:i.category,weight:parseFloat((i.weightM*s).toFixed(2)),inStock:20,description:`Generato automatico ${a}m`})})}),t},Ej=()=>{const r=[.15,.21,.4,.5,1,1.5,2,2.5,3,3.5,4],e=[];let t=5e3;return[{code:"sq30",name:"Truss 29x29",weightM:6},{code:"sq30-blk",name:"Truss 29x29 Nera",weightM:6},{code:"sq40",name:"Truss 40x40",weightM:10},{code:"sq40-blk",name:"Truss 40x40 Nera",weightM:10}].forEach(i=>{r.forEach(s=>{t++;const a=s.toString().replace(".",",");e.push({id:`truss-${i.code}-${t}`,name:`${i.name} ${a}mt`,category:pe.STRUCTURE,weight:parseFloat((i.weightM*s).toFixed(2)),inStock:12,accessories:[{itemId:"truss-acc-spigot",quantity:4},{itemId:"truss-acc-pin",quantity:8},{itemId:"truss-acc-clip",quantity:8}]})})}),e},Nj=()=>{const r=[];r.push({id:"stg-titan-21",name:"Pedana Titan 2x1m",category:pe.STRUCTURE,weight:32,inStock:40,accessories:[{itemId:"stg-acc-clamp",quantity:2}]}),r.push({id:"stg-titan-21-nice",name:'Pedana "Bella" 2x1m',category:pe.STRUCTURE,weight:32,inStock:20,accessories:[{itemId:"stg-acc-clamp",quantity:2}]}),r.push({id:"stg-titan-11",name:"Pedana Titan 1x1m",category:pe.STRUCTURE,weight:18,inStock:20,accessories:[{itemId:"stg-acc-clamp",quantity:2}]}),r.push({id:"stg-titan-105",name:"Pedana Titan 1x0.5m",category:pe.STRUCTURE,weight:12,inStock:10,accessories:[{itemId:"stg-acc-clamp",quantity:2}]}),r.push({id:"stg-mammut-21",name:"Pedana Mammut 2x1m",category:pe.STRUCTURE,weight:40,inStock:10});const e=[20,40,60,80,100],t=["2x1","1x1","1x0.5"];return e.forEach(n=>{t.forEach(i=>{r.push({id:`stg-riser-${i.replace(".","")}-${n}`,name:`Riser Titan ${i}m H${n}cm`,category:pe.STRUCTURE,weight:3,inStock:20,accessories:[{itemId:"stg-acc-pin",quantity:6}]})})}),r.push({id:"stg-leg-tele",name:"Gamba Telescopica 60-100cm",category:pe.STRUCTURE,weight:1,inStock:100}),r.push({id:"stg-skirt",name:"Skirting Nero (TNT)",category:pe.OTHER,weight:1,inStock:100}),r.push({id:"stg-moquette-21",name:"Moquette 2x1 Nera",category:pe.OTHER,weight:1,inStock:50}),r.push({id:"stg-moquette-11",name:"Moquette 1x1 Nera",category:pe.OTHER,weight:.5,inStock:20}),r},Cj=[{id:"cons-gaffa-blk",name:"Gaffa Nero Opaco",category:pe.OTHER,weight:.5,inStock:50},{id:"cons-gaffa-wht",name:"Gaffa Bianco",category:pe.OTHER,weight:.5,inStock:20},{id:"cons-gaffa-col",name:"Gaffa Colorato (Mix)",category:pe.OTHER,weight:.5,inStock:20},{id:"cons-iso",name:"Nastro Isolante Nero (Mix)",category:pe.OTHER,weight:.1,inStock:50},{id:"cons-iso-grey",name:"Nastro Isolante Grigio",category:pe.OTHER,weight:.1,inStock:20},{id:"cons-iso-col",name:"Nastro Isolante Colorato",category:pe.OTHER,weight:.1,inStock:20},{id:"cons-zip-big",name:"Fascette Grandi Nere",category:pe.OTHER,weight:.5,inStock:50},{id:"cons-zip-med",name:"Fascette Medie Nere",category:pe.OTHER,weight:.3,inStock:50},{id:"cons-batt-aa",name:"Batterie AA",category:pe.OTHER,weight:.1,inStock:100},{id:"cons-batt-9v",name:"Batterie 9V",category:pe.OTHER,weight:.1,inStock:30},{id:"cons-tnt-blk",name:"TNT Nero (Bobina)",category:pe.OTHER,weight:5,inStock:10},{id:"cons-biades",name:"Biadesivo",category:pe.OTHER,weight:.2,inStock:20},{id:"cons-marker",name:"Pennarello Indelebile",category:pe.OTHER,weight:.05,inStock:20},{id:"tool-box",name:"Scatola Attrezzi Completa (USAG)",category:pe.TOOLS,weight:15,inStock:4},{id:"tool-drill",name:"Avvitatore + Batterie",category:pe.TOOLS,weight:4,inStock:4},{id:"tool-ladder",name:"Scala 7 Pioli",category:pe.TOOLS,weight:10,inStock:2},{id:"tool-ladder-high",name:"Scala Alta",category:pe.TOOLS,weight:15,inStock:2},{id:"tool-transpallet",name:"Transpallet",category:pe.TOOLS,weight:60,inStock:2}],Aj=[...mj,...gj,...vj,...yj,...wj,...bj,...xj,..._j,...Sj,...Cj,...kj(),...Ej(),...Nj()],Ij=[{id:"k-vid-abs-6",name:"Baule Absen PL2.5 (6pz)",category:pe.VIDEO,items:[{itemId:"vid-abs-pl25",quantity:6},{itemId:"cbl-link-true1-100",quantity:6},{itemId:"cbl-eth-100",quantity:6}]},{id:"k-vid-abs-cnr-6",name:"Baule Absen Angolari (3L+3R)",category:pe.VIDEO,items:[{itemId:"vid-abs-pl25-l",quantity:3},{itemId:"vid-abs-pl25-r",quantity:3},{itemId:"cbl-link-true1-100",quantity:6},{itemId:"cbl-eth-100",quantity:6}]},{id:"k-vid-inf-10",name:"Baule Infiled 2.6 (10pz)",category:pe.VIDEO,items:[{itemId:"vid-inf-26",quantity:10},{itemId:"cbl-link-pcon-050",quantity:10},{itemId:"cbl-eth-050",quantity:10}]},{id:"k-vid-yes-10",name:"Baule Yestech 3.9 (10pz)",category:pe.VIDEO,items:[{itemId:"vid-yes-39",quantity:10},{itemId:"ad-eth-barrel",quantity:1}]},{id:"k-lgt-mega-4",name:"Baule Robe MegaPointe (4pz)",category:pe.LIGHTS,items:[{itemId:"lgt-robe-megapointe",quantity:4},{itemId:"ad-tr1-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:8}]},{id:"k-lgt-350-4",name:"Baule Robe LEDBeam 350 (4pz)",category:pe.LIGHTS,items:[{itemId:"lgt-robe-350-spot",quantity:4},{itemId:"ad-tr1-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:4}]},{id:"k-lgt-esp-2",name:"Baule Robe Esprite (2pz)",category:pe.LIGHTS,items:[{itemId:"lgt-robe-esprite",quantity:2},{itemId:"ad-tr1-schuko",quantity:2},{itemId:"acc-safety",quantity:2},{itemId:"acc-clamp-omega",quantity:4}]},{id:"k-lgt-hel-4",name:"Baule Showtec Helix (4pz)",category:pe.LIGHTS,items:[{itemId:"lgt-helix",quantity:4},{itemId:"lgt-opt-helix-1560",quantity:4},{itemId:"ad-tr1-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:8}]},{id:"k-lgt-shp-4",name:"Baule CP Sharpy (4pz)",category:pe.LIGHTS,items:[{itemId:"lgt-cp-sharpy",quantity:4},{itemId:"ad-pcon-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:8}]},{id:"k-lgt-k10-4",name:"Baule CP B-EYE K10 (4pz)",category:pe.LIGHTS,items:[{itemId:"lgt-cp-k10",quantity:4},{itemId:"ad-tr1-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:8}]},{id:"k-lgt-minib-6",name:"Baule CP Mini-B (6pz)",category:pe.LIGHTS,items:[{itemId:"lgt-cp-minib",quantity:6},{itemId:"ad-tr1-schuko",quantity:6},{itemId:"acc-safety",quantity:6},{itemId:"acc-clamp-omega",quantity:6}]}],Lx=[{id:"1",title:"1. SETTORE STRUTTURE & RIGGING",subtitle:"Scheletro - La base fisica dell'evento",groups:[{title:"Americane (Truss)",items:["Truss Lineare 300 cm","Truss Lineare 200 cm","Truss Lineare 100 cm","Truss Lineare 50 cm / 25 cm (Spessori)","Truss Angolo 2 vie (90)","Truss Angolo 3 vie (T-Joint o Angolo + discesa)","Truss Angolo 4 vie (Croce)",'Cube / Dadi universali (+ relative "mezze uova")',"Truss Cerchio (diametro specificato)"]},{title:"Basi & Zavorre",items:["Basi a terra leggere (Alluminio)","Basi a terra pesanti (Ferro/Acciaio) per colonne alte","Zavorre aggiuntive (Acqua o Cemento) per outdoor","Outrigger (Stabilizzatori laterali per torri)"]},{title:"Connessioni Truss (Minuteria critica)",items:["Spine (Pins)","Coppiglie (R-Clips)","Conici (Ovetto/Spigot)","App Logic: Calcolare sempre +10% extra per smarrimenti","Martello in Rame o Gomma dura"]},{title:"Sollevamento (Rigging)",items:["Motori a catena (250kg / 500kg / 1T / 2T)","Lunghezza catena (10m / 20m / 24m)","Paranchi manuali a catena","Sollevatori a forche (Genie / Fenwick / Clark)","Torri di elevazione (Wind-up stands)"]},{title:"Controller Motori",items:["Motor Controller (4ch / 8ch)","Frusta comando (Pickle) per singolo motore","Cavi Harting/Soca per motori (Potenza + Comando)","Link cavi motori"]},{title:"Appenderia & Hardware",items:["Grilli (Shackles) da 3.25T o superiori","Fasce in poliestere (Spanset) - Nere per teatro, Viola/Verdi industriali","Acciai (Steels) con anima in metallo (Obbligatori come Secondary Safety)","O-Ring / Anelli master","Beam Clamps (Morsetti per travi IPE edili)","Tent Clamps (Morsetti per tensostrutture)"]},{title:"Palco (Stage)",items:["Pedane modulari (2x1m, 1x1m, 2x0.5m)","Gambe per pedane (Fisse 20/40/60/80cm o Telescopiche)","Morsetti ferma-pedane (Deck clamps - 2 vie e 4 vie)","Scaletta modulare accesso palco (+ corrimano)","Parapetti di sicurezza (Railings)","Skirting (Gonnella/Tessuto nero) + Velcro o Clips","Scivolo di carico (Ramp) se necessario"]}]},{id:"2",title:"2. SETTORE ELETTRICO (Power)",subtitle:"Distribuzione e Cablaggio di potenza",groups:[{title:"Main Power (L'arrivo)",items:["Cavi Powerlock (Single core - Terra/Neutro/L1/L2/L3) - Per carichi >63A","Cavo CEE 125A (5 poli)","Cavo CEE 63A (5 poli)","Cavo CEE 32A (5 poli)","Cavo CEE 16A (5 poli - Rossa) - Da non confondere con la blu!"]},{title:"Quadri & Distribuzione",items:["Power Box Generale (Input Powerlock/125/63 -> Output vari)","Distro di Settore (es. Rack 32A -> 6x o 12x Schuko/Socapex)",'Adattatori "T" o "Y" (Sdoppiatori CEE)',"Adattatori CEE -> Schuko (Funghi/Ragni)"]},{title:"Cablaggio Minuto (Dirty power)",items:["Cavi 16A Blu (Prolunghe industriali)","Cavi Schuko/VDE (3m, 5m, 10m, 20m)","Ciabatte (Multiprese) Nere","Cavi Link Powercon (Blu/Bianco o True1)"]},{title:"Sicurezza Cavi",items:["Passacavi carrabili (Yellow Jackets/Cable Cross)","Pedanine leggere da interno (Office friendly)","Tappetini in gomma (Rubber mats)"]}]},{id:"3",title:"3. SETTORE AUDIO",subtitle:"Sound Reinforcement",groups:[{title:"P.A. (Public Address)",items:["Line Array Module (Top)","Subwoofers","Point Source (Casse su stativo)","Front Fill / Lip Fill (Casse piccole bordo palco)","Delay Towers (Rilanci)","Amplificatori (se impianto passivo)","Processori di sistema (Lake, Galaxy, Matrix)"]},{title:"Monitoraggio",items:["Spie da terra (Wedges)","Side Fills (Casse laterali palco)","Drum Fill (Sub + Top per batterista)","In-Ear Monitors (Trasmettitori + Bodypack + Cuffie + Combiner Antenna + Antennas)"]},{title:"F.O.H. & Controllo",items:["Console Mixer (Digitale)","Cover antipolvere/sole per mixer","Stagebox / I/O Rack (Posizionato sul palco)","Tablet per controllo remoto Wi-Fi"]},{title:"Microfoni & Input",items:["Kit Batteria (Cassa, Rullante, Tom, Overhead, HiHat)","Microfoni Voce Filo (SM58, Beta58, ecc.)","Microfoni Strumento (SM57, e609, Condensatori matita)","Radiomicrofoni Handheld (Gelato)","Radiomicrofoni Beltpack + Archetto (Headset) o Lavalier","Batterie di scorta (AA / AAA / 9V) - Check Livello!","D.I. Box (Attive / Passive / Stereo)"]},{title:"Supporti (Stands)",items:["Aste microfoniche alte a giraffa","Aste microfoniche basse (nane)","Aste dritte (ritte) con base tonda pesante","Clip microfoniche (Standard e Grandi per radio)","Stativi per casse (Treppiedi o Pali distanziatori)"]},{title:"Cablaggio Audio",items:["Cavi XLR (Signal) - Corti/Medi/Lunghi","Cavi Jack-Jack (Strumenti)","Cavi Speakon (Potenza casse) - 2 poli / 4 poli / 8 poli","Fruste analogiche (Sub-snakes)","Cavi CAT5e/CAT6 o Fibra per Stagebox (Main + Backup)"]}]},{id:"4",title:"4. SETTORE LUCI",subtitle:"Lighting & Atmosphere",groups:[{title:"Fixtures (Corpi illuminanti)",items:["Moving Head SPOT","Moving Head WASH","Moving Head BEAM","Moving Head HYBRID / PROFILE","Battery LED Lights (Astera, ecc.) per eventi corporate/buffet","Barre LED (Battens)","Blinder (2-lite / 4-lite)","Strobo","Sagomatori (Profiles) + Portagobo + Lame","Fresnel / PC (Teatrali) + Bandiere (Barndoors)"]},{title:"Controllo",items:["Console Luci (GrandMA, Chamsys, Avolites, Hog)","Fader Wing (Espansioni)","UPS dedicato Console","Lampada da tavolo (Littlite)"]},{title:"Distribuzione Dati",items:["Splitter DMX","Nodi ArtNet / sACN","Cavi DMX 5 poli (Standard pro)","Cavi DMX 3 poli (Spesso per fari economici o fumo)","Terminatori DMX (Tappi di chiusura)"]},{title:"Rigging Luci",items:["Ganci (Clamps/Couplers) - Controllare compatibilit col tubo!","Staffe Omega (Gi montate sotto i fari?)","Cavetti di sicurezza (Safety bonds) - Obbligatori per legge"]}]},{id:"5",title:"5. SETTORE VIDEO",subtitle:"Proiezione e Ledwall",groups:[{title:"Proiezione",items:["Videoproiettori","Ottiche (Lens): Standard / Wide (Grandangolo) / Tele (Lunga distanza)","Staffe per appendimento (Clamps dedicate)","Gabbie di protezione/impilaggio (Frames)","Teli di proiezione (Superficie Frontale o Retro?)","Struttura Telo (Fast-fold) + Piedi + Zavorre"]},{title:"Ledwall",items:["Moduli Led (Cabinets)","Sending Cards / Processori Video (Novastar, Brompton)","Bumpers / Flying Bars (Barre per appendere)","Ground Stack System (Struttura per appoggio a terra)","Spare Parts (Moduli, alimentatori e cavetti di scorta)","Cavi rete corti (Cabinet to Cabinet)","Cavi alimentazione corti (Powercon link)"]},{title:"Regia Video",items:["Switcher / Mixer Video (Roland, Blackmagic, Barco, Analog Way)","Scaler / Convertitori di formato","Laptop Regia (Play, Resolume, PowerPoint) + Caricabatterie","Puntatore Laser / Clicker Slide (Master + Backup)","Monitor di confidenza (per palco)"]},{title:"Segnale Video",items:["Cavi HDMI (Corti <10m)","Cavi SDI (BNC) - Bobine 50m/100m","Fibra Ottica Video","Extender HDMI (su cavo CAT)","Barilotti (Femmina-Femmina) HDMI e BNC","Adattatori USB-C -> HDMI"]}]},{id:"6",title:"6. SETTORE IT & COMMS",subtitle:"Infrastruttura di rete e comunicazione",groups:[{title:"Intercom",items:["Stazione Base (Main station)","Beltpack a filo","Beltpack Wireless + Antenne","Cuffie (Headset): Singolo padiglione / Doppio padiglione (rumore forte)"]},{title:"Networking",items:["Switch di Rete (GigaBit)","Access Points Wi-Fi (per controllo iPad)","Bobine Cavo CAT5e / CAT6 (Shielded)","Plug RJ45 di scorta + Crimpatrice (non si sa mai)"]}]},{id:"7",title:"7. SETTORE STRIP LED & PIXEL",subtitle:"Illuminazione custom lineare",groups:[{title:"Hardware",items:["Bobine Strip Led (Verificare: Voltaggio e Colore)","Profili alluminio (Incasso / Superficie / Angolo)","Diffusori (Cover opali)","Tappi di chiusura e Clip di fissaggio"]},{title:"Elettronica",items:["Alimentatori (PSU) - 12V / 24V / 5V","Decoder DMX (per strip analogiche)","Pixel Controller SPI (per strip digitali)"]},{title:"Connessioni",items:["Saldatore a stagno + Rocchetto stagno","Morsetti Wago / Mammut","Cavo multipolare sottile (piattina rosso/nera o 4 poli)","Guaina termorestringente","Nastro Biadesivo VHB (Extra forte)"]}]},{id:"8",title:"8. SETTORE FX (Effetti Speciali)",subtitle:"Pyrotech, Co2 e Atmosfera",groups:[{title:"Macchine",items:["Hazer (Nebbia sottile, oil o water based)","Fog Machine (Fumo getto)","Low Fog (Fumo basso - Ghiaccio o Acqua?)","Sparkulars (Scintille a freddo)","Flame Jets (Lanciafiamme)","CO2 Jets / Gun","Confetti Cannons / Blaster","Ventilatori (AF-1, ecc.)"]},{title:"Consumabili (Check Bloccante)",items:["Liquido Fumo / Haze (Taniche piene?)","Polvere Titanio (Bustine per Sparkulars)","Bombole CO2 (Con pescante/tubo immersione per liquidi!)","Coriandoli (Confetti) e Stelle filanti (Streamers)","Ghiaccio secco (Dry Ice) se richiesto"]},{title:"Accessori FX",items:["Cavi Alta Pressione per CO2","Raccordi bombole","Cavi di sparo / DMX dedicato","Tasto E-Stop (Emergenza)"]}]},{id:"9",title:"9. SETTORE REGIA FOH (Generale)",subtitle:"Front of House setup",groups:[{title:"Infrastruttura",items:["Tavoli Regia (Pieghevoli o Flight case tables)","Sedie / Sgabelli alti","Gazebo / Tenda regia (se outdoor) + Pesi","Pedana rialzata (Riser)","Illuminazione cortesia (Led usb, Littlite)"]},{title:"Link Sala-Palco (Multicores)",items:["Frusta Audio principale","Linee DMX (Universe 1, 2, 3, 4...)","Fibre Ottiche Video","Cavi Rete (Internet/Controllo)"]},{title:"Power Safety",items:["UPS Regia Video","UPS Regia Luci","UPS Regia Audio"]}]},{id:"10",title:"10. ALLESTIMENTO, CONSUMABILI & TOOLBOX",subtitle:"Materiale di consumo e attrezzi",groups:[{title:"Nastri adesivi",items:["Gaffa Tape Nero (Opaco)","Gaffa Tape Bianco (Scrivibile)","Gaffa Tape Colorato (per segnare posizioni)","Nastro Isolante elettrico","Nastro Carta","Biadesivo (Moquette e Standard)"]},{title:"Fissaggio",items:["Fascette di plastica (Zip ties) - Nere e Bianche","Fascette Velcro riutilizzabili","Elastici con gancio (Bungees)","Cordinio nero (Tie-line)"]},{title:"Accessori Vari",items:["Batterie (Scorta massiccia AA, AAA, 9V)","Moquette / Tappeto danza","Scale (Doppia salita, Telescopica)","Trabattello"]},{title:"Toolbox (La valigia attrezzi)",items:["Cacciaviti, Pinze, Tronchesi","Chiavi inglesi, Chiavi a rullino","Set brugole / Chiavi Torx","Tester / Multimetro","Prova-cavi (Cable tester)","Saldatore gas/elettrico"]}]},{id:"11",title:"11. SCENARI & RICHIESTE CLIENTE",subtitle:"Oggetti specifici per tipologia evento",groups:[{title:"Conferenza / Corporate",items:["Leggio (Plexi o Legno)","Microfoni a collo d'oca (Gooseneck)","Monitor Timer/Countdown","Laptop Ospite kit (Adattatori video + Audio jack)"]},{title:"DJ Set",items:["Tavolo DJ alto (100cm) stabile","Monitor cassa spia potente","Hub di rete per linkare i CDJ"]},{title:"Live Band",items:["Leggii musicali + Lampade clip","Stand Chitarra / Basso / Tastiera (X-stand)","Tappeto per batteria (Drum carpet)","Trasformatore 110V-220V (Step-down)"]},{title:"Gala / Luxury",items:["Copri-cavi bianchi o passacavi verniciati","Calzini per stativi (Tripod covers) bianchi/neri","Casse audio bianche (se disponibili)"]},{title:"Panic Box (Kit Emergenza Cliente)",items:["Caricabatterie telefono (Lightning, USB-C, Micro-USB)","Adattatore Minijack -> iPhone/USB-C","Pennarelli indelebili","Chiavette USB vuote (formattate FAT32 e ExFat)","Carta e penne"]}]}];function Tj(){const[r,e]=Se.useState("home"),[t,n]=Se.useState([]),[i,s]=Se.useState([]),[a,c]=Se.useState([]),[u,d]=Se.useState([]),[f,w]=Se.useState(!0),[x,g]=Se.useState(null),[A,R]=Se.useState(()=>localStorage.getItem("cuepack_active_list_id")||""),[P,L]=Se.useState(!1);Se.useEffect(()=>{w(!0);const ce=Hp(Yg(cl,Ra),j=>{const N=[];j.forEach(k=>N.push(k.data())),n(N),j.empty&&!j.metadata.fromCache&&(console.log("Seeding Database with Initial Inventory..."),Ym(Ra,Aj))},j=>{console.error("Inventory Sync Error:",j),g("Errore di connessione al Database.")}),W=Hp(Yg(cl,Jd),j=>{const N=[];j.forEach(k=>N.push(k.data())),s(N),j.empty&&!j.metadata.fromCache&&(console.log("Seeding Database with Initial Kits..."),Ym(Jd,Ij))},j=>console.error("Kits Sync Error:",j)),O=Hp(Yg(cl,Ma),j=>{const N=[];j.forEach(k=>N.push(k.data())),c(N)},j=>{console.error("Lists Sync Error:",j)}),C=Hp(ph(cl,r1,"master"),j=>{j.exists()?d(j.data().categories):(console.log("Seeding Master Checklist..."),gy(ph(cl,r1,"master"),{categories:Lx}),d(Lx)),w(!1)},j=>{console.error("Checklist Sync Error:",j),w(!1)});return()=>{ce(),W(),O(),C()}},[]),Se.useEffect(()=>{A&&localStorage.setItem("cuepack_active_list_id",A)},[A]);const V=Se.useMemo(()=>a.find(ce=>ce.id===A),[a,A]),U=[{id:"home",label:"Home",icon:qP},{id:"inventory",label:"Inventario",icon:HP},{id:"kits",label:"Kit Materiale",icon:Of},{id:"lists",label:"Crea Liste",icon:FP},{id:"prep-material",label:"Magazzino",icon:QS}],z=()=>{dA(yy).catch(ce=>console.error("Logout error",ce))};if(f)return y.jsxs("div",{className:"h-screen bg-slate-950 flex items-center justify-center text-slate-400 flex-col gap-4",children:[y.jsx(_y,{className:"animate-spin",size:48}),y.jsx("p",{children:"Connessione al database in corso..."}),y.jsx("p",{className:"text-xs text-slate-600",children:"Assicurati di aver configurato le chiavi Firebase."})]});if(x)return y.jsxs("div",{className:"h-screen bg-slate-950 flex items-center justify-center text-rose-500 flex-col gap-4",children:[y.jsx(QP,{size:48}),y.jsx("p",{className:"font-bold text-xl",children:x}),y.jsx("p",{className:"text-slate-400",children:"Controlla la tua connessione internet o la configurazione .env"})]});const ne=()=>{switch(r){case"home":return y.jsx(dj,{inventory:t,kits:i,lists:a,setActiveListId:R,onNavigateToChecklist:()=>e("checklist-manager")});case"inventory":return y.jsx(XP,{items:t,packingLists:a});case"kits":return y.jsx(ZP,{kits:i,inventory:t});case"lists":return y.jsx(uj,{inventory:t,kits:i,lists:a,activeListId:A,setActiveListId:R});case"prep-material":return y.jsx(pj,{lists:a});case"checklist-manager":return y.jsx(fj,{checklist:u,onBack:()=>e("home")});default:return y.jsx("div",{children:"Seleziona una voce dal menu"})}};return y.jsxs("div",{className:"flex h-screen bg-slate-950 text-slate-100 overflow-hidden font-sans",children:[y.jsxs("aside",{className:"hidden md:flex w-72 flex-col bg-slate-900 border-r border-slate-800 shrink-0",children:[y.jsxs("div",{className:"p-6 border-b border-slate-800 shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center font-bold text-white",children:"C"}),y.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"CuePack"})]}),y.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Cloud Rental Management"})]}),y.jsx("nav",{className:"p-4 space-y-2 shrink-0",children:U.map(ce=>{const W=ce.icon;return y.jsxs("button",{onClick:()=>e(ce.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all
                   ${r===ce.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/30":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[y.jsx(W,{size:20}),y.jsx("span",{className:"font-medium",children:ce.label})]},ce.id)})}),V&&y.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col border-t border-slate-800 bg-slate-950/30",children:[y.jsxs("div",{className:"p-3 bg-slate-900/50 text-xs font-bold text-slate-500 uppercase tracking-wider border-b border-slate-800 flex justify-between items-center",children:[y.jsxs("span",{children:["Checklist: ",V.eventName.substring(0,12),V.eventName.length>12?"...":""]}),y.jsxs("span",{className:"bg-slate-800 px-1.5 rounded text-slate-400",children:[V.checklistCheckedItems?.length||0," OK"]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-0",children:y.jsx(hj,{activeList:V,checklist:u})})]}),!V&&y.jsx("div",{className:"flex-1 border-t border-slate-800 bg-slate-950/30 flex items-center justify-center text-slate-500 text-xs p-4 text-center",children:"Seleziona un evento per vedere la Checklist"}),y.jsxs("div",{className:"p-4 border-t border-slate-800 text-xs text-slate-600 shrink-0 bg-slate-900 flex justify-between items-center",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("span",{children:" R. Chiartano"}),y.jsx("span",{className:"opacity-50",children:"v0.4.5 (Secured)"})]}),y.jsx("button",{onClick:z,className:"p-2 hover:bg-slate-800 text-slate-400 hover:text-rose-500 rounded transition-colors",title:"Esci",children:y.jsx(w5,{size:16})})]})]}),y.jsxs("div",{className:`fixed inset-0 z-50 bg-slate-900 md:hidden transition-transform duration-300 ${P?"translate-x-0":"-translate-x-full"}`,children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800",children:[y.jsx("h1",{className:"text-xl font-bold",children:"Menu"}),y.jsx("button",{onClick:()=>L(!1),className:"text-slate-400",children:y.jsx(b5,{})})]}),y.jsxs("nav",{className:"p-6 space-y-4",children:[U.map(ce=>y.jsx("button",{onClick:()=>{e(ce.id),L(!1)},className:`w-full text-left px-4 py-3 rounded-lg text-lg font-medium ${r===ce.id?"bg-blue-600 text-white":"text-slate-400"}`,children:ce.label},ce.id)),y.jsx("div",{className:"pt-8 border-t border-slate-800",children:y.jsxs("button",{onClick:z,className:"w-full text-left px-4 py-3 rounded-lg text-lg font-medium text-rose-500 hover:bg-slate-800 flex items-center gap-2",children:[y.jsx(w5,{size:20})," Esci"]})})]})]}),y.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[y.jsxs("header",{className:"md:hidden flex items-center justify-between p-4 bg-slate-900 border-b border-slate-800",children:[y.jsx("div",{className:"font-bold text-lg",children:"CuePack"}),y.jsx("button",{onClick:()=>L(!0),className:"text-slate-300",children:y.jsx(b5,{})})]}),y.jsx("div",{className:"flex-1 overflow-hidden bg-slate-950 relative",children:ne()})]})]})}function Pj(){const[r,e]=Se.useState(""),[t,n]=Se.useState(""),[i,s]=Se.useState(null),[a,c]=Se.useState(!1),u=async d=>{d.preventDefault(),s(null),c(!0);try{await aA(yy,r,t)}catch(f){console.error("Login error:",f),f.code==="auth/invalid-credential"||f.code==="auth/user-not-found"||f.code==="auth/wrong-password"?s("Email o password non corretti."):f.code==="auth/too-many-requests"?s("Troppi tentativi falliti. Riprova pi tardi."):s("Si  verificato un errore durante l'accesso."),c(!1)}};return y.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:y.jsxs("div",{className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl p-8 shadow-2xl",children:[y.jsxs("div",{className:"flex flex-col items-center mb-8",children:[y.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/40",children:y.jsx($P,{className:"text-white",size:24})}),y.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"CuePack Manager"}),y.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Accedi per gestire il magazzino"})]}),y.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i&&y.jsxs("div",{className:"bg-rose-950/50 border border-rose-900/50 text-rose-200 text-sm p-3 rounded-lg flex items-center gap-2",children:[y.jsx($S,{size:16}),i]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5 ml-1",children:"Email"}),y.jsx("input",{type:"email",required:!0,className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder:text-slate-600",placeholder:"nome@dominio.com",value:r,onChange:d=>e(d.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5 ml-1",children:"Password"}),y.jsx("input",{type:"password",required:!0,className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder:text-slate-600",placeholder:"",value:t,onChange:d=>n(d.target.value)})]}),y.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg mt-6 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a?y.jsx(_y,{className:"animate-spin",size:20}):"Accedi"})]}),y.jsx("div",{className:"mt-8 text-center",children:y.jsx("p",{className:"text-xs text-slate-600",children:"Non hai un account? Contatta l'amministratore."})})]})})}function Dj(){const[r,e]=Se.useState(null),[t,n]=Se.useState(!0);return Se.useEffect(()=>{const i=uA(yy,s=>{e(s),n(!1)});return()=>i()},[]),t?y.jsx("div",{className:"h-screen w-screen bg-slate-950 flex items-center justify-center text-slate-500",children:y.jsx(_y,{className:"animate-spin",size:32})}):r?y.jsx(Tj,{}):y.jsx(Pj,{})}window.addEventListener("error",r=>{const e=document.createElement("div");Object.assign(e.style,{position:"fixed",top:"0",left:"0",width:"100%",padding:"20px",backgroundColor:"#ef4444",color:"white",zIndex:"99999",fontFamily:"monospace",whiteSpace:"pre-wrap"}),e.textContent=`Runtime Error: ${r.message}
At: ${r.filename}:${r.lineno}`,document.body.appendChild(e)});window.addEventListener("unhandledrejection",r=>{const e=document.createElement("div");Object.assign(e.style,{position:"fixed",bottom:"0",left:"0",width:"100%",padding:"20px",backgroundColor:"#f97316",color:"white",zIndex:"99999",fontFamily:"monospace",whiteSpace:"pre-wrap"}),e.textContent=`Unhandled Promise Rejection: ${r.reason}`,document.body.appendChild(e)});const HE=document.getElementById("root");if(!HE)throw new Error("Could not find root element to mount to");const Lj=D4.createRoot(HE);Lj.render(y.jsx(Be.StrictMode,{children:y.jsx(Dj,{})}));export{vr as _,Rj as c,E1 as g};
