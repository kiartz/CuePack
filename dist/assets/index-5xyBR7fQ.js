function kN(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var M7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function E1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dg={exports:{}},rf={},Lg={exports:{}},Mn={};var H2;function EN(){if(H2)return Mn;H2=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),w=Symbol.iterator;function b(te){return te===null||typeof te!="object"?null:(te=w&&te[w]||te["@@iterator"],typeof te=="function"?te:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,D={};function T(te,j,F){this.props=te,this.context=j,this.refs=D,this.updater=F||v}T.prototype.isReactComponent={},T.prototype.setState=function(te,j){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,j,"setState")},T.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function P(){}P.prototype=T.prototype;function U(te,j,F){this.props=te,this.context=j,this.refs=D,this.updater=F||v}var V=U.prototype=new P;V.constructor=U,E(V,T.prototype),V.isPureReactComponent=!0;var H=Array.isArray,ie=Object.prototype.hasOwnProperty,de={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function O(te,j,F){var Y,se={},le=null,ye=null;if(j!=null)for(Y in j.ref!==void 0&&(ye=j.ref),j.key!==void 0&&(le=""+j.key),j)ie.call(j,Y)&&!q.hasOwnProperty(Y)&&(se[Y]=j[Y]);var fe=arguments.length-2;if(fe===1)se.children=F;else if(1<fe){for(var he=Array(fe),Te=0;Te<fe;Te++)he[Te]=arguments[Te+2];se.children=he}if(te&&te.defaultProps)for(Y in fe=te.defaultProps,fe)se[Y]===void 0&&(se[Y]=fe[Y]);return{$$typeof:r,type:te,key:le,ref:ye,props:se,_owner:de.current}}function M(te,j){return{$$typeof:r,type:te.type,key:j,ref:te.ref,props:te.props,_owner:te._owner}}function z(te){return typeof te=="object"&&te!==null&&te.$$typeof===r}function N(te){var j={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(F){return j[F]})}var I=/\/+/g;function L(te,j){return typeof te=="object"&&te!==null&&te.key!=null?N(""+te.key):j.toString(36)}function ee(te,j,F,Y,se){var le=typeof te;(le==="undefined"||le==="boolean")&&(te=null);var ye=!1;if(te===null)ye=!0;else switch(le){case"string":case"number":ye=!0;break;case"object":switch(te.$$typeof){case r:case e:ye=!0}}if(ye)return ye=te,se=se(ye),te=Y===""?"."+L(ye,0):Y,H(se)?(F="",te!=null&&(F=te.replace(I,"$&/")+"/"),ee(se,j,F,"",function(Te){return Te})):se!=null&&(z(se)&&(se=M(se,F+(!se.key||ye&&ye.key===se.key?"":(""+se.key).replace(I,"$&/")+"/")+te)),j.push(se)),1;if(ye=0,Y=Y===""?".":Y+":",H(te))for(var fe=0;fe<te.length;fe++){le=te[fe];var he=Y+L(le,fe);ye+=ee(le,j,F,he,se)}else if(he=b(te),typeof he=="function")for(te=he.call(te),fe=0;!(le=te.next()).done;)le=le.value,he=Y+L(le,fe++),ye+=ee(le,j,F,he,se);else if(le==="object")throw j=String(te),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return ye}function ve(te,j,F){if(te==null)return te;var Y=[],se=0;return ee(te,Y,"","",function(le){return j.call(F,le,se++)}),Y}function Ne(te){if(te._status===-1){var j=te._result;j=j(),j.then(function(F){(te._status===0||te._status===-1)&&(te._status=1,te._result=F)},function(F){(te._status===0||te._status===-1)&&(te._status=2,te._result=F)}),te._status===-1&&(te._status=0,te._result=j)}if(te._status===1)return te._result.default;throw te._result}var be={current:null},oe={transition:null},_e={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:oe,ReactCurrentOwner:de};function ge(){throw Error("act(...) is not supported in production builds of React.")}return Mn.Children={map:ve,forEach:function(te,j,F){ve(te,function(){j.apply(this,arguments)},F)},count:function(te){var j=0;return ve(te,function(){j++}),j},toArray:function(te){return ve(te,function(j){return j})||[]},only:function(te){if(!z(te))throw Error("React.Children.only expected to receive a single React element child.");return te}},Mn.Component=T,Mn.Fragment=t,Mn.Profiler=i,Mn.PureComponent=U,Mn.StrictMode=n,Mn.Suspense=u,Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,Mn.act=ge,Mn.cloneElement=function(te,j,F){if(te==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+te+".");var Y=E({},te.props),se=te.key,le=te.ref,ye=te._owner;if(j!=null){if(j.ref!==void 0&&(le=j.ref,ye=de.current),j.key!==void 0&&(se=""+j.key),te.type&&te.type.defaultProps)var fe=te.type.defaultProps;for(he in j)ie.call(j,he)&&!q.hasOwnProperty(he)&&(Y[he]=j[he]===void 0&&fe!==void 0?fe[he]:j[he])}var he=arguments.length-2;if(he===1)Y.children=F;else if(1<he){fe=Array(he);for(var Te=0;Te<he;Te++)fe[Te]=arguments[Te+2];Y.children=fe}return{$$typeof:r,type:te.type,key:se,ref:le,props:Y,_owner:ye}},Mn.createContext=function(te){return te={$$typeof:a,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},te.Provider={$$typeof:s,_context:te},te.Consumer=te},Mn.createElement=O,Mn.createFactory=function(te){var j=O.bind(null,te);return j.type=te,j},Mn.createRef=function(){return{current:null}},Mn.forwardRef=function(te){return{$$typeof:c,render:te}},Mn.isValidElement=z,Mn.lazy=function(te){return{$$typeof:f,_payload:{_status:-1,_result:te},_init:Ne}},Mn.memo=function(te,j){return{$$typeof:d,type:te,compare:j===void 0?null:j}},Mn.startTransition=function(te){var j=oe.transition;oe.transition={};try{te()}finally{oe.transition=j}},Mn.unstable_act=ge,Mn.useCallback=function(te,j){return be.current.useCallback(te,j)},Mn.useContext=function(te){return be.current.useContext(te)},Mn.useDebugValue=function(){},Mn.useDeferredValue=function(te){return be.current.useDeferredValue(te)},Mn.useEffect=function(te,j){return be.current.useEffect(te,j)},Mn.useId=function(){return be.current.useId()},Mn.useImperativeHandle=function(te,j,F){return be.current.useImperativeHandle(te,j,F)},Mn.useInsertionEffect=function(te,j){return be.current.useInsertionEffect(te,j)},Mn.useLayoutEffect=function(te,j){return be.current.useLayoutEffect(te,j)},Mn.useMemo=function(te,j){return be.current.useMemo(te,j)},Mn.useReducer=function(te,j,F){return be.current.useReducer(te,j,F)},Mn.useRef=function(te){return be.current.useRef(te)},Mn.useState=function(te){return be.current.useState(te)},Mn.useSyncExternalStore=function(te,j,F){return be.current.useSyncExternalStore(te,j,F)},Mn.useTransition=function(){return be.current.useTransition()},Mn.version="18.3.1",Mn}var W2;function N1(){return W2||(W2=1,Lg.exports=EN()),Lg.exports}var $2;function NN(){if($2)return rf;$2=1;var r=N1(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,d){var f,w={},b=null,v=null;d!==void 0&&(b=""+d),u.key!==void 0&&(b=""+u.key),u.ref!==void 0&&(v=u.ref);for(f in u)n.call(u,f)&&!s.hasOwnProperty(f)&&(w[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)w[f]===void 0&&(w[f]=u[f]);return{$$typeof:e,type:c,key:b,ref:v,props:w,_owner:i.current}}return rf.Fragment=t,rf.jsx=a,rf.jsxs=a,rf}var Y2;function CN(){return Y2||(Y2=1,Dg.exports=NN()),Dg.exports}var g=CN(),Se=N1();const Ve=E1(Se),Rb=kN({__proto__:null,default:Ve},[Se]);var Bp={},Rg={exports:{}},No={},Mg={exports:{}},Og={};var G2;function IN(){return G2||(G2=1,(function(r){function e(oe,_e){var ge=oe.length;oe.push(_e);e:for(;0<ge;){var te=ge-1>>>1,j=oe[te];if(0<i(j,_e))oe[te]=_e,oe[ge]=j,ge=te;else break e}}function t(oe){return oe.length===0?null:oe[0]}function n(oe){if(oe.length===0)return null;var _e=oe[0],ge=oe.pop();if(ge!==_e){oe[0]=ge;e:for(var te=0,j=oe.length,F=j>>>1;te<F;){var Y=2*(te+1)-1,se=oe[Y],le=Y+1,ye=oe[le];if(0>i(se,ge))le<j&&0>i(ye,se)?(oe[te]=ye,oe[le]=ge,te=le):(oe[te]=se,oe[Y]=ge,te=Y);else if(le<j&&0>i(ye,ge))oe[te]=ye,oe[le]=ge,te=le;else break e}}return _e}function i(oe,_e){var ge=oe.sortIndex-_e.sortIndex;return ge!==0?ge:oe.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();r.unstable_now=function(){return a.now()-c}}var u=[],d=[],f=1,w=null,b=3,v=!1,E=!1,D=!1,T=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(oe){for(var _e=t(d);_e!==null;){if(_e.callback===null)n(d);else if(_e.startTime<=oe)n(d),_e.sortIndex=_e.expirationTime,e(u,_e);else break;_e=t(d)}}function H(oe){if(D=!1,V(oe),!E)if(t(u)!==null)E=!0,Ne(ie);else{var _e=t(d);_e!==null&&be(H,_e.startTime-oe)}}function ie(oe,_e){E=!1,D&&(D=!1,P(O),O=-1),v=!0;var ge=b;try{for(V(_e),w=t(u);w!==null&&(!(w.expirationTime>_e)||oe&&!N());){var te=w.callback;if(typeof te=="function"){w.callback=null,b=w.priorityLevel;var j=te(w.expirationTime<=_e);_e=r.unstable_now(),typeof j=="function"?w.callback=j:w===t(u)&&n(u),V(_e)}else n(u);w=t(u)}if(w!==null)var F=!0;else{var Y=t(d);Y!==null&&be(H,Y.startTime-_e),F=!1}return F}finally{w=null,b=ge,v=!1}}var de=!1,q=null,O=-1,M=5,z=-1;function N(){return!(r.unstable_now()-z<M)}function I(){if(q!==null){var oe=r.unstable_now();z=oe;var _e=!0;try{_e=q(!0,oe)}finally{_e?L():(de=!1,q=null)}}else de=!1}var L;if(typeof U=="function")L=function(){U(I)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ve=ee.port2;ee.port1.onmessage=I,L=function(){ve.postMessage(null)}}else L=function(){T(I,0)};function Ne(oe){q=oe,de||(de=!0,L())}function be(oe,_e){O=T(function(){oe(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(oe){oe.callback=null},r.unstable_continueExecution=function(){E||v||(E=!0,Ne(ie))},r.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<oe?Math.floor(1e3/oe):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return t(u)},r.unstable_next=function(oe){switch(b){case 1:case 2:case 3:var _e=3;break;default:_e=b}var ge=b;b=_e;try{return oe()}finally{b=ge}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(oe,_e){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ge=b;b=oe;try{return _e()}finally{b=ge}},r.unstable_scheduleCallback=function(oe,_e,ge){var te=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?te+ge:te):ge=te,oe){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ge+j,oe={id:f++,callback:_e,priorityLevel:oe,startTime:ge,expirationTime:j,sortIndex:-1},ge>te?(oe.sortIndex=ge,e(d,oe),t(u)===null&&oe===t(d)&&(D?(P(O),O=-1):D=!0,be(H,ge-te))):(oe.sortIndex=j,e(u,oe),E||v||(E=!0,Ne(ie))),oe},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(oe){var _e=b;return function(){var ge=b;b=_e;try{return oe.apply(this,arguments)}finally{b=ge}}}})(Og)),Og}var K2;function AN(){return K2||(K2=1,Mg.exports=IN()),Mg.exports}var Q2;function TN(){if(Q2)return No;Q2=1;var r=N1(),e=AN();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},w={};function b(o){return u.call(w,o)?!0:u.call(f,o)?!1:d.test(o)?w[o]=!0:(f[o]=!0,!1)}function v(o,l,h,y){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function E(o,l,h,y){if(l===null||typeof l>"u"||v(o,l,h,y))return!0;if(y)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function D(o,l,h,y,S,A,K){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=S,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=A,this.removeEmptyString=K}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){T[o]=new D(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];T[l]=new D(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){T[o]=new D(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){T[o]=new D(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){T[o]=new D(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){T[o]=new D(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){T[o]=new D(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){T[o]=new D(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){T[o]=new D(o,5,!1,o.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function U(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(P,U);T[l]=new D(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(P,U);T[l]=new D(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(P,U);T[l]=new D(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){T[o]=new D(o,1,!1,o.toLowerCase(),null,!1,!1)}),T.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){T[o]=new D(o,1,!1,o.toLowerCase(),null,!0,!0)});function V(o,l,h,y){var S=T.hasOwnProperty(l)?T[l]:null;(S!==null?S.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(E(l,h,S,y)&&(h=null),y||S===null?b(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):S.mustUseProperty?o[S.propertyName]=h===null?S.type===3?!1:"":h:(l=S.attributeName,y=S.attributeNamespace,h===null?o.removeAttribute(l):(S=S.type,h=S===3||S===4&&h===!0?"":""+h,y?o.setAttributeNS(y,l,h):o.setAttribute(l,h))))}var H=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),de=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),oe=Symbol.iterator;function _e(o){return o===null||typeof o!="object"?null:(o=oe&&o[oe]||o["@@iterator"],typeof o=="function"?o:null)}var ge=Object.assign,te;function j(o){if(te===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);te=l&&l[1]||""}return`
`+te+o}var F=!1;function Y(o,l){if(!o||F)return"";F=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Ue){var y=Ue}Reflect.construct(o,[],l)}else{try{l.call()}catch(Ue){y=Ue}o.call(l.prototype)}else{try{throw Error()}catch(Ue){y=Ue}o()}}catch(Ue){if(Ue&&y&&typeof Ue.stack=="string"){for(var S=Ue.stack.split(`
`),A=y.stack.split(`
`),K=S.length-1,pe=A.length-1;1<=K&&0<=pe&&S[K]!==A[pe];)pe--;for(;1<=K&&0<=pe;K--,pe--)if(S[K]!==A[pe]){if(K!==1||pe!==1)do if(K--,pe--,0>pe||S[K]!==A[pe]){var Ee=`
`+S[K].replace(" at new "," at ");return o.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",o.displayName)),Ee}while(1<=K&&0<=pe);break}}}finally{F=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?j(o):""}function se(o){switch(o.tag){case 5:return j(o.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return o=Y(o.type,!1),o;case 11:return o=Y(o.type.render,!1),o;case 1:return o=Y(o.type,!0),o;default:return""}}function le(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case q:return"Fragment";case de:return"Portal";case M:return"Profiler";case O:return"StrictMode";case L:return"Suspense";case ee:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case N:return(o.displayName||"Context")+".Consumer";case z:return(o._context.displayName||"Context")+".Provider";case I:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ve:return l=o.displayName||null,l!==null?l:le(o.type)||"Memo";case Ne:l=o._payload,o=o._init;try{return le(o(l))}catch{}}return null}function ye(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(l);case 8:return l===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function fe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function he(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Te(o){var l=he(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),y=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var S=h.get,A=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return S.call(this)},set:function(K){y=""+K,A.call(this,K)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(K){y=""+K},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Fe(o){o._valueTracker||(o._valueTracker=Te(o))}function $e(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),y="";return o&&(y=he(o)?o.checked?"true":"false":o.value),o=y,o!==h?(l.setValue(o),!0):!1}function Ye(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ht(o,l){var h=l.checked;return ge({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function J(o,l){var h=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;h=fe(l.value!=null?l.value:h),o._wrapperState={initialChecked:y,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ge(o,l){l=l.checked,l!=null&&V(o,"checked",l,!1)}function at(o,l){Ge(o,l);var h=fe(l.value),y=l.type;if(h!=null)y==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Qe(o,l.type,h):l.hasOwnProperty("defaultValue")&&Qe(o,l.type,fe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function lt(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Qe(o,l,h){(l!=="number"||Ye(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var bt=Array.isArray;function pt(o,l,h,y){if(o=o.options,l){l={};for(var S=0;S<h.length;S++)l["$"+h[S]]=!0;for(h=0;h<o.length;h++)S=l.hasOwnProperty("$"+o[h].value),o[h].selected!==S&&(o[h].selected=S),S&&y&&(o[h].defaultSelected=!0)}else{for(h=""+fe(h),l=null,S=0;S<o.length;S++){if(o[S].value===h){o[S].selected=!0,y&&(o[S].defaultSelected=!0);return}l!==null||o[S].disabled||(l=o[S])}l!==null&&(l.selected=!0)}}function Rt(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ge({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function vt(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(bt(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:fe(h)}}function hn(o,l){var h=fe(l.value),y=fe(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),y!=null&&(o.defaultValue=""+y)}function xt(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Et(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Et(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var nn,St=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,y,S){MSApp.execUnsafeLocalFunction(function(){return o(l,h,y,S)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(nn=nn||document.createElement("div"),nn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=nn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Jt(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var Ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nr=["Webkit","ms","Moz","O"];Object.keys(Ct).forEach(function(o){nr.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Ct[l]=Ct[o]})});function Je(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Ct.hasOwnProperty(o)&&Ct[o]?(""+l).trim():l+"px"}function ln(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var y=h.indexOf("--")===0,S=Je(h,l[h],y);h==="float"&&(h="cssFloat"),y?o.setProperty(h,S):o[h]=S}}var _t=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wn(o,l){if(l){if(_t[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function ut(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tn=null;function Gt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zt=null,En=null,an=null;function $t(o){if(o=Ic(o)){if(typeof Zt!="function")throw Error(t(280));var l=o.stateNode;l&&(l=ku(l),Zt(o.stateNode,o.type,l))}}function kn(o){En?an?an.push(o):an=[o]:En=o}function _i(){if(En){var o=En,l=an;if(an=En=null,$t(o),l)for(o=0;o<l.length;o++)$t(l[o])}}function mr(o,l){return o(l)}function Br(){}var ti=!1;function Bt(o,l,h){if(ti)return o(l,h);ti=!0;try{return mr(o,l,h)}finally{ti=!1,(En!==null||an!==null)&&(Br(),_i())}}function Kt(o,l){var h=o.stateNode;if(h===null)return null;var y=ku(h);if(y===null)return null;h=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var gr=!1;if(c)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){gr=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{gr=!1}function ni(o,l,h,y,S,A,K,pe,Ee){var Ue=Array.prototype.slice.call(arguments,3);try{l.apply(h,Ue)}catch(nt){this.onError(nt)}}var rr=!1,Ir=null,or=!1,Xs=null,ho={onError:function(o){rr=!0,Ir=o}};function Li(o,l,h,y,S,A,K,pe,Ee){rr=!1,Ir=null,ni.apply(ho,arguments)}function gs(o,l,h,y,S,A,K,pe,Ee){if(Li.apply(this,arguments),rr){if(rr){var Ue=Ir;rr=!1,Ir=null}else throw Error(t(198));or||(or=!0,Xs=Ue)}}function Dr(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function Si(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Lr(o){if(Dr(o)!==o)throw Error(t(188))}function fo(o){var l=o.alternate;if(!l){if(l=Dr(o),l===null)throw Error(t(188));return l!==o?null:o}for(var h=o,y=l;;){var S=h.return;if(S===null)break;var A=S.alternate;if(A===null){if(y=S.return,y!==null){h=y;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===h)return Lr(S),o;if(A===y)return Lr(S),l;A=A.sibling}throw Error(t(188))}if(h.return!==y.return)h=S,y=A;else{for(var K=!1,pe=S.child;pe;){if(pe===h){K=!0,h=S,y=A;break}if(pe===y){K=!0,y=S,h=A;break}pe=pe.sibling}if(!K){for(pe=A.child;pe;){if(pe===h){K=!0,h=A,y=S;break}if(pe===y){K=!0,y=A,h=S;break}pe=pe.sibling}if(!K)throw Error(t(189))}}if(h.alternate!==y)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?o:l}function Hi(o){return o=fo(o),o!==null?vs(o):null}function vs(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=vs(o);if(l!==null)return l;o=o.sibling}return null}var os=e.unstable_scheduleCallback,Js=e.unstable_cancelCallback,Do=e.unstable_shouldYield,Dl=e.unstable_requestPaint,zn=e.unstable_now,Lo=e.unstable_getCurrentPriorityLevel,po=e.unstable_ImmediatePriority,ri=e.unstable_UserBlockingPriority,Ri=e.unstable_NormalPriority,Zo=e.unstable_LowPriority,ea=e.unstable_IdlePriority,mo=null,Mi=null;function ba(o){if(Mi&&typeof Mi.onCommitFiberRoot=="function")try{Mi.onCommitFiberRoot(mo,o,void 0,(o.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:Nr,Zs=Math.log,Qa=Math.LN2;function Nr(o){return o>>>=0,o===0?32:31-(Zs(o)/Qa|0)|0}var Ro=64,Wi=4194304;function ys(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function G(o,l){var h=o.pendingLanes;if(h===0)return 0;var y=0,S=o.suspendedLanes,A=o.pingedLanes,K=h&268435455;if(K!==0){var pe=K&~S;pe!==0?y=ys(pe):(A&=K,A!==0&&(y=ys(A)))}else K=h&~S,K!==0?y=ys(K):A!==0&&(y=ys(A));if(y===0)return 0;if(l!==0&&l!==y&&(l&S)===0&&(S=y&-y,A=l&-l,S>=A||S===16&&(A&4194240)!==0))return l;if((y&4)!==0&&(y|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=y;0<l;)h=31-Kn(l),S=1<<h,y|=o[h],l&=~S;return y}function we(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Be(o,l){for(var h=o.suspendedLanes,y=o.pingedLanes,S=o.expirationTimes,A=o.pendingLanes;0<A;){var K=31-Kn(A),pe=1<<K,Ee=S[K];Ee===-1?((pe&h)===0||(pe&y)!==0)&&(S[K]=we(pe,l)):Ee<=l&&(o.expiredLanes|=pe),A&=~pe}}function He(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function mt(){var o=Ro;return Ro<<=1,(Ro&4194240)===0&&(Ro=64),o}function Tt(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function vn(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Kn(l),o[l]=h}function gt(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<h;){var S=31-Kn(h),A=1<<S;l[S]=0,y[S]=-1,o[S]=-1,h&=~A}}function fn(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var y=31-Kn(h),S=1<<y;S&l|o[y]&l&&(o[y]|=l),h&=~S}}var yt=0;function Pt(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var st,Nn,On,Rr,en,Qt=!1,qn=[],Pn=null,$n=null,Dn=null,ii=new Map,Ut=new Map,Ts=[],ta="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mo(o,l){switch(o){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":ii.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ut.delete(l.pointerId)}}function Ar(o,l,h,y,S,A){return o===null||o.nativeEvent!==A?(o={blockedOn:l,domEventName:h,eventSystemFlags:y,nativeEvent:A,targetContainers:[S]},l!==null&&(l=Ic(l),l!==null&&Nn(l)),o):(o.eventSystemFlags|=y,l=o.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),o)}function eo(o,l,h,y,S){switch(l){case"focusin":return Pn=Ar(Pn,o,l,h,y,S),!0;case"dragenter":return $n=Ar($n,o,l,h,y,S),!0;case"mouseover":return Dn=Ar(Dn,o,l,h,y,S),!0;case"pointerover":var A=S.pointerId;return ii.set(A,Ar(ii.get(A)||null,o,l,h,y,S)),!0;case"gotpointercapture":return A=S.pointerId,Ut.set(A,Ar(Ut.get(A)||null,o,l,h,y,S)),!0}return!1}function Xa(o){var l=sl(o.target);if(l!==null){var h=Dr(l);if(h!==null){if(l=h.tag,l===13){if(l=Si(h),l!==null){o.blockedOn=l,en(o.priority,function(){On(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function fi(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=ra(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var y=new h.constructor(h.type,h);Tn=y,h.target.dispatchEvent(y),Tn=null}else return l=Ic(h),l!==null&&Nn(l),o.blockedOn=h,!1;l.shift()}return!0}function ws(o,l,h){fi(o)&&h.delete(l)}function _a(){Qt=!1,Pn!==null&&fi(Pn)&&(Pn=null),$n!==null&&fi($n)&&($n=null),Dn!==null&&fi(Dn)&&(Dn=null),ii.forEach(ws),Ut.forEach(ws)}function $i(o,l){o.blockedOn===l&&(o.blockedOn=null,Qt||(Qt=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_a)))}function to(o){function l(S){return $i(S,o)}if(0<qn.length){$i(qn[0],o);for(var h=1;h<qn.length;h++){var y=qn[h];y.blockedOn===o&&(y.blockedOn=null)}}for(Pn!==null&&$i(Pn,o),$n!==null&&$i($n,o),Dn!==null&&$i(Dn,o),ii.forEach(l),Ut.forEach(l),h=0;h<Ts.length;h++)y=Ts[h],y.blockedOn===o&&(y.blockedOn=null);for(;0<Ts.length&&(h=Ts[0],h.blockedOn===null);)Xa(h),h.blockedOn===null&&Ts.shift()}var Yi=H.ReactCurrentBatchConfig,na=!0;function ur(o,l,h,y){var S=yt,A=Yi.transition;Yi.transition=null;try{yt=1,Ja(o,l,h,y)}finally{yt=S,Yi.transition=A}}function Ll(o,l,h,y){var S=yt,A=Yi.transition;Yi.transition=null;try{yt=4,Ja(o,l,h,y)}finally{yt=S,Yi.transition=A}}function Ja(o,l,h,y){if(na){var S=ra(o,l,h,y);if(S===null)bu(o,l,y,xs,h),Mo(o,y);else if(eo(S,o,l,h,y))y.stopPropagation();else if(Mo(o,y),l&4&&-1<ta.indexOf(o)){for(;S!==null;){var A=Ic(S);if(A!==null&&st(A),A=ra(o,l,h,y),A===null&&bu(o,l,y,xs,h),A===S)break;S=A}S!==null&&y.stopPropagation()}else bu(o,l,y,null,h)}}var xs=null;function ra(o,l,h,y){if(xs=null,o=Gt(y),o=sl(o),o!==null)if(l=Dr(o),l===null)o=null;else if(h=l.tag,h===13){if(o=Si(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return xs=o,null}function ia(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lo()){case po:return 1;case ri:return 4;case Ri:case Zo:return 16;case ea:return 536870912;default:return 16}default:return 16}}var Gi=null,go=null,Oi=null;function Za(){if(Oi)return Oi;var o,l=go,h=l.length,y,S="value"in Gi?Gi.value:Gi.textContent,A=S.length;for(o=0;o<h&&l[o]===S[o];o++);var K=h-o;for(y=1;y<=K&&l[h-y]===S[A-y];y++);return Oi=S.slice(o,1<y?1-y:void 0)}function Sa(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function ji(){return!0}function no(){return!1}function pi(o){function l(h,y,S,A,K){this._reactName=h,this._targetInst=S,this.type=y,this.nativeEvent=A,this.target=K,this.currentTarget=null;for(var pe in o)o.hasOwnProperty(pe)&&(h=o[pe],this[pe]=h?h(A):A[pe]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?ji:no,this.isPropagationStopped=no,this}return ge(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),l}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=pi(Ki),_=ge({},Ki,{view:0,detail:0}),W=pi(_),ue,xe,Ae,Ke=ge({},_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ae&&(Ae&&o.type==="mousemove"?(ue=o.screenX-Ae.screenX,xe=o.screenY-Ae.screenY):xe=ue=0,Ae=o),ue)},movementY:function(o){return"movementY"in o?o.movementY:xe}}),et=pi(Ke),Nt=ge({},Ke,{dataTransfer:0}),Mt=pi(Nt),tn=ge({},_,{relatedTarget:0}),un=pi(tn),Ln=ge({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Qn=pi(Ln),Ur=ge({},Ki,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ar=pi(Ur),$r=ge({},Ki,{data:0}),Mr=pi($r),Yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ps={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vo(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Ps[o])?!!l[o]:!1}function Ds(){return vo}var m=ge({},_,{key:function(o){if(o.key){var l=Yr[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Sa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Vr[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(o){return o.type==="keypress"?Sa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Sa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),C=pi(m),B=ge({},Ke,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ne=pi(B),Pe=ge({},_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),je=pi(Pe),ct=ge({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),jn=pi(ct),zr=ge({},Ke,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Cn=pi(zr),Yn=[9,13,27,32],dr=c&&"CompositionEvent"in window,Qi=null;c&&"documentMode"in document&&(Qi=document.documentMode);var as=c&&"TextEvent"in window&&!Qi,Fi=c&&(!dr||Qi&&8<Qi&&11>=Qi),yo=" ",yc=!1;function wc(o,l){switch(o){case"keyup":return Yn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var wo=!1;function ro(o,l){switch(o){case"compositionend":return Ea(l);case"keypress":return l.which!==32?null:(yc=!0,yo);case"textInput":return o=l.data,o===yo&&yc?null:o;default:return null}}function io(o,l){if(wo)return o==="compositionend"||!dr&&wc(o,l)?(o=Za(),Oi=go=Gi=null,wo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Fi&&l.locale!=="ko"?null:l.data;default:return null}}var el={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sa(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!el[o.type]:l==="textarea"}function Na(o,l,h,y){kn(y),l=md(l,"onChange"),0<l.length&&(h=new ka("onChange","change",null,h,y),o.push({event:h,listeners:l}))}var Ca=null,oa=null;function si(o){wu(o,0)}function Rl(o){var l=Hl(o);if($e(l))return o}function aa(o,l){if(o==="change")return l}var Oo=!1;if(c){var Ml;if(c){var Ol="oninput"in document;if(!Ol){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),Ol=typeof xc.oninput=="function"}Ml=Ol}else Ml=!1;Oo=Ml&&(!document.documentMode||9<document.documentMode)}function bc(){Ca&&(Ca.detachEvent("onpropertychange",Ia),oa=Ca=null)}function Ia(o){if(o.propertyName==="value"&&Rl(oa)){var l=[];Na(l,oa,o,Gt(o)),Bt(si,l)}}function tl(o,l,h){o==="focusin"?(bc(),Ca=l,oa=h,Ca.attachEvent("onpropertychange",Ia)):o==="focusout"&&bc()}function nl(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Rl(oa)}function jl(o,l){if(o==="click")return Rl(l)}function rl(o,l){if(o==="input"||o==="change")return Rl(l)}function Fl(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Gr=typeof Object.is=="function"?Object.is:Fl;function Ls(o,l){if(Gr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),y=Object.keys(l);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var S=h[y];if(!u.call(l,S)||!Gr(o[S],l[S]))return!1}return!0}function Xn(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function hr(o,l){var h=Xn(o);o=0;for(var y;h;){if(h.nodeType===3){if(y=o+h.textContent.length,o<=l&&y>=l)return{node:h,offset:l-o};o=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Xn(h)}}function Kr(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Kr(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function mi(){for(var o=window,l=Ye();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=Ye(o.document)}return l}function jo(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function mu(o){var l=mi(),h=o.focusedElem,y=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&Kr(h.ownerDocument.documentElement,h)){if(y!==null&&jo(h)){if(l=y.start,o=y.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var S=h.textContent.length,A=Math.min(y.start,S);y=y.end===void 0?A:Math.min(y.end,S),!o.extend&&A>y&&(S=y,y=A,A=S),S=hr(h,A);var K=hr(h,y);S&&K&&(o.rangeCount!==1||o.anchorNode!==S.node||o.anchorOffset!==S.offset||o.focusNode!==K.node||o.focusOffset!==K.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),o.removeAllRanges(),A>y?(o.addRange(l),o.extend(K.node,K.offset)):(l.setEnd(K.node,K.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var _c=c&&"documentMode"in document&&11>=document.documentMode,Aa=null,dd=null,Sc=null,hd=!1;function Lh(o,l,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;hd||Aa==null||Aa!==Ye(y)||(y=Aa,"selectionStart"in y&&jo(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Sc&&Ls(Sc,y)||(Sc=y,y=md(dd,"onSelect"),0<y.length&&(l=new ka("onSelect","select",null,l,h),o.push({event:l,listeners:y}),l.target=Aa)))}function gu(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var Bl={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Ul={},Rh={};c&&(Rh=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function vu(o){if(Ul[o])return Ul[o];if(!Bl[o])return o;var l=Bl[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Rh)return Ul[o]=l[h];return o}var Mh=vu("animationend"),Oh=vu("animationiteration"),jh=vu("animationstart"),Fh=vu("transitionend"),Bh=new Map,Uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(o,l){Bh.set(o,l),s(l,[o])}for(var kc=0;kc<Uh.length;kc++){var bs=Uh[kc],xo=bs.toLowerCase(),fd=bs[0].toUpperCase()+bs.slice(1);la(xo,"on"+fd)}la(Mh,"onAnimationEnd"),la(Oh,"onAnimationIteration"),la(jh,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(Fh,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sp=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function yu(o,l,h){var y=o.type||"unknown-event";o.currentTarget=h,gs(y,l,void 0,o),o.currentTarget=null}function wu(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var y=o[h],S=y.event;y=y.listeners;e:{var A=void 0;if(l)for(var K=y.length-1;0<=K;K--){var pe=y[K],Ee=pe.instance,Ue=pe.currentTarget;if(pe=pe.listener,Ee!==A&&S.isPropagationStopped())break e;yu(S,pe,Ue),A=Ee}else for(K=0;K<y.length;K++){if(pe=y[K],Ee=pe.instance,Ue=pe.currentTarget,pe=pe.listener,Ee!==A&&S.isPropagationStopped())break e;yu(S,pe,Ue),A=Ee}}}if(or)throw o=Xs,or=!1,Xs=null,o}function vr(o,l){var h=l[Ms];h===void 0&&(h=l[Ms]=new Set);var y=o+"__bubble";h.has(y)||(xu(l,o,2,!1),h.add(y))}function pd(o,l,h){var y=0;l&&(y|=4),xu(h,o,y,l)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Vl(o){if(!o[Ec]){o[Ec]=!0,n.forEach(function(h){h!=="selectionchange"&&(sp.has(h)||pd(h,!1,o),pd(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Ec]||(l[Ec]=!0,pd("selectionchange",!1,l))}}function xu(o,l,h,y){switch(ia(l)){case 1:var S=ur;break;case 4:S=Ll;break;default:S=Ja}h=S.bind(null,l,h,o),S=void 0,!gr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),y?S!==void 0?o.addEventListener(l,h,{capture:!0,passive:S}):o.addEventListener(l,h,!0):S!==void 0?o.addEventListener(l,h,{passive:S}):o.addEventListener(l,h,!1)}function bu(o,l,h,y,S){var A=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var K=y.tag;if(K===3||K===4){var pe=y.stateNode.containerInfo;if(pe===S||pe.nodeType===8&&pe.parentNode===S)break;if(K===4)for(K=y.return;K!==null;){var Ee=K.tag;if((Ee===3||Ee===4)&&(Ee=K.stateNode.containerInfo,Ee===S||Ee.nodeType===8&&Ee.parentNode===S))return;K=K.return}for(;pe!==null;){if(K=sl(pe),K===null)return;if(Ee=K.tag,Ee===5||Ee===6){y=A=K;continue e}pe=pe.parentNode}}y=y.return}Bt(function(){var Ue=A,nt=Gt(h),ot=[];e:{var tt=Bh.get(o);if(tt!==void 0){var kt=ka,Ot=o;switch(o){case"keypress":if(Sa(h)===0)break e;case"keydown":case"keyup":kt=C;break;case"focusin":Ot="focus",kt=un;break;case"focusout":Ot="blur",kt=un;break;case"beforeblur":case"afterblur":kt=un;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=et;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Mt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=je;break;case Mh:case Oh:case jh:kt=Qn;break;case Fh:kt=jn;break;case"scroll":kt=W;break;case"wheel":kt=Cn;break;case"copy":case"cut":case"paste":kt=ar;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=ne}var Vt=(l&4)!==0,Ni=!Vt&&o==="scroll",Re=Vt?tt!==null?tt+"Capture":null:tt;Vt=[];for(var Ie=Ue,Oe;Ie!==null;){Oe=Ie;var dt=Oe.stateNode;if(Oe.tag===5&&dt!==null&&(Oe=dt,Re!==null&&(dt=Kt(Ie,Re),dt!=null&&Vt.push(_u(Ie,dt,Oe)))),Ni)break;Ie=Ie.return}0<Vt.length&&(tt=new kt(tt,Ot,null,h,nt),ot.push({event:tt,listeners:Vt}))}}if((l&7)===0){e:{if(tt=o==="mouseover"||o==="pointerover",kt=o==="mouseout"||o==="pointerout",tt&&h!==Tn&&(Ot=h.relatedTarget||h.fromElement)&&(sl(Ot)||Ot[ls]))break e;if((kt||tt)&&(tt=nt.window===nt?nt:(tt=nt.ownerDocument)?tt.defaultView||tt.parentWindow:window,kt?(Ot=h.relatedTarget||h.toElement,kt=Ue,Ot=Ot?sl(Ot):null,Ot!==null&&(Ni=Dr(Ot),Ot!==Ni||Ot.tag!==5&&Ot.tag!==6)&&(Ot=null)):(kt=null,Ot=Ue),kt!==Ot)){if(Vt=et,dt="onMouseLeave",Re="onMouseEnter",Ie="mouse",(o==="pointerout"||o==="pointerover")&&(Vt=ne,dt="onPointerLeave",Re="onPointerEnter",Ie="pointer"),Ni=kt==null?tt:Hl(kt),Oe=Ot==null?tt:Hl(Ot),tt=new Vt(dt,Ie+"leave",kt,h,nt),tt.target=Ni,tt.relatedTarget=Oe,dt=null,sl(nt)===Ue&&(Vt=new Vt(Re,Ie+"enter",Ot,h,nt),Vt.target=Oe,Vt.relatedTarget=Ni,dt=Vt),Ni=dt,kt&&Ot)t:{for(Vt=kt,Re=Ot,Ie=0,Oe=Vt;Oe;Oe=zl(Oe))Ie++;for(Oe=0,dt=Re;dt;dt=zl(dt))Oe++;for(;0<Ie-Oe;)Vt=zl(Vt),Ie--;for(;0<Oe-Ie;)Re=zl(Re),Oe--;for(;Ie--;){if(Vt===Re||Re!==null&&Vt===Re.alternate)break t;Vt=zl(Vt),Re=zl(Re)}Vt=null}else Vt=null;kt!==null&&op(ot,tt,kt,Vt,!1),Ot!==null&&Ni!==null&&op(ot,Ni,Ot,Vt,!0)}}e:{if(tt=Ue?Hl(Ue):window,kt=tt.nodeName&&tt.nodeName.toLowerCase(),kt==="select"||kt==="input"&&tt.type==="file")var Ht=aa;else if(sa(tt))if(Oo)Ht=rl;else{Ht=nl;var rn=tl}else(kt=tt.nodeName)&&kt.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(Ht=jl);if(Ht&&(Ht=Ht(o,Ue))){Na(ot,Ht,h,nt);break e}rn&&rn(o,tt,Ue),o==="focusout"&&(rn=tt._wrapperState)&&rn.controlled&&tt.type==="number"&&Qe(tt,"number",tt.value)}switch(rn=Ue?Hl(Ue):window,o){case"focusin":(sa(rn)||rn.contentEditable==="true")&&(Aa=rn,dd=Ue,Sc=null);break;case"focusout":Sc=dd=Aa=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Lh(ot,h,nt);break;case"selectionchange":if(_c)break;case"keydown":case"keyup":Lh(ot,h,nt)}var sn;if(dr)e:{switch(o){case"compositionstart":var mn="onCompositionStart";break e;case"compositionend":mn="onCompositionEnd";break e;case"compositionupdate":mn="onCompositionUpdate";break e}mn=void 0}else wo?wc(o,h)&&(mn="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(mn="onCompositionStart");mn&&(Fi&&h.locale!=="ko"&&(wo||mn!=="onCompositionStart"?mn==="onCompositionEnd"&&wo&&(sn=Za()):(Gi=nt,go="value"in Gi?Gi.value:Gi.textContent,wo=!0)),rn=md(Ue,mn),0<rn.length&&(mn=new Mr(mn,o,null,h,nt),ot.push({event:mn,listeners:rn}),sn?mn.data=sn:(sn=Ea(h),sn!==null&&(mn.data=sn)))),(sn=as?ro(o,h):io(o,h))&&(Ue=md(Ue,"onBeforeInput"),0<Ue.length&&(nt=new Mr("onBeforeInput","beforeinput",null,h,nt),ot.push({event:nt,listeners:Ue}),nt.data=sn))}wu(ot,l)})}function _u(o,l,h){return{instance:o,listener:l,currentTarget:h}}function md(o,l){for(var h=l+"Capture",y=[];o!==null;){var S=o,A=S.stateNode;S.tag===5&&A!==null&&(S=A,A=Kt(o,h),A!=null&&y.unshift(_u(o,A,S)),A=Kt(o,l),A!=null&&y.push(_u(o,A,S))),o=o.return}return y}function zl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function op(o,l,h,y,S){for(var A=l._reactName,K=[];h!==null&&h!==y;){var pe=h,Ee=pe.alternate,Ue=pe.stateNode;if(Ee!==null&&Ee===y)break;pe.tag===5&&Ue!==null&&(pe=Ue,S?(Ee=Kt(h,A),Ee!=null&&K.unshift(_u(h,Ee,pe))):S||(Ee=Kt(h,A),Ee!=null&&K.push(_u(h,Ee,pe)))),h=h.return}K.length!==0&&o.push({event:l,listeners:K})}var $0=/\r\n?/g,Y0=/\u0000|\uFFFD/g;function ap(o){return(typeof o=="string"?o:""+o).replace($0,`
`).replace(Y0,"")}function gd(o,l,h){if(l=ap(l),ap(o)!==l&&h)throw Error(t(425))}function Nc(){}var Su=null,ql=null;function Vh(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,lp=typeof clearTimeout=="function"?clearTimeout:void 0,cp=typeof Promise=="function"?Promise:void 0,G0=typeof queueMicrotask=="function"?queueMicrotask:typeof cp<"u"?function(o){return cp.resolve(null).then(o).catch(K0)}:zh;function K0(o){setTimeout(function(){throw o})}function qh(o,l){var h=l,y=0;do{var S=h.nextSibling;if(o.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(y===0){o.removeChild(S),to(l);return}y--}else h!=="$"&&h!=="$?"&&h!=="$!"||y++;h=S}while(h);to(l)}function _s(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function bo(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),ca="__reactFiber$"+Rs,Cc="__reactProps$"+Rs,ls="__reactContainer$"+Rs,Ms="__reactEvents$"+Rs,Q0="__reactListeners$"+Rs,X0="__reactHandles$"+Rs;function sl(o){var l=o[ca];if(l)return l;for(var h=o.parentNode;h;){if(l=h[ls]||h[ca]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=bo(o);o!==null;){if(h=o[ca])return h;o=bo(o)}return l}o=h,h=o.parentNode}return null}function Ic(o){return o=o[ca]||o[ls],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Hl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function ku(o){return o[Cc]||null}var Hh=[],Ta=-1;function Fo(o){return{current:o}}function lr(o){0>Ta||(o.current=Hh[Ta],Hh[Ta]=null,Ta--)}function fr(o,l){Ta++,Hh[Ta]=o.current,o.current=l}var ol={},Xi=Fo(ol),Os=Fo(!1),Wl=ol;function Ac(o,l){var h=o.type.contextTypes;if(!h)return ol;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var S={},A;for(A in h)S[A]=l[A];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=S),S}function js(o){return o=o.childContextTypes,o!=null}function vd(){lr(Os),lr(Xi)}function up(o,l,h){if(Xi.current!==ol)throw Error(t(168));fr(Xi,l),fr(Os,h)}function Wh(o,l,h){var y=o.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return h;y=y.getChildContext();for(var S in y)if(!(S in l))throw Error(t(108,ye(o)||"Unknown",S));return ge({},h,y)}function $l(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ol,Wl=Xi.current,fr(Xi,o),fr(Os,Os.current),!0}function dp(o,l,h){var y=o.stateNode;if(!y)throw Error(t(169));h?(o=Wh(o,l,Wl),y.__reactInternalMemoizedMergedChildContext=o,lr(Os),lr(Xi),fr(Xi,o)):lr(Os),fr(Os,h)}var Pa=null,Eu=!1,p=!1;function x(o){Pa===null?Pa=[o]:Pa.push(o)}function k(o){Eu=!0,x(o)}function R(){if(!p&&Pa!==null){p=!0;var o=0,l=yt;try{var h=Pa;for(yt=1;o<h.length;o++){var y=h[o];do y=y(!0);while(y!==null)}Pa=null,Eu=!1}catch(S){throw Pa!==null&&(Pa=Pa.slice(o+1)),os(po,R),S}finally{yt=l,p=!1}}return null}var $=[],Q=0,X=null,Z=0,re=[],ae=0,ke=null,Le=1,ce="";function Ce(o,l){$[Q++]=Z,$[Q++]=X,X=o,Z=l}function De(o,l,h){re[ae++]=Le,re[ae++]=ce,re[ae++]=ke,ke=o;var y=Le;o=ce;var S=32-Kn(y)-1;y&=~(1<<S),h+=1;var A=32-Kn(l)+S;if(30<A){var K=S-S%5;A=(y&(1<<K)-1).toString(32),y>>=K,S-=K,Le=1<<32-Kn(l)+S|h<<S|y,ce=A+o}else Le=1<<A|h<<S|y,ce=o}function We(o){o.return!==null&&(Ce(o,1),De(o,1,0))}function Me(o){for(;o===X;)X=$[--Q],$[Q]=null,Z=$[--Q],$[Q]=null;for(;o===ke;)ke=re[--ae],re[ae]=null,ce=re[--ae],re[ae]=null,Le=re[--ae],re[ae]=null}var ze=null,qe=null,Xe=!1,Ze=null;function qt(o,l){var h=pa(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function It(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,ze=o,qe=_s(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,ze=o,qe=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=ke!==null?{id:Le,overflow:ce}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=pa(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,ze=o,qe=null,!0):!1;default:return!1}}function wn(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Lt(o){if(Xe){var l=qe;if(l){var h=l;if(!It(o,l)){if(wn(o))throw Error(t(418));l=_s(h.nextSibling);var y=ze;l&&It(o,l)?qt(y,h):(o.flags=o.flags&-4097|2,Xe=!1,ze=o)}}else{if(wn(o))throw Error(t(418));o.flags=o.flags&-4097|2,Xe=!1,ze=o}}}function Rn(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ze=o}function Qr(o){if(o!==ze)return!1;if(!Xe)return Rn(o),Xe=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Vh(o.type,o.memoizedProps)),l&&(l=qe)){if(wn(o))throw xn(),Error(t(418));for(;l;)qt(o,l),l=_s(l.nextSibling)}if(Rn(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){qe=_s(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}qe=null}}else qe=ze?_s(o.stateNode.nextSibling):null;return!0}function xn(){for(var o=qe;o;)o=_s(o.nextSibling)}function At(){qe=ze=null,Xe=!1}function ft(o){Ze===null?Ze=[o]:Ze.push(o)}var oi=H.ReactCurrentBatchConfig;function dn(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var y=h.stateNode}if(!y)throw Error(t(147,o));var S=y,A=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===A?l.ref:(l=function(K){var pe=S.refs;K===null?delete pe[A]:pe[A]=K},l._stringRef=A,l)}if(typeof o!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,o))}return o}function In(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Cr(o){var l=o._init;return l(o._payload)}function Bi(o){function l(Re,Ie){if(o){var Oe=Re.deletions;Oe===null?(Re.deletions=[Ie],Re.flags|=16):Oe.push(Ie)}}function h(Re,Ie){if(!o)return null;for(;Ie!==null;)l(Re,Ie),Ie=Ie.sibling;return null}function y(Re,Ie){for(Re=new Map;Ie!==null;)Ie.key!==null?Re.set(Ie.key,Ie):Re.set(Ie.index,Ie),Ie=Ie.sibling;return Re}function S(Re,Ie){return Re=Bc(Re,Ie),Re.index=0,Re.sibling=null,Re}function A(Re,Ie,Oe){return Re.index=Oe,o?(Oe=Re.alternate,Oe!==null?(Oe=Oe.index,Oe<Ie?(Re.flags|=2,Ie):Oe):(Re.flags|=2,Ie)):(Re.flags|=1048576,Ie)}function K(Re){return o&&Re.alternate===null&&(Re.flags|=2),Re}function pe(Re,Ie,Oe,dt){return Ie===null||Ie.tag!==6?(Ie=Ng(Oe,Re.mode,dt),Ie.return=Re,Ie):(Ie=S(Ie,Oe),Ie.return=Re,Ie)}function Ee(Re,Ie,Oe,dt){var Ht=Oe.type;return Ht===q?nt(Re,Ie,Oe.props.children,dt,Oe.key):Ie!==null&&(Ie.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Ne&&Cr(Ht)===Ie.type)?(dt=S(Ie,Oe.props),dt.ref=dn(Re,Ie,Oe),dt.return=Re,dt):(dt=Pp(Oe.type,Oe.key,Oe.props,null,Re.mode,dt),dt.ref=dn(Re,Ie,Oe),dt.return=Re,dt)}function Ue(Re,Ie,Oe,dt){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==Oe.containerInfo||Ie.stateNode.implementation!==Oe.implementation?(Ie=Cg(Oe,Re.mode,dt),Ie.return=Re,Ie):(Ie=S(Ie,Oe.children||[]),Ie.return=Re,Ie)}function nt(Re,Ie,Oe,dt,Ht){return Ie===null||Ie.tag!==7?(Ie=Lu(Oe,Re.mode,dt,Ht),Ie.return=Re,Ie):(Ie=S(Ie,Oe),Ie.return=Re,Ie)}function ot(Re,Ie,Oe){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ie=Ng(""+Ie,Re.mode,Oe),Ie.return=Re,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case ie:return Oe=Pp(Ie.type,Ie.key,Ie.props,null,Re.mode,Oe),Oe.ref=dn(Re,null,Ie),Oe.return=Re,Oe;case de:return Ie=Cg(Ie,Re.mode,Oe),Ie.return=Re,Ie;case Ne:var dt=Ie._init;return ot(Re,dt(Ie._payload),Oe)}if(bt(Ie)||_e(Ie))return Ie=Lu(Ie,Re.mode,Oe,null),Ie.return=Re,Ie;In(Re,Ie)}return null}function tt(Re,Ie,Oe,dt){var Ht=Ie!==null?Ie.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Ht!==null?null:pe(Re,Ie,""+Oe,dt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case ie:return Oe.key===Ht?Ee(Re,Ie,Oe,dt):null;case de:return Oe.key===Ht?Ue(Re,Ie,Oe,dt):null;case Ne:return Ht=Oe._init,tt(Re,Ie,Ht(Oe._payload),dt)}if(bt(Oe)||_e(Oe))return Ht!==null?null:nt(Re,Ie,Oe,dt,null);In(Re,Oe)}return null}function kt(Re,Ie,Oe,dt,Ht){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return Re=Re.get(Oe)||null,pe(Ie,Re,""+dt,Ht);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case ie:return Re=Re.get(dt.key===null?Oe:dt.key)||null,Ee(Ie,Re,dt,Ht);case de:return Re=Re.get(dt.key===null?Oe:dt.key)||null,Ue(Ie,Re,dt,Ht);case Ne:var rn=dt._init;return kt(Re,Ie,Oe,rn(dt._payload),Ht)}if(bt(dt)||_e(dt))return Re=Re.get(Oe)||null,nt(Ie,Re,dt,Ht,null);In(Ie,dt)}return null}function Ot(Re,Ie,Oe,dt){for(var Ht=null,rn=null,sn=Ie,mn=Ie=0,fs=null;sn!==null&&mn<Oe.length;mn++){sn.index>mn?(fs=sn,sn=null):fs=sn.sibling;var ir=tt(Re,sn,Oe[mn],dt);if(ir===null){sn===null&&(sn=fs);break}o&&sn&&ir.alternate===null&&l(Re,sn),Ie=A(ir,Ie,mn),rn===null?Ht=ir:rn.sibling=ir,rn=ir,sn=fs}if(mn===Oe.length)return h(Re,sn),Xe&&Ce(Re,mn),Ht;if(sn===null){for(;mn<Oe.length;mn++)sn=ot(Re,Oe[mn],dt),sn!==null&&(Ie=A(sn,Ie,mn),rn===null?Ht=sn:rn.sibling=sn,rn=sn);return Xe&&Ce(Re,mn),Ht}for(sn=y(Re,sn);mn<Oe.length;mn++)fs=kt(sn,Re,mn,Oe[mn],dt),fs!==null&&(o&&fs.alternate!==null&&sn.delete(fs.key===null?mn:fs.key),Ie=A(fs,Ie,mn),rn===null?Ht=fs:rn.sibling=fs,rn=fs);return o&&sn.forEach(function(Uc){return l(Re,Uc)}),Xe&&Ce(Re,mn),Ht}function Vt(Re,Ie,Oe,dt){var Ht=_e(Oe);if(typeof Ht!="function")throw Error(t(150));if(Oe=Ht.call(Oe),Oe==null)throw Error(t(151));for(var rn=Ht=null,sn=Ie,mn=Ie=0,fs=null,ir=Oe.next();sn!==null&&!ir.done;mn++,ir=Oe.next()){sn.index>mn?(fs=sn,sn=null):fs=sn.sibling;var Uc=tt(Re,sn,ir.value,dt);if(Uc===null){sn===null&&(sn=fs);break}o&&sn&&Uc.alternate===null&&l(Re,sn),Ie=A(Uc,Ie,mn),rn===null?Ht=Uc:rn.sibling=Uc,rn=Uc,sn=fs}if(ir.done)return h(Re,sn),Xe&&Ce(Re,mn),Ht;if(sn===null){for(;!ir.done;mn++,ir=Oe.next())ir=ot(Re,ir.value,dt),ir!==null&&(Ie=A(ir,Ie,mn),rn===null?Ht=ir:rn.sibling=ir,rn=ir);return Xe&&Ce(Re,mn),Ht}for(sn=y(Re,sn);!ir.done;mn++,ir=Oe.next())ir=kt(sn,Re,mn,ir.value,dt),ir!==null&&(o&&ir.alternate!==null&&sn.delete(ir.key===null?mn:ir.key),Ie=A(ir,Ie,mn),rn===null?Ht=ir:rn.sibling=ir,rn=ir);return o&&sn.forEach(function(SN){return l(Re,SN)}),Xe&&Ce(Re,mn),Ht}function Ni(Re,Ie,Oe,dt){if(typeof Oe=="object"&&Oe!==null&&Oe.type===q&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case ie:e:{for(var Ht=Oe.key,rn=Ie;rn!==null;){if(rn.key===Ht){if(Ht=Oe.type,Ht===q){if(rn.tag===7){h(Re,rn.sibling),Ie=S(rn,Oe.props.children),Ie.return=Re,Re=Ie;break e}}else if(rn.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Ne&&Cr(Ht)===rn.type){h(Re,rn.sibling),Ie=S(rn,Oe.props),Ie.ref=dn(Re,rn,Oe),Ie.return=Re,Re=Ie;break e}h(Re,rn);break}else l(Re,rn);rn=rn.sibling}Oe.type===q?(Ie=Lu(Oe.props.children,Re.mode,dt,Oe.key),Ie.return=Re,Re=Ie):(dt=Pp(Oe.type,Oe.key,Oe.props,null,Re.mode,dt),dt.ref=dn(Re,Ie,Oe),dt.return=Re,Re=dt)}return K(Re);case de:e:{for(rn=Oe.key;Ie!==null;){if(Ie.key===rn)if(Ie.tag===4&&Ie.stateNode.containerInfo===Oe.containerInfo&&Ie.stateNode.implementation===Oe.implementation){h(Re,Ie.sibling),Ie=S(Ie,Oe.children||[]),Ie.return=Re,Re=Ie;break e}else{h(Re,Ie);break}else l(Re,Ie);Ie=Ie.sibling}Ie=Cg(Oe,Re.mode,dt),Ie.return=Re,Re=Ie}return K(Re);case Ne:return rn=Oe._init,Ni(Re,Ie,rn(Oe._payload),dt)}if(bt(Oe))return Ot(Re,Ie,Oe,dt);if(_e(Oe))return Vt(Re,Ie,Oe,dt);In(Re,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,Ie!==null&&Ie.tag===6?(h(Re,Ie.sibling),Ie=S(Ie,Oe),Ie.return=Re,Re=Ie):(h(Re,Ie),Ie=Ng(Oe,Re.mode,dt),Ie.return=Re,Re=Ie),K(Re)):h(Re,Ie)}return Ni}var gi=Bi(!0),qr=Bi(!1),ki=Fo(null),Ui=null,Or=null,Fn=null;function Jn(){Fn=Or=Ui=null}function jr(o){var l=ki.current;lr(ki),o._currentValue=l}function Zn(o,l,h){for(;o!==null;){var y=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),o===h)break;o=o.return}}function Xr(o,l){Ui=o,Fn=Or=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(So=!0),o.firstContext=null)}function Jr(o){var l=o._currentValue;if(Fn!==o)if(o={context:o,memoizedValue:l,next:null},Or===null){if(Ui===null)throw Error(t(308));Or=o,Ui.dependencies={lanes:0,firstContext:o}}else Or=Or.next=o;return l}var yr=null;function cs(o){yr===null?yr=[o]:yr.push(o)}function pr(o,l,h,y){var S=l.interleaved;return S===null?(h.next=h,cs(l)):(h.next=S.next,S.next=h),l.interleaved=h,wr(o,y)}function wr(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var vi=!1;function Ji(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ai(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function li(o,l,h){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(er&2)!==0){var S=y.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),y.pending=l,wr(o,h)}return S=y.interleaved,S===null?(l.next=l,cs(y)):(l.next=S.next,S.next=l),y.interleaved=l,wr(o,h)}function us(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var y=l.lanes;y&=o.pendingLanes,h|=y,l.lanes=h,fn(o,h)}}function xr(o,l){var h=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var S=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var K={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};A===null?S=A=K:A=A.next=K,h=h.next}while(h!==null);A===null?S=A=l:A=A.next=l}else S=A=l;h={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:y.shared,effects:y.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function ds(o,l,h,y){var S=o.updateQueue;vi=!1;var A=S.firstBaseUpdate,K=S.lastBaseUpdate,pe=S.shared.pending;if(pe!==null){S.shared.pending=null;var Ee=pe,Ue=Ee.next;Ee.next=null,K===null?A=Ue:K.next=Ue,K=Ee;var nt=o.alternate;nt!==null&&(nt=nt.updateQueue,pe=nt.lastBaseUpdate,pe!==K&&(pe===null?nt.firstBaseUpdate=Ue:pe.next=Ue,nt.lastBaseUpdate=Ee))}if(A!==null){var ot=S.baseState;K=0,nt=Ue=Ee=null,pe=A;do{var tt=pe.lane,kt=pe.eventTime;if((y&tt)===tt){nt!==null&&(nt=nt.next={eventTime:kt,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var Ot=o,Vt=pe;switch(tt=l,kt=h,Vt.tag){case 1:if(Ot=Vt.payload,typeof Ot=="function"){ot=Ot.call(kt,ot,tt);break e}ot=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=Vt.payload,tt=typeof Ot=="function"?Ot.call(kt,ot,tt):Ot,tt==null)break e;ot=ge({},ot,tt);break e;case 2:vi=!0}}pe.callback!==null&&pe.lane!==0&&(o.flags|=64,tt=S.effects,tt===null?S.effects=[pe]:tt.push(pe))}else kt={eventTime:kt,lane:tt,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},nt===null?(Ue=nt=kt,Ee=ot):nt=nt.next=kt,K|=tt;if(pe=pe.next,pe===null){if(pe=S.shared.pending,pe===null)break;tt=pe,pe=tt.next,tt.next=null,S.lastBaseUpdate=tt,S.shared.pending=null}}while(!0);if(nt===null&&(Ee=ot),S.baseState=Ee,S.firstBaseUpdate=Ue,S.lastBaseUpdate=nt,l=S.shared.interleaved,l!==null){S=l;do K|=S.lane,S=S.next;while(S!==l)}else A===null&&(S.shared.lanes=0);Au|=K,o.lanes=K,o.memoizedState=ot}}function _o(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var y=o[l],S=y.callback;if(S!==null){if(y.callback=null,y=h,typeof S!="function")throw Error(t(191,S));S.call(y)}}}var Bo={},Vi=Fo(Bo),ci=Fo(Bo),al=Fo(Bo);function Da(o){if(o===Bo)throw Error(t(174));return o}function Tc(o,l){switch(fr(al,l),fr(ci,o),fr(Vi,Bo),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ft(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Ft(l,o)}lr(Vi),fr(Vi,l)}function ua(){lr(Vi),lr(ci),lr(al)}function hp(o){Da(al.current);var l=Da(Vi.current),h=Ft(l,o.type);l!==h&&(fr(ci,o),fr(Vi,h))}function $h(o){ci.current===o&&(lr(Vi),lr(ci))}var Tr=Fo(0);function Uo(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Yh=[];function Gh(){for(var o=0;o<Yh.length;o++)Yh[o]._workInProgressVersionPrimary=null;Yh.length=0}var yd=H.ReactCurrentDispatcher,wd=H.ReactCurrentBatchConfig,da=0,Fr=null,yi=null,ui=null,Pc=!1,La=!1,Dc=0,J0=0;function Ei(){throw Error(t(321))}function xd(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!Gr(o[h],l[h]))return!1;return!0}function Nu(o,l,h,y,S,A){if(da=A,Fr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,yd.current=o===null||o.memoizedState===null?KE:QE,o=h(y,S),La){A=0;do{if(La=!1,Dc=0,25<=A)throw Error(t(301));A+=1,ui=yi=null,l.updateQueue=null,yd.current=XE,o=h(y,S)}while(La)}if(yd.current=vp,l=yi!==null&&yi.next!==null,da=0,ui=yi=Fr=null,Pc=!1,l)throw Error(t(300));return o}function ha(){var o=Dc!==0;return Dc=0,o}function Vo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?Fr.memoizedState=ui=o:ui=ui.next=o,ui}function so(){if(yi===null){var o=Fr.alternate;o=o!==null?o.memoizedState:null}else o=yi.next;var l=ui===null?Fr.memoizedState:ui.next;if(l!==null)ui=l,yi=o;else{if(o===null)throw Error(t(310));yi=o,o={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},ui===null?Fr.memoizedState=ui=o:ui=ui.next=o}return ui}function Cu(o,l){return typeof l=="function"?l(o):l}function bd(o){var l=so(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var y=yi,S=y.baseQueue,A=h.pending;if(A!==null){if(S!==null){var K=S.next;S.next=A.next,A.next=K}y.baseQueue=S=A,h.pending=null}if(S!==null){A=S.next,y=y.baseState;var pe=K=null,Ee=null,Ue=A;do{var nt=Ue.lane;if((da&nt)===nt)Ee!==null&&(Ee=Ee.next={lane:0,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),y=Ue.hasEagerState?Ue.eagerState:o(y,Ue.action);else{var ot={lane:nt,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null};Ee===null?(pe=Ee=ot,K=y):Ee=Ee.next=ot,Fr.lanes|=nt,Au|=nt}Ue=Ue.next}while(Ue!==null&&Ue!==A);Ee===null?K=y:Ee.next=pe,Gr(y,l.memoizedState)||(So=!0),l.memoizedState=y,l.baseState=K,l.baseQueue=Ee,h.lastRenderedState=y}if(o=h.interleaved,o!==null){S=o;do A=S.lane,Fr.lanes|=A,Au|=A,S=S.next;while(S!==o)}else S===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function ll(o){var l=so(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var y=h.dispatch,S=h.pending,A=l.memoizedState;if(S!==null){h.pending=null;var K=S=S.next;do A=o(A,K.action),K=K.next;while(K!==S);Gr(A,l.memoizedState)||(So=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),h.lastRenderedState=A}return[A,y]}function fp(){}function Kh(o,l){var h=Fr,y=so(),S=l(),A=!Gr(y.memoizedState,S);if(A&&(y.memoizedState=S,So=!0),y=y.queue,kd(mp.bind(null,h,y,o),[o]),y.getSnapshot!==l||A||ui!==null&&ui.memoizedState.tag&1){if(h.flags|=2048,oo(9,Qh.bind(null,h,y,S,l),void 0,null),hs===null)throw Error(t(349));(da&30)!==0||pp(h,l,S)}return S}function pp(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=Fr.updateQueue,l===null?(l={lastEffect:null,stores:null},Fr.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function Qh(o,l,h,y){l.value=h,l.getSnapshot=y,Lc(l)&&_d(o)}function mp(o,l,h){return h(function(){Lc(l)&&_d(o)})}function Lc(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!Gr(o,h)}catch{return!0}}function _d(o){var l=wr(o,1);l!==null&&Fa(l,o,1,-1)}function Iu(o){var l=Vo();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:o},l.queue=o,o=o.dispatch=GE.bind(null,Fr,o),[l.memoizedState,o]}function oo(o,l,h,y){return o={tag:o,create:l,destroy:h,deps:y,next:null},l=Fr.updateQueue,l===null?(l={lastEffect:null,stores:null},Fr.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(y=h.next,h.next=o,o.next=y,l.lastEffect=o)),o}function Ra(){return so().memoizedState}function zo(o,l,h,y){var S=Vo();Fr.flags|=o,S.memoizedState=oo(1|l,h,void 0,y===void 0?null:y)}function Yl(o,l,h,y){var S=so();y=y===void 0?null:y;var A=void 0;if(yi!==null){var K=yi.memoizedState;if(A=K.destroy,y!==null&&xd(y,K.deps)){S.memoizedState=oo(l,h,A,y);return}}Fr.flags|=o,S.memoizedState=oo(1|l,h,A,y)}function Sd(o,l){return zo(8390656,8,o,l)}function kd(o,l){return Yl(2048,8,o,l)}function gp(o,l){return Yl(4,2,o,l)}function Ed(o,l){return Yl(4,4,o,l)}function Nd(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function zy(o,l,h){return h=h!=null?h.concat([o]):null,Yl(4,4,Nd.bind(null,l,o),h)}function Z0(){}function qy(o,l){var h=so();l=l===void 0?null:l;var y=h.memoizedState;return y!==null&&l!==null&&xd(l,y[1])?y[0]:(h.memoizedState=[o,l],o)}function Hy(o,l){var h=so();l=l===void 0?null:l;var y=h.memoizedState;return y!==null&&l!==null&&xd(l,y[1])?y[0]:(o=o(),h.memoizedState=[o,l],o)}function Wy(o,l,h){return(da&21)===0?(o.baseState&&(o.baseState=!1,So=!0),o.memoizedState=h):(Gr(h,l)||(h=mt(),Fr.lanes|=h,Au|=h,o.baseState=!0),l)}function $E(o,l){var h=yt;yt=h!==0&&4>h?h:4,o(!0);var y=wd.transition;wd.transition={};try{o(!1),l()}finally{yt=h,wd.transition=y}}function $y(){return so().memoizedState}function YE(o,l,h){var y=jc(o);if(h={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null},Yy(o))Gy(l,h);else if(h=pr(o,l,h,y),h!==null){var S=lo();Fa(h,o,y,S),Ky(h,l,y)}}function GE(o,l,h){var y=jc(o),S={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null};if(Yy(o))Gy(l,S);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var K=l.lastRenderedState,pe=A(K,h);if(S.hasEagerState=!0,S.eagerState=pe,Gr(pe,K)){var Ee=l.interleaved;Ee===null?(S.next=S,cs(l)):(S.next=Ee.next,Ee.next=S),l.interleaved=S;return}}catch{}h=pr(o,l,S,y),h!==null&&(S=lo(),Fa(h,o,y,S),Ky(h,l,y))}}function Yy(o){var l=o.alternate;return o===Fr||l!==null&&l===Fr}function Gy(o,l){La=Pc=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function Ky(o,l,h){if((h&4194240)!==0){var y=l.lanes;y&=o.pendingLanes,h|=y,l.lanes=h,fn(o,h)}}var vp={readContext:Jr,useCallback:Ei,useContext:Ei,useEffect:Ei,useImperativeHandle:Ei,useInsertionEffect:Ei,useLayoutEffect:Ei,useMemo:Ei,useReducer:Ei,useRef:Ei,useState:Ei,useDebugValue:Ei,useDeferredValue:Ei,useTransition:Ei,useMutableSource:Ei,useSyncExternalStore:Ei,useId:Ei,unstable_isNewReconciler:!1},KE={readContext:Jr,useCallback:function(o,l){return Vo().memoizedState=[o,l===void 0?null:l],o},useContext:Jr,useEffect:Sd,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,zo(4194308,4,Nd.bind(null,l,o),h)},useLayoutEffect:function(o,l){return zo(4194308,4,o,l)},useInsertionEffect:function(o,l){return zo(4,2,o,l)},useMemo:function(o,l){var h=Vo();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var y=Vo();return l=h!==void 0?h(l):l,y.memoizedState=y.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},y.queue=o,o=o.dispatch=YE.bind(null,Fr,o),[y.memoizedState,o]},useRef:function(o){var l=Vo();return o={current:o},l.memoizedState=o},useState:Iu,useDebugValue:Z0,useDeferredValue:function(o){return Vo().memoizedState=o},useTransition:function(){var o=Iu(!1),l=o[0];return o=$E.bind(null,o[1]),Vo().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var y=Fr,S=Vo();if(Xe){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),hs===null)throw Error(t(349));(da&30)!==0||pp(y,l,h)}S.memoizedState=h;var A={value:h,getSnapshot:l};return S.queue=A,Sd(mp.bind(null,y,A,o),[o]),y.flags|=2048,oo(9,Qh.bind(null,y,A,h,l),void 0,null),h},useId:function(){var o=Vo(),l=hs.identifierPrefix;if(Xe){var h=ce,y=Le;h=(y&~(1<<32-Kn(y)-1)).toString(32)+h,l=":"+l+"R"+h,h=Dc++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=J0++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},QE={readContext:Jr,useCallback:qy,useContext:Jr,useEffect:kd,useImperativeHandle:zy,useInsertionEffect:gp,useLayoutEffect:Ed,useMemo:Hy,useReducer:bd,useRef:Ra,useState:function(){return bd(Cu)},useDebugValue:Z0,useDeferredValue:function(o){var l=so();return Wy(l,yi.memoizedState,o)},useTransition:function(){var o=bd(Cu)[0],l=so().memoizedState;return[o,l]},useMutableSource:fp,useSyncExternalStore:Kh,useId:$y,unstable_isNewReconciler:!1},XE={readContext:Jr,useCallback:qy,useContext:Jr,useEffect:kd,useImperativeHandle:zy,useInsertionEffect:gp,useLayoutEffect:Ed,useMemo:Hy,useReducer:ll,useRef:Ra,useState:function(){return ll(Cu)},useDebugValue:Z0,useDeferredValue:function(o){var l=so();return yi===null?l.memoizedState=o:Wy(l,yi.memoizedState,o)},useTransition:function(){var o=ll(Cu)[0],l=so().memoizedState;return[o,l]},useMutableSource:fp,useSyncExternalStore:Kh,useId:$y,unstable_isNewReconciler:!1};function Ma(o,l){if(o&&o.defaultProps){l=ge({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function eg(o,l,h,y){l=o.memoizedState,h=h(y,l),h=h==null?l:ge({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var yp={isMounted:function(o){return(o=o._reactInternals)?Dr(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var y=lo(),S=jc(o),A=ai(y,S);A.payload=l,h!=null&&(A.callback=h),l=li(o,A,S),l!==null&&(Fa(l,o,S,y),us(l,o,S))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var y=lo(),S=jc(o),A=ai(y,S);A.tag=1,A.payload=l,h!=null&&(A.callback=h),l=li(o,A,S),l!==null&&(Fa(l,o,S,y),us(l,o,S))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=lo(),y=jc(o),S=ai(h,y);S.tag=2,l!=null&&(S.callback=l),l=li(o,S,y),l!==null&&(Fa(l,o,y,h),us(l,o,y))}};function Qy(o,l,h,y,S,A,K){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,A,K):l.prototype&&l.prototype.isPureReactComponent?!Ls(h,y)||!Ls(S,A):!0}function Xy(o,l,h){var y=!1,S=ol,A=l.contextType;return typeof A=="object"&&A!==null?A=Jr(A):(S=js(l)?Wl:Xi.current,y=l.contextTypes,A=(y=y!=null)?Ac(o,S):ol),l=new l(h,A),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=yp,o.stateNode=l,l._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=S,o.__reactInternalMemoizedMaskedChildContext=A),l}function Jy(o,l,h,y){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,y),l.state!==o&&yp.enqueueReplaceState(l,l.state,null)}function tg(o,l,h,y){var S=o.stateNode;S.props=h,S.state=o.memoizedState,S.refs={},Ji(o);var A=l.contextType;typeof A=="object"&&A!==null?S.context=Jr(A):(A=js(l)?Wl:Xi.current,S.context=Ac(o,A)),S.state=o.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(eg(o,l,A,h),S.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(l=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),l!==S.state&&yp.enqueueReplaceState(S,S.state,null),ds(o,h,S,y),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308)}function Cd(o,l){try{var h="",y=l;do h+=se(y),y=y.return;while(y);var S=h}catch(A){S=`
Error generating stack: `+A.message+`
`+A.stack}return{value:o,source:l,stack:S,digest:null}}function ng(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function rg(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var JE=typeof WeakMap=="function"?WeakMap:Map;function Zy(o,l,h){h=ai(-1,h),h.tag=3,h.payload={element:null};var y=l.value;return h.callback=function(){Ep||(Ep=!0,yg=y),rg(o,l)},h}function e2(o,l,h){h=ai(-1,h),h.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var S=l.value;h.payload=function(){return y(S)},h.callback=function(){rg(o,l)}}var A=o.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(h.callback=function(){rg(o,l),typeof y!="function"&&(Mc===null?Mc=new Set([this]):Mc.add(this));var K=l.stack;this.componentDidCatch(l.value,{componentStack:K!==null?K:""})}),h}function t2(o,l,h){var y=o.pingCache;if(y===null){y=o.pingCache=new JE;var S=new Set;y.set(l,S)}else S=y.get(l),S===void 0&&(S=new Set,y.set(l,S));S.has(h)||(S.add(h),o=hN.bind(null,o,l,h),l.then(o,o))}function n2(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function r2(o,l,h,y,S){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=ai(-1,1),l.tag=2,li(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=S,o)}var ZE=H.ReactCurrentOwner,So=!1;function ao(o,l,h,y){l.child=o===null?qr(l,null,h,y):gi(l,o.child,h,y)}function i2(o,l,h,y,S){h=h.render;var A=l.ref;return Xr(l,S),y=Nu(o,l,h,y,A,S),h=ha(),o!==null&&!So?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,Gl(o,l,S)):(Xe&&h&&We(l),l.flags|=1,ao(o,l,y,S),l.child)}function s2(o,l,h,y,S){if(o===null){var A=h.type;return typeof A=="function"&&!Eg(A)&&A.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=A,o2(o,l,A,y,S)):(o=Pp(h.type,null,y,l,l.mode,S),o.ref=l.ref,o.return=l,l.child=o)}if(A=o.child,(o.lanes&S)===0){var K=A.memoizedProps;if(h=h.compare,h=h!==null?h:Ls,h(K,y)&&o.ref===l.ref)return Gl(o,l,S)}return l.flags|=1,o=Bc(A,y),o.ref=l.ref,o.return=l,l.child=o}function o2(o,l,h,y,S){if(o!==null){var A=o.memoizedProps;if(Ls(A,y)&&o.ref===l.ref)if(So=!1,l.pendingProps=y=A,(o.lanes&S)!==0)(o.flags&131072)!==0&&(So=!0);else return l.lanes=o.lanes,Gl(o,l,S)}return ig(o,l,h,y,S)}function a2(o,l,h){var y=l.pendingProps,S=y.children,A=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(Ad,qo),qo|=h;else{if((h&1073741824)===0)return o=A!==null?A.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,fr(Ad,qo),qo|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=A!==null?A.baseLanes:h,fr(Ad,qo),qo|=y}else A!==null?(y=A.baseLanes|h,l.memoizedState=null):y=h,fr(Ad,qo),qo|=y;return ao(o,l,S,h),l.child}function l2(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function ig(o,l,h,y,S){var A=js(h)?Wl:Xi.current;return A=Ac(l,A),Xr(l,S),h=Nu(o,l,h,y,A,S),y=ha(),o!==null&&!So?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,Gl(o,l,S)):(Xe&&y&&We(l),l.flags|=1,ao(o,l,h,S),l.child)}function c2(o,l,h,y,S){if(js(h)){var A=!0;$l(l)}else A=!1;if(Xr(l,S),l.stateNode===null)xp(o,l),Xy(l,h,y),tg(l,h,y,S),y=!0;else if(o===null){var K=l.stateNode,pe=l.memoizedProps;K.props=pe;var Ee=K.context,Ue=h.contextType;typeof Ue=="object"&&Ue!==null?Ue=Jr(Ue):(Ue=js(h)?Wl:Xi.current,Ue=Ac(l,Ue));var nt=h.getDerivedStateFromProps,ot=typeof nt=="function"||typeof K.getSnapshotBeforeUpdate=="function";ot||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(pe!==y||Ee!==Ue)&&Jy(l,K,y,Ue),vi=!1;var tt=l.memoizedState;K.state=tt,ds(l,y,K,S),Ee=l.memoizedState,pe!==y||tt!==Ee||Os.current||vi?(typeof nt=="function"&&(eg(l,h,nt,y),Ee=l.memoizedState),(pe=vi||Qy(l,h,pe,y,tt,Ee,Ue))?(ot||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(l.flags|=4194308)):(typeof K.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=Ee),K.props=y,K.state=Ee,K.context=Ue,y=pe):(typeof K.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{K=l.stateNode,Fs(o,l),pe=l.memoizedProps,Ue=l.type===l.elementType?pe:Ma(l.type,pe),K.props=Ue,ot=l.pendingProps,tt=K.context,Ee=h.contextType,typeof Ee=="object"&&Ee!==null?Ee=Jr(Ee):(Ee=js(h)?Wl:Xi.current,Ee=Ac(l,Ee));var kt=h.getDerivedStateFromProps;(nt=typeof kt=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(pe!==ot||tt!==Ee)&&Jy(l,K,y,Ee),vi=!1,tt=l.memoizedState,K.state=tt,ds(l,y,K,S);var Ot=l.memoizedState;pe!==ot||tt!==Ot||Os.current||vi?(typeof kt=="function"&&(eg(l,h,kt,y),Ot=l.memoizedState),(Ue=vi||Qy(l,h,Ue,y,tt,Ot,Ee)||!1)?(nt||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(y,Ot,Ee),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(y,Ot,Ee)),typeof K.componentDidUpdate=="function"&&(l.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof K.componentDidUpdate!="function"||pe===o.memoizedProps&&tt===o.memoizedState||(l.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||pe===o.memoizedProps&&tt===o.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Ot),K.props=y,K.state=Ot,K.context=Ee,y=Ue):(typeof K.componentDidUpdate!="function"||pe===o.memoizedProps&&tt===o.memoizedState||(l.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||pe===o.memoizedProps&&tt===o.memoizedState||(l.flags|=1024),y=!1)}return sg(o,l,h,y,A,S)}function sg(o,l,h,y,S,A){l2(o,l);var K=(l.flags&128)!==0;if(!y&&!K)return S&&dp(l,h,!1),Gl(o,l,A);y=l.stateNode,ZE.current=l;var pe=K&&typeof h.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,o!==null&&K?(l.child=gi(l,o.child,null,A),l.child=gi(l,null,pe,A)):ao(o,l,pe,A),l.memoizedState=y.state,S&&dp(l,h,!0),l.child}function u2(o){var l=o.stateNode;l.pendingContext?up(o,l.pendingContext,l.pendingContext!==l.context):l.context&&up(o,l.context,!1),Tc(o,l.containerInfo)}function d2(o,l,h,y,S){return At(),ft(S),l.flags|=256,ao(o,l,h,y),l.child}var og={dehydrated:null,treeContext:null,retryLane:0};function ag(o){return{baseLanes:o,cachePool:null,transitions:null}}function h2(o,l,h){var y=l.pendingProps,S=Tr.current,A=!1,K=(l.flags&128)!==0,pe;if((pe=K)||(pe=o!==null&&o.memoizedState===null?!1:(S&2)!==0),pe?(A=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(S|=1),fr(Tr,S&1),o===null)return Lt(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(K=y.children,o=y.fallback,A?(y=l.mode,A=l.child,K={mode:"hidden",children:K},(y&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=K):A=Dp(K,y,0,null),o=Lu(o,y,h,null),A.return=l,o.return=l,A.sibling=o,l.child=A,l.child.memoizedState=ag(h),l.memoizedState=og,o):lg(l,K));if(S=o.memoizedState,S!==null&&(pe=S.dehydrated,pe!==null))return eN(o,l,K,y,pe,S,h);if(A){A=y.fallback,K=l.mode,S=o.child,pe=S.sibling;var Ee={mode:"hidden",children:y.children};return(K&1)===0&&l.child!==S?(y=l.child,y.childLanes=0,y.pendingProps=Ee,l.deletions=null):(y=Bc(S,Ee),y.subtreeFlags=S.subtreeFlags&14680064),pe!==null?A=Bc(pe,A):(A=Lu(A,K,h,null),A.flags|=2),A.return=l,y.return=l,y.sibling=A,l.child=y,y=A,A=l.child,K=o.child.memoizedState,K=K===null?ag(h):{baseLanes:K.baseLanes|h,cachePool:null,transitions:K.transitions},A.memoizedState=K,A.childLanes=o.childLanes&~h,l.memoizedState=og,y}return A=o.child,o=A.sibling,y=Bc(A,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=h),y.return=l,y.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=y,l.memoizedState=null,y}function lg(o,l){return l=Dp({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function wp(o,l,h,y){return y!==null&&ft(y),gi(l,o.child,null,h),o=lg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function eN(o,l,h,y,S,A,K){if(h)return l.flags&256?(l.flags&=-257,y=ng(Error(t(422))),wp(o,l,K,y)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(A=y.fallback,S=l.mode,y=Dp({mode:"visible",children:y.children},S,0,null),A=Lu(A,S,K,null),A.flags|=2,y.return=l,A.return=l,y.sibling=A,l.child=y,(l.mode&1)!==0&&gi(l,o.child,null,K),l.child.memoizedState=ag(K),l.memoizedState=og,A);if((l.mode&1)===0)return wp(o,l,K,null);if(S.data==="$!"){if(y=S.nextSibling&&S.nextSibling.dataset,y)var pe=y.dgst;return y=pe,A=Error(t(419)),y=ng(A,y,void 0),wp(o,l,K,y)}if(pe=(K&o.childLanes)!==0,So||pe){if(y=hs,y!==null){switch(K&-K){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(y.suspendedLanes|K))!==0?0:S,S!==0&&S!==A.retryLane&&(A.retryLane=S,wr(o,S),Fa(y,o,S,-1))}return kg(),y=ng(Error(t(421))),wp(o,l,K,y)}return S.data==="$?"?(l.flags|=128,l.child=o.child,l=fN.bind(null,o),S._reactRetry=l,null):(o=A.treeContext,qe=_s(S.nextSibling),ze=l,Xe=!0,Ze=null,o!==null&&(re[ae++]=Le,re[ae++]=ce,re[ae++]=ke,Le=o.id,ce=o.overflow,ke=l),l=lg(l,y.children),l.flags|=4096,l)}function f2(o,l,h){o.lanes|=l;var y=o.alternate;y!==null&&(y.lanes|=l),Zn(o.return,l,h)}function cg(o,l,h,y,S){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:S}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=y,A.tail=h,A.tailMode=S)}function p2(o,l,h){var y=l.pendingProps,S=y.revealOrder,A=y.tail;if(ao(o,l,y.children,h),y=Tr.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&f2(o,h,l);else if(o.tag===19)f2(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(fr(Tr,y),(l.mode&1)===0)l.memoizedState=null;else switch(S){case"forwards":for(h=l.child,S=null;h!==null;)o=h.alternate,o!==null&&Uo(o)===null&&(S=h),h=h.sibling;h=S,h===null?(S=l.child,l.child=null):(S=h.sibling,h.sibling=null),cg(l,!1,S,h,A);break;case"backwards":for(h=null,S=l.child,l.child=null;S!==null;){if(o=S.alternate,o!==null&&Uo(o)===null){l.child=S;break}o=S.sibling,S.sibling=h,h=S,S=o}cg(l,!0,h,null,A);break;case"together":cg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function xp(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Gl(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),Au|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,h=Bc(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=Bc(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function tN(o,l,h){switch(l.tag){case 3:u2(l),At();break;case 5:hp(l);break;case 1:js(l.type)&&$l(l);break;case 4:Tc(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,S=l.memoizedProps.value;fr(ki,y._currentValue),y._currentValue=S;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(fr(Tr,Tr.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?h2(o,l,h):(fr(Tr,Tr.current&1),o=Gl(o,l,h),o!==null?o.sibling:null);fr(Tr,Tr.current&1);break;case 19:if(y=(h&l.childLanes)!==0,(o.flags&128)!==0){if(y)return p2(o,l,h);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),fr(Tr,Tr.current),y)break;return null;case 22:case 23:return l.lanes=0,a2(o,l,h)}return Gl(o,l,h)}var m2,ug,g2,v2;m2=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},ug=function(){},g2=function(o,l,h,y){var S=o.memoizedProps;if(S!==y){o=l.stateNode,Da(Vi.current);var A=null;switch(h){case"input":S=ht(o,S),y=ht(o,y),A=[];break;case"select":S=ge({},S,{value:void 0}),y=ge({},y,{value:void 0}),A=[];break;case"textarea":S=Rt(o,S),y=Rt(o,y),A=[];break;default:typeof S.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Nc)}Wn(h,y);var K;h=null;for(Ue in S)if(!y.hasOwnProperty(Ue)&&S.hasOwnProperty(Ue)&&S[Ue]!=null)if(Ue==="style"){var pe=S[Ue];for(K in pe)pe.hasOwnProperty(K)&&(h||(h={}),h[K]="")}else Ue!=="dangerouslySetInnerHTML"&&Ue!=="children"&&Ue!=="suppressContentEditableWarning"&&Ue!=="suppressHydrationWarning"&&Ue!=="autoFocus"&&(i.hasOwnProperty(Ue)?A||(A=[]):(A=A||[]).push(Ue,null));for(Ue in y){var Ee=y[Ue];if(pe=S?.[Ue],y.hasOwnProperty(Ue)&&Ee!==pe&&(Ee!=null||pe!=null))if(Ue==="style")if(pe){for(K in pe)!pe.hasOwnProperty(K)||Ee&&Ee.hasOwnProperty(K)||(h||(h={}),h[K]="");for(K in Ee)Ee.hasOwnProperty(K)&&pe[K]!==Ee[K]&&(h||(h={}),h[K]=Ee[K])}else h||(A||(A=[]),A.push(Ue,h)),h=Ee;else Ue==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,pe=pe?pe.__html:void 0,Ee!=null&&pe!==Ee&&(A=A||[]).push(Ue,Ee)):Ue==="children"?typeof Ee!="string"&&typeof Ee!="number"||(A=A||[]).push(Ue,""+Ee):Ue!=="suppressContentEditableWarning"&&Ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ue)?(Ee!=null&&Ue==="onScroll"&&vr("scroll",o),A||pe===Ee||(A=[])):(A=A||[]).push(Ue,Ee))}h&&(A=A||[]).push("style",h);var Ue=A;(l.updateQueue=Ue)&&(l.flags|=4)}},v2=function(o,l,h,y){h!==y&&(l.flags|=4)};function Xh(o,l){if(!Xe)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Bs(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,y=0;if(l)for(var S=o.child;S!==null;)h|=S.lanes|S.childLanes,y|=S.subtreeFlags&14680064,y|=S.flags&14680064,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)h|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=y,o.childLanes=h,l}function nN(o,l,h){var y=l.pendingProps;switch(Me(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bs(l),null;case 1:return js(l.type)&&vd(),Bs(l),null;case 3:return y=l.stateNode,ua(),lr(Os),lr(Xi),Gh(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Qr(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ze!==null&&(bg(Ze),Ze=null))),ug(o,l),Bs(l),null;case 5:$h(l);var S=Da(al.current);if(h=l.type,o!==null&&l.stateNode!=null)g2(o,l,h,y,S),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(t(166));return Bs(l),null}if(o=Da(Vi.current),Qr(l)){y=l.stateNode,h=l.type;var A=l.memoizedProps;switch(y[ca]=l,y[Cc]=A,o=(l.mode&1)!==0,h){case"dialog":vr("cancel",y),vr("close",y);break;case"iframe":case"object":case"embed":vr("load",y);break;case"video":case"audio":for(S=0;S<il.length;S++)vr(il[S],y);break;case"source":vr("error",y);break;case"img":case"image":case"link":vr("error",y),vr("load",y);break;case"details":vr("toggle",y);break;case"input":J(y,A),vr("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!A.multiple},vr("invalid",y);break;case"textarea":vt(y,A),vr("invalid",y)}Wn(h,A),S=null;for(var K in A)if(A.hasOwnProperty(K)){var pe=A[K];K==="children"?typeof pe=="string"?y.textContent!==pe&&(A.suppressHydrationWarning!==!0&&gd(y.textContent,pe,o),S=["children",pe]):typeof pe=="number"&&y.textContent!==""+pe&&(A.suppressHydrationWarning!==!0&&gd(y.textContent,pe,o),S=["children",""+pe]):i.hasOwnProperty(K)&&pe!=null&&K==="onScroll"&&vr("scroll",y)}switch(h){case"input":Fe(y),lt(y,A,!0);break;case"textarea":Fe(y),xt(y);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(y.onclick=Nc)}y=S,l.updateQueue=y,y!==null&&(l.flags|=4)}else{K=S.nodeType===9?S:S.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Et(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=K.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=K.createElement(h,{is:y.is}):(o=K.createElement(h),h==="select"&&(K=o,y.multiple?K.multiple=!0:y.size&&(K.size=y.size))):o=K.createElementNS(o,h),o[ca]=l,o[Cc]=y,m2(o,l,!1,!1),l.stateNode=o;e:{switch(K=ut(h,y),h){case"dialog":vr("cancel",o),vr("close",o),S=y;break;case"iframe":case"object":case"embed":vr("load",o),S=y;break;case"video":case"audio":for(S=0;S<il.length;S++)vr(il[S],o);S=y;break;case"source":vr("error",o),S=y;break;case"img":case"image":case"link":vr("error",o),vr("load",o),S=y;break;case"details":vr("toggle",o),S=y;break;case"input":J(o,y),S=ht(o,y),vr("invalid",o);break;case"option":S=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},S=ge({},y,{value:void 0}),vr("invalid",o);break;case"textarea":vt(o,y),S=Rt(o,y),vr("invalid",o);break;default:S=y}Wn(h,S),pe=S;for(A in pe)if(pe.hasOwnProperty(A)){var Ee=pe[A];A==="style"?ln(o,Ee):A==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,Ee!=null&&St(o,Ee)):A==="children"?typeof Ee=="string"?(h!=="textarea"||Ee!=="")&&Jt(o,Ee):typeof Ee=="number"&&Jt(o,""+Ee):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?Ee!=null&&A==="onScroll"&&vr("scroll",o):Ee!=null&&V(o,A,Ee,K))}switch(h){case"input":Fe(o),lt(o,y,!1);break;case"textarea":Fe(o),xt(o);break;case"option":y.value!=null&&o.setAttribute("value",""+fe(y.value));break;case"select":o.multiple=!!y.multiple,A=y.value,A!=null?pt(o,!!y.multiple,A,!1):y.defaultValue!=null&&pt(o,!!y.multiple,y.defaultValue,!0);break;default:typeof S.onClick=="function"&&(o.onclick=Nc)}switch(h){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Bs(l),null;case 6:if(o&&l.stateNode!=null)v2(o,l,o.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(t(166));if(h=Da(al.current),Da(Vi.current),Qr(l)){if(y=l.stateNode,h=l.memoizedProps,y[ca]=l,(A=y.nodeValue!==h)&&(o=ze,o!==null))switch(o.tag){case 3:gd(y.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&gd(y.nodeValue,h,(o.mode&1)!==0)}A&&(l.flags|=4)}else y=(h.nodeType===9?h:h.ownerDocument).createTextNode(y),y[ca]=l,l.stateNode=y}return Bs(l),null;case 13:if(lr(Tr),y=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Xe&&qe!==null&&(l.mode&1)!==0&&(l.flags&128)===0)xn(),At(),l.flags|=98560,A=!1;else if(A=Qr(l),y!==null&&y.dehydrated!==null){if(o===null){if(!A)throw Error(t(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(t(317));A[ca]=l}else At(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Bs(l),A=!1}else Ze!==null&&(bg(Ze),Ze=null),A=!0;if(!A)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Tr.current&1)!==0?Zi===0&&(Zi=3):kg())),l.updateQueue!==null&&(l.flags|=4),Bs(l),null);case 4:return ua(),ug(o,l),o===null&&Vl(l.stateNode.containerInfo),Bs(l),null;case 10:return jr(l.type._context),Bs(l),null;case 17:return js(l.type)&&vd(),Bs(l),null;case 19:if(lr(Tr),A=l.memoizedState,A===null)return Bs(l),null;if(y=(l.flags&128)!==0,K=A.rendering,K===null)if(y)Xh(A,!1);else{if(Zi!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(K=Uo(o),K!==null){for(l.flags|=128,Xh(A,!1),y=K.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=h,h=l.child;h!==null;)A=h,o=y,A.flags&=14680066,K=A.alternate,K===null?(A.childLanes=0,A.lanes=o,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=K.childLanes,A.lanes=K.lanes,A.child=K.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=K.memoizedProps,A.memoizedState=K.memoizedState,A.updateQueue=K.updateQueue,A.type=K.type,o=K.dependencies,A.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return fr(Tr,Tr.current&1|2),l.child}o=o.sibling}A.tail!==null&&zn()>Td&&(l.flags|=128,y=!0,Xh(A,!1),l.lanes=4194304)}else{if(!y)if(o=Uo(K),o!==null){if(l.flags|=128,y=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Xh(A,!0),A.tail===null&&A.tailMode==="hidden"&&!K.alternate&&!Xe)return Bs(l),null}else 2*zn()-A.renderingStartTime>Td&&h!==1073741824&&(l.flags|=128,y=!0,Xh(A,!1),l.lanes=4194304);A.isBackwards?(K.sibling=l.child,l.child=K):(h=A.last,h!==null?h.sibling=K:l.child=K,A.last=K)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=zn(),l.sibling=null,h=Tr.current,fr(Tr,y?h&1|2:h&1),l):(Bs(l),null);case 22:case 23:return Sg(),y=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?(qo&1073741824)!==0&&(Bs(l),l.subtreeFlags&6&&(l.flags|=8192)):Bs(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function rN(o,l){switch(Me(l),l.tag){case 1:return js(l.type)&&vd(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ua(),lr(Os),lr(Xi),Gh(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return $h(l),null;case 13:if(lr(Tr),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));At()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return lr(Tr),null;case 4:return ua(),null;case 10:return jr(l.type._context),null;case 22:case 23:return Sg(),null;case 24:return null;default:return null}}var bp=!1,Us=!1,iN=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Id(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(y){wi(o,l,y)}else h.current=null}function dg(o,l,h){try{h()}catch(y){wi(o,l,y)}}var y2=!1;function sN(o,l){if(Su=na,o=mi(),jo(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var S=y.anchorOffset,A=y.focusNode;y=y.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var K=0,pe=-1,Ee=-1,Ue=0,nt=0,ot=o,tt=null;t:for(;;){for(var kt;ot!==h||S!==0&&ot.nodeType!==3||(pe=K+S),ot!==A||y!==0&&ot.nodeType!==3||(Ee=K+y),ot.nodeType===3&&(K+=ot.nodeValue.length),(kt=ot.firstChild)!==null;)tt=ot,ot=kt;for(;;){if(ot===o)break t;if(tt===h&&++Ue===S&&(pe=K),tt===A&&++nt===y&&(Ee=K),(kt=ot.nextSibling)!==null)break;ot=tt,tt=ot.parentNode}ot=kt}h=pe===-1||Ee===-1?null:{start:pe,end:Ee}}else h=null}h=h||{start:0,end:0}}else h=null;for(ql={focusedElem:o,selectionRange:h},na=!1,Dt=l;Dt!==null;)if(l=Dt,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Dt=o;else for(;Dt!==null;){l=Dt;try{var Ot=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ot!==null){var Vt=Ot.memoizedProps,Ni=Ot.memoizedState,Re=l.stateNode,Ie=Re.getSnapshotBeforeUpdate(l.elementType===l.type?Vt:Ma(l.type,Vt),Ni);Re.__reactInternalSnapshotBeforeUpdate=Ie}break;case 3:var Oe=l.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(dt){wi(l,l.return,dt)}if(o=l.sibling,o!==null){o.return=l.return,Dt=o;break}Dt=l.return}return Ot=y2,y2=!1,Ot}function Jh(o,l,h){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var S=y=y.next;do{if((S.tag&o)===o){var A=S.destroy;S.destroy=void 0,A!==void 0&&dg(l,h,A)}S=S.next}while(S!==y)}}function _p(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var y=h.create;h.destroy=y()}h=h.next}while(h!==l)}}function hg(o){var l=o.ref;if(l!==null){var h=o.stateNode;o.tag,o=h,typeof l=="function"?l(o):l.current=o}}function w2(o){var l=o.alternate;l!==null&&(o.alternate=null,w2(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[ca],delete l[Cc],delete l[Ms],delete l[Q0],delete l[X0])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function x2(o){return o.tag===5||o.tag===3||o.tag===4}function b2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||x2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function fg(o,l,h){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Nc));else if(y!==4&&(o=o.child,o!==null))for(fg(o,l,h),o=o.sibling;o!==null;)fg(o,l,h),o=o.sibling}function pg(o,l,h){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(pg(o,l,h),o=o.sibling;o!==null;)pg(o,l,h),o=o.sibling}var Ss=null,Oa=!1;function Rc(o,l,h){for(h=h.child;h!==null;)_2(o,l,h),h=h.sibling}function _2(o,l,h){if(Mi&&typeof Mi.onCommitFiberUnmount=="function")try{Mi.onCommitFiberUnmount(mo,h)}catch{}switch(h.tag){case 5:Us||Id(h,l);case 6:var y=Ss,S=Oa;Ss=null,Rc(o,l,h),Ss=y,Oa=S,Ss!==null&&(Oa?(o=Ss,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Ss.removeChild(h.stateNode));break;case 18:Ss!==null&&(Oa?(o=Ss,h=h.stateNode,o.nodeType===8?qh(o.parentNode,h):o.nodeType===1&&qh(o,h),to(o)):qh(Ss,h.stateNode));break;case 4:y=Ss,S=Oa,Ss=h.stateNode.containerInfo,Oa=!0,Rc(o,l,h),Ss=y,Oa=S;break;case 0:case 11:case 14:case 15:if(!Us&&(y=h.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){S=y=y.next;do{var A=S,K=A.destroy;A=A.tag,K!==void 0&&((A&2)!==0||(A&4)!==0)&&dg(h,l,K),S=S.next}while(S!==y)}Rc(o,l,h);break;case 1:if(!Us&&(Id(h,l),y=h.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=h.memoizedProps,y.state=h.memoizedState,y.componentWillUnmount()}catch(pe){wi(h,l,pe)}Rc(o,l,h);break;case 21:Rc(o,l,h);break;case 22:h.mode&1?(Us=(y=Us)||h.memoizedState!==null,Rc(o,l,h),Us=y):Rc(o,l,h);break;default:Rc(o,l,h)}}function S2(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new iN),l.forEach(function(y){var S=pN.bind(null,o,y);h.has(y)||(h.add(y),y.then(S,S))})}}function ja(o,l){var h=l.deletions;if(h!==null)for(var y=0;y<h.length;y++){var S=h[y];try{var A=o,K=l,pe=K;e:for(;pe!==null;){switch(pe.tag){case 5:Ss=pe.stateNode,Oa=!1;break e;case 3:Ss=pe.stateNode.containerInfo,Oa=!0;break e;case 4:Ss=pe.stateNode.containerInfo,Oa=!0;break e}pe=pe.return}if(Ss===null)throw Error(t(160));_2(A,K,S),Ss=null,Oa=!1;var Ee=S.alternate;Ee!==null&&(Ee.return=null),S.return=null}catch(Ue){wi(S,l,Ue)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)k2(l,o),l=l.sibling}function k2(o,l){var h=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ja(l,o),cl(o),y&4){try{Jh(3,o,o.return),_p(3,o)}catch(Vt){wi(o,o.return,Vt)}try{Jh(5,o,o.return)}catch(Vt){wi(o,o.return,Vt)}}break;case 1:ja(l,o),cl(o),y&512&&h!==null&&Id(h,h.return);break;case 5:if(ja(l,o),cl(o),y&512&&h!==null&&Id(h,h.return),o.flags&32){var S=o.stateNode;try{Jt(S,"")}catch(Vt){wi(o,o.return,Vt)}}if(y&4&&(S=o.stateNode,S!=null)){var A=o.memoizedProps,K=h!==null?h.memoizedProps:A,pe=o.type,Ee=o.updateQueue;if(o.updateQueue=null,Ee!==null)try{pe==="input"&&A.type==="radio"&&A.name!=null&&Ge(S,A),ut(pe,K);var Ue=ut(pe,A);for(K=0;K<Ee.length;K+=2){var nt=Ee[K],ot=Ee[K+1];nt==="style"?ln(S,ot):nt==="dangerouslySetInnerHTML"?St(S,ot):nt==="children"?Jt(S,ot):V(S,nt,ot,Ue)}switch(pe){case"input":at(S,A);break;case"textarea":hn(S,A);break;case"select":var tt=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!A.multiple;var kt=A.value;kt!=null?pt(S,!!A.multiple,kt,!1):tt!==!!A.multiple&&(A.defaultValue!=null?pt(S,!!A.multiple,A.defaultValue,!0):pt(S,!!A.multiple,A.multiple?[]:"",!1))}S[Cc]=A}catch(Vt){wi(o,o.return,Vt)}}break;case 6:if(ja(l,o),cl(o),y&4){if(o.stateNode===null)throw Error(t(162));S=o.stateNode,A=o.memoizedProps;try{S.nodeValue=A}catch(Vt){wi(o,o.return,Vt)}}break;case 3:if(ja(l,o),cl(o),y&4&&h!==null&&h.memoizedState.isDehydrated)try{to(l.containerInfo)}catch(Vt){wi(o,o.return,Vt)}break;case 4:ja(l,o),cl(o);break;case 13:ja(l,o),cl(o),S=o.child,S.flags&8192&&(A=S.memoizedState!==null,S.stateNode.isHidden=A,!A||S.alternate!==null&&S.alternate.memoizedState!==null||(vg=zn())),y&4&&S2(o);break;case 22:if(nt=h!==null&&h.memoizedState!==null,o.mode&1?(Us=(Ue=Us)||nt,ja(l,o),Us=Ue):ja(l,o),cl(o),y&8192){if(Ue=o.memoizedState!==null,(o.stateNode.isHidden=Ue)&&!nt&&(o.mode&1)!==0)for(Dt=o,nt=o.child;nt!==null;){for(ot=Dt=nt;Dt!==null;){switch(tt=Dt,kt=tt.child,tt.tag){case 0:case 11:case 14:case 15:Jh(4,tt,tt.return);break;case 1:Id(tt,tt.return);var Ot=tt.stateNode;if(typeof Ot.componentWillUnmount=="function"){y=tt,h=tt.return;try{l=y,Ot.props=l.memoizedProps,Ot.state=l.memoizedState,Ot.componentWillUnmount()}catch(Vt){wi(y,h,Vt)}}break;case 5:Id(tt,tt.return);break;case 22:if(tt.memoizedState!==null){C2(ot);continue}}kt!==null?(kt.return=tt,Dt=kt):C2(ot)}nt=nt.sibling}e:for(nt=null,ot=o;;){if(ot.tag===5){if(nt===null){nt=ot;try{S=ot.stateNode,Ue?(A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(pe=ot.stateNode,Ee=ot.memoizedProps.style,K=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null,pe.style.display=Je("display",K))}catch(Vt){wi(o,o.return,Vt)}}}else if(ot.tag===6){if(nt===null)try{ot.stateNode.nodeValue=Ue?"":ot.memoizedProps}catch(Vt){wi(o,o.return,Vt)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===o)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===o)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===o)break e;nt===ot&&(nt=null),ot=ot.return}nt===ot&&(nt=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:ja(l,o),cl(o),y&4&&S2(o);break;case 21:break;default:ja(l,o),cl(o)}}function cl(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(x2(h)){var y=h;break e}h=h.return}throw Error(t(160))}switch(y.tag){case 5:var S=y.stateNode;y.flags&32&&(Jt(S,""),y.flags&=-33);var A=b2(o);pg(o,A,S);break;case 3:case 4:var K=y.stateNode.containerInfo,pe=b2(o);fg(o,pe,K);break;default:throw Error(t(161))}}catch(Ee){wi(o,o.return,Ee)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function oN(o,l,h){Dt=o,E2(o)}function E2(o,l,h){for(var y=(o.mode&1)!==0;Dt!==null;){var S=Dt,A=S.child;if(S.tag===22&&y){var K=S.memoizedState!==null||bp;if(!K){var pe=S.alternate,Ee=pe!==null&&pe.memoizedState!==null||Us;pe=bp;var Ue=Us;if(bp=K,(Us=Ee)&&!Ue)for(Dt=S;Dt!==null;)K=Dt,Ee=K.child,K.tag===22&&K.memoizedState!==null?I2(S):Ee!==null?(Ee.return=K,Dt=Ee):I2(S);for(;A!==null;)Dt=A,E2(A),A=A.sibling;Dt=S,bp=pe,Us=Ue}N2(o)}else(S.subtreeFlags&8772)!==0&&A!==null?(A.return=S,Dt=A):N2(o)}}function N2(o){for(;Dt!==null;){var l=Dt;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Us||_p(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!Us)if(h===null)y.componentDidMount();else{var S=l.elementType===l.type?h.memoizedProps:Ma(l.type,h.memoizedProps);y.componentDidUpdate(S,h.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var A=l.updateQueue;A!==null&&_o(l,A,y);break;case 3:var K=l.updateQueue;if(K!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}_o(l,K,h)}break;case 5:var pe=l.stateNode;if(h===null&&l.flags&4){h=pe;var Ee=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":Ee.autoFocus&&h.focus();break;case"img":Ee.src&&(h.src=Ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Ue=l.alternate;if(Ue!==null){var nt=Ue.memoizedState;if(nt!==null){var ot=nt.dehydrated;ot!==null&&to(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Us||l.flags&512&&hg(l)}catch(tt){wi(l,l.return,tt)}}if(l===o){Dt=null;break}if(h=l.sibling,h!==null){h.return=l.return,Dt=h;break}Dt=l.return}}function C2(o){for(;Dt!==null;){var l=Dt;if(l===o){Dt=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Dt=h;break}Dt=l.return}}function I2(o){for(;Dt!==null;){var l=Dt;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{_p(4,l)}catch(Ee){wi(l,h,Ee)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var S=l.return;try{y.componentDidMount()}catch(Ee){wi(l,S,Ee)}}var A=l.return;try{hg(l)}catch(Ee){wi(l,A,Ee)}break;case 5:var K=l.return;try{hg(l)}catch(Ee){wi(l,K,Ee)}}}catch(Ee){wi(l,l.return,Ee)}if(l===o){Dt=null;break}var pe=l.sibling;if(pe!==null){pe.return=l.return,Dt=pe;break}Dt=l.return}}var aN=Math.ceil,Sp=H.ReactCurrentDispatcher,mg=H.ReactCurrentOwner,fa=H.ReactCurrentBatchConfig,er=0,hs=null,zi=null,ks=0,qo=0,Ad=Fo(0),Zi=0,Zh=null,Au=0,kp=0,gg=0,ef=null,ko=null,vg=0,Td=1/0,Kl=null,Ep=!1,yg=null,Mc=null,Np=!1,Oc=null,Cp=0,tf=0,wg=null,Ip=-1,Ap=0;function lo(){return(er&6)!==0?zn():Ip!==-1?Ip:Ip=zn()}function jc(o){return(o.mode&1)===0?1:(er&2)!==0&&ks!==0?ks&-ks:oi.transition!==null?(Ap===0&&(Ap=mt()),Ap):(o=yt,o!==0||(o=window.event,o=o===void 0?16:ia(o.type)),o)}function Fa(o,l,h,y){if(50<tf)throw tf=0,wg=null,Error(t(185));vn(o,h,y),((er&2)===0||o!==hs)&&(o===hs&&((er&2)===0&&(kp|=h),Zi===4&&Fc(o,ks)),Eo(o,y),h===1&&er===0&&(l.mode&1)===0&&(Td=zn()+500,Eu&&R()))}function Eo(o,l){var h=o.callbackNode;Be(o,l);var y=G(o,o===hs?ks:0);if(y===0)h!==null&&Js(h),o.callbackNode=null,o.callbackPriority=0;else if(l=y&-y,o.callbackPriority!==l){if(h!=null&&Js(h),l===1)o.tag===0?k(T2.bind(null,o)):x(T2.bind(null,o)),G0(function(){(er&6)===0&&R()}),h=null;else{switch(Pt(y)){case 1:h=po;break;case 4:h=ri;break;case 16:h=Ri;break;case 536870912:h=ea;break;default:h=Ri}h=F2(h,A2.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function A2(o,l){if(Ip=-1,Ap=0,(er&6)!==0)throw Error(t(327));var h=o.callbackNode;if(Pd()&&o.callbackNode!==h)return null;var y=G(o,o===hs?ks:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||l)l=Tp(o,y);else{l=y;var S=er;er|=2;var A=D2();(hs!==o||ks!==l)&&(Kl=null,Td=zn()+500,Pu(o,l));do try{uN();break}catch(pe){P2(o,pe)}while(!0);Jn(),Sp.current=A,er=S,zi!==null?l=0:(hs=null,ks=0,l=Zi)}if(l!==0){if(l===2&&(S=He(o),S!==0&&(y=S,l=xg(o,S))),l===1)throw h=Zh,Pu(o,0),Fc(o,y),Eo(o,zn()),h;if(l===6)Fc(o,y);else{if(S=o.current.alternate,(y&30)===0&&!lN(S)&&(l=Tp(o,y),l===2&&(A=He(o),A!==0&&(y=A,l=xg(o,A))),l===1))throw h=Zh,Pu(o,0),Fc(o,y),Eo(o,zn()),h;switch(o.finishedWork=S,o.finishedLanes=y,l){case 0:case 1:throw Error(t(345));case 2:Du(o,ko,Kl);break;case 3:if(Fc(o,y),(y&130023424)===y&&(l=vg+500-zn(),10<l)){if(G(o,0)!==0)break;if(S=o.suspendedLanes,(S&y)!==y){lo(),o.pingedLanes|=o.suspendedLanes&S;break}o.timeoutHandle=zh(Du.bind(null,o,ko,Kl),l);break}Du(o,ko,Kl);break;case 4:if(Fc(o,y),(y&4194240)===y)break;for(l=o.eventTimes,S=-1;0<y;){var K=31-Kn(y);A=1<<K,K=l[K],K>S&&(S=K),y&=~A}if(y=S,y=zn()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*aN(y/1960))-y,10<y){o.timeoutHandle=zh(Du.bind(null,o,ko,Kl),y);break}Du(o,ko,Kl);break;case 5:Du(o,ko,Kl);break;default:throw Error(t(329))}}}return Eo(o,zn()),o.callbackNode===h?A2.bind(null,o):null}function xg(o,l){var h=ef;return o.current.memoizedState.isDehydrated&&(Pu(o,l).flags|=256),o=Tp(o,l),o!==2&&(l=ko,ko=h,l!==null&&bg(l)),o}function bg(o){ko===null?ko=o:ko.push.apply(ko,o)}function lN(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var y=0;y<h.length;y++){var S=h[y],A=S.getSnapshot;S=S.value;try{if(!Gr(A(),S))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Fc(o,l){for(l&=~gg,l&=~kp,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-Kn(l),y=1<<h;o[h]=-1,l&=~y}}function T2(o){if((er&6)!==0)throw Error(t(327));Pd();var l=G(o,0);if((l&1)===0)return Eo(o,zn()),null;var h=Tp(o,l);if(o.tag!==0&&h===2){var y=He(o);y!==0&&(l=y,h=xg(o,y))}if(h===1)throw h=Zh,Pu(o,0),Fc(o,l),Eo(o,zn()),h;if(h===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Du(o,ko,Kl),Eo(o,zn()),null}function _g(o,l){var h=er;er|=1;try{return o(l)}finally{er=h,er===0&&(Td=zn()+500,Eu&&R())}}function Tu(o){Oc!==null&&Oc.tag===0&&(er&6)===0&&Pd();var l=er;er|=1;var h=fa.transition,y=yt;try{if(fa.transition=null,yt=1,o)return o()}finally{yt=y,fa.transition=h,er=l,(er&6)===0&&R()}}function Sg(){qo=Ad.current,lr(Ad)}function Pu(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,lp(h)),zi!==null)for(h=zi.return;h!==null;){var y=h;switch(Me(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&vd();break;case 3:ua(),lr(Os),lr(Xi),Gh();break;case 5:$h(y);break;case 4:ua();break;case 13:lr(Tr);break;case 19:lr(Tr);break;case 10:jr(y.type._context);break;case 22:case 23:Sg()}h=h.return}if(hs=o,zi=o=Bc(o.current,null),ks=qo=l,Zi=0,Zh=null,gg=kp=Au=0,ko=ef=null,yr!==null){for(l=0;l<yr.length;l++)if(h=yr[l],y=h.interleaved,y!==null){h.interleaved=null;var S=y.next,A=h.pending;if(A!==null){var K=A.next;A.next=S,y.next=K}h.pending=y}yr=null}return o}function P2(o,l){do{var h=zi;try{if(Jn(),yd.current=vp,Pc){for(var y=Fr.memoizedState;y!==null;){var S=y.queue;S!==null&&(S.pending=null),y=y.next}Pc=!1}if(da=0,ui=yi=Fr=null,La=!1,Dc=0,mg.current=null,h===null||h.return===null){Zi=1,Zh=l,zi=null;break}e:{var A=o,K=h.return,pe=h,Ee=l;if(l=ks,pe.flags|=32768,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Ue=Ee,nt=pe,ot=nt.tag;if((nt.mode&1)===0&&(ot===0||ot===11||ot===15)){var tt=nt.alternate;tt?(nt.updateQueue=tt.updateQueue,nt.memoizedState=tt.memoizedState,nt.lanes=tt.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var kt=n2(K);if(kt!==null){kt.flags&=-257,r2(kt,K,pe,A,l),kt.mode&1&&t2(A,Ue,l),l=kt,Ee=Ue;var Ot=l.updateQueue;if(Ot===null){var Vt=new Set;Vt.add(Ee),l.updateQueue=Vt}else Ot.add(Ee);break e}else{if((l&1)===0){t2(A,Ue,l),kg();break e}Ee=Error(t(426))}}else if(Xe&&pe.mode&1){var Ni=n2(K);if(Ni!==null){(Ni.flags&65536)===0&&(Ni.flags|=256),r2(Ni,K,pe,A,l),ft(Cd(Ee,pe));break e}}A=Ee=Cd(Ee,pe),Zi!==4&&(Zi=2),ef===null?ef=[A]:ef.push(A),A=K;do{switch(A.tag){case 3:A.flags|=65536,l&=-l,A.lanes|=l;var Re=Zy(A,Ee,l);xr(A,Re);break e;case 1:pe=Ee;var Ie=A.type,Oe=A.stateNode;if((A.flags&128)===0&&(typeof Ie.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(Mc===null||!Mc.has(Oe)))){A.flags|=65536,l&=-l,A.lanes|=l;var dt=e2(A,pe,l);xr(A,dt);break e}}A=A.return}while(A!==null)}R2(h)}catch(Ht){l=Ht,zi===h&&h!==null&&(zi=h=h.return);continue}break}while(!0)}function D2(){var o=Sp.current;return Sp.current=vp,o===null?vp:o}function kg(){(Zi===0||Zi===3||Zi===2)&&(Zi=4),hs===null||(Au&268435455)===0&&(kp&268435455)===0||Fc(hs,ks)}function Tp(o,l){var h=er;er|=2;var y=D2();(hs!==o||ks!==l)&&(Kl=null,Pu(o,l));do try{cN();break}catch(S){P2(o,S)}while(!0);if(Jn(),er=h,Sp.current=y,zi!==null)throw Error(t(261));return hs=null,ks=0,Zi}function cN(){for(;zi!==null;)L2(zi)}function uN(){for(;zi!==null&&!Do();)L2(zi)}function L2(o){var l=j2(o.alternate,o,qo);o.memoizedProps=o.pendingProps,l===null?R2(o):zi=l,mg.current=null}function R2(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=nN(h,l,qo),h!==null){zi=h;return}}else{if(h=rN(h,l),h!==null){h.flags&=32767,zi=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Zi=6,zi=null;return}}if(l=l.sibling,l!==null){zi=l;return}zi=l=o}while(l!==null);Zi===0&&(Zi=5)}function Du(o,l,h){var y=yt,S=fa.transition;try{fa.transition=null,yt=1,dN(o,l,h,y)}finally{fa.transition=S,yt=y}return null}function dN(o,l,h,y){do Pd();while(Oc!==null);if((er&6)!==0)throw Error(t(327));h=o.finishedWork;var S=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var A=h.lanes|h.childLanes;if(gt(o,A),o===hs&&(zi=hs=null,ks=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Np||(Np=!0,F2(Ri,function(){return Pd(),null})),A=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||A){A=fa.transition,fa.transition=null;var K=yt;yt=1;var pe=er;er|=4,mg.current=null,sN(o,h),k2(h,o),mu(ql),na=!!Su,ql=Su=null,o.current=h,oN(h),Dl(),er=pe,yt=K,fa.transition=A}else o.current=h;if(Np&&(Np=!1,Oc=o,Cp=S),A=o.pendingLanes,A===0&&(Mc=null),ba(h.stateNode),Eo(o,zn()),l!==null)for(y=o.onRecoverableError,h=0;h<l.length;h++)S=l[h],y(S.value,{componentStack:S.stack,digest:S.digest});if(Ep)throw Ep=!1,o=yg,yg=null,o;return(Cp&1)!==0&&o.tag!==0&&Pd(),A=o.pendingLanes,(A&1)!==0?o===wg?tf++:(tf=0,wg=o):tf=0,R(),null}function Pd(){if(Oc!==null){var o=Pt(Cp),l=fa.transition,h=yt;try{if(fa.transition=null,yt=16>o?16:o,Oc===null)var y=!1;else{if(o=Oc,Oc=null,Cp=0,(er&6)!==0)throw Error(t(331));var S=er;for(er|=4,Dt=o.current;Dt!==null;){var A=Dt,K=A.child;if((Dt.flags&16)!==0){var pe=A.deletions;if(pe!==null){for(var Ee=0;Ee<pe.length;Ee++){var Ue=pe[Ee];for(Dt=Ue;Dt!==null;){var nt=Dt;switch(nt.tag){case 0:case 11:case 15:Jh(8,nt,A)}var ot=nt.child;if(ot!==null)ot.return=nt,Dt=ot;else for(;Dt!==null;){nt=Dt;var tt=nt.sibling,kt=nt.return;if(w2(nt),nt===Ue){Dt=null;break}if(tt!==null){tt.return=kt,Dt=tt;break}Dt=kt}}}var Ot=A.alternate;if(Ot!==null){var Vt=Ot.child;if(Vt!==null){Ot.child=null;do{var Ni=Vt.sibling;Vt.sibling=null,Vt=Ni}while(Vt!==null)}}Dt=A}}if((A.subtreeFlags&2064)!==0&&K!==null)K.return=A,Dt=K;else e:for(;Dt!==null;){if(A=Dt,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Jh(9,A,A.return)}var Re=A.sibling;if(Re!==null){Re.return=A.return,Dt=Re;break e}Dt=A.return}}var Ie=o.current;for(Dt=Ie;Dt!==null;){K=Dt;var Oe=K.child;if((K.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=K,Dt=Oe;else e:for(K=Ie;Dt!==null;){if(pe=Dt,(pe.flags&2048)!==0)try{switch(pe.tag){case 0:case 11:case 15:_p(9,pe)}}catch(Ht){wi(pe,pe.return,Ht)}if(pe===K){Dt=null;break e}var dt=pe.sibling;if(dt!==null){dt.return=pe.return,Dt=dt;break e}Dt=pe.return}}if(er=S,R(),Mi&&typeof Mi.onPostCommitFiberRoot=="function")try{Mi.onPostCommitFiberRoot(mo,o)}catch{}y=!0}return y}finally{yt=h,fa.transition=l}}return!1}function M2(o,l,h){l=Cd(h,l),l=Zy(o,l,1),o=li(o,l,1),l=lo(),o!==null&&(vn(o,1,l),Eo(o,l))}function wi(o,l,h){if(o.tag===3)M2(o,o,h);else for(;l!==null;){if(l.tag===3){M2(l,o,h);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Mc===null||!Mc.has(y))){o=Cd(h,o),o=e2(l,o,1),l=li(l,o,1),o=lo(),l!==null&&(vn(l,1,o),Eo(l,o));break}}l=l.return}}function hN(o,l,h){var y=o.pingCache;y!==null&&y.delete(l),l=lo(),o.pingedLanes|=o.suspendedLanes&h,hs===o&&(ks&h)===h&&(Zi===4||Zi===3&&(ks&130023424)===ks&&500>zn()-vg?Pu(o,0):gg|=h),Eo(o,l)}function O2(o,l){l===0&&((o.mode&1)===0?l=1:(l=Wi,Wi<<=1,(Wi&130023424)===0&&(Wi=4194304)));var h=lo();o=wr(o,l),o!==null&&(vn(o,l,h),Eo(o,h))}function fN(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),O2(o,h)}function pN(o,l){var h=0;switch(o.tag){case 13:var y=o.stateNode,S=o.memoizedState;S!==null&&(h=S.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(l),O2(o,h)}var j2;j2=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||Os.current)So=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return So=!1,tN(o,l,h);So=(o.flags&131072)!==0}else So=!1,Xe&&(l.flags&1048576)!==0&&De(l,Z,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;xp(o,l),o=l.pendingProps;var S=Ac(l,Xi.current);Xr(l,h),S=Nu(null,l,y,o,S,h);var A=ha();return l.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,js(y)?(A=!0,$l(l)):A=!1,l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Ji(l),S.updater=yp,l.stateNode=S,S._reactInternals=l,tg(l,y,o,h),l=sg(null,l,y,!0,A,h)):(l.tag=0,Xe&&A&&We(l),ao(null,l,S,h),l=l.child),l;case 16:y=l.elementType;e:{switch(xp(o,l),o=l.pendingProps,S=y._init,y=S(y._payload),l.type=y,S=l.tag=gN(y),o=Ma(y,o),S){case 0:l=ig(null,l,y,o,h);break e;case 1:l=c2(null,l,y,o,h);break e;case 11:l=i2(null,l,y,o,h);break e;case 14:l=s2(null,l,y,Ma(y.type,o),h);break e}throw Error(t(306,y,""))}return l;case 0:return y=l.type,S=l.pendingProps,S=l.elementType===y?S:Ma(y,S),ig(o,l,y,S,h);case 1:return y=l.type,S=l.pendingProps,S=l.elementType===y?S:Ma(y,S),c2(o,l,y,S,h);case 3:e:{if(u2(l),o===null)throw Error(t(387));y=l.pendingProps,A=l.memoizedState,S=A.element,Fs(o,l),ds(l,y,null,h);var K=l.memoizedState;if(y=K.element,A.isDehydrated)if(A={element:y,isDehydrated:!1,cache:K.cache,pendingSuspenseBoundaries:K.pendingSuspenseBoundaries,transitions:K.transitions},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){S=Cd(Error(t(423)),l),l=d2(o,l,y,h,S);break e}else if(y!==S){S=Cd(Error(t(424)),l),l=d2(o,l,y,h,S);break e}else for(qe=_s(l.stateNode.containerInfo.firstChild),ze=l,Xe=!0,Ze=null,h=qr(l,null,y,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(At(),y===S){l=Gl(o,l,h);break e}ao(o,l,y,h)}l=l.child}return l;case 5:return hp(l),o===null&&Lt(l),y=l.type,S=l.pendingProps,A=o!==null?o.memoizedProps:null,K=S.children,Vh(y,S)?K=null:A!==null&&Vh(y,A)&&(l.flags|=32),l2(o,l),ao(o,l,K,h),l.child;case 6:return o===null&&Lt(l),null;case 13:return h2(o,l,h);case 4:return Tc(l,l.stateNode.containerInfo),y=l.pendingProps,o===null?l.child=gi(l,null,y,h):ao(o,l,y,h),l.child;case 11:return y=l.type,S=l.pendingProps,S=l.elementType===y?S:Ma(y,S),i2(o,l,y,S,h);case 7:return ao(o,l,l.pendingProps,h),l.child;case 8:return ao(o,l,l.pendingProps.children,h),l.child;case 12:return ao(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(y=l.type._context,S=l.pendingProps,A=l.memoizedProps,K=S.value,fr(ki,y._currentValue),y._currentValue=K,A!==null)if(Gr(A.value,K)){if(A.children===S.children&&!Os.current){l=Gl(o,l,h);break e}}else for(A=l.child,A!==null&&(A.return=l);A!==null;){var pe=A.dependencies;if(pe!==null){K=A.child;for(var Ee=pe.firstContext;Ee!==null;){if(Ee.context===y){if(A.tag===1){Ee=ai(-1,h&-h),Ee.tag=2;var Ue=A.updateQueue;if(Ue!==null){Ue=Ue.shared;var nt=Ue.pending;nt===null?Ee.next=Ee:(Ee.next=nt.next,nt.next=Ee),Ue.pending=Ee}}A.lanes|=h,Ee=A.alternate,Ee!==null&&(Ee.lanes|=h),Zn(A.return,h,l),pe.lanes|=h;break}Ee=Ee.next}}else if(A.tag===10)K=A.type===l.type?null:A.child;else if(A.tag===18){if(K=A.return,K===null)throw Error(t(341));K.lanes|=h,pe=K.alternate,pe!==null&&(pe.lanes|=h),Zn(K,h,l),K=A.sibling}else K=A.child;if(K!==null)K.return=A;else for(K=A;K!==null;){if(K===l){K=null;break}if(A=K.sibling,A!==null){A.return=K.return,K=A;break}K=K.return}A=K}ao(o,l,S.children,h),l=l.child}return l;case 9:return S=l.type,y=l.pendingProps.children,Xr(l,h),S=Jr(S),y=y(S),l.flags|=1,ao(o,l,y,h),l.child;case 14:return y=l.type,S=Ma(y,l.pendingProps),S=Ma(y.type,S),s2(o,l,y,S,h);case 15:return o2(o,l,l.type,l.pendingProps,h);case 17:return y=l.type,S=l.pendingProps,S=l.elementType===y?S:Ma(y,S),xp(o,l),l.tag=1,js(y)?(o=!0,$l(l)):o=!1,Xr(l,h),Xy(l,y,S),tg(l,y,S,h),sg(null,l,y,!0,o,h);case 19:return p2(o,l,h);case 22:return a2(o,l,h)}throw Error(t(156,l.tag))};function F2(o,l){return os(o,l)}function mN(o,l,h,y){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(o,l,h,y){return new mN(o,l,h,y)}function Eg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function gN(o){if(typeof o=="function")return Eg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===I)return 11;if(o===ve)return 14}return 2}function Bc(o,l){var h=o.alternate;return h===null?(h=pa(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function Pp(o,l,h,y,S,A){var K=2;if(y=o,typeof o=="function")Eg(o)&&(K=1);else if(typeof o=="string")K=5;else e:switch(o){case q:return Lu(h.children,S,A,l);case O:K=8,S|=8;break;case M:return o=pa(12,h,l,S|2),o.elementType=M,o.lanes=A,o;case L:return o=pa(13,h,l,S),o.elementType=L,o.lanes=A,o;case ee:return o=pa(19,h,l,S),o.elementType=ee,o.lanes=A,o;case be:return Dp(h,S,A,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case z:K=10;break e;case N:K=9;break e;case I:K=11;break e;case ve:K=14;break e;case Ne:K=16,y=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=pa(K,h,l,S),l.elementType=o,l.type=y,l.lanes=A,l}function Lu(o,l,h,y){return o=pa(7,o,y,l),o.lanes=h,o}function Dp(o,l,h,y){return o=pa(22,o,y,l),o.elementType=be,o.lanes=h,o.stateNode={isHidden:!1},o}function Ng(o,l,h){return o=pa(6,o,null,l),o.lanes=h,o}function Cg(o,l,h){return l=pa(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function vN(o,l,h,y,S){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tt(0),this.expirationTimes=Tt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.identifierPrefix=y,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Ig(o,l,h,y,S,A,K,pe,Ee){return o=new vN(o,l,h,pe,Ee),l===1?(l=1,A===!0&&(l|=8)):l=0,A=pa(3,null,null,l),o.current=A,A.stateNode=o,A.memoizedState={element:y,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ji(A),o}function yN(o,l,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:y==null?null:""+y,children:o,containerInfo:l,implementation:h}}function B2(o){if(!o)return ol;o=o._reactInternals;e:{if(Dr(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(js(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var h=o.type;if(js(h))return Wh(o,h,l)}return l}function U2(o,l,h,y,S,A,K,pe,Ee){return o=Ig(h,y,!0,o,S,A,K,pe,Ee),o.context=B2(null),h=o.current,y=lo(),S=jc(h),A=ai(y,S),A.callback=l??null,li(h,A,S),o.current.lanes=S,vn(o,S,y),Eo(o,y),o}function Lp(o,l,h,y){var S=l.current,A=lo(),K=jc(S);return h=B2(h),l.context===null?l.context=h:l.pendingContext=h,l=ai(A,K),l.payload={element:o},y=y===void 0?null:y,y!==null&&(l.callback=y),o=li(S,l,K),o!==null&&(Fa(o,S,K,A),us(o,S,K)),K}function Rp(o){return o=o.current,o.child?(o.child.tag===5,o.child.stateNode):null}function V2(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function Ag(o,l){V2(o,l),(o=o.alternate)&&V2(o,l)}function wN(){return null}var z2=typeof reportError=="function"?reportError:function(o){console.error(o)};function Tg(o){this._internalRoot=o}Mp.prototype.render=Tg.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));Lp(o,l,null,null)},Mp.prototype.unmount=Tg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Tu(function(){Lp(null,o,null,null)}),l[ls]=null}};function Mp(o){this._internalRoot=o}Mp.prototype.unstable_scheduleHydration=function(o){if(o){var l=Rr();o={blockedOn:null,target:o,priority:l};for(var h=0;h<Ts.length&&l!==0&&l<Ts[h].priority;h++);Ts.splice(h,0,o),h===0&&Xa(o)}};function Pg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Op(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function q2(){}function xN(o,l,h,y,S){if(S){if(typeof y=="function"){var A=y;y=function(){var Ue=Rp(K);A.call(Ue)}}var K=U2(l,y,o,0,null,!1,!1,"",q2);return o._reactRootContainer=K,o[ls]=K.current,Vl(o.nodeType===8?o.parentNode:o),Tu(),K}for(;S=o.lastChild;)o.removeChild(S);if(typeof y=="function"){var pe=y;y=function(){var Ue=Rp(Ee);pe.call(Ue)}}var Ee=Ig(o,0,!1,null,null,!1,!1,"",q2);return o._reactRootContainer=Ee,o[ls]=Ee.current,Vl(o.nodeType===8?o.parentNode:o),Tu(function(){Lp(l,Ee,h,y)}),Ee}function jp(o,l,h,y,S){var A=h._reactRootContainer;if(A){var K=A;if(typeof S=="function"){var pe=S;S=function(){var Ee=Rp(K);pe.call(Ee)}}Lp(l,K,o,S)}else K=xN(h,l,o,S,y);return Rp(K)}st=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=ys(l.pendingLanes);h!==0&&(fn(l,h|1),Eo(l,zn()),(er&6)===0&&(Td=zn()+500,R()))}break;case 13:Tu(function(){var y=wr(o,1);if(y!==null){var S=lo();Fa(y,o,1,S)}}),Ag(o,1)}},Nn=function(o){if(o.tag===13){var l=wr(o,134217728);if(l!==null){var h=lo();Fa(l,o,134217728,h)}Ag(o,134217728)}},On=function(o){if(o.tag===13){var l=jc(o),h=wr(o,l);if(h!==null){var y=lo();Fa(h,o,l,y)}Ag(o,l)}},Rr=function(){return yt},en=function(o,l){var h=yt;try{return yt=o,l()}finally{yt=h}},Zt=function(o,l,h){switch(l){case"input":if(at(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var y=h[l];if(y!==o&&y.form===o.form){var S=ku(y);if(!S)throw Error(t(90));$e(y),at(y,S)}}}break;case"textarea":hn(o,h);break;case"select":l=h.value,l!=null&&pt(o,!!h.multiple,l,!1)}},mr=_g,Br=Tu;var bN={usingClientEntryPoint:!1,Events:[Ic,Hl,ku,kn,_i,_g]},nf={findFiberByHostInstance:sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_N={bundleType:nf.bundleType,version:nf.version,rendererPackageName:nf.rendererPackageName,rendererConfig:nf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Hi(o),o===null?null:o.stateNode},findFiberByHostInstance:nf.findFiberByHostInstance||wN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fp.isDisabled&&Fp.supportsFiber)try{mo=Fp.inject(_N),Mi=Fp}catch{}}return No.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bN,No.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pg(l))throw Error(t(200));return yN(o,l,null,h)},No.createRoot=function(o,l){if(!Pg(o))throw Error(t(299));var h=!1,y="",S=z2;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=Ig(o,1,!1,null,null,h,!1,y,S),o[ls]=l.current,Vl(o.nodeType===8?o.parentNode:o),new Tg(l)},No.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Hi(l),o=o===null?null:o.stateNode,o},No.flushSync=function(o){return Tu(o)},No.hydrate=function(o,l,h){if(!Op(l))throw Error(t(200));return jp(null,o,l,!0,h)},No.hydrateRoot=function(o,l,h){if(!Pg(o))throw Error(t(405));var y=h!=null&&h.hydratedSources||null,S=!1,A="",K=z2;if(h!=null&&(h.unstable_strictMode===!0&&(S=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&(K=h.onRecoverableError)),l=U2(l,null,o,1,h??null,S,!1,A,K),o[ls]=l.current,Vl(o),y)for(o=0;o<y.length;o++)h=y[o],S=h._getVersion,S=S(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,S]:l.mutableSourceEagerHydrationData.push(h,S);return new Mp(l)},No.render=function(o,l,h){if(!Op(l))throw Error(t(200));return jp(null,o,l,!1,h)},No.unmountComponentAtNode=function(o){if(!Op(o))throw Error(t(40));return o._reactRootContainer?(Tu(function(){jp(null,null,o,!1,function(){o._reactRootContainer=null,o[ls]=null})}),!0):!1},No.unstable_batchedUpdates=_g,No.unstable_renderSubtreeIntoContainer=function(o,l,h,y){if(!Op(h))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return jp(o,l,h,!1,y)},No.version="18.3.1-next-f1338f8080-20240426",No}var X2;function Mb(){if(X2)return Rg.exports;X2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rg.exports=TN(),Rg.exports}var J2;function PN(){if(J2)return Bp;J2=1;var r=Mb();return Bp.createRoot=r.createRoot,Bp.hydrateRoot=r.hydrateRoot,Bp}var DN=PN();const LN=E1(DN);var Z2={};const Ob=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},RN=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[t++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[t++],a=r[t++],c=r[t++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const s=r[t++],a=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},jb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],a=i+1<r.length,c=a?r[i+1]:0,u=i+2<r.length,d=u?r[i+2]:0,f=s>>2,w=(s&3)<<4|c>>4;let b=(c&15)<<2|d>>6,v=d&63;u||(v=64,a||(b=64)),n.push(t[f],t[w],t[b],t[v])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Ob(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):RN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const d=i<r.length?t[r.charAt(i)]:64;++i;const w=i<r.length?t[r.charAt(i)]:64;if(++i,s==null||c==null||d==null||w==null)throw new MN;const b=s<<2|c>>4;if(n.push(b),d!==64){const v=c<<4&240|d>>2;if(n.push(v),w!==64){const E=d<<6&192|w;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class MN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ON=function(r){const e=Ob(r);return jb.encodeByteArray(e,!0)},Pm=function(r){return ON(r).replace(/\./g,"")},Fb=function(r){try{return jb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const FN=()=>jN().__FIREBASE_DEFAULTS__,BN=()=>{if(typeof process>"u"||typeof Z2>"u")return;const r=Z2.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},UN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Fb(r[1]);return e&&JSON.parse(e)},f0=()=>{try{return FN()||BN()||UN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Bb=r=>{var e,t;return(t=(e=f0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},VN=r=>{const e=Bb(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},Ub=()=>{var r;return(r=f0())===null||r===void 0?void 0:r.config},Vb=r=>{var e;return(e=f0())===null||e===void 0?void 0:e[`_${r}`]};class zN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function qN(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Pm(JSON.stringify(t)),Pm(JSON.stringify(a)),""].join(".")}function Qs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qs())}function WN(){var r;const e=(r=f0())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $N(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YN(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function GN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KN(){const r=Qs();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function QN(){return!WN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XN(){try{return typeof indexedDB=="object"}catch{return!1}}function JN(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}const ZN="FirebaseError";class gc extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=ZN,Object.setPrototypeOf(this,gc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qf.prototype.create)}}class qf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?e4(s,n):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new gc(i,c,n)}}function e4(r,e){return r.replace(t4,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const t4=/\{\$([^}]+)}/g;function n4(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Dm(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const s=r[i],a=e[i];if(ew(s)&&ew(a)){if(!Dm(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function ew(r){return r!==null&&typeof r=="object"}function Hf(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function hf(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ff(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function r4(r,e){const t=new i4(r,e);return t.subscribe.bind(t)}class i4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");s4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=jg),i.error===void 0&&(i.error=jg),i.complete===void 0&&(i.complete=jg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s4(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function jg(){}function ss(r){return r&&r._delegate?r._delegate:r}class Qu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Mu="[DEFAULT]";class o4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new zN;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l4(e))try{this.getOrInitializeService({instanceIdentifier:Mu})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Mu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mu){return this.instances.has(e)}getOptions(e=Mu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&a.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a4(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Mu){return this.component?this.component.multipleInstances?e:Mu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a4(r){return r===Mu?void 0:r}function l4(r){return r.instantiationMode==="EAGER"}class c4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Hn;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Hn||(Hn={}));const u4={debug:Hn.DEBUG,verbose:Hn.VERBOSE,info:Hn.INFO,warn:Hn.WARN,error:Hn.ERROR,silent:Hn.SILENT},d4=Hn.INFO,h4={[Hn.DEBUG]:"log",[Hn.VERBOSE]:"log",[Hn.INFO]:"info",[Hn.WARN]:"warn",[Hn.ERROR]:"error"},f4=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=h4[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C1{constructor(e){this.name=e,this._logLevel=d4,this._logHandler=f4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Hn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Hn.DEBUG,...e),this._logHandler(this,Hn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Hn.VERBOSE,...e),this._logHandler(this,Hn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Hn.INFO,...e),this._logHandler(this,Hn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Hn.WARN,...e),this._logHandler(this,Hn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Hn.ERROR,...e),this._logHandler(this,Hn.ERROR,...e)}}const p4=(r,e)=>e.some(t=>r instanceof t);let tw,nw;function m4(){return tw||(tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g4(){return nw||(nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zb=new WeakMap,Rv=new WeakMap,qb=new WeakMap,Fg=new WeakMap,I1=new WeakMap;function v4(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",a)},s=()=>{t(Zc(r.result)),i()},a=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&zb.set(t,r)}).catch(()=>{}),I1.set(e,r),e}function y4(r){if(Rv.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",a),r.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",a),r.addEventListener("abort",a)});Rv.set(r,e)}let Mv={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Rv.get(r);if(e==="objectStoreNames")return r.objectStoreNames||qb.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zc(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function w4(r){Mv=r(Mv)}function x4(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Bg(this),e,...t);return qb.set(n,e.sort?e.sort():[e]),Zc(n)}:g4().includes(r)?function(...e){return r.apply(Bg(this),e),Zc(zb.get(this))}:function(...e){return Zc(r.apply(Bg(this),e))}}function b4(r){return typeof r=="function"?x4(r):(r instanceof IDBTransaction&&y4(r),p4(r,m4())?new Proxy(r,Mv):r)}function Zc(r){if(r instanceof IDBRequest)return v4(r);if(Fg.has(r))return Fg.get(r);const e=b4(r);return e!==r&&(Fg.set(r,e),I1.set(e,r)),e}const Bg=r=>I1.get(r);function _4(r,e,{blocked:t,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(r,e),c=Zc(a);return n&&a.addEventListener("upgradeneeded",u=>{n(Zc(a.result),u.oldVersion,u.newVersion,Zc(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const S4=["get","getKey","getAll","getAllKeys","count"],k4=["put","add","delete","clear"],Ug=new Map;function rw(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ug.get(e))return Ug.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=k4.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||S4.includes(t)))return;const s=async function(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),i&&u.done]))[0]};return Ug.set(e,s),s}w4(r=>({...r,get:(e,t,n)=>rw(e,t)||r.get(e,t,n),has:(e,t)=>!!rw(e,t)||r.has(e,t)}));class E4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(N4(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function N4(r){const e=r.getComponent();return e?.type==="VERSION"}const Ov="@firebase/app",iw="0.10.13";const cc=new C1("@firebase/app"),C4="@firebase/app-compat",I4="@firebase/analytics-compat",A4="@firebase/analytics",T4="@firebase/app-check-compat",P4="@firebase/app-check",D4="@firebase/auth",L4="@firebase/auth-compat",R4="@firebase/database",M4="@firebase/data-connect",O4="@firebase/database-compat",j4="@firebase/functions",F4="@firebase/functions-compat",B4="@firebase/installations",U4="@firebase/installations-compat",V4="@firebase/messaging",z4="@firebase/messaging-compat",q4="@firebase/performance",H4="@firebase/performance-compat",W4="@firebase/remote-config",$4="@firebase/remote-config-compat",Y4="@firebase/storage",G4="@firebase/storage-compat",K4="@firebase/firestore",Q4="@firebase/vertexai-preview",X4="@firebase/firestore-compat",J4="firebase",Z4="10.14.1";const jv="[DEFAULT]",eC={[Ov]:"fire-core",[C4]:"fire-core-compat",[A4]:"fire-analytics",[I4]:"fire-analytics-compat",[P4]:"fire-app-check",[T4]:"fire-app-check-compat",[D4]:"fire-auth",[L4]:"fire-auth-compat",[R4]:"fire-rtdb",[M4]:"fire-data-connect",[O4]:"fire-rtdb-compat",[j4]:"fire-fn",[F4]:"fire-fn-compat",[B4]:"fire-iid",[U4]:"fire-iid-compat",[V4]:"fire-fcm",[z4]:"fire-fcm-compat",[q4]:"fire-perf",[H4]:"fire-perf-compat",[W4]:"fire-rc",[$4]:"fire-rc-compat",[Y4]:"fire-gcs",[G4]:"fire-gcs-compat",[K4]:"fire-fst",[X4]:"fire-fst-compat",[Q4]:"fire-vertex","fire-js":"fire-js",[J4]:"fire-js-all"};const Lm=new Map,tC=new Map,Fv=new Map;function sw(r,e){try{r.container.addComponent(e)}catch(t){cc.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ah(r){const e=r.name;if(Fv.has(e))return cc.debug(`There were multiple attempts to register component ${e}.`),!1;Fv.set(e,r);for(const t of Lm.values())sw(t,r);for(const t of tC.values())sw(t,r);return!0}function A1(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function tc(r){return r.settings!==void 0}const nC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eu=new qf("app","Firebase",nC);class rC{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Qu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eu.create("app-deleted",{appName:this._name})}}const Eh=Z4;function Hb(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:jv,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw eu.create("bad-app-name",{appName:String(i)});if(t||(t=Ub()),!t)throw eu.create("no-options");const s=Lm.get(i);if(s){if(Dm(t,s.options)&&Dm(n,s.config))return s;throw eu.create("duplicate-app",{appName:i})}const a=new c4(i);for(const u of Fv.values())a.addComponent(u);const c=new rC(t,n,a);return Lm.set(i,c),c}function Wb(r=jv){const e=Lm.get(r);if(!e&&r===jv&&Ub())return Hb();if(!e)throw eu.create("no-app",{appName:r});return e}function tu(r,e,t){var n;let i=(n=eC[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cc.warn(c.join(" "));return}ah(new Qu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const iC="firebase-heartbeat-database",sC=1,If="firebase-heartbeat-store";let Vg=null;function $b(){return Vg||(Vg=_4(iC,sC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(If)}catch(t){console.warn(t)}}}}).catch(r=>{throw eu.create("idb-open",{originalErrorMessage:r.message})})),Vg}async function oC(r){try{const t=(await $b()).transaction(If),n=await t.objectStore(If).get(Yb(r));return await t.done,n}catch(e){if(e instanceof gc)cc.warn(e.message);else{const t=eu.create("idb-get",{originalErrorMessage:e?.message});cc.warn(t.message)}}}async function ow(r,e){try{const n=(await $b()).transaction(If,"readwrite");await n.objectStore(If).put(e,Yb(r)),await n.done}catch(t){if(t instanceof gc)cc.warn(t.message);else{const n=eu.create("idb-set",{originalErrorMessage:t?.message});cc.warn(n.message)}}}function Yb(r){return`${r.name}!${r.options.appId}`}const aC=1024,lC=720*60*60*1e3;class cC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dC(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=lC}),this._storage.overwrite(this._heartbeatsCache))}catch(n){cc.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=aw(),{heartbeatsToSend:n,unsentEntries:i}=uC(this._heartbeatsCache.heartbeats),s=Pm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return cc.warn(t),""}}}function aw(){return new Date().toISOString().substring(0,10)}function uC(r,e=aC){const t=[];let n=r.slice();for(const i of r){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),lw(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),lw(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class dC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XN()?JN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await oC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ow(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ow(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lw(r){return Pm(JSON.stringify({version:2,heartbeats:r})).length}function hC(r){ah(new Qu("platform-logger",e=>new E4(e),"PRIVATE")),ah(new Qu("heartbeat",e=>new cC(e),"PRIVATE")),tu(Ov,iw,r),tu(Ov,iw,"esm2017"),tu("fire-js","")}hC("");function T1(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fC=Gb,Kb=new qf("auth","Firebase",Gb());const Rm=new C1("@firebase/auth");function pC(r,...e){Rm.logLevel<=Hn.WARN&&Rm.warn(`Auth (${Eh}): ${r}`,...e)}function um(r,...e){Rm.logLevel<=Hn.ERROR&&Rm.error(`Auth (${Eh}): ${r}`,...e)}function Wa(r,...e){throw P1(r,...e)}function bl(r,...e){return P1(r,...e)}function Qb(r,e,t){const n=Object.assign(Object.assign({},fC()),{[e]:t});return new qf("auth","Firebase",n).create(e,{appName:r.name})}function nu(r){return Qb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P1(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Kb.create(r,...e)}function pn(r,e,...t){if(!r)throw P1(e,...t)}function nc(r){const e="INTERNAL ASSERTION FAILED: "+r;throw um(e),new Error(e)}function uc(r,e){r||nc(e)}function Bv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function mC(){return cw()==="http:"||cw()==="https:"}function cw(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function gC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mC()||YN()||"connection"in navigator)?navigator.onLine:!0}function vC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Wf{constructor(e,t){this.shortDelay=e,this.longDelay=t,uc(t>e,"Short delay should be less than long delay!"),this.isMobile=HN()||GN()}get(){return gC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function D1(r,e){uc(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Xb{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wC=new Wf(3e4,6e4);function sd(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function fu(r,e,t,n,i={}){return Jb(r,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const c=Hf(Object.assign({key:r.config.apiKey},a)).slice(1),u=await r._getAdditionalHeaders();u["Content-Type"]="application/json",r.languageCode&&(u["X-Firebase-Locale"]=r.languageCode);const d=Object.assign({method:e,headers:u},s);return $N()||(d.referrerPolicy="no-referrer"),Xb.fetch()(Zb(r,r.config.apiHost,t,c),d)})}async function Jb(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},yC),e);try{const i=new bC(r),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Up(r,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Up(r,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Up(r,"email-already-in-use",a);if(u==="USER_DISABLED")throw Up(r,"user-disabled",a);const f=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Qb(r,f,d);Wa(r,f)}}catch(i){if(i instanceof gc)throw i;Wa(r,"network-request-failed",{message:String(i)})}}async function p0(r,e,t,n,i={}){const s=await fu(r,e,t,n,i);return"mfaPendingCredential"in s&&Wa(r,"multi-factor-auth-required",{_serverResponse:s}),s}function Zb(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?D1(r.config,i):`${r.config.apiScheme}://${i}`}function xC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(bl(this.auth,"network-request-failed")),wC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Up(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=bl(r,e,n);return i.customData._tokenResponse=t,i}function uw(r){return r!==void 0&&r.enterprise!==void 0}class _C{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function SC(r,e){return fu(r,"GET","/v2/recaptchaConfig",sd(r,e))}async function kC(r,e){return fu(r,"POST","/v1/accounts:delete",e)}async function e_(r,e){return fu(r,"POST","/v1/accounts:lookup",e)}function xf(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EC(r,e=!1){const t=ss(r),n=await t.getIdToken(e),i=L1(n);pn(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:n,authTime:xf(zg(i.auth_time)),issuedAtTime:xf(zg(i.iat)),expirationTime:xf(zg(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function zg(r){return Number(r)*1e3}function L1(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return um("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fb(t);return i?JSON.parse(i):(um("Failed to decode base64 JWT payload"),null)}catch(i){return um("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dw(r){const e=L1(r);return pn(e,"internal-error"),pn(typeof e.exp<"u","internal-error"),pn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Af(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof gc&&NC(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function NC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class CC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Uv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xf(this.lastLoginAt),this.creationTime=xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mm(r){var e;const t=r.auth,n=await r.getIdToken(),i=await Af(r,e_(t,{idToken:n}));pn(i?.users.length,t,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?t_(s.providerUserInfo):[],c=AC(r.providerData,a),u=r.isAnonymous,d=!(r.email&&s.passwordHash)&&!c?.length,f=u?d:!1,w={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Uv(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(r,w)}async function IC(r){const e=ss(r);await Mm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AC(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function t_(r){return r.map(e=>{var{providerId:t}=e,n=T1(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function TC(r,e){const t=await Jb(r,{},async()=>{const n=Hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,a=Zb(r,i,"/v1/token",`key=${s}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Xb.fetch()(a,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function PC(r,e){return fu(r,"POST","/v2/accounts:revokeToken",sd(r,e))}class Kd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pn(e.idToken,"internal-error"),pn(typeof e.idToken<"u","internal-error"),pn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pn(e.length!==0,"internal-error");const t=dw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await TC(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:s}=t,a=new Kd;return n&&(pn(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(pn(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(pn(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kd,this.toJSON())}_performRefresh(){return nc("not implemented")}}function Vc(r,e){pn(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class rc{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,s=T1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Uv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Af(this,this.stsTokenManager.getToken(this.auth,e));return pn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return EC(this,e)}reload(){return IC(this)}_assign(e){this!==e&&(pn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Mm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tc(this.auth.app))return Promise.reject(nu(this.auth));const e=await this.getIdToken();return await Af(this,kC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,s,a,c,u,d,f;const w=(n=t.displayName)!==null&&n!==void 0?n:void 0,b=(i=t.email)!==null&&i!==void 0?i:void 0,v=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,E=(a=t.photoURL)!==null&&a!==void 0?a:void 0,D=(c=t.tenantId)!==null&&c!==void 0?c:void 0,T=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,P=(d=t.createdAt)!==null&&d!==void 0?d:void 0,U=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:V,emailVerified:H,isAnonymous:ie,providerData:de,stsTokenManager:q}=t;pn(V&&q,e,"internal-error");const O=Kd.fromJSON(this.name,q);pn(typeof V=="string",e,"internal-error"),Vc(w,e.name),Vc(b,e.name),pn(typeof H=="boolean",e,"internal-error"),pn(typeof ie=="boolean",e,"internal-error"),Vc(v,e.name),Vc(E,e.name),Vc(D,e.name),Vc(T,e.name),Vc(P,e.name),Vc(U,e.name);const M=new rc({uid:V,auth:e,email:b,emailVerified:H,displayName:w,isAnonymous:ie,photoURL:E,phoneNumber:v,tenantId:D,stsTokenManager:O,createdAt:P,lastLoginAt:U});return de&&Array.isArray(de)&&(M.providerData=de.map(z=>Object.assign({},z))),T&&(M._redirectEventId=T),M}static async _fromIdTokenResponse(e,t,n=!1){const i=new Kd;i.updateFromServerResponse(t);const s=new rc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Mm(s),s}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];pn(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?t_(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,c=new Kd;c.updateFromIdToken(n);const u=new rc({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Uv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u}}const hw=new Map;function ic(r){uc(r instanceof Function,"Expected a class definition");let e=hw.get(r);return e?(uc(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,hw.set(r,e),e)}class n_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}n_.type="NONE";const fw=n_;function dm(r,e,t){return`firebase:${r}:${e}:${t}`}class Qd{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=dm(this.userKey,i.apiKey,s),this.fullPersistenceKey=dm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Qd(ic(fw),e,n);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||ic(fw);const a=dm(n,e.config.apiKey,e.name);let c=null;for(const d of t)try{const f=await d._get(a);if(f){const w=rc._fromJSON(e,f);d!==s&&(c=w),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Qd(s,e,n):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new Qd(s,e,n))}}function pw(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(o_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l_(e))return"Blackberry";if(c_(e))return"Webos";if(i_(e))return"Safari";if((e.includes("chrome/")||s_(e))&&!e.includes("edge/"))return"Chrome";if(a_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function r_(r=Qs()){return/firefox\//i.test(r)}function i_(r=Qs()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s_(r=Qs()){return/crios\//i.test(r)}function o_(r=Qs()){return/iemobile/i.test(r)}function a_(r=Qs()){return/android/i.test(r)}function l_(r=Qs()){return/blackberry/i.test(r)}function c_(r=Qs()){return/webos/i.test(r)}function R1(r=Qs()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function DC(r=Qs()){var e;return R1(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LC(){return KN()&&document.documentMode===10}function u_(r=Qs()){return R1(r)||a_(r)||c_(r)||l_(r)||/windows phone/i.test(r)||o_(r)}function d_(r,e=[]){let t;switch(r){case"Browser":t=pw(Qs());break;case"Worker":t=`${pw(Qs())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Eh}/${n}`}class RC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((a,c)=>{try{const u=e(s);a(u)}catch(u){c(u)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function MC(r,e={}){return fu(r,"GET","/v2/passwordPolicy",sd(r,e))}const OC=6;class jC{constructor(e){var t,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:OC,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(n=u.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class FC{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mw(this),this.idTokenSubscription=new mw(this),this.beforeStateQueue=new RC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ic(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Qd.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await e_(this,{idToken:e}),n=await rc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(tc(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tc(this.app))return Promise.reject(nu(this));const t=e?ss(e):null;return t&&pn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tc(this.app)?Promise.reject(nu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tc(this.app)?Promise.reject(nu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ic(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MC(this),t=new jC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qf("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await PC(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ic(e)||this._popupRedirectResolver;pn(t,this,"argument-error"),this.redirectPersistenceManager=await Qd.create(this,[ic(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(pn(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,n,i);return()=>{a=!0,u()}}else{const u=e.addObserver(t);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&pC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Nh(r){return ss(r)}class mw{constructor(e){this.auth=e,this.observer=null,this.addObserver=r4(t=>this.observer=t)}get next(){return pn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let m0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BC(r){m0=r}function h_(r){return m0.loadJS(r)}function UC(){return m0.recaptchaEnterpriseScript}function VC(){return m0.gapiScript}function zC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const qC="recaptcha-enterprise",HC="NO_RECAPTCHA";class WC{constructor(e){this.type=qC,this.auth=Nh(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{SC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new _C(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function i(s,a,c){const u=window.grecaptcha;uw(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(HC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(c=>{if(!t&&uw(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=UC();u.length!==0&&(u+=c),h_(u).then(()=>{i(c,s,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function gw(r,e,t,n=!1){const i=new WC(r);let s;try{s=await i.verify(t)}catch{s=await i.verify(t,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vw(r,e,t,n){var i;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await gw(r,e,t,t==="getOobCode");return n(r,s)}else return n(r,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await gw(r,e,t,t==="getOobCode");return n(r,a)}else return Promise.reject(s)})}function $C(r,e){const t=A1(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Dm(s,e??{}))return i;Wa(i,"already-initialized")}return t.initialize({options:e})}function YC(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(ic);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function GC(r,e,t){const n=Nh(r);pn(n._canInitEmulator,n,"emulator-config-failed"),pn(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=f_(e),{host:a,port:c}=KC(e),u=c===null?"":`:${c}`;n.config.emulator={url:`${s}//${a}${u}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),QC()}function f_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function KC(r){const e=f_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:yw(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:yw(a)}}}function yw(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function QC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class M1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return nc("not implemented")}_getIdTokenResponse(e){return nc("not implemented")}_linkToIdToken(e,t){return nc("not implemented")}_getReauthenticationResolver(e){return nc("not implemented")}}async function XC(r,e){return fu(r,"POST","/v1/accounts:signUp",e)}async function JC(r,e){return p0(r,"POST","/v1/accounts:signInWithPassword",sd(r,e))}async function ZC(r,e){return p0(r,"POST","/v1/accounts:signInWithEmailLink",sd(r,e))}async function eI(r,e){return p0(r,"POST","/v1/accounts:signInWithEmailLink",sd(r,e))}class Tf extends M1{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Tf(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Tf(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,t,"signInWithPassword",JC);case"emailLink":return ZC(e,{email:this._email,oobCode:this._password});default:Wa(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,n,"signUpPassword",XC);case"emailLink":return eI(e,{idToken:t,email:this._email,oobCode:this._password});default:Wa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xd(r,e){return p0(r,"POST","/v1/accounts:signInWithIdp",sd(r,e))}const tI="http://localhost";class Xu extends M1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wa("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,s=T1(t,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Xu(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Xd(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xd(e,t)}buildRequest(){const e={requestUri:tI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hf(t)}return e}}function nI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rI(r){const e=hf(ff(r)).link,t=e?hf(ff(e)).deep_link_id:null,n=hf(ff(r)).deep_link_id;return(n?hf(ff(n)).link:null)||n||t||e||r}class O1{constructor(e){var t,n,i,s,a,c;const u=hf(ff(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,f=(n=u.oobCode)!==null&&n!==void 0?n:null,w=nI((i=u.mode)!==null&&i!==void 0?i:null);pn(d&&f&&w,"argument-error"),this.apiKey=d,this.operation=w,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=rI(e);try{return new O1(t)}catch{return null}}}class Ch{constructor(){this.providerId=Ch.PROVIDER_ID}static credential(e,t){return Tf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=O1.parseLink(t);return pn(n,"argument-error"),Tf._fromEmailAndCode(e,n.code,n.tenantId)}}Ch.PROVIDER_ID="password";Ch.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ch.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class p_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $f extends p_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $c extends $f{constructor(){super("facebook.com")}static credential(e){return Xu._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $c.credentialFromTaggedObject(e)}static credentialFromError(e){return $c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $c.credential(e.oauthAccessToken)}catch{return null}}}$c.FACEBOOK_SIGN_IN_METHOD="facebook.com";$c.PROVIDER_ID="facebook.com";class Yc extends $f{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xu._fromParams({providerId:Yc.PROVIDER_ID,signInMethod:Yc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yc.credentialFromTaggedObject(e)}static credentialFromError(e){return Yc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Yc.credential(t,n)}catch{return null}}}Yc.GOOGLE_SIGN_IN_METHOD="google.com";Yc.PROVIDER_ID="google.com";class Gc extends $f{constructor(){super("github.com")}static credential(e){return Xu._fromParams({providerId:Gc.PROVIDER_ID,signInMethod:Gc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gc.credentialFromTaggedObject(e)}static credentialFromError(e){return Gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gc.credential(e.oauthAccessToken)}catch{return null}}}Gc.GITHUB_SIGN_IN_METHOD="github.com";Gc.PROVIDER_ID="github.com";class Kc extends $f{constructor(){super("twitter.com")}static credential(e,t){return Xu._fromParams({providerId:Kc.PROVIDER_ID,signInMethod:Kc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kc.credentialFromTaggedObject(e)}static credentialFromError(e){return Kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Kc.credential(t,n)}catch{return null}}}Kc.TWITTER_SIGN_IN_METHOD="twitter.com";Kc.PROVIDER_ID="twitter.com";class lh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const s=await rc._fromIdTokenResponse(e,n,i),a=ww(n);return new lh({user:s,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=ww(n);return new lh({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function ww(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Om extends gc{constructor(e,t,n,i){var s;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Om.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Om(e,t,n,i)}}function m_(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Om._fromErrorAndOperation(r,s,e,n):s})}async function iI(r,e,t=!1){const n=await Af(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return lh._forOperation(r,"link",n)}async function sI(r,e,t=!1){const{auth:n}=r;if(tc(n.app))return Promise.reject(nu(n));const i="reauthenticate";try{const s=await Af(r,m_(n,i,e,r),t);pn(s.idToken,n,"internal-error");const a=L1(s.idToken);pn(a,n,"internal-error");const{sub:c}=a;return pn(r.uid===c,n,"user-mismatch"),lh._forOperation(r,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Wa(n,"user-mismatch"),s}}async function g_(r,e,t=!1){if(tc(r.app))return Promise.reject(nu(r));const n="signIn",i=await m_(r,n,e),s=await lh._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(s.user),s}async function oI(r,e){return g_(Nh(r),e)}async function aI(r){const e=Nh(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function lI(r,e,t){return tc(r.app)?Promise.reject(nu(r)):oI(ss(r),Ch.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&aI(r),n})}function cI(r,e,t,n){return ss(r).onIdTokenChanged(e,t,n)}function uI(r,e,t){return ss(r).beforeAuthStateChanged(e,t)}function dI(r,e,t,n){return ss(r).onAuthStateChanged(e,t,n)}function hI(r){return ss(r).signOut()}const jm="__sak";class v_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jm,"1"),this.storage.removeItem(jm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fI=1e3,pI=10;class y_ extends v_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!t&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);LC()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pI):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},fI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}y_.type="LOCAL";const mI=y_;class w_ extends v_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}w_.type="SESSION";const x_=w_;function gI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class g0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new g0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(a).map(async d=>d(t.origin,s)),u=await gI(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}g0.receivers=[];function j1(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}class vI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const d=j1("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(w){const b=w;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function _l(){return window}function yI(r){_l().location.href=r}function b_(){return typeof _l().WorkerGlobalScope<"u"&&typeof _l().importScripts=="function"}async function wI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xI(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function bI(){return b_()?self:null}const __="firebaseLocalStorageDb",_I=1,Fm="firebaseLocalStorage",S_="fbase_key";class Yf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function v0(r,e){return r.transaction([Fm],e?"readwrite":"readonly").objectStore(Fm)}function SI(){const r=indexedDB.deleteDatabase(__);return new Yf(r).toPromise()}function Vv(){const r=indexedDB.open(__,_I);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Fm,{keyPath:S_})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Fm)?e(n):(n.close(),await SI(),e(await Vv()))})})}async function xw(r,e,t){const n=v0(r,!0).put({[S_]:e,value:t});return new Yf(n).toPromise()}async function kI(r,e){const t=v0(r,!1).get(e),n=await new Yf(t).toPromise();return n===void 0?null:n.value}function bw(r,e){const t=v0(r,!0).delete(e);return new Yf(t).toPromise()}const EI=800,NI=3;class k_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>NI)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return b_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=g0._getInstance(bI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await wI(),!this.activeServiceWorker)return;this.sender=new vI(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vv();return await xw(e,jm,"1"),await bw(e,jm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>xw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>kI(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=v0(i,!1).getAll();return new Yf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k_.type="LOCAL";const CI=k_;new Wf(3e4,6e4);function II(r,e){return e?ic(e):(pn(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class F1 extends M1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AI(r){return g_(r.auth,new F1(r),r.bypassAuthState)}function TI(r){const{auth:e,user:t}=r;return pn(t,e,"internal-error"),sI(t,new F1(r),r.bypassAuthState)}async function PI(r){const{auth:e,user:t}=r;return pn(t,e,"internal-error"),iI(t,new F1(r),r.bypassAuthState)}class E_{constructor(e,t,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AI;case"linkViaPopup":case"linkViaRedirect":return PI;case"reauthViaPopup":case"reauthViaRedirect":return TI;default:Wa(this.auth,"internal-error")}}resolve(e){uc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const DI=new Wf(2e3,1e4);class $d extends E_{constructor(e,t,n,i,s){super(e,t,i,s),this.provider=n,this.authWindow=null,this.pollId=null,$d.currentPopupAction&&$d.currentPopupAction.cancel(),$d.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pn(e,this.auth,"internal-error"),e}async onExecution(){uc(this.filter.length===1,"Popup operations only handle one event");const e=j1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(bl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$d.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DI.get())};e()}}$d.currentPopupAction=null;const LI="pendingRedirect",hm=new Map;class RI extends E_{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=hm.get(this.auth._key());if(!e){try{const n=await MI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}hm.set(this.auth._key(),e)}return this.bypassAuthState||hm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MI(r,e){const t=FI(e),n=jI(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function OI(r,e){hm.set(r._key(),e)}function jI(r){return ic(r._redirectPersistence)}function FI(r){return dm(LI,r.config.apiKey,r.name)}async function BI(r,e,t=!1){if(tc(r.app))return Promise.reject(nu(r));const n=Nh(r),i=II(n,e),a=await new RI(n,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}const UI=600*1e3;class VI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!N_(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(bl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UI&&this.cachedEventUids.clear(),this.cachedEventUids.has(_w(e))}saveEventToCache(e){this.cachedEventUids.add(_w(e)),this.lastProcessedEventTime=Date.now()}}function _w(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function N_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function zI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N_(r);default:return!1}}async function qI(r,e={}){return fu(r,"GET","/v1/projects",e)}const HI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WI=/^https?/;async function $I(r){if(r.config.emulator)return;const{authorizedDomains:e}=await qI(r);for(const t of e)try{if(YI(t))return}catch{}Wa(r,"unauthorized-domain")}function YI(r){const e=Bv(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===n}if(!WI.test(t))return!1;if(HI.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const GI=new Wf(3e4,6e4);function Sw(){const r=_l().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function KI(r){return new Promise((e,t)=>{var n,i,s;function a(){Sw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sw(),t(bl(r,"network-request-failed"))},timeout:GI.get()})}if(!((i=(n=_l().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_l().gapi)===null||s===void 0)&&s.load)a();else{const c=zC("iframefcb");return _l()[c]=()=>{gapi.load?a():t(bl(r,"network-request-failed"))},h_(`${VC()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw fm=null,e})}let fm=null;function QI(r){return fm=fm||KI(r),fm}const XI=new Wf(5e3,15e3),JI="__/auth/iframe",ZI="emulator/auth/iframe",eA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nA(r){const e=r.config;pn(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?D1(e,ZI):`https://${r.config.authDomain}/${JI}`,n={apiKey:e.apiKey,appName:r.name,v:Eh},i=tA.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${Hf(n).slice(1)}`}async function rA(r){const e=await QI(r),t=_l().gapi;return pn(t,r,"internal-error"),e.open({where:document.body,url:nA(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eA,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=bl(r,"network-request-failed"),c=_l().setTimeout(()=>{s(a)},XI.get());function u(){_l().clearTimeout(c),i(n)}n.ping(u).then(u,()=>{s(a)})}))}const iA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sA=500,oA=600,aA="_blank",lA="http://localhost";class kw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cA(r,e,t,n=sA,i=oA){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const u=Object.assign(Object.assign({},iA),{width:n.toString(),height:i.toString(),top:s,left:a}),d=Qs().toLowerCase();t&&(c=s_(d)?aA:t),r_(d)&&(e=e||lA,u.scrollbars="yes");const f=Object.entries(u).reduce((b,[v,E])=>`${b}${v}=${E},`,"");if(DC(d)&&c!=="_self")return uA(e||"",c),new kw(null);const w=window.open(e||"",c,f);pn(w,r,"popup-blocked");try{w.focus()}catch{}return new kw(w)}function uA(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const dA="__/auth/handler",hA="emulator/auth/handler",fA=encodeURIComponent("fac");async function Ew(r,e,t,n,i,s){pn(r.config.authDomain,r,"auth-domain-config-required"),pn(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Eh,eventId:i};if(e instanceof p_){e.setDefaultLanguage(r.languageCode),a.providerId=e.providerId||"",n4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,w]of Object.entries({}))a[f]=w}if(e instanceof $f){const f=e.getScopes().filter(w=>w!=="");f.length>0&&(a.scopes=f.join(","))}r.tenantId&&(a.tid=r.tenantId);const c=a;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await r._getAppCheckToken(),d=u?`#${fA}=${encodeURIComponent(u)}`:"";return`${pA(r)}?${Hf(c).slice(1)}${d}`}function pA({config:r}){return r.emulator?D1(r,hA):`https://${r.authDomain}/${dA}`}const qg="webStorageSupport";class mA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x_,this._completeRedirectFn=BI,this._overrideRedirectResult=OI}async _openPopup(e,t,n,i){var s;uc((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Ew(e,t,n,Bv(),i);return cA(e,a,j1())}async _openRedirect(e,t,n,i){await this._originValidation(e);const s=await Ew(e,t,n,Bv(),i);return yI(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(uc(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await rA(e),n=new VI(e);return t.register("authEvent",i=>(pn(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qg,{type:qg},i=>{var s;const a=(s=i?.[0])===null||s===void 0?void 0:s[qg];a!==void 0&&t(!!a),Wa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$I(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return u_()||i_()||R1()}}const gA=mA;var Nw="@firebase/auth",Cw="1.7.9";class vA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yA(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wA(r){ah(new Qu("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=n.options;pn(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:a,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d_(r)},d=new FC(n,i,s,u);return YC(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),ah(new Qu("auth-internal",e=>{const t=Nh(e.getProvider("auth").getImmediate());return(n=>new vA(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tu(Nw,Cw,yA(r)),tu(Nw,Cw,"esm2017")}const xA=300,bA=Vb("authIdTokenMaxAge")||xA;let Iw=null;const _A=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>bA)return;const i=t?.token;Iw!==i&&(Iw=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SA(r=Wb()){const e=A1(r,"auth");if(e.isInitialized())return e.getImmediate();const t=$C(r,{popupRedirectResolver:gA,persistence:[CI,mI,x_]}),n=Vb("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=_A(s.toString());uI(t,a,()=>a(t.currentUser)),cI(t,c=>a(c))}}const i=Bb("auth");return i&&GC(t,`http://${i}`),t}function kA(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}BC({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const s=bl("internal-error");s.customData=i,t(s)},n.type="text/javascript",n.charset="UTF-8",kA().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wA("Browser");var EA="firebase",NA="10.14.1";tu(EA,NA,"app");var Aw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wu,C_;(function(){var r;function e(q,O){function M(){}M.prototype=O.prototype,q.D=O.prototype,q.prototype=new M,q.prototype.constructor=q,q.C=function(z,N,I){for(var L=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)L[ee-2]=arguments[ee];return O.prototype[N].apply(z,L)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(q,O,M){M||(M=0);var z=Array(16);if(typeof O=="string")for(var N=0;16>N;++N)z[N]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(N=0;16>N;++N)z[N]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=q.g[0],M=q.g[1],N=q.g[2];var I=q.g[3],L=O+(I^M&(N^I))+z[0]+3614090360&4294967295;O=M+(L<<7&4294967295|L>>>25),L=I+(N^O&(M^N))+z[1]+3905402710&4294967295,I=O+(L<<12&4294967295|L>>>20),L=N+(M^I&(O^M))+z[2]+606105819&4294967295,N=I+(L<<17&4294967295|L>>>15),L=M+(O^N&(I^O))+z[3]+3250441966&4294967295,M=N+(L<<22&4294967295|L>>>10),L=O+(I^M&(N^I))+z[4]+4118548399&4294967295,O=M+(L<<7&4294967295|L>>>25),L=I+(N^O&(M^N))+z[5]+1200080426&4294967295,I=O+(L<<12&4294967295|L>>>20),L=N+(M^I&(O^M))+z[6]+2821735955&4294967295,N=I+(L<<17&4294967295|L>>>15),L=M+(O^N&(I^O))+z[7]+4249261313&4294967295,M=N+(L<<22&4294967295|L>>>10),L=O+(I^M&(N^I))+z[8]+1770035416&4294967295,O=M+(L<<7&4294967295|L>>>25),L=I+(N^O&(M^N))+z[9]+2336552879&4294967295,I=O+(L<<12&4294967295|L>>>20),L=N+(M^I&(O^M))+z[10]+4294925233&4294967295,N=I+(L<<17&4294967295|L>>>15),L=M+(O^N&(I^O))+z[11]+2304563134&4294967295,M=N+(L<<22&4294967295|L>>>10),L=O+(I^M&(N^I))+z[12]+1804603682&4294967295,O=M+(L<<7&4294967295|L>>>25),L=I+(N^O&(M^N))+z[13]+4254626195&4294967295,I=O+(L<<12&4294967295|L>>>20),L=N+(M^I&(O^M))+z[14]+2792965006&4294967295,N=I+(L<<17&4294967295|L>>>15),L=M+(O^N&(I^O))+z[15]+1236535329&4294967295,M=N+(L<<22&4294967295|L>>>10),L=O+(N^I&(M^N))+z[1]+4129170786&4294967295,O=M+(L<<5&4294967295|L>>>27),L=I+(M^N&(O^M))+z[6]+3225465664&4294967295,I=O+(L<<9&4294967295|L>>>23),L=N+(O^M&(I^O))+z[11]+643717713&4294967295,N=I+(L<<14&4294967295|L>>>18),L=M+(I^O&(N^I))+z[0]+3921069994&4294967295,M=N+(L<<20&4294967295|L>>>12),L=O+(N^I&(M^N))+z[5]+3593408605&4294967295,O=M+(L<<5&4294967295|L>>>27),L=I+(M^N&(O^M))+z[10]+38016083&4294967295,I=O+(L<<9&4294967295|L>>>23),L=N+(O^M&(I^O))+z[15]+3634488961&4294967295,N=I+(L<<14&4294967295|L>>>18),L=M+(I^O&(N^I))+z[4]+3889429448&4294967295,M=N+(L<<20&4294967295|L>>>12),L=O+(N^I&(M^N))+z[9]+568446438&4294967295,O=M+(L<<5&4294967295|L>>>27),L=I+(M^N&(O^M))+z[14]+3275163606&4294967295,I=O+(L<<9&4294967295|L>>>23),L=N+(O^M&(I^O))+z[3]+4107603335&4294967295,N=I+(L<<14&4294967295|L>>>18),L=M+(I^O&(N^I))+z[8]+1163531501&4294967295,M=N+(L<<20&4294967295|L>>>12),L=O+(N^I&(M^N))+z[13]+2850285829&4294967295,O=M+(L<<5&4294967295|L>>>27),L=I+(M^N&(O^M))+z[2]+4243563512&4294967295,I=O+(L<<9&4294967295|L>>>23),L=N+(O^M&(I^O))+z[7]+1735328473&4294967295,N=I+(L<<14&4294967295|L>>>18),L=M+(I^O&(N^I))+z[12]+2368359562&4294967295,M=N+(L<<20&4294967295|L>>>12),L=O+(M^N^I)+z[5]+4294588738&4294967295,O=M+(L<<4&4294967295|L>>>28),L=I+(O^M^N)+z[8]+2272392833&4294967295,I=O+(L<<11&4294967295|L>>>21),L=N+(I^O^M)+z[11]+1839030562&4294967295,N=I+(L<<16&4294967295|L>>>16),L=M+(N^I^O)+z[14]+4259657740&4294967295,M=N+(L<<23&4294967295|L>>>9),L=O+(M^N^I)+z[1]+2763975236&4294967295,O=M+(L<<4&4294967295|L>>>28),L=I+(O^M^N)+z[4]+1272893353&4294967295,I=O+(L<<11&4294967295|L>>>21),L=N+(I^O^M)+z[7]+4139469664&4294967295,N=I+(L<<16&4294967295|L>>>16),L=M+(N^I^O)+z[10]+3200236656&4294967295,M=N+(L<<23&4294967295|L>>>9),L=O+(M^N^I)+z[13]+681279174&4294967295,O=M+(L<<4&4294967295|L>>>28),L=I+(O^M^N)+z[0]+3936430074&4294967295,I=O+(L<<11&4294967295|L>>>21),L=N+(I^O^M)+z[3]+3572445317&4294967295,N=I+(L<<16&4294967295|L>>>16),L=M+(N^I^O)+z[6]+76029189&4294967295,M=N+(L<<23&4294967295|L>>>9),L=O+(M^N^I)+z[9]+3654602809&4294967295,O=M+(L<<4&4294967295|L>>>28),L=I+(O^M^N)+z[12]+3873151461&4294967295,I=O+(L<<11&4294967295|L>>>21),L=N+(I^O^M)+z[15]+530742520&4294967295,N=I+(L<<16&4294967295|L>>>16),L=M+(N^I^O)+z[2]+3299628645&4294967295,M=N+(L<<23&4294967295|L>>>9),L=O+(N^(M|~I))+z[0]+4096336452&4294967295,O=M+(L<<6&4294967295|L>>>26),L=I+(M^(O|~N))+z[7]+1126891415&4294967295,I=O+(L<<10&4294967295|L>>>22),L=N+(O^(I|~M))+z[14]+2878612391&4294967295,N=I+(L<<15&4294967295|L>>>17),L=M+(I^(N|~O))+z[5]+4237533241&4294967295,M=N+(L<<21&4294967295|L>>>11),L=O+(N^(M|~I))+z[12]+1700485571&4294967295,O=M+(L<<6&4294967295|L>>>26),L=I+(M^(O|~N))+z[3]+2399980690&4294967295,I=O+(L<<10&4294967295|L>>>22),L=N+(O^(I|~M))+z[10]+4293915773&4294967295,N=I+(L<<15&4294967295|L>>>17),L=M+(I^(N|~O))+z[1]+2240044497&4294967295,M=N+(L<<21&4294967295|L>>>11),L=O+(N^(M|~I))+z[8]+1873313359&4294967295,O=M+(L<<6&4294967295|L>>>26),L=I+(M^(O|~N))+z[15]+4264355552&4294967295,I=O+(L<<10&4294967295|L>>>22),L=N+(O^(I|~M))+z[6]+2734768916&4294967295,N=I+(L<<15&4294967295|L>>>17),L=M+(I^(N|~O))+z[13]+1309151649&4294967295,M=N+(L<<21&4294967295|L>>>11),L=O+(N^(M|~I))+z[4]+4149444226&4294967295,O=M+(L<<6&4294967295|L>>>26),L=I+(M^(O|~N))+z[11]+3174756917&4294967295,I=O+(L<<10&4294967295|L>>>22),L=N+(O^(I|~M))+z[2]+718787259&4294967295,N=I+(L<<15&4294967295|L>>>17),L=M+(I^(N|~O))+z[9]+3951481745&4294967295,q.g[0]=q.g[0]+O&4294967295,q.g[1]=q.g[1]+(N+(L<<21&4294967295|L>>>11))&4294967295,q.g[2]=q.g[2]+N&4294967295,q.g[3]=q.g[3]+I&4294967295}n.prototype.u=function(q,O){O===void 0&&(O=q.length);for(var M=O-this.blockSize,z=this.B,N=this.h,I=0;I<O;){if(N==0)for(;I<=M;)i(this,q,I),I+=this.blockSize;if(typeof q=="string"){for(;I<O;)if(z[N++]=q.charCodeAt(I++),N==this.blockSize){i(this,z),N=0;break}}else for(;I<O;)if(z[N++]=q[I++],N==this.blockSize){i(this,z),N=0;break}}this.h=N,this.o+=O},n.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var O=1;O<q.length-8;++O)q[O]=0;var M=8*this.o;for(O=q.length-8;O<q.length;++O)q[O]=M&255,M/=256;for(this.u(q),q=Array(16),O=M=0;4>O;++O)for(var z=0;32>z;z+=8)q[M++]=this.g[O]>>>z&255;return q};function s(q,O){var M=c;return Object.prototype.hasOwnProperty.call(M,q)?M[q]:M[q]=O(q)}function a(q,O){this.h=O;for(var M=[],z=!0,N=q.length-1;0<=N;N--){var I=q[N]|0;z&&I==O||(M[N]=I,z=!1)}this.g=M}var c={};function u(q){return-128<=q&&128>q?s(q,function(O){return new a([O|0],0>O?-1:0)}):new a([q|0],0>q?-1:0)}function d(q){if(isNaN(q)||!isFinite(q))return w;if(0>q)return T(d(-q));for(var O=[],M=1,z=0;q>=M;z++)O[z]=q/M|0,M*=4294967296;return new a(O,0)}function f(q,O){if(q.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(q.charAt(0)=="-")return T(f(q.substring(1),O));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=d(Math.pow(O,8)),z=w,N=0;N<q.length;N+=8){var I=Math.min(8,q.length-N),L=parseInt(q.substring(N,N+I),O);8>I?(I=d(Math.pow(O,I)),z=z.j(I).add(d(L))):(z=z.j(M),z=z.add(d(L)))}return z}var w=u(0),b=u(1),v=u(16777216);r=a.prototype,r.m=function(){if(D(this))return-T(this).m();for(var q=0,O=1,M=0;M<this.g.length;M++){var z=this.i(M);q+=(0<=z?z:4294967296+z)*O,O*=4294967296}return q},r.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(E(this))return"0";if(D(this))return"-"+T(this).toString(q);for(var O=d(Math.pow(q,6)),M=this,z="";;){var N=H(M,O).g;M=P(M,N.j(O));var I=((0<M.g.length?M.g[0]:M.h)>>>0).toString(q);if(M=N,E(M))return I+z;for(;6>I.length;)I="0"+I;z=I+z}},r.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function E(q){if(q.h!=0)return!1;for(var O=0;O<q.g.length;O++)if(q.g[O]!=0)return!1;return!0}function D(q){return q.h==-1}r.l=function(q){return q=P(this,q),D(q)?-1:E(q)?0:1};function T(q){for(var O=q.g.length,M=[],z=0;z<O;z++)M[z]=~q.g[z];return new a(M,~q.h).add(b)}r.abs=function(){return D(this)?T(this):this},r.add=function(q){for(var O=Math.max(this.g.length,q.g.length),M=[],z=0,N=0;N<=O;N++){var I=z+(this.i(N)&65535)+(q.i(N)&65535),L=(I>>>16)+(this.i(N)>>>16)+(q.i(N)>>>16);z=L>>>16,I&=65535,L&=65535,M[N]=L<<16|I}return new a(M,M[M.length-1]&-2147483648?-1:0)};function P(q,O){return q.add(T(O))}r.j=function(q){if(E(this)||E(q))return w;if(D(this))return D(q)?T(this).j(T(q)):T(T(this).j(q));if(D(q))return T(this.j(T(q)));if(0>this.l(v)&&0>q.l(v))return d(this.m()*q.m());for(var O=this.g.length+q.g.length,M=[],z=0;z<2*O;z++)M[z]=0;for(z=0;z<this.g.length;z++)for(var N=0;N<q.g.length;N++){var I=this.i(z)>>>16,L=this.i(z)&65535,ee=q.i(N)>>>16,ve=q.i(N)&65535;M[2*z+2*N]+=L*ve,U(M,2*z+2*N),M[2*z+2*N+1]+=I*ve,U(M,2*z+2*N+1),M[2*z+2*N+1]+=L*ee,U(M,2*z+2*N+1),M[2*z+2*N+2]+=I*ee,U(M,2*z+2*N+2)}for(z=0;z<O;z++)M[z]=M[2*z+1]<<16|M[2*z];for(z=O;z<2*O;z++)M[z]=0;return new a(M,0)};function U(q,O){for(;(q[O]&65535)!=q[O];)q[O+1]+=q[O]>>>16,q[O]&=65535,O++}function V(q,O){this.g=q,this.h=O}function H(q,O){if(E(O))throw Error("division by zero");if(E(q))return new V(w,w);if(D(q))return O=H(T(q),O),new V(T(O.g),T(O.h));if(D(O))return O=H(q,T(O)),new V(T(O.g),O.h);if(30<q.g.length){if(D(q)||D(O))throw Error("slowDivide_ only works with positive integers.");for(var M=b,z=O;0>=z.l(q);)M=ie(M),z=ie(z);var N=de(M,1),I=de(z,1);for(z=de(z,2),M=de(M,2);!E(z);){var L=I.add(z);0>=L.l(q)&&(N=N.add(M),I=L),z=de(z,1),M=de(M,1)}return O=P(q,N.j(O)),new V(N,O)}for(N=w;0<=q.l(O);){for(M=Math.max(1,Math.floor(q.m()/O.m())),z=Math.ceil(Math.log(M)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),I=d(M),L=I.j(O);D(L)||0<L.l(q);)M-=z,I=d(M),L=I.j(O);E(I)&&(I=b),N=N.add(I),q=P(q,L)}return new V(N,q)}r.A=function(q){return H(this,q).h},r.and=function(q){for(var O=Math.max(this.g.length,q.g.length),M=[],z=0;z<O;z++)M[z]=this.i(z)&q.i(z);return new a(M,this.h&q.h)},r.or=function(q){for(var O=Math.max(this.g.length,q.g.length),M=[],z=0;z<O;z++)M[z]=this.i(z)|q.i(z);return new a(M,this.h|q.h)},r.xor=function(q){for(var O=Math.max(this.g.length,q.g.length),M=[],z=0;z<O;z++)M[z]=this.i(z)^q.i(z);return new a(M,this.h^q.h)};function ie(q){for(var O=q.g.length+1,M=[],z=0;z<O;z++)M[z]=q.i(z)<<1|q.i(z-1)>>>31;return new a(M,q.h)}function de(q,O){var M=O>>5;O%=32;for(var z=q.g.length-M,N=[],I=0;I<z;I++)N[I]=0<O?q.i(I+M)>>>O|q.i(I+M+1)<<32-O:q.i(I+M);return new a(N,q.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,C_=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,Wu=a}).apply(typeof Aw<"u"?Aw:typeof self<"u"?self:typeof window<"u"?window:{});var Vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var I_,pf,A_,pm,zv,T_,P_,D_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,C,B){return m==Array.prototype||m==Object.prototype||(m[C]=B.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vp=="object"&&Vp];for(var C=0;C<m.length;++C){var B=m[C];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var n=t(this);function i(m,C){if(C)e:{var B=n;m=m.split(".");for(var ne=0;ne<m.length-1;ne++){var Pe=m[ne];if(!(Pe in B))break e;B=B[Pe]}m=m[m.length-1],ne=B[m],C=C(ne),C!=ne&&C!=null&&e(B,m,{configurable:!0,writable:!0,value:C})}}function s(m,C){m instanceof String&&(m+="");var B=0,ne=!1,Pe={next:function(){if(!ne&&B<m.length){var je=B++;return{value:C(je,m[je]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return Pe[Symbol.iterator]=function(){return Pe},Pe}i("Array.prototype.values",function(m){return m||function(){return s(this,function(C,B){return B})}});var a=a||{},c=this||self;function u(m){var C=typeof m;return C=C!="object"?C:m?Array.isArray(m)?"array":C:"null",C=="array"||C=="object"&&typeof m.length=="number"}function d(m){var C=typeof m;return C=="object"&&m!=null||C=="function"}function f(m,C,B){return m.call.apply(m.bind,arguments)}function w(m,C,B){if(!m)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var Pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Pe,ne),m.apply(C,Pe)}}return function(){return m.apply(C,arguments)}}function b(m,C,B){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:w,b.apply(null,arguments)}function v(m,C){var B=Array.prototype.slice.call(arguments,1);return function(){var ne=B.slice();return ne.push.apply(ne,arguments),m.apply(this,ne)}}function E(m,C){function B(){}B.prototype=C.prototype,m.aa=C.prototype,m.prototype=new B,m.prototype.constructor=m,m.Qb=function(ne,Pe,je){for(var ct=Array(arguments.length-2),jn=2;jn<arguments.length;jn++)ct[jn-2]=arguments[jn];return C.prototype[Pe].apply(ne,ct)}}function D(m){const C=m.length;if(0<C){const B=Array(C);for(let ne=0;ne<C;ne++)B[ne]=m[ne];return B}return[]}function T(m,C){for(let B=1;B<arguments.length;B++){const ne=arguments[B];if(u(ne)){const Pe=m.length||0,je=ne.length||0;m.length=Pe+je;for(let ct=0;ct<je;ct++)m[Pe+ct]=ne[ct]}else m.push(ne)}}class P{constructor(C,B){this.i=C,this.j=B,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function U(m){return/^[\s\xa0]*$/.test(m)}function V(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function H(m){return H[" "](m),m}H[" "]=function(){};var ie=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function de(m,C,B){for(const ne in m)C.call(B,m[ne],ne,m)}function q(m,C){for(const B in m)C.call(void 0,m[B],B,m)}function O(m){const C={};for(const B in m)C[B]=m[B];return C}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(m,C){let B,ne;for(let Pe=1;Pe<arguments.length;Pe++){ne=arguments[Pe];for(B in ne)m[B]=ne[B];for(let je=0;je<M.length;je++)B=M[je],Object.prototype.hasOwnProperty.call(ne,B)&&(m[B]=ne[B])}}function N(m){var C=1;m=m.split(":");const B=[];for(;0<C&&m.length;)B.push(m.shift()),C--;return m.length&&B.push(m.join(":")),B}function I(m){c.setTimeout(()=>{throw m},0)}function L(){var m=_e;let C=null;return m.g&&(C=m.g,m.g=m.g.next,m.g||(m.h=null),C.next=null),C}class ee{constructor(){this.h=this.g=null}add(C,B){const ne=ve.get();ne.set(C,B),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var ve=new P(()=>new Ne,m=>m.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(C,B){this.h=C,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let be,oe=!1,_e=new ee,ge=()=>{const m=c.Promise.resolve(void 0);be=()=>{m.then(te)}};var te=()=>{for(var m;m=L();){try{m.h.call(m.g)}catch(B){I(B)}var C=ve;C.j(m),100>C.h&&(C.h++,m.next=C.g,C.g=m)}oe=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(m,C){this.type=m,this.g=this.target=C,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var Y=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,C=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const B=()=>{};c.addEventListener("test",B,C),c.removeEventListener("test",B,C)}catch{}return m})();function se(m,C){if(F.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var B=this.type=m.type,ne=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=C,C=m.relatedTarget){if(ie){e:{try{H(C.nodeName);var Pe=!0;break e}catch{}Pe=!1}Pe||(C=null)}}else B=="mouseover"?C=m.fromElement:B=="mouseout"&&(C=m.toElement);this.relatedTarget=C,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:le[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&se.aa.h.call(this)}}E(se,F);var le={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),fe=0;function he(m,C,B,ne,Pe){this.listener=m,this.proxy=null,this.src=C,this.type=B,this.capture=!!ne,this.ha=Pe,this.key=++fe,this.da=this.fa=!1}function Te(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Fe(m){this.src=m,this.g={},this.h=0}Fe.prototype.add=function(m,C,B,ne,Pe){var je=m.toString();m=this.g[je],m||(m=this.g[je]=[],this.h++);var ct=Ye(m,C,ne,Pe);return-1<ct?(C=m[ct],B||(C.fa=!1)):(C=new he(C,this.src,je,!!ne,Pe),C.fa=B,m.push(C)),C};function $e(m,C){var B=C.type;if(B in m.g){var ne=m.g[B],Pe=Array.prototype.indexOf.call(ne,C,void 0),je;(je=0<=Pe)&&Array.prototype.splice.call(ne,Pe,1),je&&(Te(C),m.g[B].length==0&&(delete m.g[B],m.h--))}}function Ye(m,C,B,ne){for(var Pe=0;Pe<m.length;++Pe){var je=m[Pe];if(!je.da&&je.listener==C&&je.capture==!!B&&je.ha==ne)return Pe}return-1}var ht="closure_lm_"+(1e6*Math.random()|0),J={};function Ge(m,C,B,ne,Pe){if(Array.isArray(C)){for(var je=0;je<C.length;je++)Ge(m,C[je],B,ne,Pe);return null}return B=xt(B),m&&m[ye]?m.K(C,B,d(ne)?!!ne.capture:!1,Pe):at(m,C,B,!1,ne,Pe)}function at(m,C,B,ne,Pe,je){if(!C)throw Error("Invalid event type");var ct=d(Pe)?!!Pe.capture:!!Pe,jn=vt(m);if(jn||(m[ht]=jn=new Fe(m)),B=jn.add(C,B,ne,ct,je),B.proxy)return B;if(ne=lt(),B.proxy=ne,ne.src=m,ne.listener=B,m.addEventListener)Y||(Pe=ct),Pe===void 0&&(Pe=!1),m.addEventListener(C.toString(),ne,Pe);else if(m.attachEvent)m.attachEvent(pt(C.toString()),ne);else if(m.addListener&&m.removeListener)m.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return B}function lt(){function m(B){return C.call(m.src,m.listener,B)}const C=Rt;return m}function Qe(m,C,B,ne,Pe){if(Array.isArray(C))for(var je=0;je<C.length;je++)Qe(m,C[je],B,ne,Pe);else ne=d(ne)?!!ne.capture:!!ne,B=xt(B),m&&m[ye]?(m=m.i,C=String(C).toString(),C in m.g&&(je=m.g[C],B=Ye(je,B,ne,Pe),-1<B&&(Te(je[B]),Array.prototype.splice.call(je,B,1),je.length==0&&(delete m.g[C],m.h--)))):m&&(m=vt(m))&&(C=m.g[C.toString()],m=-1,C&&(m=Ye(C,B,ne,Pe)),(B=-1<m?C[m]:null)&&bt(B))}function bt(m){if(typeof m!="number"&&m&&!m.da){var C=m.src;if(C&&C[ye])$e(C.i,m);else{var B=m.type,ne=m.proxy;C.removeEventListener?C.removeEventListener(B,ne,m.capture):C.detachEvent?C.detachEvent(pt(B),ne):C.addListener&&C.removeListener&&C.removeListener(ne),(B=vt(C))?($e(B,m),B.h==0&&(B.src=null,C[ht]=null)):Te(m)}}}function pt(m){return m in J?J[m]:J[m]="on"+m}function Rt(m,C){if(m.da)m=!0;else{C=new se(C,this);var B=m.listener,ne=m.ha||m.src;m.fa&&bt(m),m=B.call(ne,C)}return m}function vt(m){return m=m[ht],m instanceof Fe?m:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(m){return typeof m=="function"?m:(m[hn]||(m[hn]=function(C){return m.handleEvent(C)}),m[hn])}function Et(){j.call(this),this.i=new Fe(this),this.M=this,this.F=null}E(Et,j),Et.prototype[ye]=!0,Et.prototype.removeEventListener=function(m,C,B,ne){Qe(this,m,C,B,ne)};function Ft(m,C){var B,ne=m.F;if(ne)for(B=[];ne;ne=ne.F)B.push(ne);if(m=m.M,ne=C.type||C,typeof C=="string")C=new F(C,m);else if(C instanceof F)C.target=C.target||m;else{var Pe=C;C=new F(ne,m),z(C,Pe)}if(Pe=!0,B)for(var je=B.length-1;0<=je;je--){var ct=C.g=B[je];Pe=nn(ct,ne,!0,C)&&Pe}if(ct=C.g=m,Pe=nn(ct,ne,!0,C)&&Pe,Pe=nn(ct,ne,!1,C)&&Pe,B)for(je=0;je<B.length;je++)ct=C.g=B[je],Pe=nn(ct,ne,!1,C)&&Pe}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var m=this.i,C;for(C in m.g){for(var B=m.g[C],ne=0;ne<B.length;ne++)Te(B[ne]);delete m.g[C],m.h--}}this.F=null},Et.prototype.K=function(m,C,B,ne){return this.i.add(String(m),C,!1,B,ne)},Et.prototype.L=function(m,C,B,ne){return this.i.add(String(m),C,!0,B,ne)};function nn(m,C,B,ne){if(C=m.i.g[String(C)],!C)return!0;C=C.concat();for(var Pe=!0,je=0;je<C.length;++je){var ct=C[je];if(ct&&!ct.da&&ct.capture==B){var jn=ct.listener,zr=ct.ha||ct.src;ct.fa&&$e(m.i,ct),Pe=jn.call(zr,ne)!==!1&&Pe}}return Pe&&!ne.defaultPrevented}function St(m,C,B){if(typeof m=="function")B&&(m=b(m,B));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:c.setTimeout(m,C||0)}function Jt(m){m.g=St(()=>{m.g=null,m.i&&(m.i=!1,Jt(m))},m.l);const C=m.h;m.h=null,m.m.apply(null,C)}class Ct extends j{constructor(C,B){super(),this.m=C,this.l=B,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Jt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(m){j.call(this),this.h=m,this.g={}}E(nr,j);var Je=[];function ln(m){de(m.g,function(C,B){this.g.hasOwnProperty(B)&&bt(C)},m),m.g={}}nr.prototype.N=function(){nr.aa.N.call(this),ln(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _t=c.JSON.stringify,Wn=c.JSON.parse,ut=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Tn(){}Tn.prototype.h=null;function Gt(m){return m.h||(m.h=m.i())}function Zt(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function an(){F.call(this,"d")}E(an,F);function $t(){F.call(this,"c")}E($t,F);var kn={},_i=null;function mr(){return _i=_i||new Et}kn.La="serverreachability";function Br(m){F.call(this,kn.La,m)}E(Br,F);function ti(m){const C=mr();Ft(C,new Br(C))}kn.STAT_EVENT="statevent";function Bt(m,C){F.call(this,kn.STAT_EVENT,m),this.stat=C}E(Bt,F);function Kt(m){const C=mr();Ft(C,new Bt(C,m))}kn.Ma="timingevent";function gr(m,C){F.call(this,kn.Ma,m),this.size=C}E(gr,F);function Er(m,C){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},C)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function rr(m,C,B,ne,Pe,je){m.info(function(){if(m.g)if(je)for(var ct="",jn=je.split("&"),zr=0;zr<jn.length;zr++){var Cn=jn[zr].split("=");if(1<Cn.length){var Yn=Cn[0];Cn=Cn[1];var dr=Yn.split("_");ct=2<=dr.length&&dr[1]=="type"?ct+(Yn+"="+Cn+"&"):ct+(Yn+"=redacted&")}}else ct=null;else ct=je;return"XMLHTTP REQ ("+ne+") [attempt "+Pe+"]: "+C+`
`+B+`
`+ct})}function Ir(m,C,B,ne,Pe,je,ct){m.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+Pe+"]: "+C+`
`+B+`
`+je+" "+ct})}function or(m,C,B,ne){m.info(function(){return"XMLHTTP TEXT ("+C+"): "+ho(m,B)+(ne?" "+ne:"")})}function Xs(m,C){m.info(function(){return"TIMEOUT: "+C})}ni.prototype.info=function(){};function ho(m,C){if(!m.g)return C;if(!C)return null;try{var B=JSON.parse(C);if(B){for(m=0;m<B.length;m++)if(Array.isArray(B[m])){var ne=B[m];if(!(2>ne.length)){var Pe=ne[1];if(Array.isArray(Pe)&&!(1>Pe.length)){var je=Pe[0];if(je!="noop"&&je!="stop"&&je!="close")for(var ct=1;ct<Pe.length;ct++)Pe[ct]=""}}}}return _t(B)}catch{return C}}var Li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dr;function Si(){}E(Si,Tn),Si.prototype.g=function(){return new XMLHttpRequest},Si.prototype.i=function(){return{}},Dr=new Si;function Lr(m,C,B,ne){this.j=m,this.i=C,this.l=B,this.R=ne||1,this.U=new nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fo}function fo(){this.i=null,this.g="",this.h=!1}var Hi={},vs={};function os(m,C,B){m.L=1,m.v=fn(He(C)),m.m=B,m.P=!0,Js(m,null)}function Js(m,C){m.F=Date.now(),zn(m),m.A=He(m.v);var B=m.A,ne=m.R;Array.isArray(ne)||(ne=[String(ne)]),ii(B.i,"t",ne),m.C=0,B=m.j.J,m.h=new fo,m.g=$r(m.j,B?C:null,!m.m),0<m.O&&(m.M=new Ct(b(m.Y,m,m.g),m.O)),C=m.U,B=m.g,ne=m.ca;var Pe="readystatechange";Array.isArray(Pe)||(Pe&&(Je[0]=Pe.toString()),Pe=Je);for(var je=0;je<Pe.length;je++){var ct=Ge(B,Pe[je],ne||C.handleEvent,!1,C.h||C);if(!ct)break;C.g[ct.key]=ct}C=m.H?O(m.H):{},m.m?(m.u||(m.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,C)):(m.u="GET",m.g.ea(m.A,m.u,null,C)),ti(),rr(m.i,m.u,m.A,m.l,m.R,m.m)}Lr.prototype.ca=function(m){m=m.target;const C=this.M;C&&Oi(m)==3?C.j():this.Y(m)},Lr.prototype.Y=function(m){try{if(m==this.g)e:{const dr=Oi(this.g);var C=this.g.Ba();const Qi=this.g.Z();if(!(3>dr)&&(dr!=3||this.g&&(this.h.h||this.g.oa()||Za(this.g)))){this.J||dr!=4||C==7||(C==8||0>=Qi?ti(3):ti(2)),po(this);var B=this.g.Z();this.X=B;t:if(Do(this)){var ne=Za(this.g);m="";var Pe=ne.length,je=Oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),ri(this);var ct="";break t}this.h.i=new c.TextDecoder}for(C=0;C<Pe;C++)this.h.h=!0,m+=this.h.i.decode(ne[C],{stream:!(je&&C==Pe-1)});ne.length=0,this.h.g+=m,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=B==200,Ir(this.i,this.u,this.A,this.l,this.R,dr,B),this.o){if(this.T&&!this.K){t:{if(this.g){var jn,zr=this.g;if((jn=zr.g?zr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(jn)){var Cn=jn;break t}}Cn=null}if(B=Cn)or(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zo(this,B);else{this.o=!1,this.s=3,Kt(12),Ri(this),ri(this);break e}}if(this.P){B=!0;let as;for(;!this.J&&this.C<ct.length;)if(as=Dl(this,ct),as==vs){dr==4&&(this.s=4,Kt(14),B=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(as==Hi){this.s=4,Kt(15),or(this.i,this.l,ct,"[Invalid Chunk]"),B=!1;break}else or(this.i,this.l,as,null),Zo(this,as);if(Do(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dr!=4||ct.length!=0||this.h.h||(this.s=1,Kt(16),B=!1),this.o=this.o&&B,!B)or(this.i,this.l,ct,"[Invalid Chunked Response]"),Ri(this),ri(this);else if(0<ct.length&&!this.W){this.W=!0;var Yn=this.j;Yn.g==this&&Yn.ba&&!Yn.M&&(Yn.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),Nt(Yn),Yn.M=!0,Kt(11))}}else or(this.i,this.l,ct,null),Zo(this,ct);dr==4&&Ri(this),this.o&&!this.J&&(dr==4?un(this.j,this):(this.o=!1,zn(this)))}else Sa(this.g),B==400&&0<ct.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Ri(this),ri(this)}}}catch{}};function Do(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Dl(m,C){var B=m.C,ne=C.indexOf(`
`,B);return ne==-1?vs:(B=Number(C.substring(B,ne)),isNaN(B)?Hi:(ne+=1,ne+B>C.length?vs:(C=C.slice(ne,ne+B),m.C=ne+B,C)))}Lr.prototype.cancel=function(){this.J=!0,Ri(this)};function zn(m){m.S=Date.now()+m.I,Lo(m,m.I)}function Lo(m,C){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Er(b(m.ba,m),C)}function po(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Lr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Xs(this.i,this.A),this.L!=2&&(ti(),Kt(17)),Ri(this),this.s=2,ri(this)):Lo(this,this.S-m)};function ri(m){m.j.G==0||m.J||un(m.j,m)}function Ri(m){po(m);var C=m.M;C&&typeof C.ma=="function"&&C.ma(),m.M=null,ln(m.U),m.g&&(C=m.g,m.g=null,C.abort(),C.ma())}function Zo(m,C){try{var B=m.j;if(B.G!=0&&(B.g==m||Kn(B.h,m))){if(!m.K&&Kn(B.h,m)&&B.G==3){try{var ne=B.Da.g.parse(C)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var Pe=ne;if(Pe[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<m.F)tn(B),Ki(B);else break e;et(B),Kt(18)}}else B.za=Pe[1],0<B.za-B.T&&37500>Pe[2]&&B.F&&B.v==0&&!B.C&&(B.C=Er(b(B.Za,B),6e3));if(1>=ba(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else Qn(B,11)}else if((m.K||B.g==m)&&tn(B),!U(C))for(Pe=B.Da.g.parse(C),C=0;C<Pe.length;C++){let Cn=Pe[C];if(B.T=Cn[0],Cn=Cn[1],B.G==2)if(Cn[0]=="c"){B.K=Cn[1],B.ia=Cn[2];const Yn=Cn[3];Yn!=null&&(B.la=Yn,B.j.info("VER="+B.la));const dr=Cn[4];dr!=null&&(B.Aa=dr,B.j.info("SVER="+B.Aa));const Qi=Cn[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(ne=1.5*Qi,B.L=ne,B.j.info("backChannelRequestTimeoutMs_="+ne)),ne=B;const as=m.g;if(as){const Fi=as.g?as.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var je=ne.h;je.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(je.j=je.l,je.g=new Set,je.h&&(Zs(je,je.h),je.h=null))}if(ne.D){const yo=as.g?as.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(ne.ya=yo,gt(ne.I,ne.D,yo))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-m.F,B.j.info("Handshake RTT: "+B.R+"ms")),ne=B;var ct=m;if(ne.qa=ar(ne,ne.J?ne.ia:null,ne.W),ct.K){Qa(ne.h,ct);var jn=ct,zr=ne.L;zr&&(jn.I=zr),jn.B&&(po(jn),zn(jn)),ne.g=ct}else Ke(ne);0<B.i.length&&_(B)}else Cn[0]!="stop"&&Cn[0]!="close"||Qn(B,7);else B.G==3&&(Cn[0]=="stop"||Cn[0]=="close"?Cn[0]=="stop"?Qn(B,7):pi(B):Cn[0]!="noop"&&B.l&&B.l.ta(Cn),B.v=0)}}ti(4)}catch{}}var ea=class{constructor(m,C){this.g=m,this.map=C}};function mo(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ba(m){return m.h?1:m.g?m.g.size:0}function Kn(m,C){return m.h?m.h==C:m.g?m.g.has(C):!1}function Zs(m,C){m.g?m.g.add(C):m.h=C}function Qa(m,C){m.h&&m.h==C?m.h=null:m.g&&m.g.has(C)&&m.g.delete(C)}mo.prototype.cancel=function(){if(this.i=Nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Nr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let C=m.i;for(const B of m.g.values())C=C.concat(B.D);return C}return D(m.i)}function Ro(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(u(m)){for(var C=[],B=m.length,ne=0;ne<B;ne++)C.push(m[ne]);return C}C=[],B=0;for(ne in m)C[B++]=m[ne];return C}function Wi(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(u(m)||typeof m=="string"){var C=[];m=m.length;for(var B=0;B<m;B++)C.push(B);return C}C=[],B=0;for(const ne in m)C[B++]=ne;return C}}}function ys(m,C){if(m.forEach&&typeof m.forEach=="function")m.forEach(C,void 0);else if(u(m)||typeof m=="string")Array.prototype.forEach.call(m,C,void 0);else for(var B=Wi(m),ne=Ro(m),Pe=ne.length,je=0;je<Pe;je++)C.call(void 0,ne[je],B&&B[je],m)}var G=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function we(m,C){if(m){m=m.split("&");for(var B=0;B<m.length;B++){var ne=m[B].indexOf("="),Pe=null;if(0<=ne){var je=m[B].substring(0,ne);Pe=m[B].substring(ne+1)}else je=m[B];C(je,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}function Be(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Be){this.h=m.h,mt(this,m.j),this.o=m.o,this.g=m.g,Tt(this,m.s),this.l=m.l;var C=m.i,B=new qn;B.i=C.i,C.g&&(B.g=new Map(C.g),B.h=C.h),vn(this,B),this.m=m.m}else m&&(C=String(m).match(G))?(this.h=!1,mt(this,C[1]||"",!0),this.o=yt(C[2]||""),this.g=yt(C[3]||"",!0),Tt(this,C[4]),this.l=yt(C[5]||"",!0),vn(this,C[6]||"",!0),this.m=yt(C[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}Be.prototype.toString=function(){var m=[],C=this.j;C&&m.push(Pt(C,Nn,!0),":");var B=this.g;return(B||C=="file")&&(m.push("//"),(C=this.o)&&m.push(Pt(C,Nn,!0),"@"),m.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&m.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&m.push("/"),m.push(Pt(B,B.charAt(0)=="/"?Rr:On,!0))),(B=this.i.toString())&&m.push("?",B),(B=this.m)&&m.push("#",Pt(B,Qt)),m.join("")};function He(m){return new Be(m)}function mt(m,C,B){m.j=B?yt(C,!0):C,m.j&&(m.j=m.j.replace(/:$/,""))}function Tt(m,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);m.s=C}else m.s=null}function vn(m,C,B){C instanceof qn?(m.i=C,Ts(m.i,m.h)):(B||(C=Pt(C,en)),m.i=new qn(C,m.h))}function gt(m,C,B){m.i.set(C,B)}function fn(m){return gt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function yt(m,C){return m?C?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Pt(m,C,B){return typeof m=="string"?(m=encodeURI(m).replace(C,st),B&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function st(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Nn=/[#\/\?@]/g,On=/[#\?:]/g,Rr=/[#\?]/g,en=/[#\?@]/g,Qt=/#/g;function qn(m,C){this.h=this.g=null,this.i=m||null,this.j=!!C}function Pn(m){m.g||(m.g=new Map,m.h=0,m.i&&we(m.i,function(C,B){m.add(decodeURIComponent(C.replace(/\+/g," ")),B)}))}r=qn.prototype,r.add=function(m,C){Pn(this),this.i=null,m=Ut(this,m);var B=this.g.get(m);return B||this.g.set(m,B=[]),B.push(C),this.h+=1,this};function $n(m,C){Pn(m),C=Ut(m,C),m.g.has(C)&&(m.i=null,m.h-=m.g.get(C).length,m.g.delete(C))}function Dn(m,C){return Pn(m),C=Ut(m,C),m.g.has(C)}r.forEach=function(m,C){Pn(this),this.g.forEach(function(B,ne){B.forEach(function(Pe){m.call(C,Pe,ne,this)},this)},this)},r.na=function(){Pn(this);const m=Array.from(this.g.values()),C=Array.from(this.g.keys()),B=[];for(let ne=0;ne<C.length;ne++){const Pe=m[ne];for(let je=0;je<Pe.length;je++)B.push(C[ne])}return B},r.V=function(m){Pn(this);let C=[];if(typeof m=="string")Dn(this,m)&&(C=C.concat(this.g.get(Ut(this,m))));else{m=Array.from(this.g.values());for(let B=0;B<m.length;B++)C=C.concat(m[B])}return C},r.set=function(m,C){return Pn(this),this.i=null,m=Ut(this,m),Dn(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[C]),this.h+=1,this},r.get=function(m,C){return m?(m=this.V(m),0<m.length?String(m[0]):C):C};function ii(m,C,B){$n(m,C),0<B.length&&(m.i=null,m.g.set(Ut(m,C),D(B)),m.h+=B.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],C=Array.from(this.g.keys());for(var B=0;B<C.length;B++){var ne=C[B];const je=encodeURIComponent(String(ne)),ct=this.V(ne);for(ne=0;ne<ct.length;ne++){var Pe=je;ct[ne]!==""&&(Pe+="="+encodeURIComponent(String(ct[ne]))),m.push(Pe)}}return this.i=m.join("&")};function Ut(m,C){return C=String(C),m.j&&(C=C.toLowerCase()),C}function Ts(m,C){C&&!m.j&&(Pn(m),m.i=null,m.g.forEach(function(B,ne){var Pe=ne.toLowerCase();ne!=Pe&&($n(this,ne),ii(this,Pe,B))},m)),m.j=C}function ta(m,C){const B=new ni;if(c.Image){const ne=new Image;ne.onload=v(Ar,B,"TestLoadImage: loaded",!0,C,ne),ne.onerror=v(Ar,B,"TestLoadImage: error",!1,C,ne),ne.onabort=v(Ar,B,"TestLoadImage: abort",!1,C,ne),ne.ontimeout=v(Ar,B,"TestLoadImage: timeout",!1,C,ne),c.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=m}else C(!1)}function Mo(m,C){const B=new ni,ne=new AbortController,Pe=setTimeout(()=>{ne.abort(),Ar(B,"TestPingServer: timeout",!1,C)},1e4);fetch(m,{signal:ne.signal}).then(je=>{clearTimeout(Pe),je.ok?Ar(B,"TestPingServer: ok",!0,C):Ar(B,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(Pe),Ar(B,"TestPingServer: error",!1,C)})}function Ar(m,C,B,ne,Pe){try{Pe&&(Pe.onload=null,Pe.onerror=null,Pe.onabort=null,Pe.ontimeout=null),ne(B)}catch{}}function eo(){this.g=new ut}function Xa(m,C,B){const ne=B||"";try{ys(m,function(Pe,je){let ct=Pe;d(Pe)&&(ct=_t(Pe)),C.push(ne+je+"="+encodeURIComponent(ct))})}catch(Pe){throw C.push(ne+"type="+encodeURIComponent("_badmap")),Pe}}function fi(m){this.l=m.Ub||null,this.j=m.eb||!1}E(fi,Tn),fi.prototype.g=function(){return new ws(this.l,this.j)},fi.prototype.i=(function(m){return function(){return m}})({});function ws(m,C){Et.call(this),this.D=m,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ws,Et),r=ws.prototype,r.open=function(m,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=C,this.readyState=1,to(this)},r.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(C.body=m),(this.D||c).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},r.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,to(this)),this.g&&(this.readyState=3,to(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_a(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function _a(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}r.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var C=m.value?m.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!m.done}))&&(this.response=this.responseText+=C)}m.done?$i(this):to(this),this.readyState==3&&_a(this)}},r.Ra=function(m){this.g&&(this.response=this.responseText=m,$i(this))},r.Qa=function(m){this.g&&(this.response=m,$i(this))},r.ga=function(){this.g&&$i(this)};function $i(m){m.readyState=4,m.l=null,m.j=null,m.v=null,to(m)}r.setRequestHeader=function(m,C){this.u.append(m,C)},r.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],C=this.h.entries();for(var B=C.next();!B.done;)B=B.value,m.push(B[0]+": "+B[1]),B=C.next();return m.join(`\r
`)};function to(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Yi(m){let C="";return de(m,function(B,ne){C+=ne,C+=":",C+=B,C+=`\r
`}),C}function na(m,C,B){e:{for(ne in B){var ne=!1;break e}ne=!0}ne||(B=Yi(B),typeof m=="string"?B!=null&&encodeURIComponent(String(B)):gt(m,C,B))}function ur(m){Et.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ur,Et);var Ll=/^https?$/i,Ja=["POST","PUT"];r=ur.prototype,r.Ha=function(m){this.J=m},r.ea=function(m,C,B,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);C=C?C.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dr.g(),this.v=this.o?Gt(this.o):Gt(Dr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(C,String(m),!0),this.B=!1}catch(je){xs(this,je);return}if(m=B||"",B=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var Pe in ne)B.set(Pe,ne[Pe]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const je of ne.keys())B.set(je,ne.get(je));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(B.keys()).find(je=>je.toLowerCase()=="content-type"),Pe=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ja,C,void 0))||ne||Pe||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[je,ct]of B)this.g.setRequestHeader(je,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{go(this),this.u=!0,this.g.send(m),this.u=!1}catch(je){xs(this,je)}};function xs(m,C){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=C,m.m=5,ra(m),Gi(m)}function ra(m){m.A||(m.A=!0,Ft(m,"complete"),Ft(m,"error"))}r.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ft(this,"complete"),Ft(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),ur.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},r.bb=function(){ia(this)};function ia(m){if(m.h&&typeof a<"u"&&(!m.v[1]||Oi(m)!=4||m.Z()!=2)){if(m.u&&Oi(m)==4)St(m.Ea,0,m);else if(Ft(m,"readystatechange"),Oi(m)==4){m.h=!1;try{const ct=m.Z();e:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var B;if(!(B=C)){var ne;if(ne=ct===0){var Pe=String(m.D).match(G)[1]||null;!Pe&&c.self&&c.self.location&&(Pe=c.self.location.protocol.slice(0,-1)),ne=!Ll.test(Pe?Pe.toLowerCase():"")}B=ne}if(B)Ft(m,"complete"),Ft(m,"success");else{m.m=6;try{var je=2<Oi(m)?m.g.statusText:""}catch{je=""}m.l=je+" ["+m.Z()+"]",ra(m)}}finally{Gi(m)}}}}function Gi(m,C){if(m.g){go(m);const B=m.g,ne=m.v[0]?()=>{}:null;m.g=null,m.v=null,C||Ft(m,"ready");try{B.onreadystatechange=ne}catch{}}}function go(m){m.I&&(c.clearTimeout(m.I),m.I=null)}r.isActive=function(){return!!this.g};function Oi(m){return m.g?m.g.readyState:0}r.Z=function(){try{return 2<Oi(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(m){if(this.g){var C=this.g.responseText;return m&&C.indexOf(m)==0&&(C=C.substring(m.length)),Wn(C)}};function Za(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Sa(m){const C={};m=(m.g&&2<=Oi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<m.length;ne++){if(U(m[ne]))continue;var B=N(m[ne]);const Pe=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const je=C[Pe]||[];C[Pe]=je,je.push(B)}q(C,function(ne){return ne.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(m,C,B){return B&&B.internalChannelParams&&B.internalChannelParams[m]||C}function no(m){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ji("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ji("baseRetryDelayMs",5e3,m),this.cb=ji("retryDelaySeedMs",1e4,m),this.Wa=ji("forwardChannelMaxRetries",2,m),this.wa=ji("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new mo(m&&m.concurrentRequestLimit),this.Da=new eo,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=no.prototype,r.la=8,r.G=1,r.connect=function(m,C,B,ne){Kt(0),this.W=m,this.H=C||{},B&&ne!==void 0&&(this.H.OSID=B,this.H.OAID=ne),this.F=this.X,this.I=ar(this,null,this.W),_(this)};function pi(m){if(ka(m),m.G==3){var C=m.U++,B=He(m.I);if(gt(B,"SID",m.K),gt(B,"RID",C),gt(B,"TYPE","terminate"),xe(m,B),C=new Lr(m,m.j,C),C.L=2,C.v=fn(He(B)),B=!1,c.navigator&&c.navigator.sendBeacon)try{B=c.navigator.sendBeacon(C.v.toString(),"")}catch{}!B&&c.Image&&(new Image().src=C.v,B=!0),B||(C.g=$r(C.j,null),C.g.ea(C.v)),C.F=Date.now(),zn(C)}Ur(m)}function Ki(m){m.g&&(Nt(m),m.g.cancel(),m.g=null)}function ka(m){Ki(m),m.u&&(c.clearTimeout(m.u),m.u=null),tn(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function _(m){if(!Mi(m.h)&&!m.s){m.s=!0;var C=m.Ga;be||ge(),oe||(be(),oe=!0),_e.add(C,m),m.B=0}}function W(m,C){return ba(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=C.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Er(b(m.Ga,m,C),Ln(m,m.B)),m.B++,!0)}r.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Pe=new Lr(this,this.j,m);let je=this.o;if(this.S&&(je?(je=O(je),z(je,this.S)):je=this.S),this.m!==null||this.O||(Pe.H=je,je=null),this.P)e:{for(var C=0,B=0;B<this.i.length;B++){t:{var ne=this.i[B];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(C+=ne,4096<C){C=B;break e}if(C===4096||B===this.i.length-1){C=B+1;break e}}C=1e3}else C=1e3;C=Ae(this,Pe,C),B=He(this.I),gt(B,"RID",m),gt(B,"CVER",22),this.D&&gt(B,"X-HTTP-Session-Id",this.D),xe(this,B),je&&(this.O?C="headers="+encodeURIComponent(String(Yi(je)))+"&"+C:this.m&&na(B,this.m,je)),Zs(this.h,Pe),this.Ua&&gt(B,"TYPE","init"),this.P?(gt(B,"$req",C),gt(B,"SID","null"),Pe.T=!0,os(Pe,B,null)):os(Pe,B,C),this.G=2}}else this.G==3&&(m?ue(this,m):this.i.length==0||Mi(this.h)||ue(this))};function ue(m,C){var B;C?B=C.l:B=m.U++;const ne=He(m.I);gt(ne,"SID",m.K),gt(ne,"RID",B),gt(ne,"AID",m.T),xe(m,ne),m.m&&m.o&&na(ne,m.m,m.o),B=new Lr(m,m.j,B,m.B+1),m.m===null&&(B.H=m.o),C&&(m.i=C.D.concat(m.i)),C=Ae(m,B,1e3),B.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Zs(m.h,B),os(B,ne,C)}function xe(m,C){m.H&&de(m.H,function(B,ne){gt(C,ne,B)}),m.l&&ys({},function(B,ne){gt(C,ne,B)})}function Ae(m,C,B){B=Math.min(m.i.length,B);var ne=m.l?b(m.l.Na,m.l,m):null;e:{var Pe=m.i;let je=-1;for(;;){const ct=["count="+B];je==-1?0<B?(je=Pe[0].g,ct.push("ofs="+je)):je=0:ct.push("ofs="+je);let jn=!0;for(let zr=0;zr<B;zr++){let Cn=Pe[zr].g;const Yn=Pe[zr].map;if(Cn-=je,0>Cn)je=Math.max(0,Pe[zr].g-100),jn=!1;else try{Xa(Yn,ct,"req"+Cn+"_")}catch{ne&&ne(Yn)}}if(jn){ne=ct.join("&");break e}}}return m=m.i.splice(0,B),C.D=m,ne}function Ke(m){if(!m.g&&!m.u){m.Y=1;var C=m.Fa;be||ge(),oe||(be(),oe=!0),_e.add(C,m),m.v=0}}function et(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Er(b(m.Fa,m),Ln(m,m.v)),m.v++,!0)}r.Fa=function(){if(this.u=null,Mt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Er(b(this.ab,this),m)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),Ki(this),Mt(this))};function Nt(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Mt(m){m.g=new Lr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var C=He(m.qa);gt(C,"RID","rpc"),gt(C,"SID",m.K),gt(C,"AID",m.T),gt(C,"CI",m.F?"0":"1"),!m.F&&m.ja&&gt(C,"TO",m.ja),gt(C,"TYPE","xmlhttp"),xe(m,C),m.m&&m.o&&na(C,m.m,m.o),m.L&&(m.g.I=m.L);var B=m.g;m=m.ia,B.L=1,B.v=fn(He(C)),B.m=null,B.P=!0,Js(B,m)}r.Za=function(){this.C!=null&&(this.C=null,Ki(this),et(this),Kt(19))};function tn(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function un(m,C){var B=null;if(m.g==C){tn(m),Nt(m),m.g=null;var ne=2}else if(Kn(m.h,C))B=C.D,Qa(m.h,C),ne=1;else return;if(m.G!=0){if(C.o)if(ne==1){B=C.m?C.m.length:0,C=Date.now()-C.F;var Pe=m.B;ne=mr(),Ft(ne,new gr(ne,B)),_(m)}else Ke(m);else if(Pe=C.s,Pe==3||Pe==0&&0<C.X||!(ne==1&&W(m,C)||ne==2&&et(m)))switch(B&&0<B.length&&(C=m.h,C.i=C.i.concat(B)),Pe){case 1:Qn(m,5);break;case 4:Qn(m,10);break;case 3:Qn(m,6);break;default:Qn(m,2)}}}function Ln(m,C){let B=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(B*=2),B*C}function Qn(m,C){if(m.j.info("Error code "+C),C==2){var B=b(m.fb,m),ne=m.Xa;const Pe=!ne;ne=new Be(ne||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||mt(ne,"https"),fn(ne),Pe?ta(ne.toString(),B):Mo(ne.toString(),B)}else Kt(2);m.G=0,m.l&&m.l.sa(C),Ur(m),ka(m)}r.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Ur(m){if(m.G=0,m.ka=[],m.l){const C=Nr(m.h);(C.length!=0||m.i.length!=0)&&(T(m.ka,C),T(m.ka,m.i),m.h.i.length=0,D(m.i),m.i.length=0),m.l.ra()}}function ar(m,C,B){var ne=B instanceof Be?He(B):new Be(B);if(ne.g!="")C&&(ne.g=C+"."+ne.g),Tt(ne,ne.s);else{var Pe=c.location;ne=Pe.protocol,C=C?C+"."+Pe.hostname:Pe.hostname,Pe=+Pe.port;var je=new Be(null);ne&&mt(je,ne),C&&(je.g=C),Pe&&Tt(je,Pe),B&&(je.l=B),ne=je}return B=m.D,C=m.ya,B&&C&&gt(ne,B,C),gt(ne,"VER",m.la),xe(m,ne),ne}function $r(m,C,B){if(C&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=m.Ca&&!m.pa?new ur(new fi({eb:B})):new ur(m.pa),C.Ha(m.J),C}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mr(){}r=Mr.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Yr(){}Yr.prototype.g=function(m,C){return new Vr(m,C)};function Vr(m,C){Et.call(this),this.g=new no(C),this.l=m,this.h=C&&C.messageUrlParams||null,m=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(m?m["X-WebChannel-Content-Type"]=C.messageContentType:m={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(m?m["X-WebChannel-Client-Profile"]=C.va:m={"X-WebChannel-Client-Profile":C.va}),this.g.S=m,(m=C&&C.Sb)&&!U(m)&&(this.g.m=m),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!U(C)&&(this.g.D=C,m=this.h,m!==null&&C in m&&(m=this.h,C in m&&delete m[C])),this.j=new Ds(this)}E(Vr,Et),Vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){pi(this.g)},Vr.prototype.o=function(m){var C=this.g;if(typeof m=="string"){var B={};B.__data__=m,m=B}else this.u&&(B={},B.__data__=_t(m),m=B);C.i.push(new ea(C.Ya++,m)),C.G==3&&_(C)},Vr.prototype.N=function(){this.g.l=null,delete this.j,pi(this.g),delete this.g,Vr.aa.N.call(this)};function Ps(m){an.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var C=m.__sm__;if(C){e:{for(const B in C){m=B;break e}m=void 0}(this.i=m)&&(m=this.i,C=C!==null&&m in C?C[m]:void 0),this.data=C}else this.data=m}E(Ps,an);function vo(){$t.call(this),this.status=1}E(vo,$t);function Ds(m){this.g=m}E(Ds,Mr),Ds.prototype.ua=function(){Ft(this.g,"a")},Ds.prototype.ta=function(m){Ft(this.g,new Ps(m))},Ds.prototype.sa=function(m){Ft(this.g,new vo)},Ds.prototype.ra=function(){Ft(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,D_=function(){return new Yr},P_=function(){return mr()},T_=kn,zv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,pm=Li,gs.COMPLETE="complete",A_=gs,Zt.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",Et.prototype.listen=Et.prototype.K,pf=Zt,ur.prototype.listenOnce=ur.prototype.L,ur.prototype.getLastError=ur.prototype.Ka,ur.prototype.getLastErrorCode=ur.prototype.Ba,ur.prototype.getStatus=ur.prototype.Z,ur.prototype.getResponseJson=ur.prototype.Oa,ur.prototype.getResponseText=ur.prototype.oa,ur.prototype.send=ur.prototype.ea,ur.prototype.setWithCredentials=ur.prototype.Ha,I_=ur}).apply(typeof Vp<"u"?Vp:typeof self<"u"?self:typeof window<"u"?window:{});const Tw="@firebase/firestore";class Gs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gs.UNAUTHENTICATED=new Gs(null),Gs.GOOGLE_CREDENTIALS=new Gs("google-credentials-uid"),Gs.FIRST_PARTY=new Gs("first-party-uid"),Gs.MOCK_USER=new Gs("mock-user");let Ih="10.14.0";const Ju=new C1("@firebase/firestore");function sf(){return Ju.logLevel}function zt(r,...e){if(Ju.logLevel<=Hn.DEBUG){const t=e.map(B1);Ju.debug(`Firestore (${Ih}): ${r}`,...t)}}function dc(r,...e){if(Ju.logLevel<=Hn.ERROR){const t=e.map(B1);Ju.error(`Firestore (${Ih}): ${r}`,...t)}}function ch(r,...e){if(Ju.logLevel<=Hn.WARN){const t=e.map(B1);Ju.warn(`Firestore (${Ih}): ${r}`,...t)}}function B1(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function yn(r="Unexpected state"){const e=`FIRESTORE (${Ih}) INTERNAL ASSERTION FAILED: `+r;throw dc(e),new Error(e)}function Sr(r,e){r||yn()}function Sn(r,e){return r}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xt extends gc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $u{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class L_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gs.UNAUTHENTICATED)))}shutdown(){}}class IA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class AA{constructor(e){this.t=e,this.currentUser=Gs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Sr(this.o===void 0);let n=this.i;const i=u=>this.i!==n?(n=this.i,t(u)):Promise.resolve();let s=new $u;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $u,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $u)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Sr(typeof n.accessToken=="string"),new L_(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sr(e===null||typeof e=="string"),new Gs(e)}}class TA{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Gs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PA{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new TA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Gs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Sr(this.o===void 0);const n=s=>{s.error!=null&&zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,zt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Sr(typeof t.token=="string"),this.R=t.token,new DA(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function RA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}class R_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=RA(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<t&&(n+=e.charAt(i[s]%e.length))}return n}}function sr(r,e){return r<e?-1:r>e?1:0}function uh(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}class is{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Xt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Xt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Xt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return is.fromMillis(Date.now())}static fromDate(e){return is.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new is(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sr(this.nanoseconds,e.nanoseconds):sr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _n(e)}static min(){return new _n(new is(0,0))}static max(){return new _n(new is(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pf{constructor(e,t,n){t===void 0?t=0:t>e.length&&yn(),n===void 0?n=e.length-t:n>e.length-t&&yn(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Pf.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pf?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ei extends Pf{construct(e,t,n){return new ei(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Xt(rt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new ei(t)}static emptyPath(){return new ei([])}}const MA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ns extends Pf{construct(e,t,n){return new Ns(e,t,n)}static isValidIdentifier(e){return MA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ns.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ns(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Xt(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Xt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Xt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(n+=c,i++):(s(),i++)}if(s(),a)throw new Xt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ns(t)}static emptyPath(){return new Ns([])}}class on{constructor(e){this.path=e}static fromPath(e){return new on(ei.fromString(e))}static fromName(e){return new on(ei.fromString(e).popFirst(5))}static empty(){return new on(ei.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ei.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ei.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new on(new ei(e.slice()))}}function OA(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=_n.fromTimestamp(n===1e9?new is(t+1,0):new is(t,n));return new au(i,on.empty(),e)}function jA(r){return new au(r.readTime,r.key,-1)}class au{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new au(_n.min(),on.empty(),-1)}static max(){return new au(_n.max(),on.empty(),-1)}}function FA(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=on.comparator(r.documentKey,e.documentKey),t!==0?t:sr(r.largestBatchId,e.largestBatchId))}const BA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gf(r){if(r.code!==rt.FAILED_PRECONDITION||r.message!==BA)throw r;zt("LocalStore","Unexpectedly lost primary lease")}class it{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new it(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof it?t:it.resolve(t)}catch(t){return it.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):it.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):it.reject(t)}static resolve(e){return new it(((t,n)=>{t(e)}))}static reject(e){return new it(((t,n)=>{n(e)}))}static waitFor(e){return new it(((t,n)=>{let i=0,s=0,a=!1;e.forEach((c=>{++i,c.next((()=>{++s,a&&s===i&&t()}),(u=>n(u)))})),a=!0,s===i&&t()}))}static or(e){let t=it.resolve(!1);for(const n of e)t=t.next((i=>i?it.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,s)=>{n.push(t.call(this,i,s))})),this.waitFor(n)}static mapArray(e,t){return new it(((n,i)=>{const s=e.length,a=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;t(e[d]).next((f=>{a[d]=f,++c,c===s&&n(a)}),(f=>i(f)))}}))}static doWhile(e,t){return new it(((n,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):n()};s()}))}}function VA(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Kf(r){return r.name==="IndexedDbTransactionError"}class U1{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}U1.oe=-1;function y0(r){return r==null}function Bm(r){return r===0&&1/r==-1/0}function zA(r){return typeof r=="number"&&Number.isInteger(r)&&!Bm(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Pw(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function od(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function M_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class hi{constructor(e,t){this.comparator=e,this.root=t||Es.EMPTY}insert(e,t){return new hi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Es.BLACK,null,null))}remove(e){return new hi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zp(this.root,e,this.comparator,!1)}getReverseIterator(){return new zp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zp(this.root,e,this.comparator,!0)}}class zp{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Es{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=n??Es.RED,this.left=i??Es.EMPTY,this.right=s??Es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new Es(e??this.key,t??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Es.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yn();const e=this.left.check();if(e!==this.right.check())throw yn();return e+(this.isRed()?0:1)}}Es.EMPTY=null,Es.RED=!0,Es.BLACK=!1;Es.EMPTY=new class{constructor(){this.size=0}get key(){throw yn()}get value(){throw yn()}get color(){throw yn()}get left(){throw yn()}get right(){throw yn()}copy(e,t,n,i,s){return this}insert(e,t,n){return new Es(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cs{constructor(e){this.comparator=e,this.data=new hi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dw(this.data.getIterator())}getIteratorFrom(e){return new Dw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Cs)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Cs(this.comparator);return t.data=e,t}}class Dw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Go{constructor(e){this.fields=e,e.sort(Ns.comparator)}static empty(){return new Go([])}unionWith(e){let t=new Cs(Ns.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Go(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uh(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class O_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Is{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new O_("Invalid base64 string: "+s):s}})(e);return new Is(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Is(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Is.EMPTY_BYTE_STRING=new Is("");const qA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lu(r){if(Sr(!!r),typeof r=="string"){let e=0;const t=qA.exec(r);if(Sr(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ci(r.seconds),nanos:Ci(r.nanos)}}function Ci(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zu(r){return typeof r=="string"?Is.fromBase64String(r):Is.fromUint8Array(r)}function V1(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function z1(r){const e=r.mapValue.fields.__previous_value__;return V1(e)?z1(e):e}function Df(r){const e=lu(r.mapValue.fields.__local_write_time__.timestampValue);return new is(e.seconds,e.nanos)}class HA{constructor(e,t,n,i,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}class Lf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Lf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lf&&e.projectId===this.projectId&&e.database===this.database}}const qp={mapValue:{}};function ed(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?V1(r)?4:$A(r)?9007199254740991:WA(r)?10:11:yn()}function Cl(r,e){if(r===e)return!0;const t=ed(r);if(t!==ed(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Df(r).isEqual(Df(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=lu(i.timestampValue),c=lu(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,s){return Zu(i.bytesValue).isEqual(Zu(s.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,s){return Ci(i.geoPointValue.latitude)===Ci(s.geoPointValue.latitude)&&Ci(i.geoPointValue.longitude)===Ci(s.geoPointValue.longitude)})(r,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Ci(i.integerValue)===Ci(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Ci(i.doubleValue),c=Ci(s.doubleValue);return a===c?Bm(a)===Bm(c):isNaN(a)&&isNaN(c)}return!1})(r,e);case 9:return uh(r.arrayValue.values||[],e.arrayValue.values||[],Cl);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Pw(a)!==Pw(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Cl(a[u],c[u])))return!1;return!0})(r,e);default:return yn()}}function Rf(r,e){return(r.values||[]).find((t=>Cl(t,e)))!==void 0}function dh(r,e){if(r===e)return 0;const t=ed(r),n=ed(e);if(t!==n)return sr(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return sr(r.booleanValue,e.booleanValue);case 2:return(function(s,a){const c=Ci(s.integerValue||s.doubleValue),u=Ci(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(r,e);case 3:return Lw(r.timestampValue,e.timestampValue);case 4:return Lw(Df(r),Df(e));case 5:return sr(r.stringValue,e.stringValue);case 6:return(function(s,a){const c=Zu(s),u=Zu(a);return c.compareTo(u)})(r.bytesValue,e.bytesValue);case 7:return(function(s,a){const c=s.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=sr(c[d],u[d]);if(f!==0)return f}return sr(c.length,u.length)})(r.referenceValue,e.referenceValue);case 8:return(function(s,a){const c=sr(Ci(s.latitude),Ci(a.latitude));return c!==0?c:sr(Ci(s.longitude),Ci(a.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Rw(r.arrayValue,e.arrayValue);case 10:return(function(s,a){var c,u,d,f;const w=s.fields||{},b=a.fields||{},v=(c=w.value)===null||c===void 0?void 0:c.arrayValue,E=(u=b.value)===null||u===void 0?void 0:u.arrayValue,D=sr(((d=v?.values)===null||d===void 0?void 0:d.length)||0,((f=E?.values)===null||f===void 0?void 0:f.length)||0);return D!==0?D:Rw(v,E)})(r.mapValue,e.mapValue);case 11:return(function(s,a){if(s===qp.mapValue&&a===qp.mapValue)return 0;if(s===qp.mapValue)return 1;if(a===qp.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let w=0;w<u.length&&w<f.length;++w){const b=sr(u[w],f[w]);if(b!==0)return b;const v=dh(c[u[w]],d[f[w]]);if(v!==0)return v}return sr(u.length,f.length)})(r.mapValue,e.mapValue);default:throw yn()}}function Lw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return sr(r,e);const t=lu(r),n=lu(e),i=sr(t.seconds,n.seconds);return i!==0?i:sr(t.nanos,n.nanos)}function Rw(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const s=dh(t[i],n[i]);if(s)return s}return sr(t.length,n.length)}function hh(r){return qv(r)}function qv(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=lu(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Zu(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return on.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const s of t.values||[])i?i=!1:n+=",",n+=qv(s);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${qv(t.fields[a])}`;return i+"}"})(r.mapValue):yn()}function Hv(r){return!!r&&"integerValue"in r}function q1(r){return!!r&&"arrayValue"in r}function Mw(r){return!!r&&"nullValue"in r}function Ow(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mm(r){return!!r&&"mapValue"in r}function WA(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function bf(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return od(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=bf(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bf(r.arrayValue.values[t]);return e}return Object.assign({},r)}function $A(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Ao{constructor(e){this.value=e}static empty(){return new Ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!mm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bf(t)}setAll(e){let t=Ns.emptyPath(),n={},i=[];e.forEach(((a,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,n,i),n={},i=[],t=c.popLast()}a?n[c.lastSegment()]=bf(a):i.push(c.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());mm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];mm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){od(t,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new Ao(bf(this.value))}}function j_(r){const e=[];return od(r.fields,((t,n)=>{const i=new Ns([t]);if(mm(n)){const s=j_(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Go(e)}class Ks{constructor(e,t,n,i,s,a,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Ks(e,0,_n.min(),_n.min(),_n.min(),Ao.empty(),0)}static newFoundDocument(e,t,n,i){return new Ks(e,1,t,_n.min(),n,i,0)}static newNoDocument(e,t){return new Ks(e,2,t,_n.min(),_n.min(),Ao.empty(),0)}static newUnknownDocument(e,t){return new Ks(e,3,t,_n.min(),_n.min(),Ao.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_n.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_n.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ks&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ks(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Um{constructor(e,t){this.position=e,this.inclusive=t}}function jw(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const s=e[i],a=r.position[i];if(s.field.isKeyField()?n=on.comparator(on.fromName(a.referenceValue),t.key):n=dh(a,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Fw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Cl(r.position[t],e.position[t]))return!1;return!0}class Vm{constructor(e,t="asc"){this.field=e,this.dir=t}}function YA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}let F_=class{};class ns extends F_{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new KA(e,t,n):t==="array-contains"?new JA(e,n):t==="in"?new ZA(e,n):t==="not-in"?new e3(e,n):t==="array-contains-any"?new t3(e,n):new ns(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new QA(e,n):new XA(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(dh(t,this.value)):t!==null&&ed(this.value)===ed(t)&&this.matchesComparison(dh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Il extends F_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Il(e,t)}matches(e){return B_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function B_(r){return r.op==="and"}function U_(r){return GA(r)&&B_(r)}function GA(r){for(const e of r.filters)if(e instanceof Il)return!1;return!0}function Wv(r){if(r instanceof ns)return r.field.canonicalString()+r.op.toString()+hh(r.value);if(U_(r))return r.filters.map((e=>Wv(e))).join(",");{const e=r.filters.map((t=>Wv(t))).join(",");return`${r.op}(${e})`}}function V_(r,e){return r instanceof ns?(function(n,i){return i instanceof ns&&n.op===i.op&&n.field.isEqual(i.field)&&Cl(n.value,i.value)})(r,e):r instanceof Il?(function(n,i){return i instanceof Il&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,a,c)=>s&&V_(a,i.filters[c])),!0):!1})(r,e):void yn()}function z_(r){return r instanceof ns?(function(t){return`${t.field.canonicalString()} ${t.op} ${hh(t.value)}`})(r):r instanceof Il?(function(t){return t.op.toString()+" {"+t.getFilters().map(z_).join(" ,")+"}"})(r):"Filter"}class KA extends ns{constructor(e,t,n){super(e,t,n),this.key=on.fromName(n.referenceValue)}matches(e){const t=on.comparator(e.key,this.key);return this.matchesComparison(t)}}class QA extends ns{constructor(e,t){super(e,"in",t),this.keys=q_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class XA extends ns{constructor(e,t){super(e,"not-in",t),this.keys=q_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function q_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((n=>on.fromName(n.referenceValue)))}class JA extends ns{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return q1(t)&&Rf(t.arrayValue,this.value)}}class ZA extends ns{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Rf(this.value.arrayValue,t)}}class e3 extends ns{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Rf(this.value.arrayValue,t)}}class t3 extends ns{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!q1(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Rf(this.value.arrayValue,n)))}}class n3{constructor(e,t=null,n=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}}function Bw(r,e=null,t=[],n=[],i=null,s=null,a=null){return new n3(r,e,t,n,i,s,a)}function H1(r){const e=Sn(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Wv(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),y0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>hh(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>hh(n))).join(",")),e.ue=t}return e.ue}function W1(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!YA(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!V_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Fw(r.startAt,e.startAt)&&Fw(r.endAt,e.endAt)}function $v(r){return on.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class w0{constructor(e,t=null,n=[],i=[],s=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function r3(r,e,t,n,i,s,a,c){return new w0(r,e,t,n,i,s,a,c)}function $1(r){return new w0(r)}function Uw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function i3(r){return r.collectionGroup!==null}function _f(r){const e=Sn(r);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Cs(Ns.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Vm(s,n))})),t.has(Ns.keyField().canonicalString())||e.ce.push(new Vm(Ns.keyField(),n))}return e.ce}function Sl(r){const e=Sn(r);return e.le||(e.le=s3(e,_f(r))),e.le}function s3(r,e){if(r.limitType==="F")return Bw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Vm(i.field,s)}));const t=r.endAt?new Um(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Um(r.startAt.position,r.startAt.inclusive):null;return Bw(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Yv(r,e,t){return new w0(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function x0(r,e){return W1(Sl(r),Sl(e))&&r.limitType===e.limitType}function H_(r){return`${H1(Sl(r))}|lt:${r.limitType}`}function Bd(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>z_(i))).join(", ")}]`),y0(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>hh(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>hh(i))).join(",")),`Target(${n})`})(Sl(r))}; limitType=${r.limitType})`}function b0(r,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):on.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(r,e)&&(function(n,i){for(const s of _f(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(a,c,u){const d=jw(a,c,u);return a.inclusive?d<=0:d<0})(n.startAt,_f(n),i)||n.endAt&&!(function(a,c,u){const d=jw(a,c,u);return a.inclusive?d>=0:d>0})(n.endAt,_f(n),i))})(r,e)}function o3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function W_(r){return(e,t)=>{let n=!1;for(const i of _f(r)){const s=a3(i,e,t);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function a3(r,e,t){const n=r.field.isKeyField()?on.comparator(e.key,t.key):(function(s,a,c){const u=a.data.field(s),d=c.data.field(s);return u!==null&&d!==null?dh(u,d):yn()})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return yn()}}class Ah{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){od(this.inner,((t,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return M_(this.inner)}size(){return this.innerSize}}const l3=new hi(on.comparator);function hc(){return l3}const $_=new hi(on.comparator);function mf(...r){let e=$_;for(const t of r)e=e.insert(t.key,t);return e}function Y_(r){let e=$_;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Uu(){return Sf()}function G_(){return Sf()}function Sf(){return new Ah((r=>r.toString()),((r,e)=>r.isEqual(e)))}const c3=new hi(on.comparator),u3=new Cs(on.comparator);function Vn(...r){let e=u3;for(const t of r)e=e.add(t);return e}const d3=new Cs(sr);function h3(){return d3}function Y1(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bm(e)?"-0":e}}function K_(r){return{integerValue:""+r}}function f3(r,e){return zA(e)?K_(e):Y1(r,e)}class _0{constructor(){this._=void 0}}function p3(r,e,t){return r instanceof zm?(function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&V1(s)&&(s=z1(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}})(t,e):r instanceof Mf?X_(r,e):r instanceof Of?J_(r,e):(function(i,s){const a=Q_(i,s),c=Vw(a)+Vw(i.Pe);return Hv(a)&&Hv(i.Pe)?K_(c):Y1(i.serializer,c)})(r,e)}function m3(r,e,t){return r instanceof Mf?X_(r,e):r instanceof Of?J_(r,e):t}function Q_(r,e){return r instanceof qm?(function(n){return Hv(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class zm extends _0{}class Mf extends _0{constructor(e){super(),this.elements=e}}function X_(r,e){const t=Z_(e);for(const n of r.elements)t.some((i=>Cl(i,n)))||t.push(n);return{arrayValue:{values:t}}}class Of extends _0{constructor(e){super(),this.elements=e}}function J_(r,e){let t=Z_(e);for(const n of r.elements)t=t.filter((i=>!Cl(i,n)));return{arrayValue:{values:t}}}class qm extends _0{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Vw(r){return Ci(r.integerValue||r.doubleValue)}function Z_(r){return q1(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function g3(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof Mf&&i instanceof Mf||n instanceof Of&&i instanceof Of?uh(n.elements,i.elements,Cl):n instanceof qm&&i instanceof qm?Cl(n.Pe,i.Pe):n instanceof zm&&i instanceof zm})(r.transform,e.transform)}class v3{constructor(e,t){this.version=e,this.transformResults=t}}class Qo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qo}static exists(e){return new Qo(void 0,e)}static updateTime(e){return new Qo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gm(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class S0{}function eS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new k0(r.key,Qo.none()):new Qf(r.key,r.data,Qo.none());{const t=r.data,n=Ao.empty();let i=new Cs(Ns.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new pu(r.key,n,new Go(i.toArray()),Qo.none())}}function y3(r,e,t){r instanceof Qf?(function(i,s,a){const c=i.value.clone(),u=qw(i.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(r,e,t):r instanceof pu?(function(i,s,a){if(!gm(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=qw(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(tS(i)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(r,e,t):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function kf(r,e,t,n){return r instanceof Qf?(function(s,a,c,u){if(!gm(s.precondition,a))return c;const d=s.value.clone(),f=Hw(s.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(r,e,t,n):r instanceof pu?(function(s,a,c,u){if(!gm(s.precondition,a))return c;const d=Hw(s.fieldTransforms,u,a),f=a.data;return f.setAll(tS(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((w=>w.field)))})(r,e,t,n):(function(s,a,c){return gm(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(r,e,t)}function w3(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),s=Q_(n.transform,i||null);s!=null&&(t===null&&(t=Ao.empty()),t.set(n.field,s))}return t||null}function zw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&uh(n,i,((s,a)=>g3(s,a)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Qf extends S0{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pu extends S0{constructor(e,t,n,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tS(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function qw(r,e,t){const n=new Map;Sr(r.length===t.length);for(let i=0;i<t.length;i++){const s=r[i],a=s.transform,c=e.data.field(s.field);n.set(s.field,m3(a,c,t[i]))}return n}function Hw(r,e,t){const n=new Map;for(const i of r){const s=i.transform,a=t.data.field(i.field);n.set(i.field,p3(s,a,e))}return n}class k0 extends S0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x3 extends S0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class b3{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&y3(s,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=kf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=kf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=G_();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=t.has(i.key)?null:c;const u=eS(a,c);u!==null&&n.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(_n.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Vn())}isEqual(e){return this.batchId===e.batchId&&uh(this.mutations,e.mutations,((t,n)=>zw(t,n)))&&uh(this.baseMutations,e.baseMutations,((t,n)=>zw(t,n)))}}class G1{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Sr(e.mutations.length===n.length);let i=(function(){return c3})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new G1(e,t,n,i)}}class _3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class S3{constructor(e,t){this.count=e,this.unchangedNames=t}}var qi,Gn;function k3(r){switch(r){default:return yn();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}function nS(r){if(r===void 0)return dc("GRPC error has no .code"),rt.UNKNOWN;switch(r){case qi.OK:return rt.OK;case qi.CANCELLED:return rt.CANCELLED;case qi.UNKNOWN:return rt.UNKNOWN;case qi.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case qi.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case qi.INTERNAL:return rt.INTERNAL;case qi.UNAVAILABLE:return rt.UNAVAILABLE;case qi.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case qi.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case qi.NOT_FOUND:return rt.NOT_FOUND;case qi.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case qi.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case qi.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case qi.ABORTED:return rt.ABORTED;case qi.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case qi.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case qi.DATA_LOSS:return rt.DATA_LOSS;default:return yn()}}(Gn=qi||(qi={}))[Gn.OK=0]="OK",Gn[Gn.CANCELLED=1]="CANCELLED",Gn[Gn.UNKNOWN=2]="UNKNOWN",Gn[Gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gn[Gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gn[Gn.NOT_FOUND=5]="NOT_FOUND",Gn[Gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gn[Gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gn[Gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gn[Gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gn[Gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gn[Gn.ABORTED=10]="ABORTED",Gn[Gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gn[Gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gn[Gn.INTERNAL=13]="INTERNAL",Gn[Gn.UNAVAILABLE=14]="UNAVAILABLE",Gn[Gn.DATA_LOSS=15]="DATA_LOSS";function E3(){return new TextEncoder}const N3=new Wu([4294967295,4294967295],0);function Ww(r){const e=E3().encode(r),t=new C_;return t.update(e),new Uint8Array(t.digest())}function $w(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wu([t,n],0),new Wu([i,s],0)]}class K1{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new gf(`Invalid padding: ${t}`);if(n<0)throw new gf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new gf(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new gf(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Wu.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(Wu.fromNumber(n)));return i.compare(N3)===1&&(i=new Wu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Ww(e),[n,i]=$w(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new K1(s,i,t);return n.forEach((c=>a.insert(c))),a}insert(e){if(this.Ie===0)return;const t=Ww(e),[n,i]=$w(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class gf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class E0{constructor(e,t,n,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Xf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new E0(_n.min(),i,new hi(sr),hc(),Vn())}}class Xf{constructor(e,t,n,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Xf(n,t,Vn(),Vn(),Vn())}}class vm{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class rS{constructor(e,t){this.targetId=e,this.me=t}}class iS{constructor(e,t,n=Is.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class Yw{constructor(){this.fe=0,this.ge=Kw(),this.pe=Is.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Vn(),t=Vn(),n=Vn();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:yn()}})),new Xf(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Kw()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Sr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class C3{constructor(e){this.Le=e,this.Be=new Map,this.ke=hc(),this.qe=Gw(),this.Qe=new hi(sr)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:yn()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((n,i)=>{this.ze(i)&&t(i)}))}He(e){const t=e.targetId,n=e.me.count,i=this.Je(t);if(i){const s=i.target;if($v(s))if(n===0){const a=new on(s.path);this.Ue(t,a,Ks.newNoDocument(a,_n.min()))}else Sr(n===1);else{const a=this.Ye(t);if(a!==n){const c=this.Ze(e),u=c?this.Xe(c,e,a):1;if(u!==0){this.je(t);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=t;let a,c;try{a=Zu(n).toUint8Array()}catch(u){if(u instanceof O_)return ch("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new K1(a,i,s)}catch(u){return ch(u instanceof gf?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach((s=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),i++)})),i}rt(e){const t=new Map;this.Be.forEach(((s,a)=>{const c=this.Je(a);if(c){if(s.current&&$v(c.target)){const u=new on(c.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,Ks.newNoDocument(u,e))}s.be&&(t.set(a,s.ve()),s.Ce())}}));let n=Vn();this.qe.forEach(((s,a)=>{let c=!0;a.forEachWhile((u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(s))})),this.ke.forEach(((s,a)=>a.setReadTime(e)));const i=new E0(e,t,this.Qe,this.ke,n);return this.ke=hc(),this.qe=Gw(),this.Qe=new hi(sr),i}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Yw,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Cs(sr),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||zt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Yw),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Gw(){return new hi(on.comparator)}function Kw(){return new hi(on.comparator)}const I3={asc:"ASCENDING",desc:"DESCENDING"},A3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T3={and:"AND",or:"OR"};class P3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gv(r,e){return r.useProto3Json||y0(e)?e:{value:e}}function Hm(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function D3(r,e){return Hm(r,e.toTimestamp())}function kl(r){return Sr(!!r),_n.fromTimestamp((function(t){const n=lu(t);return new is(n.seconds,n.nanos)})(r))}function Q1(r,e){return Kv(r,e).canonicalString()}function Kv(r,e){const t=(function(i){return new ei(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function oS(r){const e=ei.fromString(r);return Sr(dS(e)),e}function Qv(r,e){return Q1(r.databaseId,e.path)}function Hg(r,e){const t=oS(e);if(t.get(1)!==r.databaseId.projectId)throw new Xt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Xt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new on(lS(t))}function aS(r,e){return Q1(r.databaseId,e)}function L3(r){const e=oS(r);return e.length===4?ei.emptyPath():lS(e)}function Xv(r){return new ei(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lS(r){return Sr(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Qw(r,e,t){return{name:Qv(r,e),fields:t.value.mapValue.fields}}function R3(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:yn()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(Sr(f===void 0||typeof f=="string"),Is.fromBase64String(f||"")):(Sr(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Is.fromUint8Array(f||new Uint8Array))})(r,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(d){const f=d.code===void 0?rt.UNKNOWN:nS(d.code);return new Xt(f,d.message||"")})(a);t=new iS(n,i,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Hg(r,n.document.name),s=kl(n.document.updateTime),a=n.document.createTime?kl(n.document.createTime):_n.min(),c=new Ao({mapValue:{fields:n.document.fields}}),u=Ks.newFoundDocument(i,s,a,c),d=n.targetIds||[],f=n.removedTargetIds||[];t=new vm(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Hg(r,n.document),s=n.readTime?kl(n.readTime):_n.min(),a=Ks.newNoDocument(i,s),c=n.removedTargetIds||[];t=new vm([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Hg(r,n.document),s=n.removedTargetIds||[];t=new vm([],s,i,null)}else{if(!("filter"in e))return yn();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new S3(i,s),c=n.targetId;t=new rS(c,a)}}return t}function M3(r,e){let t;if(e instanceof Qf)t={update:Qw(r,e.key,e.value)};else if(e instanceof k0)t={delete:Qv(r,e.key)};else if(e instanceof pu)t={update:Qw(r,e.key,e.data),updateMask:H3(e.fieldMask)};else{if(!(e instanceof x3))return yn();t={verify:Qv(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(s,a){const c=a.transform;if(c instanceof zm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Mf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Of)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qm)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw yn()})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:D3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:yn()})(r,e.precondition)),t}function O3(r,e){return r&&r.length>0?(Sr(e!==void 0),r.map((t=>(function(i,s){let a=i.updateTime?kl(i.updateTime):kl(s);return a.isEqual(_n.min())&&(a=kl(s)),new v3(a,i.transformResults||[])})(t,e)))):[]}function j3(r,e){return{documents:[aS(r,e.path)]}}function F3(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=aS(r,i);const s=(function(d){if(d.length!==0)return uS(Il.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(d){if(d.length!==0)return d.map((f=>(function(b){return{field:Ud(b.field),direction:V3(b.dir)}})(f)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=Gv(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{_t:t,parent:i}}function B3(r){let e=L3(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Sr(n===1);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=(function(w){const b=cS(w);return b instanceof Il&&U_(b)?b.getFilters():[b]})(t.where));let a=[];t.orderBy&&(a=(function(w){return w.map((b=>(function(E){return new Vm(Vd(E.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(b)))})(t.orderBy));let c=null;t.limit&&(c=(function(w){let b;return b=typeof w=="object"?w.value:w,y0(b)?null:b})(t.limit));let u=null;t.startAt&&(u=(function(w){const b=!!w.before,v=w.values||[];return new Um(v,b)})(t.startAt));let d=null;return t.endAt&&(d=(function(w){const b=!w.before,v=w.values||[];return new Um(v,b)})(t.endAt)),r3(e,i,a,s,c,"F",u,d)}function U3(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yn()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cS(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Vd(t.unaryFilter.field);return ns.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Vd(t.unaryFilter.field);return ns.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vd(t.unaryFilter.field);return ns.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Vd(t.unaryFilter.field);return ns.create(a,"!=",{nullValue:"NULL_VALUE"});default:return yn()}})(r):r.fieldFilter!==void 0?(function(t){return ns.create(Vd(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yn()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Il.create(t.compositeFilter.filters.map((n=>cS(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return yn()}})(t.compositeFilter.op))})(r):yn()}function V3(r){return I3[r]}function z3(r){return A3[r]}function q3(r){return T3[r]}function Ud(r){return{fieldPath:r.canonicalString()}}function Vd(r){return Ns.fromServerFormat(r.fieldPath)}function uS(r){return r instanceof ns?(function(t){if(t.op==="=="){if(Ow(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NAN"}};if(Mw(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ow(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NOT_NAN"}};if(Mw(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ud(t.field),op:z3(t.op),value:t.value}}})(r):r instanceof Il?(function(t){const n=t.getFilters().map((i=>uS(i)));return n.length===1?n[0]:{compositeFilter:{op:q3(t.op),filters:n}}})(r):yn()}function H3(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function dS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qc{constructor(e,t,n,i,s=_n.min(),a=_n.min(),c=Is.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Qc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class W3{constructor(e){this.ct=e}}function $3(r){const e=B3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Yv(e,e.limit,"L"):e}class Y3{constructor(){this.un=new G3}addToCollectionParentIndex(e,t){return this.un.add(t),it.resolve()}getCollectionParents(e,t){return it.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return it.resolve()}deleteFieldIndex(e,t){return it.resolve()}deleteAllFieldIndexes(e){return it.resolve()}createTargetIndexes(e,t){return it.resolve()}getDocumentsMatchingTarget(e,t){return it.resolve(null)}getIndexType(e,t){return it.resolve(0)}getFieldIndexes(e,t){return it.resolve([])}getNextCollectionGroupToUpdate(e){return it.resolve(null)}getMinOffset(e,t){return it.resolve(au.min())}getMinOffsetFromCollectionGroup(e,t){return it.resolve(au.min())}updateCollectionGroup(e,t,n){return it.resolve()}updateIndexEntries(e,t){return it.resolve()}}class G3{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Cs(ei.comparator),s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Cs(ei.comparator)).toArray()}}class fh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new fh(0)}static kn(){return new fh(-1)}}class K3{constructor(){this.changes=new Ah((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ks.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?it.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Q3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class X3{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&kf(n.mutation,i,Go.empty(),is.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Vn()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Vn()){const i=Uu();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((s=>{let a=mf();return s.forEach(((c,u)=>{a=a.insert(c,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const n=Uu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Vn())))}populateOverlays(e,t,n){const i=[];return n.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,c)=>{t.set(a,c)}))}))}computeViews(e,t,n,i){let s=hc();const a=Sf(),c=(function(){return Sf()})();return t.forEach(((u,d)=>{const f=n.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof pu)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),kf(f.mutation,d,f.mutation.getFieldMask(),is.now())):a.set(d.key,Go.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((d,f)=>a.set(d,f))),t.forEach(((d,f)=>{var w;return c.set(d,new Q3(f,(w=a.get(d))!==null&&w!==void 0?w:null))})),c)))}recalculateAndSaveOverlays(e,t){const n=Sf();let i=new hi(((a,c)=>a-c)),s=Vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const c of a)c.keys().forEach((u=>{const d=t.get(u);if(d===null)return;let f=n.get(u)||Go.empty();f=c.applyToLocalView(d,f),n.set(u,f);const w=(i.get(c.batchId)||Vn()).add(u);i=i.insert(c.batchId,w)}))})).next((()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,w=G_();f.forEach((b=>{if(!s.has(b)){const v=eS(t.get(b),n.get(b));v!==null&&w.set(b,v),s=s.add(b)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,w))}return it.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(a){return on.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):i3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):it.resolve(Uu());let c=-1,u=s;return a.next((d=>it.forEach(d,((f,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),s.get(f)?it.resolve():this.remoteDocumentCache.getEntry(e,f).next((b=>{u=u.insert(f,b)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,u,d,Vn()))).next((f=>({batchId:c,changes:Y_(f)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new on(t)).next((n=>{let i=mf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=t.collectionGroup;let a=mf();return this.indexManager.getCollectionParents(e,s).next((c=>it.forEach(c,(u=>{const d=(function(w,b){return new w0(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((f=>{f.forEach(((w,b)=>{a=a.insert(w,b)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i)))).next((a=>{s.forEach(((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,Ks.newInvalidDocument(f)))}));let c=mf();return a.forEach(((u,d)=>{const f=s.get(u);f!==void 0&&kf(f.mutation,d,Go.empty(),is.now()),b0(t,d)&&(c=c.insert(u,d))})),c}))}}class J3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return it.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:kl(i.createTime)}})(t)),it.resolve()}getNamedQuery(e,t){return it.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(i){return{name:i.name,query:$3(i.bundledQuery),readTime:kl(i.readTime)}})(t)),it.resolve()}}class Z3{constructor(){this.overlays=new hi(on.comparator),this.Ir=new Map}getOverlay(e,t){return it.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Uu();return it.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,s)=>{this.ht(e,t,s)})),it.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(n)),it.resolve()}getOverlaysForCollection(e,t,n){const i=Uu(),s=t.length+1,a=new on(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>n&&i.set(u.getKey(),u)}return it.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let s=new hi(((d,f)=>d-f));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let f=s.get(d.largestBatchId);f===null&&(f=Uu(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=Uu(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>c.set(d,f))),!(c.size()>=i)););return it.resolve(c)}ht(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new _3(t,n));let s=this.Ir.get(t);s===void 0&&(s=Vn(),this.Ir.set(t,s)),this.Ir.set(t,s.add(n.key))}}class eT{constructor(){this.sessionToken=Is.EMPTY_BYTE_STRING}getSessionToken(e){return it.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,it.resolve()}}class X1{constructor(){this.Tr=new Cs(ps.Er),this.dr=new Cs(ps.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new ps(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Vr(new ps(e,t))}mr(e,t){e.forEach((n=>this.removeReference(n,t)))}gr(e){const t=new on(new ei([])),n=new ps(t,e),i=new ps(t,e+1),s=[];return this.dr.forEachInRange([n,i],(a=>{this.Vr(a),s.push(a.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new on(new ei([])),n=new ps(t,e),i=new ps(t,e+1);let s=Vn();return this.dr.forEachInRange([n,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new ps(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class ps{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return on.comparator(e.key,t.key)||sr(e.wr,t.wr)}static Ar(e,t){return sr(e.wr,t.wr)||on.comparator(e.key,t.key)}}class tT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Cs(ps.Er)}checkEmpty(e){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new b3(s,t,n,i);this.mutationQueue.push(a);for(const c of i)this.br=this.br.add(new ps(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return it.resolve(a)}lookupMutationBatch(e,t){return it.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.vr(n),s=i<0?0:i;return it.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ps(t,0),i=new ps(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],(a=>{const c=this.Dr(a.wr);s.push(c)})),it.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Cs(sr);return t.forEach((i=>{const s=new ps(i,0),a=new ps(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],(c=>{n=n.add(c.wr)}))})),it.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let s=n;on.isDocumentKey(s)||(s=s.child(""));const a=new ps(new on(s),0);let c=new Cs(sr);return this.br.forEachWhile((u=>{const d=u.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)}),a),it.resolve(this.Cr(c))}Cr(e){const t=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Sr(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return it.forEach(t.mutations,(i=>{const s=new ps(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new ps(t,0),i=this.br.firstAfterOrEqual(n);return it.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,it.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nT{constructor(e){this.Mr=e,this.docs=(function(){return new hi(on.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return it.resolve(n?n.document.mutableCopy():Ks.newInvalidDocument(t))}getEntries(e,t){let n=hc();return t.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Ks.newInvalidDocument(i))})),it.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=hc();const a=t.path,c=new on(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||FA(jA(f),n)<=0||(i.has(f.key)||b0(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return it.resolve(s)}getAllFromCollectionGroup(e,t,n,i){yn()}Or(e,t){return it.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new rT(this)}getSize(e){return it.resolve(this.size)}}class rT extends K3{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),it.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class iT{constructor(e){this.persistence=e,this.Nr=new Ah((t=>H1(t)),W1),this.lastRemoteSnapshotVersion=_n.min(),this.highestTargetId=0,this.Lr=0,this.Br=new X1,this.targetCount=0,this.kr=fh.Bn()}forEachTarget(e,t){return this.Nr.forEach(((n,i)=>t(i))),it.resolve()}getLastRemoteSnapshotVersion(e){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return it.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),it.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new fh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,it.resolve()}updateTargetData(e,t){return this.Kn(t),it.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,it.resolve()}removeTargets(e,t,n){let i=0;const s=[];return this.Nr.forEach(((a,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),it.waitFor(s).next((()=>i))}getTargetCount(e){return it.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return it.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),it.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),it.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),it.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return it.resolve(n)}containsKey(e,t){return it.resolve(this.Br.containsKey(t))}}class sT{constructor(e,t){this.qr={},this.overlays={},this.Qr=new U1(0),this.Kr=!1,this.Kr=!0,this.$r=new eT,this.referenceDelegate=e(this),this.Ur=new iT(this),this.indexManager=new Y3,this.remoteDocumentCache=(function(i){return new nT(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new W3(t),this.Gr=new J3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Z3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new tT(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){zt("MemoryPersistence","Starting transaction:",e);const i=new oT(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,t){return it.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class oT extends UA{constructor(e){super(),this.currentSequenceNumber=e}}class J1{constructor(e){this.persistence=e,this.Jr=new X1,this.Yr=null}static Zr(e){return new J1(e)}get Xr(){if(this.Yr)return this.Yr;throw yn()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),it.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),it.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),it.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.Xr,(n=>{const i=on.fromPath(n);return this.ei(e,i).next((s=>{s||t.removeEntry(i,_n.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return it.or([()=>it.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Z1{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=i}static Wi(e,t){let n=Vn(),i=Vn();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Z1(e,t.fromCache,n,i)}}class aT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lT{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return QN()?8:VA(Qs())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.Yi(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.Zi(e,t,i,n).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new aT;return this.Xi(e,t,a).next((c=>{if(s.result=c,this.zi)return this.es(e,t,a,c.size)}))})).next((()=>s.result))}es(e,t,n,i){return n.documentReadCount<this.ji?(sf()<=Hn.DEBUG&&zt("QueryEngine","SDK will not create cache indexes for query:",Bd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),it.resolve()):(sf()<=Hn.DEBUG&&zt("QueryEngine","Query:",Bd(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(sf()<=Hn.DEBUG&&zt("QueryEngine","The SDK decides to create cache indexes for query:",Bd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sl(t))):it.resolve())}Yi(e,t){if(Uw(t))return it.resolve(null);let n=Sl(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Yv(t,null,"F"),n=Sl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const a=Vn(...s);return this.Ji.getDocuments(e,a).next((c=>this.indexManager.getMinOffset(e,n).next((u=>{const d=this.ts(t,c);return this.ns(t,d,a,u.readTime)?this.Yi(e,Yv(t,null,"F")):this.rs(e,d,t,u)}))))})))))}Zi(e,t,n,i){return Uw(t)||i.isEqual(_n.min())?it.resolve(null):this.Ji.getDocuments(e,n).next((s=>{const a=this.ts(t,s);return this.ns(t,a,n,i)?it.resolve(null):(sf()<=Hn.DEBUG&&zt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bd(t)),this.rs(e,a,t,OA(i,-1)).next((c=>c)))}))}ts(e,t){let n=new Cs(W_(e));return t.forEach(((i,s)=>{b0(e,s)&&(n=n.add(s))})),n}ns(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,n){return sf()<=Hn.DEBUG&&zt("QueryEngine","Using full collection scan to execute query:",Bd(t)),this.Ji.getDocumentsMatchingQuery(e,t,au.min(),n)}rs(e,t,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}class cT{constructor(e,t,n,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new hi(sr),this._s=new Ah((s=>H1(s)),W1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function uT(r,e,t,n){return new cT(r,e,t,n)}async function hS(r,e){const t=Sn(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(n)))).next((s=>{const a=[],c=[];let u=Vn();for(const d of i){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(n,u).next((d=>({hs:d,removedBatchIds:a,addedBatchIds:c})))}))}))}function dT(r,e){const t=Sn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return(function(c,u,d,f){const w=d.batch,b=w.keys();let v=it.resolve();return b.forEach((E=>{v=v.next((()=>f.getEntry(u,E))).next((D=>{const T=d.docVersions.get(E);Sr(T!==null),D.version.compareTo(T)<0&&(w.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),f.addEntry(D)))}))})),v.next((()=>c.mutationQueue.removeMutationBatch(u,w)))})(t,n,e,s).next((()=>s.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let u=Vn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function fS(r){const e=Sn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function hT(r,e){const t=Sn(r),n=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const c=[];e.targetChanges.forEach(((f,w)=>{const b=i.get(w);if(!b)return;c.push(t.Ur.removeMatchingKeys(s,f.removedDocuments,w).next((()=>t.Ur.addMatchingKeys(s,f.addedDocuments,w))));let v=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(w)!==null?v=v.withResumeToken(Is.EMPTY_BYTE_STRING,_n.min()).withLastLimboFreeSnapshotVersion(_n.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,n)),i=i.insert(w,v),(function(D,T,P){return D.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(b,v,f)&&c.push(t.Ur.updateTargetData(s,v))}));let u=hc(),d=Vn();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))})),c.push(fT(s,a,e.documentUpdates).next((f=>{u=f.Ps,d=f.Is}))),!n.isEqual(_n.min())){const f=t.Ur.getLastRemoteSnapshotVersion(s).next((w=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n)));c.push(f)}return it.waitFor(c).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,u,d))).next((()=>u))})).then((s=>(t.os=i,s)))}function fT(r,e,t){let n=Vn(),i=Vn();return t.forEach((s=>n=n.add(s))),e.getEntries(r,n).next((s=>{let a=hc();return t.forEach(((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(_n.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):zt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)})),{Ps:a,Is:i}}))}function pT(r,e){const t=Sn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function mT(r,e){const t=Sn(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.Ur.getTargetData(n,e).next((s=>s?(i=s,it.resolve(i)):t.Ur.allocateTargetId(n).next((a=>(i=new Qc(e,a,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n}))}async function Jv(r,e,t){const n=Sn(r),i=n.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,(a=>n.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Kf(a))throw a;zt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function Xw(r,e,t){const n=Sn(r);let i=_n.min(),s=Vn();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,d,f){const w=Sn(u),b=w._s.get(f);return b!==void 0?it.resolve(w.os.get(b)):w.Ur.getTargetData(d,f)})(n,a,Sl(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,c.targetId).next((u=>{s=u}))})).next((()=>n.ss.getDocumentsMatchingQuery(a,e,t?i:_n.min(),t?s:Vn()))).next((c=>(gT(n,o3(e),c),{documents:c,Ts:s})))))}function gT(r,e,t){let n=r.us.get(e)||_n.min();t.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),r.us.set(e,n)}class Jw{constructor(){this.activeTargetIds=h3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vT{constructor(){this.so=new Jw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Jw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yT{_o(e){}shutdown(){}}class Zw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){zt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){zt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hp=null;function Wg(){return Hp===null?Hp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hp++,"0x"+Hp.toString(16)}const wT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xT{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Vs="WebChannelConnection";class bT extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,n,i,s,a){const c=Wg(),u=this.xo(t,n.toUriEncodedString());zt("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,a),this.No(t,u,d,i).then((f=>(zt("RestConnection",`Received RPC '${t}' ${c}: `,f),f)),(f=>{throw ch("RestConnection",`RPC '${t}' ${c} failed with error: `,f,"url: ",u,"request:",i),f}))}Lo(t,n,i,s,a,c){return this.Mo(t,n,i,s,a)}Oo(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ih})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>t[a]=s)),i&&i.headers.forEach(((s,a)=>t[a]=s))}xo(t,n){const i=wT[t];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,i){const s=Wg();return new Promise(((a,c)=>{const u=new I_;u.setWithCredentials(!0),u.listenOnce(A_.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case pm.NO_ERROR:const f=u.getResponseJson();zt(Vs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case pm.TIMEOUT:zt(Vs,`RPC '${e}' ${s} timed out`),c(new Xt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case pm.HTTP_ERROR:const w=u.getStatus();if(zt(Vs,`RPC '${e}' ${s} failed with status:`,w,"response text:",u.getResponseText()),w>0){let b=u.getResponseJson();Array.isArray(b)&&(b=b[0]);const v=b?.error;if(v&&v.status&&v.message){const E=(function(T){const P=T.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(P)>=0?P:rt.UNKNOWN})(v.status);c(new Xt(E,v.message))}else c(new Xt(rt.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Xt(rt.UNAVAILABLE,"Connection failed."));break;default:yn()}}finally{zt(Vs,`RPC '${e}' ${s} completed.`)}}));const d=JSON.stringify(i);zt(Vs,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,n,15)}))}Bo(e,t,n){const i=Wg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=D_(),c=P_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const f=s.join("");zt(Vs,`Creating RPC '${e}' stream ${i}: ${f}`,u);const w=a.createWebChannel(f,u);let b=!1,v=!1;const E=new xT({Io:T=>{v?zt(Vs,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(b||(zt(Vs,`Opening RPC '${e}' stream ${i} transport.`),w.open(),b=!0),zt(Vs,`RPC '${e}' stream ${i} sending:`,T),w.send(T))},To:()=>w.close()}),D=(T,P,U)=>{T.listen(P,(V=>{try{U(V)}catch(H){setTimeout((()=>{throw H}),0)}}))};return D(w,pf.EventType.OPEN,(()=>{v||(zt(Vs,`RPC '${e}' stream ${i} transport opened.`),E.yo())})),D(w,pf.EventType.CLOSE,(()=>{v||(v=!0,zt(Vs,`RPC '${e}' stream ${i} transport closed`),E.So())})),D(w,pf.EventType.ERROR,(T=>{v||(v=!0,ch(Vs,`RPC '${e}' stream ${i} transport errored:`,T),E.So(new Xt(rt.UNAVAILABLE,"The operation could not be completed")))})),D(w,pf.EventType.MESSAGE,(T=>{var P;if(!v){const U=T.data[0];Sr(!!U);const V=U,H=V.error||((P=V[0])===null||P===void 0?void 0:P.error);if(H){zt(Vs,`RPC '${e}' stream ${i} received error:`,H);const ie=H.status;let de=(function(M){const z=qi[M];if(z!==void 0)return nS(z)})(ie),q=H.message;de===void 0&&(de=rt.INTERNAL,q="Unknown error status: "+ie+" with message "+H.message),v=!0,E.So(new Xt(de,q)),w.close()}else zt(Vs,`RPC '${e}' stream ${i} received:`,U),E.bo(U)}})),D(c,T_.STAT_EVENT,(T=>{T.stat===zv.PROXY?zt(Vs,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===zv.NOPROXY&&zt(Vs,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.wo()}),0),E}}function $g(){return typeof document<"u"?document:null}function N0(r){return new P3(r,!0)}class pS{constructor(e,t,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-n);i>0&&zt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class mS{constructor(e,t,n,i,s,a,c,u){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pS(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(dc(t.toString()),dc("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===t&&this.P_(n,i)}),(n=>{e((()=>{const i=new Xt(rt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return zt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(zt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _T extends mS{constructor(e,t,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=R3(this.serializer,e),n=(function(s){if(!("targetChange"in s))return _n.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?_n.min():a.readTime?kl(a.readTime):_n.min()})(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Xv(this.serializer),t.addTarget=(function(s,a){let c;const u=a.target;if(c=$v(u)?{documents:j3(s,u)}:{query:F3(s,u)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=sS(s,a.resumeToken);const d=Gv(s,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(_n.min())>0){c.readTime=Hm(s,a.snapshotVersion.toTimestamp());const d=Gv(s,a.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const n=U3(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Xv(this.serializer),t.removeTarget=e,this.a_(t)}}class ST extends mS{constructor(e,t,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Sr(!!e.streamToken),this.lastStreamToken=e.streamToken,Sr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Sr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=O3(e.writeResults,e.commitTime),n=kl(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Xv(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>M3(this.serializer,n)))};this.a_(t)}}class kT extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Xt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Mo(e,Kv(t,n),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xt(rt.UNKNOWN,s.toString())}))}Lo(e,t,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Lo(e,Kv(t,n),i,a,c,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Xt(rt.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class ET{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(dc(t),this.D_=!1):zt("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class NT{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((a=>{n.enqueueAndForget((async()=>{ad(this)&&(zt("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const d=Sn(u);d.L_.add(4),await Jf(d),d.q_.set("Unknown"),d.L_.delete(4),await C0(d)})(this))}))})),this.q_=new ET(n,i)}}async function C0(r){if(ad(r))for(const e of r.B_)await e(!0)}async function Jf(r){for(const e of r.B_)await e(!1)}function gS(r,e){const t=Sn(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),ry(t)?ny(t):Th(t).r_()&&ty(t,e))}function ey(r,e){const t=Sn(r),n=Th(t);t.N_.delete(e),n.r_()&&vS(t,e),t.N_.size===0&&(n.r_()?n.o_():ad(t)&&t.q_.set("Unknown"))}function ty(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_n.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Th(r).A_(e)}function vS(r,e){r.Q_.xe(e),Th(r).R_(e)}function ny(r){r.Q_=new C3({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Th(r).start(),r.q_.v_()}function ry(r){return ad(r)&&!Th(r).n_()&&r.N_.size>0}function ad(r){return Sn(r).L_.size===0}function yS(r){r.Q_=void 0}async function CT(r){r.q_.set("Online")}async function IT(r){r.N_.forEach(((e,t)=>{ty(r,e)}))}async function AT(r,e){yS(r),ry(r)?(r.q_.M_(e),ny(r)):r.q_.set("Unknown")}async function TT(r,e,t){if(r.q_.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const c of s.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.N_.delete(c),i.Q_.removeTarget(c))})(r,e)}catch(n){zt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Wm(r,n)}else if(e instanceof vm?r.Q_.Ke(e):e instanceof rS?r.Q_.He(e):r.Q_.We(e),!t.isEqual(_n.min()))try{const n=await fS(r.localStore);t.compareTo(n)>=0&&await(function(s,a){const c=s.Q_.rt(a);return c.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(d);f&&s.N_.set(d,f.withResumeToken(u.resumeToken,a))}})),c.targetMismatches.forEach(((u,d)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(Is.EMPTY_BYTE_STRING,f.snapshotVersion)),vS(s,u);const w=new Qc(f.target,u,d,f.sequenceNumber);ty(s,w)})),s.remoteSyncer.applyRemoteEvent(c)})(r,t)}catch(n){zt("RemoteStore","Failed to raise snapshot:",n),await Wm(r,n)}}async function Wm(r,e,t){if(!Kf(e))throw e;r.L_.add(1),await Jf(r),r.q_.set("Offline"),t||(t=()=>fS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{zt("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await C0(r)}))}function wS(r,e){return e().catch((t=>Wm(r,t,e)))}async function I0(r){const e=Sn(r),t=cu(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;PT(e);)try{const i=await pT(e.localStore,n);if(i===null){e.O_.length===0&&t.o_();break}n=i.batchId,DT(e,i)}catch(i){await Wm(e,i)}xS(e)&&bS(e)}function PT(r){return ad(r)&&r.O_.length<10}function DT(r,e){r.O_.push(e);const t=cu(r);t.r_()&&t.V_&&t.m_(e.mutations)}function xS(r){return ad(r)&&!cu(r).n_()&&r.O_.length>0}function bS(r){cu(r).start()}async function LT(r){cu(r).p_()}async function RT(r){const e=cu(r);for(const t of r.O_)e.m_(t.mutations)}async function MT(r,e,t){const n=r.O_.shift(),i=G1.from(n,e,t);await wS(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await I0(r)}async function OT(r,e){e&&cu(r).V_&&await(async function(n,i){if((function(a){return k3(a)&&a!==rt.ABORTED})(i.code)){const s=n.O_.shift();cu(n).s_(),await wS(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await I0(n)}})(r,e),xS(r)&&bS(r)}async function e5(r,e){const t=Sn(r);t.asyncQueue.verifyOperationInProgress(),zt("RemoteStore","RemoteStore received new credentials");const n=ad(t);t.L_.add(3),await Jf(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await C0(t)}async function jT(r,e){const t=Sn(r);e?(t.L_.delete(2),await C0(t)):e||(t.L_.add(2),await Jf(t),t.q_.set("Unknown"))}function Th(r){return r.K_||(r.K_=(function(t,n,i){const s=Sn(t);return s.w_(),new _T(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(r.datastore,r.asyncQueue,{Eo:CT.bind(null,r),Ro:IT.bind(null,r),mo:AT.bind(null,r),d_:TT.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),ry(r)?ny(r):r.q_.set("Unknown")):(await r.K_.stop(),yS(r))}))),r.K_}function cu(r){return r.U_||(r.U_=(function(t,n,i){const s=Sn(t);return s.w_(),new ST(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:LT.bind(null,r),mo:OT.bind(null,r),f_:RT.bind(null,r),g_:MT.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await I0(r)):(await r.U_.stop(),r.O_.length>0&&(zt("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class iy{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new $u,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const a=Date.now()+n,c=new iy(e,t,a,i,s);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xt(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sy(r,e){if(dc("AsyncQueue",`${e}: ${r}`),Kf(r))return new Xt(rt.UNAVAILABLE,`${e}: ${r}`);throw r}class Jd{constructor(e){this.comparator=e?(t,n)=>e(t,n)||on.comparator(t.key,n.key):(t,n)=>on.comparator(t.key,n.key),this.keyedMap=mf(),this.sortedSet=new hi(this.comparator)}static emptySet(e){return new Jd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Jd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class t5{constructor(){this.W_=new hi(on.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):yn():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ph{constructor(e,t,n,i,s,a,c,u,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,i,s){const a=[];return t.forEach((c=>{a.push({type:0,doc:c})})),new ph(e,t,Jd.emptySet(t),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&x0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class FT{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class BT{constructor(){this.queries=n5(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const i=Sn(t),s=i.queries;i.queries=n5(),s.forEach(((a,c)=>{for(const u of c.j_)u.onError(n)}))})(this,new Xt(rt.ABORTED,"Firestore shutting down"))}}function n5(){return new Ah((r=>H_(r)),x0)}async function UT(r,e){const t=Sn(r);let n=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new FT,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const c=sy(a,`Initialization of query '${Bd(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&oy(t)}async function VT(r,e){const t=Sn(r),n=e.query;let i=3;const s=t.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function zT(r,e){const t=Sn(r);let n=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const c of a.j_)c.X_(i)&&(n=!0);a.z_=i}}n&&oy(t)}function qT(r,e,t){const n=Sn(r),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(t);n.queries.delete(e)}function oy(r){r.Y_.forEach((e=>{e.next()}))}var Zv,r5;(r5=Zv||(Zv={})).ea="default",r5.Cache="cache";class HT{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ph(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ph.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zv.Cache}}class _S{constructor(e){this.key=e}}class SS{constructor(e){this.key=e}}class WT{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Vn(),this.mutatedKeys=Vn(),this.Aa=W_(e),this.Ra=new Jd(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new t5,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,w)=>{const b=i.get(f),v=b0(this.query,w)?w:null,E=!!b&&this.mutatedKeys.has(b.key),D=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let T=!1;b&&v?b.data.isEqual(v.data)?E!==D&&(n.track({type:3,doc:v}),T=!0):this.ga(b,v)||(n.track({type:2,doc:v}),T=!0,(u&&this.Aa(v,u)>0||d&&this.Aa(v,d)<0)&&(c=!0)):!b&&v?(n.track({type:0,doc:v}),T=!0):b&&!v&&(n.track({type:1,doc:b}),T=!0,(u||d)&&(c=!0)),T&&(v?(a=a.add(v),s=D?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{Ra:a,fa:n,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort(((f,w)=>(function(v,E){const D=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yn()}};return D(v)-D(E)})(f.type,w.type)||this.Aa(f.doc,w.doc))),this.pa(n),i=i!=null&&i;const c=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,a.length!==0||d?{snapshot:new ph(this.query,e.Ra,s,a,e.mutatedKeys,u===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new t5,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Vn(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const t=[];return e.forEach((n=>{this.da.has(n)||t.push(new SS(n))})),this.da.forEach((n=>{e.has(n)||t.push(new _S(n))})),t}ba(e){this.Ta=e.Ts,this.da=Vn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ph.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class $T{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class YT{constructor(e){this.key=e,this.va=!1}}class GT{constructor(e,t,n,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ah((c=>H_(c)),x0),this.Ma=new Map,this.xa=new Set,this.Oa=new hi(on.comparator),this.Na=new Map,this.La=new X1,this.Ba={},this.ka=new Map,this.qa=fh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function KT(r,e,t=!0){const n=AS(r);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await kS(n,e,t,!0),i}async function QT(r,e){const t=AS(r);await kS(t,e,!0,!1)}async function kS(r,e,t,n){const i=await mT(r.localStore,Sl(e)),s=i.targetId,a=r.sharedClientState.addLocalQueryTarget(s,t);let c;return n&&(c=await XT(r,e,s,a==="current",i.resumeToken)),r.isPrimaryClient&&t&&gS(r.remoteStore,i),c}async function XT(r,e,t,n,i){r.Ka=(w,b,v)=>(async function(D,T,P,U){let V=T.view.ma(P);V.ns&&(V=await Xw(D.localStore,T.query,!1).then((({documents:q})=>T.view.ma(q,V))));const H=U&&U.targetChanges.get(T.targetId),ie=U&&U.targetMismatches.get(T.targetId)!=null,de=T.view.applyChanges(V,D.isPrimaryClient,H,ie);return s5(D,T.targetId,de.wa),de.snapshot})(r,w,b,v);const s=await Xw(r.localStore,e,!0),a=new WT(e,s.Ts),c=a.ma(s.documents),u=Xf.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),d=a.applyChanges(c,r.isPrimaryClient,u);s5(r,t,d.wa);const f=new $T(e,t,a);return r.Fa.set(e,f),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),d.snapshot}async function JT(r,e,t){const n=Sn(r),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter((a=>!x0(a,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Jv(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&ey(n.remoteStore,i.targetId),e1(n,i.targetId)})).catch(Gf)):(e1(n,i.targetId),await Jv(n.localStore,i.targetId,!0))}async function ZT(r,e){const t=Sn(r),n=t.Fa.get(e),i=t.Ma.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),ey(t.remoteStore,n.targetId))}async function eP(r,e,t){const n=aP(r);try{const i=await(function(a,c){const u=Sn(a),d=is.now(),f=c.reduce(((v,E)=>v.add(E.key)),Vn());let w,b;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let E=hc(),D=Vn();return u.cs.getEntries(v,f).next((T=>{E=T,E.forEach(((P,U)=>{U.isValidDocument()||(D=D.add(P))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,E))).next((T=>{w=T;const P=[];for(const U of c){const V=w3(U,w.get(U.key).overlayedDocument);V!=null&&P.push(new pu(U.key,V,j_(V.value.mapValue),Qo.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,P,c)})).next((T=>{b=T;const P=T.applyToLocalDocumentSet(w,D);return u.documentOverlayCache.saveOverlays(v,T.batchId,P)}))})).then((()=>({batchId:b.batchId,changes:Y_(w)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(a,c,u){let d=a.Ba[a.currentUser.toKey()];d||(d=new hi(sr)),d=d.insert(c,u),a.Ba[a.currentUser.toKey()]=d})(n,i.batchId,t),await Zf(n,i.changes),await I0(n.remoteStore)}catch(i){const s=sy(i,"Failed to persist write");t.reject(s)}}async function ES(r,e){const t=Sn(r);try{const n=await hT(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=t.Na.get(s);a&&(Sr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Sr(a.va):i.removedDocuments.size>0&&(Sr(a.va),a.va=!1))})),await Zf(t,n,e)}catch(n){await Gf(n)}}function i5(r,e,t){const n=Sn(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Fa.forEach(((s,a)=>{const c=a.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(a,c){const u=Sn(a);u.onlineState=c;let d=!1;u.queries.forEach(((f,w)=>{for(const b of w.j_)b.Z_(c)&&(d=!0)})),d&&oy(u)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function tP(r,e,t){const n=Sn(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new hi(on.comparator);a=a.insert(s,Ks.newNoDocument(s,_n.min()));const c=Vn().add(s),u=new E0(_n.min(),new Map,new hi(sr),a,c);await ES(n,u),n.Oa=n.Oa.remove(s),n.Na.delete(e),ay(n)}else await Jv(n.localStore,e,!1).then((()=>e1(n,e,t))).catch(Gf)}async function nP(r,e){const t=Sn(r),n=e.batch.batchId;try{const i=await dT(t.localStore,e);CS(t,n,null),NS(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Zf(t,i)}catch(i){await Gf(i)}}async function rP(r,e,t){const n=Sn(r);try{const i=await(function(a,c){const u=Sn(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next((w=>(Sr(w!==null),f=w.keys(),u.mutationQueue.removeMutationBatch(d,w)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(n.localStore,e);CS(n,e,t),NS(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Zf(n,i)}catch(i){await Gf(i)}}function NS(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function CS(r,e,t){const n=Sn(r);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function e1(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((n=>{r.La.containsKey(n)||IS(r,n)}))}function IS(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(ey(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),ay(r))}function s5(r,e,t){for(const n of t)n instanceof _S?(r.La.addReference(n.key,e),iP(r,n)):n instanceof SS?(zt("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||IS(r,n.key)):yn()}function iP(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(zt("SyncEngine","New document in limbo: "+t),r.xa.add(n),ay(r))}function ay(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new on(ei.fromString(e)),n=r.qa.next();r.Na.set(n,new YT(t)),r.Oa=r.Oa.insert(t,n),gS(r.remoteStore,new Qc(Sl($1(t.path)),n,"TargetPurposeLimboResolution",U1.oe))}}async function Zf(r,e,t){const n=Sn(r),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach(((c,u)=>{a.push(n.Ka(u,e,t).then((d=>{var f;if((d||t)&&n.isPrimaryClient){const w=d?!d.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;n.sharedClientState.updateQueryState(u.targetId,w?"current":"not-current")}if(d){i.push(d);const w=Z1.Wi(u.targetId,d);s.push(w)}})))})),await Promise.all(a),n.Ca.d_(i),await(async function(u,d){const f=Sn(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>it.forEach(d,(b=>it.forEach(b.$i,(v=>f.persistence.referenceDelegate.addReference(w,b.targetId,v))).next((()=>it.forEach(b.Ui,(v=>f.persistence.referenceDelegate.removeReference(w,b.targetId,v)))))))))}catch(w){if(!Kf(w))throw w;zt("LocalStore","Failed to update sequence numbers: "+w)}for(const w of d){const b=w.targetId;if(!w.fromCache){const v=f.os.get(b),E=v.snapshotVersion,D=v.withLastLimboFreeSnapshotVersion(E);f.os=f.os.insert(b,D)}}})(n.localStore,s))}async function sP(r,e){const t=Sn(r);if(!t.currentUser.isEqual(e)){zt("SyncEngine","User change. New user:",e.toKey());const n=await hS(t.localStore,e);t.currentUser=e,(function(s,a){s.ka.forEach((c=>{c.forEach((u=>{u.reject(new Xt(rt.CANCELLED,a))}))})),s.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Zf(t,n.hs)}}function oP(r,e){const t=Sn(r),n=t.Na.get(e);if(n&&n.va)return Vn().add(n.key);{let i=Vn();const s=t.Ma.get(e);if(!s)return i;for(const a of s){const c=t.Fa.get(a);i=i.unionWith(c.view.Va)}return i}}function AS(r){const e=Sn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tP.bind(null,e),e.Ca.d_=zT.bind(null,e.eventManager),e.Ca.$a=qT.bind(null,e.eventManager),e}function aP(r){const e=Sn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rP.bind(null,e),e}class $m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=N0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return uT(this.persistence,new lT,e.initialUser,this.serializer)}Ga(e){return new sT(J1.Zr,this.serializer)}Wa(e){return new vT}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$m.provider={build:()=>new $m};class t1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>i5(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=sP.bind(null,this.syncEngine),await jT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BT})()}createDatastore(e){const t=N0(e.databaseInfo.databaseId),n=(function(s){return new bT(s)})(e.databaseInfo);return(function(s,a,c,u){return new kT(s,a,c,u)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,s,a,c){return new NT(n,i,s,a,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>i5(this.syncEngine,t,0)),(function(){return Zw.D()?new Zw:new yT})())}createSyncEngine(e,t){return(function(i,s,a,c,u,d,f){const w=new GT(i,s,a,c,u,d);return f&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const s=Sn(i);zt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Jf(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}t1.provider={build:()=>new t1};class lP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):dc("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class cP{constructor(e,t,n,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Gs.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async a=>{zt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(zt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $u;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=sy(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Yg(r,e){r.asyncQueue.verifyOperationInProgress(),zt("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await hS(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function o5(r,e){r.asyncQueue.verifyOperationInProgress();const t=await uP(r);zt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>e5(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>e5(e.remoteStore,i))),r._onlineComponents=e}async function uP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){zt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===rt.FAILED_PRECONDITION||i.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ch("Error using user provided cache. Falling back to memory cache: "+t),await Yg(r,new $m)}}else zt("FirestoreClient","Using default OfflineComponentProvider"),await Yg(r,new $m);return r._offlineComponents}async function TS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(zt("FirestoreClient","Using user provided OnlineComponentProvider"),await o5(r,r._uninitializedComponentsProvider._online)):(zt("FirestoreClient","Using default OnlineComponentProvider"),await o5(r,new t1))),r._onlineComponents}function dP(r){return TS(r).then((e=>e.syncEngine))}async function a5(r){const e=await TS(r),t=e.eventManager;return t.onListen=KT.bind(null,e.syncEngine),t.onUnlisten=JT.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QT.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ZT.bind(null,e.syncEngine),t}function PS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const l5=new Map;function DS(r,e,t){if(!t)throw new Xt(rt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function hP(r,e,t,n){if(e===!0&&n===!0)throw new Xt(rt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function c5(r){if(!on.isDocumentKey(r))throw new Xt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function u5(r){if(on.isDocumentKey(r))throw new Xt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ly(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yn()}function ru(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Xt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ly(r);throw new Xt(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class d5{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Xt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Xt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PS((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Xt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Xt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Xt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class A0{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d5({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Xt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d5(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new CA;switch(n.type){case"firstParty":return new PA(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Xt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=l5.get(t);n&&(zt("ComponentProvider","Removing Datastore"),l5.delete(t),n.terminate())})(this),Promise.resolve()}}function fP(r,e,t,n={}){var i;const s=(r=ru(r,A0))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&ch("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let c,u;if(typeof n.mockUserToken=="string")c=n.mockUserToken,u=Gs.MOCK_USER;else{c=qN(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new Xt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Gs(d)}r._authCredentials=new IA(new L_(c,u))}}class T0{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new T0(this.firestore,e,this._query)}}class Xo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xo(this.firestore,e,this._key)}}class iu extends T0{constructor(e,t,n){super(e,t,$1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xo(this.firestore,null,new on(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function Gg(r,e,...t){if(r=ss(r),DS("collection","path",e),r instanceof A0){const n=ei.fromString(e,...t);return u5(n),new iu(r,null,n)}{if(!(r instanceof Xo||r instanceof iu))throw new Xt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ei.fromString(e,...t));return u5(n),new iu(r.firestore,null,n)}}function mh(r,e,...t){if(r=ss(r),arguments.length===1&&(e=R_.newId()),DS("doc","path",e),r instanceof A0){const n=ei.fromString(e,...t);return c5(n),new Xo(r,null,new on(n))}{if(!(r instanceof Xo||r instanceof iu))throw new Xt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ei.fromString(e,...t));return c5(n),new Xo(r.firestore,r instanceof iu?r.converter:null,new on(n))}}class h5{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pS(this,"async_queue_retry"),this.Vu=()=>{const n=$g();n&&zt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=$g();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=$g();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new $u;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Kf(e))throw e;zt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c})(n);throw dc("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=iy.createAndSchedule(this,e,t,n,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&yn()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function f5(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(r,["next","error","complete"])}class gh extends A0{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new h5,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h5(e),this._firestoreClient=void 0,await e}}}function pP(r,e){const t=typeof r=="object"?r:Wb(),n=typeof r=="string"?r:"(default)",i=A1(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=VN("firestore");s&&fP(i,...s)}return i}function cy(r){if(r._terminated)throw new Xt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mP(r),r._firestoreClient}function mP(r){var e,t,n;const i=r._freezeSettings(),s=(function(c,u,d,f){return new HA(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,PS(f.experimentalLongPollingOptions),f.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new cP(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&(function(c){const u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(r._componentsProvider))}class vh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vh(Is.fromBase64String(e))}catch(t){throw new Xt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vh(Is.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class P0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Xt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ns(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uy{constructor(e){this._methodName=e}}class dy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Xt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Xt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sr(this._lat,e._lat)||sr(this._long,e._long)}}class hy{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}}const gP=/^__.*__$/;class vP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new pu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qf(e,this.data,t,this.fieldTransforms)}}class LS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new pu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function RS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yn()}}class fy{constructor(e,t,n,i,s,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ym(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(RS(this.Cu)&&gP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class yP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||N0(e)}Qu(e,t,n,i=!1){return new fy({Cu:e,methodName:t,qu:n,path:Ns.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MS(r){const e=r._freezeSettings(),t=N0(r._databaseId);return new yP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function OS(r,e,t,n,i,s={}){const a=r.Qu(s.merge||s.mergeFields?2:0,e,t,i);py("Data must be an object, but it was:",a,n);const c=jS(n,a);let u,d;if(s.merge)u=new Go(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const w of s.mergeFields){const b=n1(e,w,t);if(!a.contains(b))throw new Xt(rt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);BS(f,b)||f.push(b)}u=new Go(f),d=a.fieldTransforms.filter((w=>u.covers(w.field)))}else u=null,d=a.fieldTransforms;return new vP(new Ao(c),u,d)}class D0 extends uy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D0}}function wP(r,e,t,n){const i=r.Qu(1,e,t);py("Data must be an object, but it was:",i,n);const s=[],a=Ao.empty();od(n,((u,d)=>{const f=my(e,u,t);d=ss(d);const w=i.Nu(f);if(d instanceof D0)s.push(f);else{const b=L0(d,w);b!=null&&(s.push(f),a.set(f,b))}}));const c=new Go(s);return new LS(a,c,i.fieldTransforms)}function xP(r,e,t,n,i,s){const a=r.Qu(1,e,t),c=[n1(e,n,t)],u=[i];if(s.length%2!=0)throw new Xt(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)c.push(n1(e,s[b])),u.push(s[b+1]);const d=[],f=Ao.empty();for(let b=c.length-1;b>=0;--b)if(!BS(d,c[b])){const v=c[b];let E=u[b];E=ss(E);const D=a.Nu(v);if(E instanceof D0)d.push(v);else{const T=L0(E,D);T!=null&&(d.push(v),f.set(v,T))}}const w=new Go(d);return new LS(f,w,a.fieldTransforms)}function L0(r,e){if(FS(r=ss(r)))return py("Unsupported field value:",e,r),jS(r,e);if(r instanceof uy)return(function(n,i){if(!RS(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const s=[];let a=0;for(const c of n){let u=L0(c,i.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}})(r,e)}return(function(n,i){if((n=ss(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return f3(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=is.fromDate(n);return{timestampValue:Hm(i.serializer,s)}}if(n instanceof is){const s=new is(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Hm(i.serializer,s)}}if(n instanceof dy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof vh)return{bytesValue:sS(i.serializer,n._byteString)};if(n instanceof Xo){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Q1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof hy)return(function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Y1(c.serializer,u)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${ly(n)}`)})(r,e)}function jS(r,e){const t={};return M_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):od(r,((n,i)=>{const s=L0(i,e.Mu(n));s!=null&&(t[n]=s)})),{mapValue:{fields:t}}}function FS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof is||r instanceof dy||r instanceof vh||r instanceof Xo||r instanceof uy||r instanceof hy)}function py(r,e,t){if(!FS(t)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(t)){const n=ly(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function n1(r,e,t){if((e=ss(e))instanceof P0)return e._internalPath;if(typeof e=="string")return my(r,e);throw Ym("Field path arguments must be of type string or ",r,!1,void 0,t)}const bP=new RegExp("[~\\*/\\[\\]]");function my(r,e,t){if(e.search(bP)>=0)throw Ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new P0(...e.split("."))._internalPath}catch{throw Ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ym(r,e,t,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${n}`),a&&(u+=` in document ${i}`),u+=")"),new Xt(rt.INVALID_ARGUMENT,c+r+u)}function BS(r,e){return r.some((t=>t.isEqual(e)))}class US{constructor(e,t,n,i,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _P(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _P extends US{data(){return super.data()}}function VS(r,e){return typeof e=="string"?my(r,e):e instanceof P0?e._internalPath:e._delegate._internalPath}function SP(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Xt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kP{convertValue(e,t="none"){switch(ed(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw yn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return od(e,((i,s)=>{n[i]=this.convertValue(s,t)})),n}convertVectorValue(e){var t,n,i;const s=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((a=>Ci(a.doubleValue)));return new hy(s)}convertGeoPoint(e){return new dy(Ci(e.latitude),Ci(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=z1(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Df(e));default:return null}}convertTimestamp(e){const t=lu(e);return new is(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ei.fromString(e);Sr(dS(n));const i=new Lf(n.get(1),n.get(3)),s=new on(n.popFirst(5));return i.isEqual(t)||dc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function zS(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class vf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qS extends US{constructor(e,t,n,i,s,a){super(e,t,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ym(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(VS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ym extends qS{data(e={}){return super.data(e)}}class EP{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new vf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ym(this._firestore,this._userDataWriter,n.key,n,new vf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Xt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((c=>{const u=new ym(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const u=new ym(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),f=a.indexOf(c.doc.key)),{type:NP(c.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function NP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yn()}}class HS extends kP{constructor(e){super(),this.firestore=e}convertBytes(e){return new vh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xo(this.firestore,null,t)}}function gy(r,e,t){r=ru(r,Xo);const n=ru(r.firestore,gh),i=zS(r.converter,e,t);return vy(n,[OS(MS(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Qo.none())])}function CP(r){return vy(ru(r.firestore,gh),[new k0(r._key,Qo.none())])}function Wp(r,...e){var t,n,i;r=ss(r);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||f5(e[a])||(s=e[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(f5(e[a])){const w=e[a];e[a]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[a+1]=(n=w.error)===null||n===void 0?void 0:n.bind(w),e[a+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}let u,d,f;if(r instanceof Xo)d=ru(r.firestore,gh),f=$1(r._key.path),u={next:w=>{e[a]&&e[a](IP(d,r,w))},error:e[a+1],complete:e[a+2]};else{const w=ru(r,T0);d=ru(w.firestore,gh),f=w._query;const b=new HS(d);u={next:v=>{e[a]&&e[a](new EP(d,b,w,v))},error:e[a+1],complete:e[a+2]},SP(r._query)}return(function(b,v,E,D){const T=new lP(D),P=new HT(v,T,E);return b.asyncQueue.enqueueAndForget((async()=>UT(await a5(b),P))),()=>{T.Za(),b.asyncQueue.enqueueAndForget((async()=>VT(await a5(b),P)))}})(cy(d),f,c,u)}function vy(r,e){return(function(n,i){const s=new $u;return n.asyncQueue.enqueueAndForget((async()=>eP(await dP(n),i,s))),s.promise})(cy(r),e)}function IP(r,e,t){const n=t.docs.get(e._key),i=new HS(r);return new qS(r,i,e._key,n,new vf(t.hasPendingWrites,t.fromCache),e.converter)}class AP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=MS(e)}set(e,t,n){this._verifyNotCommitted();const i=Kg(e,this._firestore),s=zS(i.converter,t,n),a=OS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,Qo.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const s=Kg(e,this._firestore);let a;return a=typeof(t=ss(t))=="string"||t instanceof P0?xP(this._dataReader,"WriteBatch.update",s._key,t,n,i):wP(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,Qo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kg(e,this._firestore);return this._mutations=this._mutations.concat(new k0(t._key,Qo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xt(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kg(r,e){if((r=ss(r)).firestore!==e)throw new Xt(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function TP(r){return cy(r=ru(r,gh)),new AP(r,(e=>vy(r,e)))}(function(e,t=!0){(function(i){Ih=i})(Eh),ah(new Qu("firestore",((n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),c=new gh(new AA(n.getProvider("auth-internal")),new LA(n.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Xt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lf(d.options.projectId,f)})(a,i),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),tu(Tw,"4.7.3",e),tu(Tw,"4.7.3","esm2017")})();const p5={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyBaZA4J1Tqnd_iFnB3ouRRZOIoVmw1fUoU",VITE_FIREBASE_APP_ID:"1:708593597740:web:c9710d663c611cba098089",VITE_FIREBASE_AUTH_DOMAIN:"cuepack-facf6.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"708593597740",VITE_FIREBASE_PROJECT_ID:"cuepack-facf6",VITE_FIREBASE_STORAGE_BUCKET:"cuepack-facf6.firebasestorage.app"},Dd=r=>{if(typeof import.meta<"u"&&p5)return p5[r]},PP={apiKey:Dd("VITE_FIREBASE_API_KEY"),authDomain:Dd("VITE_FIREBASE_AUTH_DOMAIN"),projectId:Dd("VITE_FIREBASE_PROJECT_ID"),storageBucket:Dd("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:Dd("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:Dd("VITE_FIREBASE_APP_ID")},WS=Hb(PP),pl=pP(WS),yy=SA(WS),Ua="inventory",Zd="kits",va="packing_lists",r1="checklist_config",ts=async(r,e)=>{try{const t=mh(pl,r,e.id);await gy(t,e)}catch(t){throw console.error(`Error writing to ${r}:`,t),t}},wy=async(r,e)=>{try{await CP(mh(pl,r,e))}catch(t){throw console.error(`Error deleting from ${r}:`,t),t}},Gm=async(r,e)=>{const t=TP(pl);e.forEach(n=>{const i=mh(pl,r,n.id);t.set(i,n)}),await t.commit()};var DP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LP=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),cn=(r,e)=>{const t=Se.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:c="",children:u,...d},f)=>Se.createElement("svg",{ref:f,...DP,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${LP(r)}`,c].join(" "),...d},[...e.map(([w,b])=>Se.createElement(w,b)),...Array.isArray(u)?u:[u]]));return t.displayName=`${r}`,t};const $S=cn("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Qg=cn("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const ma=cn("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const RP=cn("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const m5=cn("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const xy=cn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const MP=cn("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const zd=cn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const OP=cn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Wo=cn("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);const jP=cn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const FP=cn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const by=cn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const g5=cn("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);const BP=cn("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const UP=cn("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);const YS=cn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const VP=cn("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const zP=cn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Xg=cn("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const v5=cn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const GS=cn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const qP=cn("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const HP=cn("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const KS=cn("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const y5=cn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const WP=cn("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);const vl=cn("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const i1=cn("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const $P=cn("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const _y=cn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const YP=cn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const w5=cn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const wm=cn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const x5=cn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const zc=cn("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const jf=cn("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const Vu=cn("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const es=cn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const GP=cn("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const QS=cn("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const KP=cn("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);const ya=cn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const $o=cn("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const Jg=cn("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);const Va=cn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const XS=cn("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const QP=cn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const XP=cn("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const fc=cn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var me=(r=>(r.AUDIO="Audio",r.LIGHTS="Luci",r.VIDEO="Video",r.STRUCTURE="Strutture",r.CABLES="Cablaggi",r.REGIA="Regia",r.TOOLS="Attrezzi",r.OTHER="Altro",r))(me||{});const za=({isOpen:r,onClose:e,title:t,children:n,size:i="md"})=>{if(!r)return null;const s={md:"max-w-md",lg:"max-w-2xl",xl:"max-w-6xl"};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:g.jsxs("div",{className:`bg-slate-900 border border-slate-700 rounded-xl shadow-2xl w-full ${s[i]} max-h-[90vh] flex flex-col`,children:[g.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-700",children:[g.jsx("h2",{className:"text-xl font-bold text-white",children:t}),g.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:g.jsx(fc,{size:24})})]}),g.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:n})]})})},Sy=({isOpen:r,onClose:e,onSave:t,initialData:n,inventory:i=[],onCreateAccessory:s,title:a})=>{const[c,u]=Se.useState({}),[d,f]=Se.useState("0"),[w,b]=Se.useState("0"),[v,E]=Se.useState(""),[D,T]=Se.useState(!1),[P,U]=Se.useState([]),[V,H]=Se.useState({}),[ie,de]=Se.useState("0"),[q,O]=Se.useState("0");Se.useEffect(()=>{r&&(n?(u({...n}),f(n.weight?.toString()||"0"),b(n.powerConsumption?.toString()||"0")):(u({category:me.AUDIO,inStock:0,weight:0,powerConsumption:0,name:"",description:"",accessories:[]}),f("0"),b("0")),E(""),T(!1),U([]))},[n,r]);const M=(ge,te,j,F)=>{const Y=ge.target.value;te(Y);const se=parseFloat(Y);isNaN(se)||F(le=>({...le,[j]:se}))},z=()=>{c.name&&c.category&&(t(c),e())},N=ge=>{const te=c.accessories||[],j=te.find(Y=>Y.itemId===ge.id);let F;j?F=te.map(Y=>Y.itemId===ge.id?{...Y,quantity:Y.quantity+1}:Y):F=[...te,{itemId:ge.id,quantity:1}],u(Y=>({...Y,accessories:F})),E("")},I=ge=>{u(te=>({...te,accessories:(te.accessories||[]).filter(j=>j.itemId!==ge)}))},L=(ge,te)=>{te<1||u(j=>({...j,accessories:(j.accessories||[]).map(F=>F.itemId===ge?{...F,quantity:te}:F)}))},ee=()=>{H({name:v,category:me.CABLES,inStock:0,weight:0,powerConsumption:0,description:""}),de("0"),O("0"),T(!0)},ve=()=>{if(!V.name?.trim()||!s)return;const ge={id:crypto.randomUUID(),name:V.name.trim(),category:V.category||me.CABLES,inStock:V.inStock||0,weight:V.weight||0,powerConsumption:V.powerConsumption||0,description:V.description||"",accessories:[]};U(te=>[...te,ge]),s(ge),N(ge),T(!1),E("")},Ne=Se.useMemo(()=>{const ge=v.trim().toLowerCase().split(/\s+/).filter(te=>te.length>0);return ge.length===0?[]:i.filter(te=>{if(te.id===n?.id)return!1;const j=`${te.name} ${te.category} ${te.description||""}`.toLowerCase();return ge.every(F=>j.includes(F))})},[i,v,n]),be=()=>{const ge=c.accessories||[];return ge.length===0?g.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-600 p-4 text-center",children:[g.jsx(i1,{size:32,className:"mb-2 opacity-20"}),g.jsx("p",{className:"text-sm",children:"Nessun accessorio collegato."}),g.jsx("p",{className:"text-xs mt-1 opacity-50",children:"Cerca qui sopra per aggiungerne uno."})]}):g.jsx("div",{className:"space-y-2",children:ge.map((te,j)=>{const F=i.find(se=>se.id===te.itemId)||P.find(se=>se.id===te.itemId),Y=F?F.name:"Caricamento...";return g.jsxs("div",{className:"flex justify-between items-center bg-slate-900 p-2 rounded border border-slate-800/50 group",children:[g.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[g.jsx("div",{className:"text-sm text-slate-200 truncate",children:Y}),g.jsx("div",{className:"text-[10px] text-slate-500",children:"Accessorio collegato"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"number",min:"1",className:"w-10 bg-slate-800 border border-slate-700 rounded px-1 py-0.5 text-center text-white text-xs outline-none focus:border-blue-500",value:te.quantity,onChange:se=>L(te.itemId,parseInt(se.target.value))}),g.jsx("button",{onClick:()=>I(te.itemId),className:"text-slate-600 hover:text-rose-500 p-1",children:g.jsx(fc,{size:14})})]})]},j)})})},oe=()=>g.jsx("div",{className:"space-y-1",children:Ne.length>0?Ne.map(ge=>g.jsxs("button",{onClick:()=>N(ge),className:"w-full text-left p-2 hover:bg-blue-900/20 border border-transparent hover:border-blue-500/30 rounded-lg flex justify-between items-center group transition-colors",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-sm text-slate-200 truncate font-medium group-hover:text-blue-300",children:ge.name}),g.jsx("div",{className:"text-xs text-slate-500",children:ge.category})]}),g.jsx(es,{size:16,className:"text-slate-600 group-hover:text-blue-400"})]},ge.id)):g.jsxs("div",{className:"text-center py-8",children:[g.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:['Nessun risultato per "',v,'"']}),s&&g.jsxs("button",{onClick:ee,className:"text-xs bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded-full inline-flex items-center gap-1",children:[g.jsx(es,{size:12}),' Crea "',v,'"']})]})}),_e=()=>g.jsxs("div",{className:"absolute inset-0 z-20 bg-slate-900 flex flex-col animate-in fade-in zoom-in-95 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:()=>T(!1),className:"text-slate-400 hover:text-white mr-2",children:g.jsx(xy,{size:20})}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Nuovo Accessorio"})]}),g.jsx("button",{onClick:()=>T(!1),className:"text-slate-400 hover:text-white",children:g.jsx(fc,{size:24})})]}),g.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-1",children:g.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Nome"}),g.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:V.name,onChange:ge=>H({...V,name:ge.target.value}),placeholder:"Es. Gancio Aliscaf",autoFocus:!0})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Categoria"}),g.jsx("select",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:V.category,onChange:ge=>H({...V,category:ge.target.value}),children:Object.values(me).map(ge=>g.jsx("option",{value:ge,children:ge},ge))})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Stock Totale"}),g.jsx("input",{type:"number",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none text-right",value:V.inStock,onChange:ge=>H({...V,inStock:parseInt(ge.target.value)||0})})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Peso (kg)"}),g.jsx("input",{type:"number",step:"0.01",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:ie,onChange:ge=>M(ge,de,"weight",H)})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Consumo (W)"}),g.jsx("input",{type:"number",step:"1",min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:q,onChange:ge=>M(ge,O,"powerConsumption",H),placeholder:"0 se non elettrico"})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Descrizione"}),g.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none h-24 resize-none",value:V.description,onChange:ge=>H({...V,description:ge.target.value}),placeholder:"Dettagli aggiuntivi..."})]})]})}),g.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-800 bg-slate-900 rounded-b-xl",children:[g.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:"Annulla"}),g.jsx("button",{onClick:ve,disabled:!V.name,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded-lg font-medium transition-colors",children:"Crea Accessorio"})]})]});return g.jsxs(za,{isOpen:r,onClose:e,title:a,size:"xl",children:[g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 relative",children:[g.jsxs("div",{className:"flex-1 space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Nome"}),g.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none placeholder-slate-700",value:c.name||"",onChange:ge=>u({...c,name:ge.target.value}),placeholder:"Es. Cavo XLR 5mt",autoFocus:!0})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Categoria"}),g.jsx("select",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:c.category,onChange:ge=>u({...c,category:ge.target.value}),children:Object.values(me).map(ge=>g.jsx("option",{value:ge,children:ge},ge))})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Stock Totale"}),g.jsx("input",{type:"number",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none text-right",value:c.inStock,onChange:ge=>u({...c,inStock:parseInt(ge.target.value)||0})})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Peso (kg)"}),g.jsx("input",{type:"number",step:"0.01",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:d,onChange:ge=>M(ge,f,"weight",u)})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Consumo (W)"}),g.jsx("input",{type:"number",step:"1",min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none",value:w,onChange:ge=>M(ge,b,"powerConsumption",u),placeholder:"0 se non elettrico"})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Descrizione"}),g.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-blue-500 outline-none h-24 resize-none placeholder-slate-700",value:c.description||"",onChange:ge=>u({...c,description:ge.target.value}),placeholder:"Dettagli aggiuntivi..."})]})]}),g.jsx("div",{className:"hidden lg:block w-px bg-slate-800"}),g.jsxs("div",{className:"w-full lg:w-[400px] flex flex-col h-[500px] lg:h-auto",children:[g.jsxs("div",{className:"mb-3",children:[g.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[g.jsx(i1,{size:16,className:"text-blue-500"})," Accessori Predefiniti"]}),g.jsx("p",{className:"text-xs text-slate-500 mt-1 leading-snug",children:"Oggetti aggiunti automaticamente in lista quando selezioni questo articolo (es. Cavi, Ganci)."})]}),g.jsxs("div",{className:"flex gap-2 mb-3",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(ya,{className:"absolute left-3 top-2.5 text-slate-500",size:16}),g.jsx("input",{type:"text",placeholder:"Cerca accessorio nell'inventario...",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-9 pr-3 py-2 text-sm text-white outline-none focus:border-blue-500 placeholder-slate-600",value:v,onChange:ge=>E(ge.target.value)})]}),s&&g.jsx("button",{onClick:ee,className:"bg-slate-800 hover:bg-blue-600 hover:text-white text-slate-300 border border-slate-700 rounded-lg w-10 flex items-center justify-center transition-colors",title:"Crea nuovo accessorio se non esiste",children:g.jsx(es,{size:20})})]}),g.jsx("div",{className:"flex-1 bg-slate-950 border border-slate-800 rounded-xl p-2 overflow-y-auto custom-scrollbar relative",children:v?oe():be()})]}),D&&_e()]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-800 mt-2",children:[g.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:"Annulla"}),g.jsx("button",{onClick:z,disabled:!c.name,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors shadow-lg shadow-blue-900/20",children:"Salva"})]})]})},Yd=({isOpen:r,onClose:e,onConfirm:t,title:n,message:i})=>r?g.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl max-w-md w-full p-6 animate-in fade-in zoom-in-95 duration-200",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[g.jsx("div",{className:"p-3 bg-rose-900/30 rounded-full text-rose-500",children:g.jsx(ma,{size:24})}),g.jsx("h2",{className:"text-xl font-bold text-white",children:n})]}),g.jsx("p",{className:"text-slate-300 mb-6 leading-relaxed",children:i}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all",children:"Annulla"}),g.jsx("button",{onClick:()=>{t(),e()},className:"px-6 py-2 bg-rose-600 hover:bg-rose-500 text-white rounded-lg font-medium shadow-lg shadow-rose-900/20 transition-all",children:"Elimina"})]})]})}):null,JP=({items:r,packingLists:e})=>{const[t,n]=Se.useState(""),[i,s]=Se.useState("All"),[a,c]=Se.useState(!1),[u,d]=Se.useState(null),[f,w]=Se.useState(null),[b,v]=Se.useState(""),E=Se.useRef(null),[D,T]=Se.useState(null),P=Se.useMemo(()=>{if(!r||!Array.isArray(r))return[];const I=(t||"").toLowerCase().split(" ").filter(ee=>ee.trim()!=="");return r.map(ee=>{const ve=(ee.name||"").toLowerCase(),Ne=(ee.category||"").toLowerCase(),be=(ee.description||"").toLowerCase(),oe=`${ve} ${Ne} ${be}`;if(!I.every(F=>oe.includes(F)))return{item:ee,score:-1,nameMatches:0};let ge=0,te=0;return I.length===0?ge=1:I.forEach(F=>{ve.includes(F)&&(te++,ve===F?ge+=1e3:ve.startsWith(F)?ge+=500:ve.includes(" "+F)?ge+=200:ge+=100),Ne.includes(F)&&(ge+=10),be.includes(F)&&(ge+=1)}),i==="All"||ee.category===i?{item:ee,score:ge,nameMatches:te}:{item:ee,score:-1,nameMatches:0}}).filter(ee=>ee.score>-1).sort((ee,ve)=>ve.nameMatches!==ee.nameMatches?ve.nameMatches-ee.nameMatches:ve.score!==ee.score?ve.score-ee.score:(ee.item.name||"").localeCompare(ve.item.name||"")).map(ee=>ee.item)},[r,t,i]);Se.useEffect(()=>{f&&E.current&&E.current.focus()},[f]);const U=I=>{d(I||null),c(!0)},V=async I=>{await ts(Ua,I)},H=async I=>{const L=[];e.forEach(ee=>{let ve=!1;const Ne=be=>be.map(oe=>{if(oe.type==="item"&&oe.referenceId===I.id){let _e=!1;oe.name!==I.name&&(oe.name=I.name,_e=!0),oe.category!==I.category&&(oe.category=I.category,_e=!0);const ge=(I.accessories||[]).map(te=>{const j=r.find(F=>F.id===te.itemId);return{itemId:te.itemId,name:j?.name||"?",quantity:te.quantity,category:j?.category||"Altro"}});return JSON.stringify(oe.contents)!==JSON.stringify(ge)&&(oe.contents=ge,_e=!0),_e&&(ve=!0),{...oe}}return oe});if(ee.zones){const be=ee.zones.map(oe=>({...oe,sections:oe.sections.map(_e=>({..._e,components:Ne(_e.components)}))}));ve&&L.push({...ee,zones:be})}else if(ee.sections){const be=ee.sections.map(oe=>({...oe,components:Ne(oe.components)}));ve&&L.push({...ee,sections:be})}}),L.length>0&&(console.log(`Propagating updates to ${L.length} lists...`),await Promise.all(L.map(ee=>ts(va,ee))))},ie=async I=>{const L=I.name.trim().toLowerCase(),ee=r.find(Ne=>Ne.name.trim().toLowerCase()===L&&(!u||Ne.id!==u.id));let ve;if(ee)ve={...I,id:ee.id};else{const Ne=u?u.id:crypto.randomUUID();ve={...I,id:Ne}}await ts(Ua,ve),await H(ve),c(!1)},de=(I,L)=>{w({itemId:I.id,field:L}),v(I[L])},q=()=>{w(null),v("")},O=async()=>{if(!f)return;const{itemId:I,field:L}=f,ee=r.find(ve=>ve.id===I);if(ee){const ve={...ee,[L]:b},Ne=JSON.parse(JSON.stringify(ve));await ts(Ua,Ne),(L==="name"||L==="category")&&await H(Ne)}w(null),v("")},M=I=>{I.key==="Enter"?O():I.key==="Escape"&&q()},z=async()=>{D&&(await wy(Ua,D),T(null))},N=async I=>{const L={...I,id:crypto.randomUUID(),name:`${I.name} (Copia)`};await ts(Ua,L),U(L)};return g.jsxs("div",{className:"h-full flex flex-col p-6 space-y-4",children:[g.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[g.jsx("h1",{className:"text-3xl font-bold text-white",children:"Inventario Materiale"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 w-full xl:w-auto",children:[g.jsxs("div",{className:"relative flex-grow md:w-64",children:[g.jsx(ya,{className:"absolute left-3 top-2.5 text-slate-400",size:20}),g.jsx("input",{type:"text",placeholder:"Cerca materiale... (es. 'cavo 10')",className:"w-full bg-slate-800 border border-slate-700 text-white pl-10 pr-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:t,onChange:I=>n(I.target.value)})]}),g.jsxs("div",{className:"relative min-w-[180px]",children:[g.jsx("div",{className:"absolute left-3 top-2.5 pointer-events-none text-slate-400",children:g.jsx(GS,{size:18})}),g.jsxs("select",{value:i,onChange:I=>s(I.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white pl-10 pr-8 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none appearance-none cursor-pointer",children:[g.jsx("option",{value:"All",children:"Tutte le Categorie"}),Object.values(me).map(I=>g.jsx("option",{value:I,children:I},I))]}),g.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:g.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),g.jsxs("button",{onClick:()=>U(),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 font-medium transition-colors whitespace-nowrap",children:[g.jsx(es,{size:20}),g.jsx("span",{children:"Nuovo"})]})]})]}),g.jsx("div",{className:"flex-1 bg-slate-900 border border-slate-800 rounded-xl overflow-hidden flex flex-col",children:g.jsx("div",{className:"overflow-auto flex-1 custom-scrollbar",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{className:"bg-slate-800 text-slate-300 sticky top-0 z-10 shadow-sm",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-4 font-semibold text-sm uppercase tracking-wider",children:"Nome"}),g.jsx("th",{className:"p-4 font-semibold text-sm uppercase tracking-wider",children:"Categoria"}),g.jsx("th",{className:"p-4 font-semibold text-right text-sm uppercase tracking-wider",children:"Peso (kg)"}),g.jsx("th",{className:"p-4 font-semibold text-right text-sm uppercase tracking-wider",children:"Consumo (W)"}),g.jsx("th",{className:"p-4 font-semibold text-right text-sm uppercase tracking-wider",children:"Stock"}),g.jsx("th",{className:"p-4 font-semibold text-center text-sm uppercase tracking-wider",children:"Azioni"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-800",children:P.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:6,className:"p-8 text-center text-slate-500",children:"Nessun materiale trovato."})}):P.map(I=>g.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors group",children:[g.jsxs("td",{className:"p-4",onDoubleClick:L=>{L.stopPropagation(),de(I,"name")},children:[f?.itemId===I.id&&f?.field==="name"?g.jsx("input",{ref:E,type:"text",className:"w-full bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none",value:b,onChange:L=>v(L.target.value),onBlur:O,onKeyDown:M}):g.jsxs("div",{className:"flex items-center gap-2 cursor-text",title:"Doppio click per rinominare",children:[g.jsx("div",{className:"font-medium text-white",children:I.name}),I.accessories&&I.accessories.length>0&&g.jsx("span",{title:`${I.accessories.length} accessori collegati`,children:g.jsx(i1,{size:14,className:"text-slate-500"})})]}),(!f||f.itemId!==I.id||f?.field!=="name")&&g.jsx("div",{className:"text-sm text-slate-500 truncate max-w-xs cursor-text",onDoubleClick:L=>{L.stopPropagation(),de(I,"description")},children:I.description})]}),g.jsx("td",{className:"p-4",onDoubleClick:L=>{L.stopPropagation(),de(I,"category")},children:f?.itemId===I.id&&f?.field==="category"?g.jsx("select",{ref:E,className:"bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none text-sm",value:b,onChange:L=>v(L.target.value),onBlur:O,onKeyDown:M,children:Object.values(me).map(L=>g.jsx("option",{value:L,children:L},L))}):g.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border cursor-pointer
                            ${I.category===me.AUDIO?"bg-amber-900/20 text-amber-500 border-amber-900/30":I.category===me.LIGHTS?"bg-purple-900/20 text-purple-500 border-purple-900/30":I.category===me.VIDEO?"bg-blue-900/20 text-blue-500 border-blue-900/30":I.category===me.REGIA?"bg-teal-900/20 text-teal-500 border-teal-900/30":"bg-slate-800 text-slate-400 border-slate-700"}`,title:"Doppio click per cambiare categoria",children:I.category})}),g.jsx("td",{className:"p-4 text-right",onDoubleClick:L=>{L.stopPropagation(),de(I,"weight")},children:f?.itemId===I.id&&f?.field==="weight"?g.jsx("input",{ref:E,type:"number",step:"0.1",className:"w-20 bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none text-right font-mono",value:b,onChange:L=>v(Number(L.target.value)),onBlur:O,onKeyDown:M}):g.jsx("span",{className:"text-slate-300 font-mono cursor-pointer",title:"Doppio click per modificare peso",children:I.weight})}),g.jsx("td",{className:"p-4 text-right",onDoubleClick:L=>{L.stopPropagation(),de(I,"powerConsumption")},children:f?.itemId===I.id&&f?.field==="powerConsumption"?g.jsx("input",{ref:E,type:"number",min:"0",className:"w-20 bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none text-right font-mono",value:b,onChange:L=>v(Number(L.target.value)),onBlur:O,onKeyDown:M}):g.jsx("span",{className:`font-mono cursor-pointer ${(I.powerConsumption||0)>0?"text-yellow-400":"text-slate-500"}`,title:"Doppio click per modificare consumo",children:I.powerConsumption||0})}),g.jsx("td",{className:"p-4 text-right",onDoubleClick:L=>{L.stopPropagation(),de(I,"inStock")},children:f?.itemId===I.id&&f?.field==="inStock"?g.jsx("input",{ref:E,type:"number",className:"w-20 bg-slate-950 border border-blue-500 rounded p-1 text-white outline-none text-right font-mono font-bold",value:b,onChange:L=>v(Number(L.target.value)),onBlur:O,onKeyDown:M}):g.jsx("span",{className:`font-mono font-bold cursor-pointer ${I.inStock>0?"text-emerald-400":"text-rose-400"}`,title:"Doppio click per modificare stock",children:I.inStock})}),g.jsx("td",{className:"p-4",children:g.jsxs("div",{className:"flex justify-center gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:L=>{L.stopPropagation(),U(I)},className:"p-2 text-blue-400 hover:text-blue-300 rounded-lg hover:bg-slate-800",title:"Modifica completa",children:g.jsx(Vu,{size:16})}),g.jsx("button",{onClick:L=>{L.stopPropagation(),N(I)},className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-800",title:"Duplica",children:g.jsx(YS,{size:16})}),g.jsx("button",{onClick:L=>{L.stopPropagation(),T(I.id)},className:"p-2 text-rose-400 hover:text-rose-300 rounded-lg hover:bg-slate-800",title:"Elimina",children:g.jsx(Va,{size:16})})]})})]},I.id))})]})})}),g.jsx(Sy,{isOpen:a,onClose:()=>c(!1),onSave:ie,initialData:u,inventory:r,onCreateAccessory:V,title:u?"Modifica Materiale":"Nuovo Materiale"}),g.jsx(Yd,{isOpen:!!D,onClose:()=>T(null),onConfirm:z,title:"Elimina Materiale",message:"Sei sicuro di voler eliminare questo materiale dall'inventario?"})]})},ZP=({isOpen:r,onClose:e,onSave:t,initialData:n,inventory:i,title:s})=>{const[a,c]=Se.useState({items:[]}),[u,d]=Se.useState(""),[f,w]=Se.useState(!1),b=Se.useRef({}),[v,E]=Se.useState(null),[D,T]=Se.useState(""),[P,U]=Se.useState(!1);Se.useEffect(()=>{c(n?{...n,items:n.items||[],reminders:n.reminders||[]}:{name:"",description:"",items:[],reminders:[],category:me.OTHER}),d(""),T("")},[n,r]),Se.useEffect(()=>{v&&b.current[v]&&(b.current[v]?.focus(),b.current[v]?.select(),E(null))},[a.items,v]);const V=()=>{if(!a.name)return;const N=a.items&&Array.isArray(a.items)?a.items:[],I={...a,id:n?.id||crypto.randomUUID(),category:a.category||me.OTHER,items:N,reminders:a.reminders||[]};t(I)},H=()=>{D.trim()&&(c({...a,reminders:[...a.reminders||[],D.trim()]}),T(""))},ie=N=>{const I=[...a.reminders||[]];I.splice(N,1),c({...a,reminders:I})},de=N=>{const I=[{itemId:N.id,quantity:1}];N.accessories?.length&&N.accessories.forEach(ee=>I.push({itemId:ee.itemId,quantity:ee.quantity}));let L=[...a.items||[]];I.forEach(ee=>{const ve=L.findIndex(Ne=>Ne.itemId===ee.itemId);ve>=0?L[ve].quantity+=ee.quantity:L.push(ee)}),c({...a,items:L}),E(N.id)},q=N=>{c({...a,items:a.items?.filter(I=>I.itemId!==N)})},O=(N,I)=>{I<1||c({...a,items:a.items?.map(L=>L.itemId===N?{...L,quantity:I}:L)})},M=Se.useMemo(()=>{const N=u.toLowerCase().trim();return N?i.filter(I=>I.name.toLowerCase().includes(N)||I.category.toLowerCase().includes(N)):i.slice(0,50)},[i,u]),z=N=>i.find(I=>I.id===N)?.name||"Unknown Item";return g.jsxs(za,{isOpen:r,onClose:e,title:s,size:"xl",children:[g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[60vh]",children:[g.jsx("div",{className:"flex-1 flex flex-col gap-4 min-h-0",children:g.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4 pr-2",children:[g.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[g.jsxs("div",{className:"col-span-2",children:[g.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Nome Kit"}),g.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2 text-white outline-none focus:border-purple-500",value:a.name||"",onChange:N=>c({...a,name:N.target.value}),placeholder:"Es. Kit Regia"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Categoria"}),g.jsx("select",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2 text-white outline-none focus:border-purple-500",value:a.category||me.OTHER,onChange:N=>c({...a,category:N.target.value}),children:Object.values(me).map(N=>g.jsx("option",{value:N,children:N},N))})]})]}),g.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2 text-white outline-none h-16 resize-none",value:a.description||"",onChange:N=>c({...a,description:N.target.value}),placeholder:"Descrizione kit..."}),g.jsxs("div",{className:"bg-slate-950 rounded-lg border border-slate-800 p-4 flex flex-col",children:[g.jsx("h4",{className:"text-sm font-semibold text-purple-400 mb-2 uppercase tracking-wider",children:"Contenuto Kit"}),g.jsxs("div",{className:"space-y-2",children:[a.items?.length===0&&g.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Il kit  vuoto. Aggiungi materiale dalla destra."}),a.items?.map((N,I)=>g.jsxs("div",{className:"flex justify-between items-center bg-slate-900 p-2 rounded border border-slate-800",children:[g.jsx("span",{className:"text-slate-300 text-sm truncate flex-1 mr-2",children:z(N.itemId)}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("input",{ref:L=>{b.current[N.itemId]=L},type:"number",className:"w-16 bg-slate-800 border border-slate-700 rounded px-2 py-1 text-center text-white text-sm outline-none",value:N.quantity,onChange:L=>O(N.itemId,Number(L.target.value))}),g.jsx("button",{onClick:()=>q(N.itemId),className:"text-rose-500",children:g.jsx(fc,{size:16})})]})]},I))]})]})]})}),g.jsxs("div",{className:"w-full lg:w-96 bg-slate-800 rounded-lg p-4 flex flex-col border border-slate-700 h-full",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3",children:[g.jsx("h4",{className:"font-semibold text-white text-sm",children:"Aggiungi Materiale"}),g.jsx("button",{onClick:()=>w(!0),className:"p-1.5 bg-slate-700 rounded text-slate-200",children:g.jsx(es,{size:14})})]}),g.jsxs("div",{className:"relative mb-3",children:[g.jsx(ya,{className:"absolute left-3 top-2.5 text-slate-400",size:16}),g.jsx("input",{type:"text",placeholder:"Cerca materiale...",className:"w-full bg-slate-900 border border-slate-700 text-white pl-9 pr-3 py-2 rounded-lg text-sm outline-none",value:u,onChange:N=>d(N.target.value)})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-1",children:M.map(N=>g.jsxs("button",{onClick:()=>de(N),className:"w-full text-left p-2 hover:bg-slate-700 rounded flex justify-between items-center group",children:[g.jsx("span",{className:"text-xs text-slate-300 truncate",children:N.name}),g.jsx(es,{size:14,className:"text-slate-500 group-hover:text-purple-400"})]},N.id))})]})]}),g.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-slate-800",children:[g.jsxs("button",{onClick:()=>U(!0),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${a.reminders&&a.reminders.length>0?"bg-yellow-900/20 text-yellow-400 border border-yellow-900/30 shadow-lg shadow-yellow-900/20":"bg-slate-800 text-slate-400 border border-slate-700 hover:text-yellow-400"}`,children:[g.jsx(vl,{size:18,className:a.reminders&&a.reminders.length>0?"fill-current":""}),g.jsxs("span",{className:"text-sm font-bold uppercase tracking-wider",children:["Promemoria Kit ",a.reminders&&a.reminders.length>0?`(${a.reminders.length})`:""]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-400",children:"Annulla"}),g.jsx("button",{onClick:V,className:"px-6 py-2 bg-purple-600 text-white rounded-lg font-bold",children:"Salva Kit"})]})]}),g.jsx(Sy,{isOpen:f,onClose:()=>w(!1),onSave:async N=>{const I={...N,id:crypto.randomUUID(),accessories:N.accessories||[]};await ts(Ua,I),de(I)},title:"Nuovo Materiale",inventory:i}),g.jsx(za,{isOpen:P,onClose:()=>U(!1),title:"Promemoria Kit",size:"md",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-slate-400",children:"Aggiungi note importanti che verranno mostrate quando userai questo kit."}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{className:"flex-1 bg-slate-950 border border-slate-700 rounded px-3 py-2 text-white focus:border-yellow-500 outline-none",placeholder:"Es. Controllare le batterie...",value:D,onChange:N=>T(N.target.value),onKeyDown:N=>N.key==="Enter"&&H(),autoFocus:!0}),g.jsxs("button",{onClick:H,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-black font-bold rounded flex items-center gap-2",children:[g.jsx(es,{size:18})," Aggiungi"]})]}),g.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar bg-slate-900 p-2 rounded border border-slate-800",children:[a.reminders?.map((N,I)=>g.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-3 rounded border border-slate-700",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(vl,{size:16,className:"text-yellow-500 shrink-0"}),g.jsx("span",{className:"text-sm text-slate-200",children:N})]}),g.jsx("button",{onClick:()=>ie(I),className:"text-slate-500 hover:text-rose-500 transition-colors",children:g.jsx(fc,{size:18})})]},I)),(!a.reminders||a.reminders.length===0)&&g.jsxs("div",{className:"text-center py-8 text-slate-500 flex flex-col items-center gap-2",children:[g.jsx(vl,{size:32,className:"opacity-20"}),g.jsx("span",{children:"Nessun promemoria attivo"})]})]}),g.jsx("div",{className:"flex justify-end pt-2",children:g.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded",children:"Chiudi"})})]})})]})},eD=({kits:r,inventory:e})=>{const[t,n]=Se.useState(""),[i,s]=Se.useState("All"),[a,c]=Se.useState(!1),[u,d]=Se.useState(null),[f,w]=Se.useState(null),b=Se.useMemo(()=>{const U=(t||"").toLowerCase().split(" ").filter(V=>V.trim()!=="");return r.map(V=>{const H=(V.name||"").toLowerCase(),ie=(V.category||"").toLowerCase(),de=(V.description||"").toLowerCase(),q=`${H} ${ie} ${de}`;if(!U.every(z=>q.includes(z)))return{kit:V,score:-1,nameMatches:0};if(i!=="All"&&V.category!==i)return{kit:V,score:-1,nameMatches:0};let O=0,M=0;return U.length===0?O=1:U.forEach(z=>{H.includes(z)&&(M++,H===z?O+=1e3:H.startsWith(z)?O+=500:H.includes(" "+z)?O+=200:O+=100),ie.includes(z)&&(O+=20),de.includes(z)&&(O+=5)}),{kit:V,score:O,nameMatches:M}}).filter(V=>V.score>-1).sort((V,H)=>H.nameMatches!==V.nameMatches?H.nameMatches-V.nameMatches:H.score!==V.score?H.score-V.score:(V.kit.name||"").localeCompare(H.kit.name||"")).map(V=>V.kit)},[r,t,i]),v=U=>{d(U||null),c(!0)},E=async U=>{await ts(Zd,U),c(!1)},D=async()=>{f&&(await wy(Zd,f),w(null))},T=async U=>{const V={...U,id:crypto.randomUUID(),name:`${U.name} (Copia)`};await ts(Zd,V)},P=U=>e.find(V=>V.id===U)?.name||"Unknown Item";return g.jsxs("div",{className:"h-full flex flex-col p-6 space-y-4",children:[g.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[g.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gestione Kit"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 w-full xl:w-auto",children:[g.jsxs("div",{className:"relative flex-grow md:w-64",children:[g.jsx(ya,{className:"absolute left-3 top-2.5 text-slate-400",size:20}),g.jsx("input",{type:"text",placeholder:"Cerca kit... (es. 'totem 2m')",className:"w-full bg-slate-800 border border-slate-700 text-white pl-10 pr-4 py-2 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",value:t,onChange:U=>n(U.target.value)})]}),g.jsxs("div",{className:"relative min-w-[180px]",children:[g.jsx("div",{className:"absolute left-3 top-2.5 pointer-events-none text-slate-400",children:g.jsx(GS,{size:18})}),g.jsxs("select",{value:i,onChange:U=>s(U.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white pl-10 pr-8 py-2 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none appearance-none cursor-pointer",children:[g.jsx("option",{value:"All",children:"Tutte le Categorie"}),Object.values(me).map(U=>g.jsx("option",{value:U,children:U},U))]}),g.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:g.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),g.jsxs("button",{onClick:()=>v(),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 font-medium transition-colors whitespace-nowrap",children:[g.jsx(es,{size:20}),g.jsx("span",{children:"Nuovo Kit"})]})]})]}),g.jsx("div",{className:"flex flex-col gap-2 overflow-y-auto pb-4 custom-scrollbar",children:b.length===0?g.jsx("div",{className:"text-center py-10 text-slate-500",children:"Nessun kit trovato."}):b.map(U=>g.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 flex flex-col md:flex-row gap-4 items-center hover:border-slate-700 transition-all group",children:[g.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[g.jsx("div",{className:"p-2 bg-purple-900/30 text-purple-400 rounded-lg shrink-0",children:g.jsx(jf,{size:20})}),g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h3",{className:"text-base font-bold text-white leading-tight truncate",children:U.name}),g.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-semibold border uppercase tracking-wider shrink-0
                                  ${U.category===me.AUDIO?"bg-amber-900/20 text-amber-500 border-amber-900/30":U.category===me.LIGHTS?"bg-purple-900/20 text-purple-500 border-purple-900/30":U.category===me.VIDEO?"bg-blue-900/20 text-blue-500 border-blue-900/30":U.category===me.STRUCTURE?"bg-slate-700/30 text-slate-400 border-slate-600/30":"bg-slate-800 text-slate-400 border-slate-700"}`,children:U.category})]}),g.jsx("div",{className:"text-xs text-slate-500 truncate mt-0.5",children:U.description||"Nessuna descrizione."})]})]}),g.jsxs("div",{className:"hidden lg:flex flex-col w-1/3 min-w-0 px-4 border-l border-slate-800",children:[g.jsxs("span",{className:"text-[10px] uppercase text-slate-600 font-bold mb-1",children:["Contenuto (",U.items.length,")"]}),g.jsxs("div",{className:"text-xs text-slate-500 truncate",children:[U.items.slice(0,5).map(V=>P(V.itemId)).join(", ")," ",U.items.length>5?"...":""]})]}),g.jsxs("div",{className:"flex items-center gap-1 shrink-0 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>T(U),className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-800",title:"Duplica",children:g.jsx(YS,{size:16})}),g.jsx("button",{onClick:()=>v(U),className:"p-2 text-blue-400 hover:text-blue-300 rounded-lg hover:bg-slate-800",title:"Modifica",children:g.jsx(Vu,{size:16})}),g.jsx("button",{onClick:()=>w(U.id),className:"p-2 text-rose-400 hover:text-rose-300 rounded-lg hover:bg-slate-800",title:"Elimina",children:g.jsx(Va,{size:16})})]})]},U.id))}),g.jsx(ZP,{isOpen:a,onClose:()=>c(!1),onSave:E,initialData:u,inventory:e,title:u?"Modifica Kit":"Nuovo Kit"}),g.jsx(Yd,{isOpen:!!f,onClose:()=>w(null),onConfirm:D,title:"Elimina Kit",message:"Sei sicuro di voler eliminare questo kit? I materiali all'interno non verranno cancellati dall'inventario."})]})},b5=({isOpen:r,onClose:e,reminders:t,onUpdate:n,title:i})=>{const[s,a]=Se.useState(""),[c,u]=Se.useState(null),[d,f]=Se.useState("");if(!r)return null;const w=()=>{if(!s.trim())return;const P={id:crypto.randomUUID(),text:s.trim(),isCompleted:!1,createdAt:new Date().toISOString()};n([...t,P]),a("")},b=P=>{confirm("Eliminare questa nota?")&&n(t.filter(U=>U.id!==P))},v=P=>{n(t.map(U=>U.id===P?{...U,isCompleted:!U.isCompleted}:U))},E=P=>{u(P.id),f(P.text)},D=()=>{!c||!d.trim()||(n(t.map(P=>P.id===c?{...P,text:d.trim()}:P)),u(null),f(""))},T=[...t].sort((P,U)=>P.isCompleted===U.isCompleted?new Date(U.createdAt).getTime()-new Date(P.createdAt).getTime():P.isCompleted?1:-1);return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl w-full max-w-md flex flex-col max-h-[80vh]",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-800 bg-slate-950/50 rounded-t-xl",children:[g.jsxs("div",{className:"flex items-center gap-2 text-yellow-500",children:[g.jsx(vl,{className:"fill-current",size:20}),g.jsx("h3",{className:"font-bold text-lg text-white",children:"Note & Promemoria"})]}),g.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white p-1 hover:bg-slate-800 rounded-full transition-colors",children:g.jsx(fc,{size:20})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar space-y-3",children:[t.length===0&&g.jsxs("div",{className:"text-center py-8 text-slate-500 flex flex-col items-center gap-2",children:[g.jsx(vl,{size:32,className:"opacity-20"}),g.jsx("p",{children:"Nessuna nota presente."})]}),T.map(P=>g.jsxs("div",{className:`group flex items-center gap-3 p-3 rounded-lg border transition-all ${P.isCompleted?"bg-slate-900/50 border-slate-800 opacity-60":"bg-slate-800 border-slate-700"}`,children:[g.jsx("button",{onClick:()=>v(P.id),className:`shrink-0 transition-colors ${P.isCompleted?"text-emerald-500":"text-slate-400 hover:text-white"}`,children:P.isCompleted?g.jsx(Wo,{size:20}):g.jsx($o,{size:20})}),c===P.id?g.jsxs("div",{className:"flex-1 flex gap-2",children:[g.jsx("input",{type:"text",className:"flex-1 bg-slate-950 border border-blue-500 rounded px-2 py-1 text-sm text-white outline-none",value:d,onChange:U=>f(U.target.value),autoFocus:!0,onKeyDown:U=>U.key==="Enter"&&D()}),g.jsx("button",{onClick:D,className:"p-1 text-emerald-500 hover:bg-slate-700 rounded",children:g.jsx(jP,{size:16})})]}):g.jsx("span",{className:`flex-1 text-sm ${P.isCompleted?"line-through text-slate-500":"text-slate-200"}`,children:P.text}),g.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[c!==P.id&&!P.isCompleted&&g.jsx("button",{onClick:()=>E(P),className:"p-1.5 text-slate-400 hover:text-blue-400 hover:bg-slate-700 rounded",children:g.jsx(Vu,{size:14})}),g.jsx("button",{onClick:()=>b(P.id),className:"p-1.5 text-slate-400 hover:text-rose-400 hover:bg-slate-700 rounded",children:g.jsx(Va,{size:14})})]})]},P.id))]}),g.jsx("div",{className:"p-4 border-t border-slate-800 bg-slate-950/50 rounded-b-xl",children:g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"Aggiungi una nota...",className:"flex-1 bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:border-yellow-500 outline-none transition-colors",value:s,onChange:P=>a(P.target.value),onKeyDown:P=>P.key==="Enter"&&w()}),g.jsxs("button",{onClick:w,disabled:!s.trim(),className:"bg-yellow-600 hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed text-white px-3 py-2 rounded-lg flex items-center gap-1 font-medium transition-colors",children:[g.jsx(es,{size:16}),g.jsx(vl,{size:16,className:"fill-current"})]})]})})]})})};function JS(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=JS(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function rs(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=JS(r))&&(n&&(n+=" "),n+=e);return n}const ZS=6048e5,tD=864e5,R0=6e4,M0=36e5,nD=1e3,_5=Symbol.for("constructDateFrom");function kr(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&_5 in r?r[_5](e):r instanceof Date?new r.constructor(e):new Date(e)}function Wt(r,e){return kr(e||r,r)}function qa(r,e,t){const n=Wt(r,t?.in);return isNaN(e)?kr(t?.in||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function $a(r,e,t){const n=Wt(r,t?.in);if(isNaN(e))return kr(r,NaN);if(!e)return n;const i=n.getDate(),s=kr(r,n.getTime());s.setMonth(n.getMonth()+e+1,0);const a=s.getDate();return i>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function ek(r,e,t){return kr(r,+Wt(r)+e)}function rD(r,e,t){return ek(r,e*M0)}let iD={};function ld(){return iD}function pc(r,e){const t=ld(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Wt(r,e?.in),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function yh(r,e){return pc(r,{...e,weekStartsOn:1})}function tk(r,e){const t=Wt(r,e?.in),n=t.getFullYear(),i=kr(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=yh(i),a=kr(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const c=yh(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function Km(r){const e=Wt(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function vc(r,...e){const t=kr.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function td(r,e){const t=Wt(r,e?.in);return t.setHours(0,0,0,0),t}function wh(r,e,t){const[n,i]=vc(t?.in,r,e),s=td(n),a=td(i),c=+s-Km(s),u=+a-Km(a);return Math.round((c-u)/tD)}function sD(r,e){const t=tk(r,e),n=kr(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),yh(n)}function Ff(r,e,t){const n=Wt(r,t?.in);return n.setTime(n.getTime()+e*R0),n}function ky(r,e,t){return $a(r,e*3,t)}function oD(r,e,t){return ek(r,e*1e3)}function Qm(r,e,t){return qa(r,e*7,t)}function Ha(r,e,t){return $a(r,e*12,t)}function S5(r,e){let t,n=e?.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=kr.bind(null,i));const s=Wt(i,n);(!t||t<s||isNaN(+s))&&(t=s)}),kr(n,t||NaN)}function k5(r,e){let t,n=e?.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=kr.bind(null,i));const s=Wt(i,n);(!t||t>s||isNaN(+s))&&(t=s)}),kr(n,t||NaN)}function aD(r,e,t){const[n,i]=vc(t?.in,r,e);return+td(n)==+td(i)}function El(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function xh(r){return!(!El(r)&&typeof r!="number"||isNaN(+Wt(r)))}function Xm(r,e,t){const[n,i]=vc(t?.in,r,e),s=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return s*12+a}function Xc(r,e){const t=Wt(r,e?.in);return Math.trunc(t.getMonth()/3)+1}function Jm(r,e,t){const[n,i]=vc(t?.in,r,e),s=n.getFullYear()-i.getFullYear(),a=Xc(n)-Xc(i);return s*4+a}function Zm(r,e,t){const[n,i]=vc(t?.in,r,e);return n.getFullYear()-i.getFullYear()}function lD(r,e,t){const[n,i]=vc(t?.in,r,e),s=E5(n,i),a=Math.abs(wh(n,i));n.setDate(n.getDate()-s*a);const c=+(E5(n,i)===-s),u=s*(a-c);return u===0?0:u}function E5(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function nk(r,e){const t=Wt(r,e?.in);return t.setHours(23,59,59,999),t}function rk(r,e){const t=Wt(r,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function s1(r,e){const t=Wt(r,e?.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function ik(r,e){const t=Wt(r,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function sk(r,e){const t=Wt(r,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function O0(r,e){const t=Wt(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function cD(r,e){const t=ld(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Wt(r,e?.in),s=i.getDay(),a=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}const uD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dD=(r,e,t)=>{let n;const i=uD[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Zg(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const hD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mD={date:Zg({formats:hD,defaultWidth:"full"}),time:Zg({formats:fD,defaultWidth:"full"}),dateTime:Zg({formats:pD,defaultWidth:"full"})},gD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vD=(r,e,t,n)=>gD[r];function of(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,c=t?.width?String(t.width):a;i=r.formattingValues[c]||r.formattingValues[a]}else{const a=r.defaultWidth,c=t?.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[a]}const s=r.argumentCallback?r.argumentCallback(e):e;return i[s]}}const yD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_D={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kD=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},ED={ordinalNumber:kD,era:of({values:yD,defaultWidth:"wide"}),quarter:of({values:wD,defaultWidth:"wide",argumentCallback:r=>r-1}),month:of({values:xD,defaultWidth:"wide"}),day:of({values:bD,defaultWidth:"wide"}),dayPeriod:of({values:_D,defaultWidth:"wide",formattingValues:SD,defaultFormattingWidth:"wide"})};function af(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],u=Array.isArray(c)?CD(c,w=>w.test(a)):ND(c,w=>w.test(a));let d;d=r.valueCallback?r.valueCallback(u):u,d=t.valueCallback?t.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}function ND(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function CD(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function ID(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],s=e.match(r.parsePattern);if(!s)return null;let a=r.valueCallback?r.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const c=e.slice(i.length);return{value:a,rest:c}}}const AD=/^(\d+)(th|st|nd|rd)?/i,TD=/\d+/i,PD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DD={any:[/^b/i,/^(a|c)/i]},LD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RD={any:[/1/i,/2/i,/3/i,/4/i]},MD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VD={ordinalNumber:ID({matchPattern:AD,parsePattern:TD,valueCallback:r=>parseInt(r,10)}),era:af({matchPatterns:PD,defaultMatchWidth:"wide",parsePatterns:DD,defaultParseWidth:"any"}),quarter:af({matchPatterns:LD,defaultMatchWidth:"wide",parsePatterns:RD,defaultParseWidth:"any",valueCallback:r=>r+1}),month:af({matchPatterns:MD,defaultMatchWidth:"wide",parsePatterns:OD,defaultParseWidth:"any"}),day:af({matchPatterns:jD,defaultMatchWidth:"wide",parsePatterns:FD,defaultParseWidth:"any"}),dayPeriod:af({matchPatterns:BD,defaultMatchWidth:"any",parsePatterns:UD,defaultParseWidth:"any"})},ok={code:"en-US",formatDistance:dD,formatLong:mD,formatRelative:vD,localize:ED,match:VD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zD(r,e){const t=Wt(r,e?.in);return wh(t,O0(t))+1}function Ey(r,e){const t=Wt(r,e?.in),n=+yh(t)-+sD(t);return Math.round(n/ZS)+1}function Ny(r,e){const t=Wt(r,e?.in),n=t.getFullYear(),i=ld(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=kr(e?.in||r,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const c=pc(a,e),u=kr(e?.in||r,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const d=pc(u,e);return+t>=+c?n+1:+t>=+d?n:n-1}function qD(r,e){const t=ld(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=Ny(r,e),s=kr(e?.in||r,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),pc(s,e)}function ak(r,e){const t=Wt(r,e?.in),n=+pc(t,e)-+qD(t,e);return Math.round(n/ZS)+1}function br(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const qc={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return br(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):br(t+1,2)},d(r,e){return br(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(r,e){return br(r.getHours()%12||12,e.length)},H(r,e){return br(r.getHours(),e.length)},m(r,e){return br(r.getMinutes(),e.length)},s(r,e){return br(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return br(i,e.length)}},Ld={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},N5={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return qc.y(r,e)},Y:function(r,e,t,n){const i=Ny(r,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return br(a,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):br(s,e.length)},R:function(r,e){const t=tk(r);return br(t,e.length)},u:function(r,e){const t=r.getFullYear();return br(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return br(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return br(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return qc.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return br(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=ak(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):br(i,e.length)},I:function(r,e,t){const n=Ey(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):br(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):qc.d(r,e)},D:function(r,e,t){const n=zD(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):br(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return br(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return br(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return br(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Ld.noon:n===0?i=Ld.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Ld.evening:n>=12?i=Ld.afternoon:n>=4?i=Ld.morning:i=Ld.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return qc.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):qc.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):br(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):br(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):qc.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):qc.s(r,e)},S:function(r,e){return qc.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return I5(n);case"XXXX":case"XX":return Ou(n);default:return Ou(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return I5(n);case"xxxx":case"xx":return Ou(n);default:return Ou(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+C5(n,":");default:return"GMT"+Ou(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+C5(n,":");default:return"GMT"+Ou(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return br(n,e.length)},T:function(r,e,t){return br(+r,e.length)}};function C5(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),s=n%60;return s===0?t+String(i):t+String(i)+e+br(s,2)}function I5(r,e){return r%60===0?(r>0?"-":"+")+br(Math.abs(r)/60,2):Ou(r,e)}function Ou(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=br(Math.trunc(n/60),2),s=br(n%60,2);return t+i+e+s}const A5=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},lk=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},HD=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return A5(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",A5(n,e)).replace("{{time}}",lk(i,e))},o1={p:lk,P:HD},WD=/^D+$/,$D=/^Y+$/,YD=["D","DD","YY","YYYY"];function GD(r){return WD.test(r)}function KD(r){return $D.test(r)}function QD(r,e,t){const n=XD(r,e,t);if(console.warn(n),YD.includes(r))throw new RangeError(n)}function XD(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,e6=/^'([^]*?)'?$/,t6=/''/g,n6=/[a-zA-Z]/;function T5(r,e,t){const n=ld(),i=t?.locale??n.locale??ok,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=Wt(r,t?.in);if(!xh(c))throw new RangeError("Invalid time value");let u=e.match(ZD).map(f=>{const w=f[0];if(w==="p"||w==="P"){const b=o1[w];return b(f,i.formatLong)}return f}).join("").match(JD).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const w=f[0];if(w==="'")return{isToken:!1,value:r6(f)};if(N5[w])return{isToken:!0,value:f};if(w.match(n6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(f=>{if(!f.isToken)return f.value;const w=f.value;(!t?.useAdditionalWeekYearTokens&&KD(w)||!t?.useAdditionalDayOfYearTokens&&GD(w))&&QD(w,e,String(r));const b=N5[w[0]];return b(c,w,i.localize,d)}).join("")}function r6(r){const e=r.match(e6);return e?e[1].replace(t6,"'"):r}function P5(r,e){return Wt(r,e?.in).getDate()}function i6(r,e){return Wt(r,e?.in).getDay()}function s6(r,e){const t=Wt(r,e?.in),n=t.getFullYear(),i=t.getMonth(),s=kr(t,0);return s.setFullYear(n,i+1,0),s.setHours(0,0,0,0),s.getDate()}function o6(){return Object.assign({},ld())}function $s(r,e){return Wt(r,e?.in).getHours()}function a6(r,e){const t=Wt(r,e?.in).getDay();return t===0?7:t}function Ys(r,e){return Wt(r,e?.in).getMinutes()}function To(r,e){return Wt(r,e?.in).getMonth()}function su(r){return Wt(r).getSeconds()}function a1(r){return+Wt(r)}function Bn(r,e){return Wt(r,e?.in).getFullYear()}function ac(r,e){return+Wt(r)>+Wt(e)}function yl(r,e){return+Wt(r)<+Wt(e)}function l6(r,e){return+Wt(r)==+Wt(e)}function c6(r,e){const t=u6(e)?new e(0):kr(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function u6(r){return typeof r=="function"&&r.prototype?.constructor===r}const d6=10;class ck{subPriority=0;validate(e,t){return!0}}class h6 extends ck{constructor(e,t,n,i,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class f6 extends ck{priority=d6;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>kr(t,n))}set(e,t){return t.timestampIsSet?e:kr(e,c6(e,this.context))}}class cr{run(e,t,n,i){const s=this.parse(e,t,n,i);return s?{setter:new h6(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}}class p6 extends cr{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Pi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ml={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Di(r,e){return r&&{value:e(r.value),rest:r.rest}}function di(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function gl(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:n*(i*M0+s*R0+a*nD),rest:e.slice(t[0].length)}}function uk(r){return di(Pi.anyDigitsSigned,r)}function bi(r,e){switch(r){case 1:return di(Pi.singleDigit,e);case 2:return di(Pi.twoDigits,e);case 3:return di(Pi.threeDigits,e);case 4:return di(Pi.fourDigits,e);default:return di(new RegExp("^\\d{1,"+r+"}"),e)}}function e0(r,e){switch(r){case 1:return di(Pi.singleDigitSigned,e);case 2:return di(Pi.twoDigitsSigned,e);case 3:return di(Pi.threeDigitsSigned,e);case 4:return di(Pi.fourDigitsSigned,e);default:return di(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Cy(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function dk(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const s=n+50,a=Math.trunc(s/100)*100,c=r>=s%100;i=r+a-(c?100:0)}return t?i:1-i}function hk(r){return r%400===0||r%4===0&&r%100!==0}class m6 extends cr{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const i=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return Di(bi(4,e),i);case"yo":return Di(n.ordinalNumber(e,{unit:"year"}),i);default:return Di(bi(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const i=e.getFullYear();if(n.isTwoDigitYear){const a=dk(n.year,i);return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class g6 extends cr{priority=130;parse(e,t,n){const i=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Di(bi(4,e),i);case"Yo":return Di(n.ordinalNumber(e,{unit:"year"}),i);default:return Di(bi(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,i){const s=Ny(e,i);if(n.isTwoDigitYear){const c=dk(n.year,s);return e.setFullYear(c,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),pc(e,i)}const a=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(a,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),pc(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class v6 extends cr{priority=130;parse(e,t){return e0(t==="R"?4:t.length,e)}set(e,t,n){const i=kr(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),yh(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class y6 extends cr{priority=130;parse(e,t){return e0(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class w6 extends cr{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return bi(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class x6 extends cr{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return bi(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class b6 extends cr{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const i=s=>s-1;switch(t){case"M":return Di(di(Pi.month,e),i);case"MM":return Di(bi(2,e),i);case"Mo":return Di(n.ordinalNumber(e,{unit:"month"}),i);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class _6 extends cr{priority=110;parse(e,t,n){const i=s=>s-1;switch(t){case"L":return Di(di(Pi.month,e),i);case"LL":return Di(bi(2,e),i);case"Lo":return Di(n.ordinalNumber(e,{unit:"month"}),i);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function S6(r,e,t){const n=Wt(r,t?.in),i=ak(n,t)-e;return n.setDate(n.getDate()-i*7),Wt(n,t?.in)}class k6 extends cr{priority=100;parse(e,t,n){switch(t){case"w":return di(Pi.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return bi(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,i){return pc(S6(e,n,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function E6(r,e,t){const n=Wt(r,t?.in),i=Ey(n,t)-e;return n.setDate(n.getDate()-i*7),n}class N6 extends cr{priority=100;parse(e,t,n){switch(t){case"I":return di(Pi.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return bi(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return yh(E6(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const C6=[31,28,31,30,31,30,31,31,30,31,30,31],I6=[31,29,31,30,31,30,31,31,30,31,30,31];class A6 extends cr{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return di(Pi.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return bi(t.length,e)}}validate(e,t){const n=e.getFullYear(),i=hk(n),s=e.getMonth();return i?t>=1&&t<=I6[s]:t>=1&&t<=C6[s]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class T6 extends cr{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return di(Pi.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return bi(t.length,e)}}validate(e,t){const n=e.getFullYear();return hk(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Iy(r,e,t){const n=ld(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Wt(r,t?.in),a=s.getDay(),u=(e%7+7)%7,d=7-i,f=e<0||e>6?e-(a+d)%7:(u+d)%7-(a+d)%7;return qa(s,f,t)}class P6 extends cr{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=Iy(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class D6 extends cr{priority=90;parse(e,t,n,i){const s=a=>{const c=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+c};switch(t){case"e":case"ee":return Di(bi(t.length,e),s);case"eo":return Di(n.ordinalNumber(e,{unit:"day"}),s);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=Iy(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class L6 extends cr{priority=90;parse(e,t,n,i){const s=a=>{const c=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+c};switch(t){case"c":case"cc":return Di(bi(t.length,e),s);case"co":return Di(n.ordinalNumber(e,{unit:"day"}),s);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=Iy(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function R6(r,e,t){const n=Wt(r,t?.in),i=a6(n,t),s=e-i;return qa(n,s,t)}class M6 extends cr{priority=90;parse(e,t,n){const i=s=>s===0?7:s;switch(t){case"i":case"ii":return bi(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Di(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return Di(n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Di(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);default:return Di(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=R6(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class O6 extends cr{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Cy(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class j6 extends cr{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Cy(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class F6 extends cr{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Cy(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class B6 extends cr{priority=70;parse(e,t,n){switch(t){case"h":return di(Pi.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return bi(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const i=e.getHours()>=12;return i&&n<12?e.setHours(n+12,0,0,0):!i&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class U6 extends cr{priority=70;parse(e,t,n){switch(t){case"H":return di(Pi.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return bi(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class V6 extends cr{priority=70;parse(e,t,n){switch(t){case"K":return di(Pi.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return bi(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class z6 extends cr{priority=70;parse(e,t,n){switch(t){case"k":return di(Pi.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return bi(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const i=n<=24?n%24:n;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class q6 extends cr{priority=60;parse(e,t,n){switch(t){case"m":return di(Pi.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return bi(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class H6 extends cr{priority=50;parse(e,t,n){switch(t){case"s":return di(Pi.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return bi(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class W6 extends cr{priority=30;parse(e,t){const n=i=>Math.trunc(i*Math.pow(10,-t.length+3));return Di(bi(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class $6 extends cr{priority=10;parse(e,t){switch(t){case"X":return gl(ml.basicOptionalMinutes,e);case"XX":return gl(ml.basic,e);case"XXXX":return gl(ml.basicOptionalSeconds,e);case"XXXXX":return gl(ml.extendedOptionalSeconds,e);default:return gl(ml.extended,e)}}set(e,t,n){return t.timestampIsSet?e:kr(e,e.getTime()-Km(e)-n)}incompatibleTokens=["t","T","x"]}class Y6 extends cr{priority=10;parse(e,t){switch(t){case"x":return gl(ml.basicOptionalMinutes,e);case"xx":return gl(ml.basic,e);case"xxxx":return gl(ml.basicOptionalSeconds,e);case"xxxxx":return gl(ml.extendedOptionalSeconds,e);default:return gl(ml.extended,e)}}set(e,t,n){return t.timestampIsSet?e:kr(e,e.getTime()-Km(e)-n)}incompatibleTokens=["t","T","X"]}class G6 extends cr{priority=40;parse(e){return uk(e)}set(e,t,n){return[kr(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class K6 extends cr{priority=20;parse(e){return uk(e)}set(e,t,n){return[kr(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const Q6={G:new p6,y:new m6,Y:new g6,R:new v6,u:new y6,Q:new w6,q:new x6,M:new b6,L:new _6,w:new k6,I:new N6,d:new A6,D:new T6,E:new P6,e:new D6,c:new L6,i:new M6,a:new O6,b:new j6,B:new F6,h:new B6,H:new U6,K:new V6,k:new z6,m:new q6,s:new H6,S:new W6,X:new $6,x:new Y6,t:new G6,T:new K6},X6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Z6=/^'([^]*?)'?$/,eL=/''/g,tL=/\S/,nL=/[a-zA-Z]/;function rL(r,e,t,n){const i=()=>kr(n?.in||t,NaN),s=o6(),a=n?.locale??s.locale??ok,c=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!e)return r?i():Wt(t,n?.in);const d={firstWeekContainsDate:c,weekStartsOn:u,locale:a},f=[new f6(n?.in,t)],w=e.match(J6).map(T=>{const P=T[0];if(P in o1){const U=o1[P];return U(T,a.formatLong)}return T}).join("").match(X6),b=[];for(let T of w){const P=T[0],U=Q6[P];if(U){const{incompatibleTokens:V}=U;if(Array.isArray(V)){const ie=b.find(de=>V.includes(de.token)||de.token===P);if(ie)throw new RangeError(`The format string mustn't contain \`${ie.fullToken}\` and \`${T}\` at the same time`)}else if(U.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);b.push({token:P,fullToken:T});const H=U.run(r,T,a.match,d);if(!H)return i();f.push(H.setter),r=H.rest}else{if(P.match(nL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");if(T==="''"?T="'":P==="'"&&(T=iL(T)),r.indexOf(T)===0)r=r.slice(T.length);else return i()}}if(r.length>0&&tL.test(r))return i();const v=f.map(T=>T.priority).sort((T,P)=>P-T).filter((T,P,U)=>U.indexOf(T)===P).map(T=>f.filter(P=>P.priority===T).sort((P,U)=>U.subPriority-P.subPriority)).map(T=>T[0]);let E=Wt(t,n?.in);if(isNaN(+E))return i();const D={};for(const T of v){if(!T.validate(E,d))return i();const P=T.set(E,D,d);Array.isArray(P)?(E=P[0],Object.assign(D,P[1])):E=P}return E}function iL(r){return r.match(Z6)[1].replace(eL,"'")}function sL(r,e,t){const[n,i]=vc(t?.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function oL(r,e,t){const[n,i]=vc(t?.in,r,e);return+s1(n)==+s1(i)}function aL(r,e,t){const[n,i]=vc(t?.in,r,e);return n.getFullYear()===i.getFullYear()}function Bf(r,e,t){const n=+Wt(r,t?.in),[i,s]=[+Wt(e.start,t?.in),+Wt(e.end,t?.in)].sort((a,c)=>a-c);return n>=i&&n<=s}function lL(r,e,t){return qa(r,-1,t)}function cL(r,e){const t=()=>kr(e?.in,NaN),i=fL(r);let s;if(i.date){const d=pL(i.date,2);s=mL(d.restDateString,d.year)}if(!s||isNaN(+s))return t();const a=+s;let c=0,u;if(i.time&&(c=gL(i.time),isNaN(c)))return t();if(i.timezone){if(u=vL(i.timezone),isNaN(u))return t()}else{const d=new Date(a+c),f=Wt(0,e?.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return Wt(a+c+u,e?.in)}const $p={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},uL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,dL=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fL(r){const e={},t=r.split($p.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],$p.timeZoneDelimiter.test(e.date)&&(e.date=r.split($p.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=$p.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function pL(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:r.slice((n[1]||n[2]).length)}}function mL(r,e){if(e===null)return new Date(NaN);const t=r.match(uL);if(!t)return new Date(NaN);const n=!!t[4],i=lf(t[1]),s=lf(t[2])-1,a=lf(t[3]),c=lf(t[4]),u=lf(t[5])-1;if(n)return _L(e,c,u)?yL(e,c,u):new Date(NaN);{const d=new Date(0);return!xL(e,s,a)||!bL(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,a)),d)}}function lf(r){return r?parseInt(r):1}function gL(r){const e=r.match(dL);if(!e)return NaN;const t=ev(e[1]),n=ev(e[2]),i=ev(e[3]);return SL(t,n,i)?t*M0+n*R0+i*1e3:NaN}function ev(r){return r&&parseFloat(r.replace(",","."))||0}function vL(r){if(r==="Z")return 0;const e=r.match(hL);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return kL(n,i)?t*(n*M0+i*R0):NaN}function yL(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const wL=[31,null,31,30,31,30,31,31,30,31,30,31];function fk(r){return r%400===0||r%4===0&&r%100!==0}function xL(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(wL[e]||(fk(r)?29:28))}function bL(r,e){return e>=1&&e<=(fk(r)?366:365)}function _L(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function SL(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function kL(r,e){return e>=0&&e<=59}function Yo(r,e,t){const n=Wt(r,t?.in),i=n.getFullYear(),s=n.getDate(),a=kr(r,0);a.setFullYear(i,e,15),a.setHours(0,0,0,0);const c=s6(a);return n.setMonth(e,Math.min(s,c)),n}function xm(r,e,t){const n=Wt(r,t?.in);return n.setHours(e),n}function bm(r,e,t){const n=Wt(r,t?.in);return n.setMinutes(e),n}function qd(r,e,t){const n=Wt(r,t?.in),i=Math.trunc(n.getMonth()/3)+1,s=e-i;return Yo(n,n.getMonth()+s*3)}function _m(r,e,t){const n=Wt(r,t?.in);return n.setSeconds(e),n}function hl(r,e,t){const n=Wt(r,t?.in);return isNaN(+n)?kr(r,NaN):(n.setFullYear(e),n)}function Yu(r,e,t){return $a(r,-e,t)}function pk(r,e,t){return ky(r,-1,t)}function D5(r,e,t){return Qm(r,-1,t)}function uu(r,e,t){return Ha(r,-e,t)}function j0(){return typeof window<"u"}function Ph(r){return mk(r)?(r.nodeName||"").toLowerCase():"#document"}function Jo(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Tl(r){var e;return(e=(mk(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function mk(r){return j0()?r instanceof Node||r instanceof Jo(r).Node:!1}function uo(r){return j0()?r instanceof Element||r instanceof Jo(r).Element:!1}function Al(r){return j0()?r instanceof HTMLElement||r instanceof Jo(r).HTMLElement:!1}function L5(r){return!j0()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Jo(r).ShadowRoot}const EL=new Set(["inline","contents"]);function ep(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=wa(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!EL.has(i)}const NL=new Set(["table","td","th"]);function CL(r){return NL.has(Ph(r))}const IL=[":popover-open",":modal"];function F0(r){return IL.some(e=>{try{return r.matches(e)}catch{return!1}})}const AL=["transform","translate","scale","rotate","perspective"],TL=["transform","translate","scale","rotate","perspective","filter"],PL=["paint","layout","strict","content"];function Ay(r){const e=Ty(),t=uo(r)?wa(r):r;return AL.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||TL.some(n=>(t.willChange||"").includes(n))||PL.some(n=>(t.contain||"").includes(n))}function DL(r){let e=du(r);for(;Al(e)&&!bh(e);){if(Ay(e))return e;if(F0(e))return null;e=du(e)}return null}function Ty(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LL=new Set(["html","body","#document"]);function bh(r){return LL.has(Ph(r))}function wa(r){return Jo(r).getComputedStyle(r)}function B0(r){return uo(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function du(r){if(Ph(r)==="html")return r;const e=r.assignedSlot||r.parentNode||L5(r)&&r.host||Tl(r);return L5(e)?e.host:e}function gk(r){const e=du(r);return bh(e)?r.ownerDocument?r.ownerDocument.body:r.body:Al(e)&&ep(e)?e:gk(e)}function Uf(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=gk(r),s=i===((n=r.ownerDocument)==null?void 0:n.body),a=Jo(i);if(s){const c=l1(a);return e.concat(a,a.visualViewport||[],ep(i)?i:[],c&&t?Uf(c):[])}return e.concat(i,Uf(i,[],t))}function l1(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const _h=Math.min,Gu=Math.max,t0=Math.round,Yp=Math.floor,Nl=r=>({x:r,y:r}),RL={left:"right",right:"left",bottom:"top",top:"bottom"},ML={start:"end",end:"start"};function OL(r,e,t){return Gu(r,_h(e,t))}function U0(r,e){return typeof r=="function"?r(e):r}function Sh(r){return r.split("-")[0]}function tp(r){return r.split("-")[1]}function jL(r){return r==="x"?"y":"x"}function Py(r){return r==="y"?"height":"width"}const FL=new Set(["top","bottom"]);function zu(r){return FL.has(Sh(r))?"y":"x"}function Dy(r){return jL(zu(r))}function BL(r,e,t){t===void 0&&(t=!1);const n=tp(r),i=Dy(r),s=Py(i);let a=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=n0(a)),[a,n0(a)]}function UL(r){const e=n0(r);return[c1(r),e,c1(e)]}function c1(r){return r.replace(/start|end/g,e=>ML[e])}const R5=["left","right"],M5=["right","left"],VL=["top","bottom"],zL=["bottom","top"];function qL(r,e,t){switch(r){case"top":case"bottom":return t?e?M5:R5:e?R5:M5;case"left":case"right":return e?VL:zL;default:return[]}}function HL(r,e,t,n){const i=tp(r);let s=qL(Sh(r),t==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(c1)))),s}function n0(r){return r.replace(/left|right|bottom|top/g,e=>RL[e])}function WL(r){return{top:0,right:0,bottom:0,left:0,...r}}function vk(r){return typeof r!="number"?WL(r):{top:r,right:r,bottom:r,left:r}}function r0(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}var $L=typeof document<"u",YL=function(){},i0=$L?Se.useLayoutEffect:YL;const GL={...Rb},KL=GL.useInsertionEffect,QL=KL||(r=>r());function XL(r){const e=Se.useRef(()=>{});return QL(()=>{e.current=r}),Se.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var yk=Mb();const JL=E1(yk);function O5(r,e,t){let{reference:n,floating:i}=r;const s=zu(e),a=Dy(e),c=Py(a),u=Sh(e),d=s==="y",f=n.x+n.width/2-i.width/2,w=n.y+n.height/2-i.height/2,b=n[c]/2-i[c]/2;let v;switch(u){case"top":v={x:f,y:n.y-i.height};break;case"bottom":v={x:f,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:w};break;case"left":v={x:n.x-i.width,y:w};break;default:v={x:n.x,y:n.y}}switch(tp(e)){case"start":v[a]-=b*(t&&d?-1:1);break;case"end":v[a]+=b*(t&&d?-1:1);break}return v}const ZL=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,c=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:r,floating:e,strategy:i}),{x:f,y:w}=O5(d,n,u),b=n,v={},E=0;for(let D=0;D<c.length;D++){const{name:T,fn:P}=c[D],{x:U,y:V,data:H,reset:ie}=await P({x:f,y:w,initialPlacement:n,placement:b,strategy:i,middlewareData:v,rects:d,platform:a,elements:{reference:r,floating:e}});f=U??f,w=V??w,v={...v,[T]:{...v[T],...H}},ie&&E<=50&&(E++,typeof ie=="object"&&(ie.placement&&(b=ie.placement),ie.rects&&(d=ie.rects===!0?await a.getElementRects({reference:r,floating:e,strategy:i}):ie.rects),{x:f,y:w}=O5(d,b,u)),D=-1)}return{x:f,y:w,placement:b,strategy:i,middlewareData:v}};async function eR(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:c,strategy:u}=r,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:w="floating",altBoundary:b=!1,padding:v=0}=U0(e,r),E=vk(v),T=c[b?w==="floating"?"reference":"floating":w],P=r0(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(T)))==null||t?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),U=w==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,V=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),H=await(s.isElement==null?void 0:s.isElement(V))?await(s.getScale==null?void 0:s.getScale(V))||{x:1,y:1}:{x:1,y:1},ie=r0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:U,offsetParent:V,strategy:u}):U);return{top:(P.top-ie.top+E.top)/H.y,bottom:(ie.bottom-P.bottom+E.bottom)/H.y,left:(P.left-ie.left+E.left)/H.x,right:(ie.right-P.right+E.right)/H.x}}const tR=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:s,platform:a,elements:c,middlewareData:u}=e,{element:d,padding:f=0}=U0(r,e)||{};if(d==null)return{};const w=vk(f),b={x:t,y:n},v=Dy(i),E=Py(v),D=await a.getDimensions(d),T=v==="y",P=T?"top":"left",U=T?"bottom":"right",V=T?"clientHeight":"clientWidth",H=s.reference[E]+s.reference[v]-b[v]-s.floating[E],ie=b[v]-s.reference[v],de=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let q=de?de[V]:0;(!q||!await(a.isElement==null?void 0:a.isElement(de)))&&(q=c.floating[V]||s.floating[E]);const O=H/2-ie/2,M=q/2-D[E]/2-1,z=_h(w[P],M),N=_h(w[U],M),I=z,L=q-D[E]-N,ee=q/2-D[E]/2+O,ve=OL(I,ee,L),Ne=!u.arrow&&tp(i)!=null&&ee!==ve&&s.reference[E]/2-(ee<I?z:N)-D[E]/2<0,be=Ne?ee<I?ee-I:ee-L:0;return{[v]:b[v]+be,data:{[v]:ve,centerOffset:ee-ve-be,...Ne&&{alignmentOffset:be}},reset:Ne}}}),nR=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:c,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:w=!0,fallbackPlacements:b,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:D=!0,...T}=U0(r,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const P=Sh(i),U=zu(c),V=Sh(c)===c,H=await(u.isRTL==null?void 0:u.isRTL(d.floating)),ie=b||(V||!D?[n0(c)]:UL(c)),de=E!=="none";!b&&de&&ie.push(...HL(c,D,E,H));const q=[c,...ie],O=await eR(e,T),M=[];let z=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&M.push(O[P]),w){const ee=BL(i,a,H);M.push(O[ee[0]],O[ee[1]])}if(z=[...z,{placement:i,overflows:M}],!M.every(ee=>ee<=0)){var N,I;const ee=(((N=s.flip)==null?void 0:N.index)||0)+1,ve=q[ee];if(ve&&(!(w==="alignment"?U!==zu(ve):!1)||z.every(oe=>zu(oe.placement)===U?oe.overflows[0]>0:!0)))return{data:{index:ee,overflows:z},reset:{placement:ve}};let Ne=(I=z.filter(be=>be.overflows[0]<=0).sort((be,oe)=>be.overflows[1]-oe.overflows[1])[0])==null?void 0:I.placement;if(!Ne)switch(v){case"bestFit":{var L;const be=(L=z.filter(oe=>{if(de){const _e=zu(oe.placement);return _e===U||_e==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(_e=>_e>0).reduce((_e,ge)=>_e+ge,0)]).sort((oe,_e)=>oe[1]-_e[1])[0])==null?void 0:L[0];be&&(Ne=be);break}case"initialPlacement":Ne=c;break}if(i!==Ne)return{reset:{placement:Ne}}}return{}}}},rR=new Set(["left","top"]);async function iR(r,e){const{placement:t,platform:n,elements:i}=r,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Sh(t),c=tp(t),u=zu(t)==="y",d=rR.has(a)?-1:1,f=s&&u?-1:1,w=U0(e,r);let{mainAxis:b,crossAxis:v,alignmentAxis:E}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return c&&typeof E=="number"&&(v=c==="end"?E*-1:E),u?{x:v*f,y:b*d}:{x:b*d,y:v*f}}const sR=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:s,placement:a,middlewareData:c}=e,u=await iR(e,r);return a===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}};function wk(r){const e=wa(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Al(r),s=i?r.offsetWidth:t,a=i?r.offsetHeight:n,c=t0(t)!==s||t0(n)!==a;return c&&(t=s,n=a),{width:t,height:n,$:c}}function Ly(r){return uo(r)?r:r.contextElement}function eh(r){const e=Ly(r);if(!Al(e))return Nl(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:s}=wk(e);let a=(s?t0(t.width):t.width)/n,c=(s?t0(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const oR=Nl(0);function xk(r){const e=Jo(r);return!Ty()||!e.visualViewport?oR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aR(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Jo(r)?!1:e}function nd(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),s=Ly(r);let a=Nl(1);e&&(n?uo(n)&&(a=eh(n)):a=eh(r));const c=aR(s,t,n)?xk(s):Nl(0);let u=(i.left+c.x)/a.x,d=(i.top+c.y)/a.y,f=i.width/a.x,w=i.height/a.y;if(s){const b=Jo(s),v=n&&uo(n)?Jo(n):n;let E=b,D=l1(E);for(;D&&n&&v!==E;){const T=eh(D),P=D.getBoundingClientRect(),U=wa(D),V=P.left+(D.clientLeft+parseFloat(U.paddingLeft))*T.x,H=P.top+(D.clientTop+parseFloat(U.paddingTop))*T.y;u*=T.x,d*=T.y,f*=T.x,w*=T.y,u+=V,d+=H,E=Jo(D),D=l1(E)}}return r0({width:f,height:w,x:u,y:d})}function V0(r,e){const t=B0(r).scrollLeft;return e?e.left+t:nd(Tl(r)).left+t}function bk(r,e){const t=r.getBoundingClientRect(),n=t.left+e.scrollLeft-V0(r,t),i=t.top+e.scrollTop;return{x:n,y:i}}function lR(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const s=i==="fixed",a=Tl(n),c=e?F0(e.floating):!1;if(n===a||c&&s)return t;let u={scrollLeft:0,scrollTop:0},d=Nl(1);const f=Nl(0),w=Al(n);if((w||!w&&!s)&&((Ph(n)!=="body"||ep(a))&&(u=B0(n)),Al(n))){const v=nd(n);d=eh(n),f.x=v.x+n.clientLeft,f.y=v.y+n.clientTop}const b=a&&!w&&!s?bk(a,u):Nl(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-u.scrollLeft*d.x+f.x+b.x,y:t.y*d.y-u.scrollTop*d.y+f.y+b.y}}function cR(r){return Array.from(r.getClientRects())}function uR(r){const e=Tl(r),t=B0(r),n=r.ownerDocument.body,i=Gu(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Gu(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-t.scrollLeft+V0(r);const c=-t.scrollTop;return wa(n).direction==="rtl"&&(a+=Gu(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:c}}const j5=25;function dR(r,e){const t=Jo(r),n=Tl(r),i=t.visualViewport;let s=n.clientWidth,a=n.clientHeight,c=0,u=0;if(i){s=i.width,a=i.height;const f=Ty();(!f||f&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}const d=V0(n);if(d<=0){const f=n.ownerDocument,w=f.body,b=getComputedStyle(w),v=f.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,E=Math.abs(n.clientWidth-w.clientWidth-v);E<=j5&&(s-=E)}else d<=j5&&(s+=d);return{width:s,height:a,x:c,y:u}}const hR=new Set(["absolute","fixed"]);function fR(r,e){const t=nd(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,s=Al(r)?eh(r):Nl(1),a=r.clientWidth*s.x,c=r.clientHeight*s.y,u=i*s.x,d=n*s.y;return{width:a,height:c,x:u,y:d}}function F5(r,e,t){let n;if(e==="viewport")n=dR(r,t);else if(e==="document")n=uR(Tl(r));else if(uo(e))n=fR(e,t);else{const i=xk(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return r0(n)}function _k(r,e){const t=du(r);return t===e||!uo(t)||bh(t)?!1:wa(t).position==="fixed"||_k(t,e)}function pR(r,e){const t=e.get(r);if(t)return t;let n=Uf(r,[],!1).filter(c=>uo(c)&&Ph(c)!=="body"),i=null;const s=wa(r).position==="fixed";let a=s?du(r):r;for(;uo(a)&&!bh(a);){const c=wa(a),u=Ay(a);!u&&c.position==="fixed"&&(i=null),(s?!u&&!i:!u&&c.position==="static"&&!!i&&hR.has(i.position)||ep(a)&&!u&&_k(r,a))?n=n.filter(f=>f!==a):i=c,a=du(a)}return e.set(r,n),n}function mR(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const a=[...t==="clippingAncestors"?F0(e)?[]:pR(e,this._c):[].concat(t),n],c=a[0],u=a.reduce((d,f)=>{const w=F5(e,f,i);return d.top=Gu(w.top,d.top),d.right=_h(w.right,d.right),d.bottom=_h(w.bottom,d.bottom),d.left=Gu(w.left,d.left),d},F5(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function gR(r){const{width:e,height:t}=wk(r);return{width:e,height:t}}function vR(r,e,t){const n=Al(e),i=Tl(e),s=t==="fixed",a=nd(r,!0,s,e);let c={scrollLeft:0,scrollTop:0};const u=Nl(0);function d(){u.x=V0(i)}if(n||!n&&!s)if((Ph(e)!=="body"||ep(i))&&(c=B0(e)),n){const v=nd(e,!0,s,e);u.x=v.x+e.clientLeft,u.y=v.y+e.clientTop}else i&&d();s&&!n&&i&&d();const f=i&&!n&&!s?bk(i,c):Nl(0),w=a.left+c.scrollLeft-u.x-f.x,b=a.top+c.scrollTop-u.y-f.y;return{x:w,y:b,width:a.width,height:a.height}}function tv(r){return wa(r).position==="static"}function B5(r,e){if(!Al(r)||wa(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Tl(r)===t&&(t=t.ownerDocument.body),t}function Sk(r,e){const t=Jo(r);if(F0(r))return t;if(!Al(r)){let i=du(r);for(;i&&!bh(i);){if(uo(i)&&!tv(i))return i;i=du(i)}return t}let n=B5(r,e);for(;n&&CL(n)&&tv(n);)n=B5(n,e);return n&&bh(n)&&tv(n)&&!Ay(n)?t:n||DL(r)||t}const yR=async function(r){const e=this.getOffsetParent||Sk,t=this.getDimensions,n=await t(r.floating);return{reference:vR(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function wR(r){return wa(r).direction==="rtl"}const xR={convertOffsetParentRelativeRectToViewportRelativeRect:lR,getDocumentElement:Tl,getClippingRect:mR,getOffsetParent:Sk,getElementRects:yR,getClientRects:cR,getDimensions:gR,getScale:eh,isElement:uo,isRTL:wR};function kk(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function bR(r,e){let t=null,n;const i=Tl(r);function s(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const d=r.getBoundingClientRect(),{left:f,top:w,width:b,height:v}=d;if(c||e(),!b||!v)return;const E=Yp(w),D=Yp(i.clientWidth-(f+b)),T=Yp(i.clientHeight-(w+v)),P=Yp(f),V={rootMargin:-E+"px "+-D+"px "+-T+"px "+-P+"px",threshold:Gu(0,_h(1,u))||1};let H=!0;function ie(de){const q=de[0].intersectionRatio;if(q!==u){if(!H)return a();q?a(!1,q):n=setTimeout(()=>{a(!1,1e-7)},1e3)}q===1&&!kk(d,r.getBoundingClientRect())&&a(),H=!1}try{t=new IntersectionObserver(ie,{...V,root:i.ownerDocument})}catch{t=new IntersectionObserver(ie,V)}t.observe(r)}return a(!0),s}function _R(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=Ly(r),f=i||s?[...d?Uf(d):[],...Uf(e)]:[];f.forEach(P=>{i&&P.addEventListener("scroll",t,{passive:!0}),s&&P.addEventListener("resize",t)});const w=d&&c?bR(d,t):null;let b=-1,v=null;a&&(v=new ResizeObserver(P=>{let[U]=P;U&&U.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var V;(V=v)==null||V.observe(e)})),t()}),d&&!u&&v.observe(d),v.observe(e));let E,D=u?nd(r):null;u&&T();function T(){const P=nd(r);D&&!kk(D,P)&&t(),D=P,E=requestAnimationFrame(T)}return t(),()=>{var P;f.forEach(U=>{i&&U.removeEventListener("scroll",t),s&&U.removeEventListener("resize",t)}),w?.(),(P=v)==null||P.disconnect(),v=null,u&&cancelAnimationFrame(E)}}const SR=sR,kR=nR,U5=tR,ER=(r,e,t)=>{const n=new Map,i={platform:xR,...t},s={...i.platform,_c:n};return ZL(r,e,{...i,platform:s})};var NR=typeof document<"u",CR=function(){},Sm=NR?Se.useLayoutEffect:CR;function s0(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!s0(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const s=i[n];if(!(s==="_owner"&&r.$$typeof)&&!s0(r[s],e[s]))return!1}return!0}return r!==r&&e!==e}function Ek(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function V5(r,e){const t=Ek(r);return Math.round(e*t)/t}function nv(r){const e=Se.useRef(r);return Sm(()=>{e.current=r}),e}function IR(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:c=!0,whileElementsMounted:u,open:d}=r,[f,w]=Se.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,v]=Se.useState(n);s0(b,n)||v(n);const[E,D]=Se.useState(null),[T,P]=Se.useState(null),U=Se.useCallback(oe=>{oe!==de.current&&(de.current=oe,D(oe))},[]),V=Se.useCallback(oe=>{oe!==q.current&&(q.current=oe,P(oe))},[]),H=s||E,ie=a||T,de=Se.useRef(null),q=Se.useRef(null),O=Se.useRef(f),M=u!=null,z=nv(u),N=nv(i),I=nv(d),L=Se.useCallback(()=>{if(!de.current||!q.current)return;const oe={placement:e,strategy:t,middleware:b};N.current&&(oe.platform=N.current),ER(de.current,q.current,oe).then(_e=>{const ge={..._e,isPositioned:I.current!==!1};ee.current&&!s0(O.current,ge)&&(O.current=ge,yk.flushSync(()=>{w(ge)}))})},[b,e,t,N,I]);Sm(()=>{d===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,w(oe=>({...oe,isPositioned:!1})))},[d]);const ee=Se.useRef(!1);Sm(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Sm(()=>{if(H&&(de.current=H),ie&&(q.current=ie),H&&ie){if(z.current)return z.current(H,ie,L);L()}},[H,ie,L,z,M]);const ve=Se.useMemo(()=>({reference:de,floating:q,setReference:U,setFloating:V}),[U,V]),Ne=Se.useMemo(()=>({reference:H,floating:ie}),[H,ie]),be=Se.useMemo(()=>{const oe={position:t,left:0,top:0};if(!Ne.floating)return oe;const _e=V5(Ne.floating,f.x),ge=V5(Ne.floating,f.y);return c?{...oe,transform:"translate("+_e+"px, "+ge+"px)",...Ek(Ne.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:_e,top:ge}},[t,c,Ne.floating,f.x,f.y]);return Se.useMemo(()=>({...f,update:L,refs:ve,elements:Ne,floatingStyles:be}),[f,L,ve,Ne,be])}const AR=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?U5({element:n.current,padding:i}).fn(t):{}:n?U5({element:n,padding:i}).fn(t):{}}}},TR=(r,e)=>({...SR(r),options:[r,e]}),PR=(r,e)=>({...kR(r),options:[r,e]}),DR=(r,e)=>({...AR(r),options:[r,e]}),LR={...Rb};let z5=!1,RR=0;const q5=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+RR++;function MR(){const[r,e]=Se.useState(()=>z5?q5():void 0);return i0(()=>{r==null&&e(q5())},[]),Se.useEffect(()=>{z5=!0},[]),r}const OR=LR.useId,Nk=OR||MR,jR=Se.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:s,shift:a}},width:c=14,height:u=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:w,stroke:b,d:v,style:{transform:E,...D}={},...T}=e,P=Nk(),[U,V]=Se.useState(!1);if(i0(()=>{if(!i)return;wa(i).direction==="rtl"&&V(!0)},[i]),!i)return null;const[H,ie]=n.split("-"),de=H==="top"||H==="bottom";let q=w;(de&&a!=null&&a.x||!de&&a!=null&&a.y)&&(q=null);const O=f*2,M=O/2,z=c/2*(d/-8+1),N=u/2*d/4,I=!!v,L=q&&ie==="end"?"bottom":"top";let ee=q&&ie==="end"?"right":"left";q&&U&&(ee=ie==="end"?"left":"right");const ve=s?.x!=null?q||s.x:"",Ne=s?.y!=null?q||s.y:"",be=v||"M0,0"+(" H"+c)+(" L"+(c-z)+","+(u-N))+(" Q"+c/2+","+u+" "+z+","+(u-N))+" Z",oe={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[H];return g.jsxs("svg",{...T,"aria-hidden":!0,ref:t,width:I?c:c+O,height:c,viewBox:"0 0 "+c+" "+(u>c?u:c),style:{position:"absolute",pointerEvents:"none",[ee]:ve,[L]:Ne,[H]:de||I?"100%":"calc(100% - "+O/2+"px)",transform:[oe,E].filter(_e=>!!_e).join(" "),...D},children:[O>0&&g.jsx("path",{clipPath:"url(#"+P+")",fill:"none",stroke:b,strokeWidth:O+(v?0:1),d:be}),g.jsx("path",{stroke:O&&!v?T.fill:"none",d:be}),g.jsx("clipPath",{id:P,children:g.jsx("rect",{x:-M,y:M*(I?-1:1),width:c+O,height:c})})]})});function FR(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const BR=Se.createContext(null),UR=Se.createContext(null),VR=()=>{var r;return((r=Se.useContext(BR))==null?void 0:r.id)||null},zR=()=>Se.useContext(UR);function qR(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=Nk(),s=Se.useRef({}),[a]=Se.useState(()=>FR()),c=VR()!=null,[u,d]=Se.useState(n.reference),f=XL((v,E,D)=>{s.current.openEvent=v?E:void 0,a.emit("openchange",{open:v,event:E,reason:D,nested:c}),t?.(v,E,D)}),w=Se.useMemo(()=>({setPositionReference:d}),[]),b=Se.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return Se.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:b,events:a,floatingId:i,refs:w}),[e,f,b,a,i,w])}function HR(r){r===void 0&&(r={});const{nodeId:e}=r,t=qR({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[s,a]=Se.useState(null),[c,u]=Se.useState(null),f=i?.domReference||s,w=Se.useRef(null),b=zR();i0(()=>{f&&(w.current=f)},[f]);const v=IR({...r,elements:{...i,...c&&{reference:c}}}),E=Se.useCallback(V=>{const H=uo(V)?{getBoundingClientRect:()=>V.getBoundingClientRect(),getClientRects:()=>V.getClientRects(),contextElement:V}:V;u(H),v.refs.setReference(H)},[v.refs]),D=Se.useCallback(V=>{(uo(V)||V===null)&&(w.current=V,a(V)),(uo(v.refs.reference.current)||v.refs.reference.current===null||V!==null&&!uo(V))&&v.refs.setReference(V)},[v.refs]),T=Se.useMemo(()=>({...v.refs,setReference:D,setPositionReference:E,domReference:w}),[v.refs,D,E]),P=Se.useMemo(()=>({...v.elements,domReference:f}),[v.elements,f]),U=Se.useMemo(()=>({...v,...n,refs:T,elements:P,nodeId:e}),[v,T,P,e,n]);return i0(()=>{n.dataRef.current.floatingContext=U;const V=b?.nodesRef.current.find(H=>H.id===e);V&&(V.context=U)}),Se.useMemo(()=>({...v,context:U,refs:T,elements:P}),[v,T,P,U])}var u1=function(e,t){return u1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},u1(e,t)};function As(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u1(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var An=function(){return An=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},An.apply(this,arguments)};function wl(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))}var WR=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,s=r.className,a=r.children,c=r.inline,u=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return Ve.createElement("div",{className:s,"aria-label":u,role:c?void 0:"dialog","aria-modal":c?void 0:"true",translate:"no"},a)},$R=function(r,e){var t=Se.useRef(null),n=Se.useRef(r);Se.useEffect(function(){n.current=r},[r]);var i=Se.useCallback(function(s){var a,c=s.composed&&s.composedPath&&s.composedPath().find(function(u){return u instanceof Node})||s.target;t.current&&!t.current.contains(c)&&(e&&c instanceof HTMLElement&&c.classList.contains(e)||(a=n.current)===null||a===void 0||a.call(n,s))},[e]);return Se.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},z0=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,s=r.style,a=r.ignoreClass,c=$R(t,a);return Ve.createElement("div",{className:n,style:s,ref:function(u){c.current=u,i&&(i.current=u)}},e)},Gp=null,H5=!1;function Ck(){if(H5)return Gp;H5=!0;try{var r="date-fns-tz";Gp=require(r)}catch{Gp=null}return Gp}function W5(r,e){if(!e)return r;var t=Ck();return t?t.toZonedTime(r,e):r}function Ql(r,e){if(!e)return r;var t=Ck();return t?t.fromZonedTime(r,e):r}var wt;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(wt||(wt={}));function Ik(){var r=typeof window<"u"?window:globalThis;return r}var np=12;function tr(r){if(r==null)return new Date;var e=typeof r=="string"?cL(r):Wt(r);return Io(e)?e:new Date}function Ru(r,e,t,n,i){i===void 0&&(i=tr());for(var s=kh(t)||kh(Ry()),a=Array.isArray(e)?e:[e],c=0,u=a;c<u.length;c++){var d=u[c],f=rL(r,d,i,{locale:s});if(Io(f)&&(!n||r===Wr(f,d,t)))return f}if(!n&&r&&r.length>=8){var w=new Date(r);if(xh(w))return w}return null}function YR(r,e){if(e===void 0&&(e=tr()),!r)return null;var t=r.match(/\b(1\d{3}|2\d{3})\b/);if(!t||!t[1])return null;var n=parseInt(t[1],10),i=r.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),s=i&&i[1]?parseInt(i[1],10)-1:e.getMonth();return new Date(n,s,1)}function Io(r){return xh(r)}function qu(r){return r==null?null:El(r)&&xh(r)?r:null}function Wr(r,e,t){if(t==="en")return T5(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?kh(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||kh(Ry()),T5(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Co(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Wr(r,i,n)||""}var Ak=" - ";function GR(r,e,t){if(!r&&!e)return"";var n=r?Co(r,t):"",i=e?Co(e,t):"",s=t.rangeSeparator||Ak;return"".concat(n).concat(s).concat(i)}function KR(r,e){if(!r?.length)return"";var t=r[0]?Co(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=Co(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function Xl(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,s=i===void 0?0:i,a=e.second,c=a===void 0?0:a;return xm(bm(_m(r,c),s),n)}function QR(r){return Ey(r)}function XR(r,e){return Wr(r,"ddd",e)}function yf(r){return td(r)}function ou(r,e,t){var n=kh(e||Ry());return pc(r,{locale:n,weekStartsOn:t})}function lc(r){return ik(r)}function wf(r){return O0(r)}function $5(r){return s1(r)}function Y5(){return td(tr())}function G5(r){return nk(r)}function JR(r){return cD(r)}function ZR(r){return rk(r)}function fl(r,e){return r&&e?aL(r,e):!r&&!e}function co(r,e){return r&&e?sL(r,e):!r&&!e}function o0(r,e){return r&&e?oL(r,e):!r&&!e}function Un(r,e){return r&&e?aD(r,e):!r&&!e}function Hu(r,e){return r&&e?l6(r,e):!r&&!e}function ju(r,e,t){var n,i=td(e),s=nk(t);try{n=Bf(r,{start:i,end:s})}catch{n=!1}return n}function Ry(){var r=Ik();return r.__localeId__}function kh(r){if(typeof r=="string"){var e=Ik();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function eM(r,e,t){return e(Wr(r,"EEEE",t))}function tM(r,e){return Wr(r,"EEEEEE",e)}function nM(r,e){return Wr(r,"EEE",e)}function My(r,e){return Wr(Yo(tr(),r),"LLLL",e)}function Tk(r,e){return Wr(Yo(tr(),r),"LLL",e)}function rM(r,e){return Wr(qd(tr(),r),"QQQ",e)}function ga(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.excludeDateIntervals,c=t.includeDates,u=t.includeDateIntervals,d=t.filterDate,f=t.disabled;return f?!0:rp(r,{minDate:n,maxDate:i})||s&&s.some(function(w){return w instanceof Date?Un(r,w):Un(r,w.date)})||a&&a.some(function(w){var b=w.start,v=w.end;return Bf(r,{start:b,end:v})})||c&&!c.some(function(w){return Un(r,w)})||u&&!u.some(function(w){var b=w.start,v=w.end;return Bf(r,{start:b,end:v})})||d&&!d(tr(r))||!1}function Oy(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var a=s.start,c=s.end;return Bf(r,{start:a,end:c})}):n&&n.some(function(s){var a;return s instanceof Date?Un(r,s):Un(r,(a=s.date)!==null&&a!==void 0?a:new Date)})||!1}function Pk(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,c=t.filterDate;return rp(r,{minDate:n?ik(n):void 0,maxDate:i?rk(i):void 0})||s?.some(function(u){return co(r,u instanceof Date?u:u.date)})||a&&!a.some(function(u){return co(r,u)})||c&&!c(tr(r))||!1}function Kp(r,e,t,n){var i=Bn(r),s=To(r),a=Bn(e),c=To(e),u=Bn(n);return i===a&&i===u?s<=t&&t<=c:i<a?u===i&&s<=t||u===a&&c>=t||u<a&&u>i:!1}function iM(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates;return rp(r,{minDate:n,maxDate:i})||s&&s.some(function(c){return co(c instanceof Date?c:c.date,r)})||a&&!a.some(function(c){return co(c,r)})||!1}function Qp(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,c=t.filterDate,u=t.disabled;return u?!0:rp(r,{minDate:n,maxDate:i})||s?.some(function(d){return o0(r,d instanceof Date?d:d.date)})||a&&!a.some(function(d){return o0(r,d)})||c&&!c(tr(r))||!1}function Xp(r,e,t){if(!e||!t||!xh(e)||!xh(t))return!1;var n=Bn(e),i=Bn(t);return n<=r&&i>=r}function km(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,c=t.filterDate,u=t.disabled;if(u)return!0;var d=new Date(r,0,1);return rp(d,{minDate:n?O0(n):void 0,maxDate:i?sk(i):void 0})||s?.some(function(f){return fl(d,f instanceof Date?f:f.date)})||a&&!a.some(function(f){return fl(d,f)})||c&&!c(tr(d))||!1}function Jp(r,e,t,n){var i=Bn(r),s=Xc(r),a=Bn(e),c=Xc(e),u=Bn(n);return i===a&&i===u?s<=t&&t<=c:i<a?u===i&&s<=t||u===a&&c>=t||u<a&&u>i:!1}function rp(r,e){var t,n=e===void 0?{}:e,i=n.minDate,s=n.maxDate;return(t=i&&wh(r,i)<0||s&&wh(r,s)>0)!==null&&t!==void 0?t:!1}function K5(r,e){return e.some(function(t){return $s(t)===$s(r)&&Ys(t)===Ys(r)&&su(t)===su(r)})}function Q5(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,s=t.filterTime;return n&&K5(r,n)||i&&!K5(r,i)||s&&!s(r)||!1}function X5(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=tr();i=xm(i,$s(r)),i=bm(i,Ys(r)),i=_m(i,su(r));var s=tr();s=xm(s,$s(t)),s=bm(s,Ys(t)),s=_m(s,su(t));var a=tr();a=xm(a,$s(n)),a=bm(a,Ys(n)),a=_m(a,su(n));var c;try{c=!Bf(i,{start:s,end:a})}catch{c=!1}return c}function J5(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,s=Yu(r,1);return n&&Xm(n,s)>0||i&&i.every(function(a){return Xm(a,s)>0})||!1}function Z5(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,s=$a(r,1);return n&&Xm(s,n)>0||i&&i.every(function(a){return Xm(s,a)>0})||!1}function sM(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,s=O0(r),a=pk(s);return n&&Jm(n,a)>0||i&&i.every(function(c){return Jm(c,a)>0})||!1}function oM(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,s=sk(r),a=ky(s,1);return n&&Jm(a,n)>0||i&&i.every(function(c){return Jm(a,c)>0})||!1}function ex(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,s=uu(r,1);return n&&Zm(n,s)>0||i&&i.every(function(a){return Zm(a,s)>0})||!1}function aM(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,s=i===void 0?np:i,a=wf(uu(r,s)),c=sc(a,s).endPeriod,u=n&&Bn(n);return u&&u>c||!1}function tx(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,s=Ha(r,1);return n&&Zm(s,n)>0||i&&i.every(function(a){return Zm(s,a)>0})||!1}function lM(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,s=i===void 0?np:i,a=Ha(r,s),c=sc(a,s).startPeriod,u=n&&Bn(n);return u&&u<c||!1}function Dk(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return wh(i,e)>=0});return k5(n)}else return t?k5(t):e}function Lk(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return wh(i,e)<=0});return S5(n)}else return t?S5(t):e}function nx(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,s=r.length;i<s;i++){var a=r[i];if(El(a)){var c=Wr(a,"MM.dd.yyyy"),u=n.get(c)||[];u.includes(e)||(u.push(e),n.set(c,u))}else if(typeof a=="object"){var d=Object.keys(a),f=(t=d[0])!==null&&t!==void 0?t:"",w=a[f];if(typeof f=="string"&&Array.isArray(w))for(var b=0,v=w.length;b<v;b++){var E=w[b];if(E){var c=Wr(E,"MM.dd.yyyy"),u=n.get(c)||[];u.includes(f)||(u.push(f),n.set(c,u))}}}}return n}function cM(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function uM(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,s=n.holidayName;if(El(i)){var a=Wr(i,"MM.dd.yyyy"),c=t.get(a)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&cM(c.holidayNames,[s]))){c.className=e;var u=c.holidayNames;c.holidayNames=u?wl(wl([],u,!0),[s],!1):[s],t.set(a,c)}}}),t}function dM(r,e,t,n,i){for(var s=i.length,a=[],c=0;c<s;c++){var u=r,d=i[c];d&&(u=rD(u,$s(d)),u=Ff(u,Ys(d)),u=oD(u,su(d)));var f=Ff(r,(t+1)*n);ac(u,e)&&yl(u,f)&&d!=null&&a.push(d)}return a}function Rd(r){return r<10?"0".concat(r):"".concat(r)}function sc(r,e){e===void 0&&(e=np);var t=Math.ceil(Bn(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function hM(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function rx(r){var e=r.getSeconds(),t=r.getMilliseconds();return Wt(r.getTime()-e*1e3-t)}function Rk(r,e){return rx(r).getTime()===rx(e).getTime()}function ix(r){if(!El(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function rv(r,e){if(!El(r)||!El(e))throw new Error("Invalid date received");var t=ix(r),n=ix(e);return yl(t,n)}function Mk(r){return r.key===wt.Space}var iv=(function(r){As(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=Ve.createRef(),n.onTimeChange=function(i){var s,a;n.setState({time:i});var c=n.props.date,u=c instanceof Date&&!isNaN(+c),d=u?c:new Date;if(i?.includes(":")){var f=i.split(":"),w=f[0],b=f[1];d.setHours(Number(w)),d.setMinutes(Number(b))}(a=(s=n.props).onChange)===null||a===void 0||a.call(s,d)},n.renderTimeInput=function(){var i=n.state.time,s=n.props,a=s.date,c=s.timeString,u=s.customTimeInput;return u?Se.cloneElement(u,{date:a,value:i,onChange:n.onTimeChange}):Ve.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){n.onTimeChange(d.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return Ve.createElement("div",{className:"react-datepicker__input-time-container"},Ve.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Ve.createElement("div",{className:"react-datepicker-time__input-container"},Ve.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(Se.Component),fM=(function(r){As(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=Se.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,s,a=n.key;a===wt.Space&&(n.preventDefault(),n.key=wt.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,n)},t.isSameDay=function(n){return Un(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),ga(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Oy(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Un(t.props.day,ou(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Un(n,ou(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,s=n.highlightDates;if(!s)return!1;var a=Wr(i,"MM.dd.yyyy");return s.get(a)},t.getHolidaysClass=function(){var n,i=t.props,s=i.day,a=i.holidays;if(!a)return[void 0];var c=Wr(s,"MM.dd.yyyy");return a.has(c)?[(n=a.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,s=n.startDate,a=n.endDate;return!s||!a?!1:ju(i,s,a)},t.isInSelectingRange=function(){var n,i=t.props,s=i.day,a=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,d=i.selectsDisabledDaysInRange,f=i.startDate,w=i.swapRange,b=i.endDate,v=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;if(t.isAfterMonth()||t.isBeforeMonth()||!(a||c||u)||!v||!d&&t.isDisabled())return!1;if(a&&b&&(yl(v,b)||Hu(v,b)))return ju(s,v,b);if(c&&f&&(ac(v,f)||Hu(v,f)))return ju(s,f,v);if(u&&f&&!b){if(Hu(v,f)||ac(v,f))return ju(s,f,v);if(w&&yl(v,f))return ju(s,v,f)}return!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.startDate,c=i.selectsStart,u=i.swapRange,d=i.selectsRange,f=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Un(s,f):d&&u&&a&&f?Un(s,yl(f,a)?f:a):Un(s,a)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.endDate,c=i.selectsEnd,u=i.selectsRange,d=i.swapRange,f=i.startDate,w=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Un(s,w):u&&d&&f&&w?Un(s,yl(w,f)?f:w):u?Un(s,w):Un(s,a)},t.isRangeStart=function(){var n=t.props,i=n.day,s=n.startDate,a=n.endDate;return!s||!a?!1:Un(s,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,s=n.startDate,a=n.endDate;return!s||!a?!1:Un(a,i)},t.isWeekend=function(){var n=i6(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===To(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(To(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(tr())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return rs("react-datepicker__day",i,"react-datepicker__day--"+XR(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,s=n.ariaLabelPrefixWhenEnabled,a=s===void 0?"Choose":s,c=n.ariaLabelPrefixWhenDisabled,u=c===void 0?"Not available":c,d=t.isDisabled()||t.isExcluded()?u:a;return"".concat(d," ").concat(Wr(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,s=n.holidays,a=s===void 0?new Map:s,c=n.excludeDates,u=Wr(i,"MM.dd.yyyy"),d=[];return a.has(u)&&d.push.apply(d,a.get(u).holidayNames),t.isExcluded()&&d.push(c?.filter(function(f){return f instanceof Date?Un(f,i):Un(f?.date,i)}).map(function(f){if(!(f instanceof Date))return f?.message})),d.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Un(i,n))?0:-1;return s},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(P5(t.props.day),t.props.day):P5(t.props.day)},t.render=function(){return Ve.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Ve.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(Se.Component),pM=(function(r){As(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=Se.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,s,a=n.key;a===wt.Space&&(n.preventDefault(),n.key=wt.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Un(t.props.date,t.props.selected)&&Un(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Un(t.props.date,t.props.selected)&&Un(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!n?.isInputFocused&&Un(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,s=t.ariaLabelPrefix,a=s===void 0?e.defaultProps.ariaLabelPrefix:s,c=t.onClick,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&Un(this.props.date,this.props.selected)};return Ve.createElement("div",{ref:this.weekNumberEl,className:rs(u),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(Se.Component),mM=(function(r){As(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return ga(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,s){for(var a,c,u,d=new Date(n),f=0;f<7;f++){var w=new Date(n);w.setDate(w.getDate()+f);var b=!t.isDisabled(w);if(b){d=w;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,s),t.props.showWeekPicker&&t.handleDayClick(d,s),((a=t.props.shouldCloseOnSelect)!==null&&a!==void 0?a:e.defaultProps.shouldCloseOnSelect)&&((u=(c=t.props).setOpen)===null||u===void 0||u.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):QR(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=qa(n,6),s=new Date(n);s<=i;){if(!t.isDisabled(s))return!1;s=qa(s,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],s=t.formatWeekNumber(n);if(t.props.showWeekNumber){var a=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,s):void 0;i.push(Ve.createElement(pM,An({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:a})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var u=qa(n,c);return Ve.createElement(fM,An({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:t.handleDayClick.bind(t,u),onMouseEnter:t.handleDayMouseEnter.bind(t,u)}))}))},t.startOfWeek=function(){return ou(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Un(t.startOfWeek(),t.props.selected)&&Un(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Un(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return Ve.createElement("div",{className:rs(t,n),role:"row"},this.renderDays())},e})(Se.Component),cf,gM=6,th={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},sv=(cf={},cf[th.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},cf[th.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},cf[th.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},cf),Zp=1;function sx(r,e){return r?th.FOUR_COLUMNS:e?th.TWO_COLUMNS:th.THREE_COLUMNS}var vM=(function(r){As(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=wl([],Array(12),!0).map(function(){return Se.createRef()}),t.QUARTER_REFS=wl([],Array(4),!0).map(function(){return Se.createRef()}),t.isDisabled=function(n){return ga(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(n){return Oy(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var s,a;(a=(s=t.props).onDayClick)===null||a===void 0||a.call(s,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,s;(s=(i=t.props).onDayMouseEnter)===null||s===void 0||s.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate;return!a||!c?!1:co(Yo(s,n),a)},t.isRangeStartQuarter=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate;return!a||!c?!1:o0(qd(s,n),a)},t.isRangeEndMonth=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate;return!a||!c?!1:co(Yo(s,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate;return!a||!c?!1:o0(qd(s,n),c)},t.isInSelectingRangeMonth=function(n){var i,s=t.props,a=s.day,c=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,f=s.startDate,w=s.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||u||d)||!b?!1:c&&w?Kp(b,w,n,a):u&&f||d&&f&&!w?Kp(f,b,n,a):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,a=s.day,c=s.startDate,u=s.selectsStart,d=Yo(a,n),f=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u?co(d,f):co(d,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,a=s.day,c=s.endDate,u=s.selectsEnd,d=s.selectsRange,f=Yo(a,n),w=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u||d?co(f,w):co(f,c)},t.isInSelectingRangeQuarter=function(n){var i,s=t.props,a=s.day,c=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,f=s.startDate,w=s.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||u||d)||!b?!1:c&&w?Jp(b,w,n,a):u&&f||d&&f&&!w?Jp(f,b,n,a):!1},t.isWeekInMonth=function(n){var i=t.props.day,s=qa(n,6);return co(n,i)||co(s,i)},t.isCurrentMonth=function(n,i){return Bn(n)===Bn(tr())&&i===To(tr())},t.isCurrentQuarter=function(n,i){return Bn(n)===Bn(tr())&&i===Xc(tr())},t.isSelectedMonth=function(n,i,s){return To(s)===i&&Bn(n)===Bn(s)},t.isSelectMonthInList=function(n,i,s){return s.some(function(a){return t.isSelectedMonth(n,i,a)})},t.isSelectedQuarter=function(n,i,s){return Xc(s)===i&&Bn(n)===Bn(s)},t.isSelectQuarterInList=function(n,i,s){return s.some(function(a){return t.isSelectedQuarter(n,i,a)})},t.isMonthSelected=function(){var n=t.props,i=n.day,s=n.selected,a=n.selectedDates,c=n.selectsMultiple,u=To(i);return c?a?.some(function(d){return t.isSelectedMonth(i,u,d)}):!!s&&t.isSelectedMonth(i,u,s)},t.isQuarterSelected=function(){var n=t.props,i=n.day,s=n.selected,a=n.selectedDates,c=n.selectsMultiple,u=Xc(i);return c?a?.some(function(d){return t.isSelectedQuarter(i,u,d)}):!!s&&t.isSelectedQuarter(i,u,s)},t.renderWeeks=function(){if(!Io(t.props.day))return[];for(var n=[],i=t.props.fixedHeight,s=0,a=!1,c=ou(lc(t.props.day),t.props.locale,t.props.calendarStartDay),u=function(E){return t.props.showWeekPicker?ou(E,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(E){return t.props.showWeekPicker?ou(E,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,w=t.props.preSelection?u(t.props.preSelection):void 0;n.push(Ve.createElement(mM,An({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:c,month:To(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:w,showWeekNumber:t.props.showWeekNumbers}))),!a;){s++,c=Qm(c,1);var b=i&&s>=gM,v=!i&&!t.isWeekInMonth(c);if(b||v)if(t.props.peekNextMonth)a=!0;else break}return n},t.onMonthClick=function(n,i){var s=t.isMonthDisabledForLabelDate(i),a=s.isDisabled,c=s.labelDate;a||t.handleDayClick(lc(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),s=i.isDisabled,a=i.labelDate;s||t.handleDayMouseEnter(lc(a))},t.handleMonthNavigation=function(n,i){var s,a,c,u;(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(u=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()},t.handleKeyboardNavigation=function(n,i,s){var a,c=t.props,u=c.selected,d=c.preSelection,f=c.setPreSelection,w=c.minDate,b=c.maxDate,v=c.showFourColumnMonthYearPicker,E=c.showTwoColumnMonthYearPicker;if(d){var D=sx(v,E),T=t.getVerticalOffset(D),P=(a=sv[D])===null||a===void 0?void 0:a.grid,U=function(q,O,M){var z,N,I=O,L=M;switch(q){case wt.ArrowRight:I=$a(O,Zp),L=M===11?0:M+Zp;break;case wt.ArrowLeft:I=Yu(O,Zp),L=M===0?11:M-Zp;break;case wt.ArrowUp:I=Yu(O,T),L=!((z=P?.[0])===null||z===void 0)&&z.includes(M)?M+12-T:M-T;break;case wt.ArrowDown:I=$a(O,T),L=!((N=P?.[P.length-1])===null||N===void 0)&&N.includes(M)?M-12+T:M+T;break}return{newCalculatedDate:I,newCalculatedMonth:L}},V=function(q,O,M){for(var z=40,N=q,I=!1,L=0,ee=U(N,O,M),ve=ee.newCalculatedDate,Ne=ee.newCalculatedMonth;!I;){if(L>=z){ve=O,Ne=M;break}if(w&&ve<w){N=wt.ArrowRight;var be=U(N,ve,Ne);ve=be.newCalculatedDate,Ne=be.newCalculatedMonth}if(b&&ve>b){N=wt.ArrowLeft;var be=U(N,ve,Ne);ve=be.newCalculatedDate,Ne=be.newCalculatedMonth}if(iM(ve,t.props)){var be=U(N,ve,Ne);ve=be.newCalculatedDate,Ne=be.newCalculatedMonth}else I=!0;L++}return{newCalculatedDate:ve,newCalculatedMonth:Ne}};if(i===wt.Enter){t.isMonthDisabled(s)||(t.onMonthClick(n,s),f?.(u));return}var H=V(i,d,s),ie=H.newCalculatedDate,de=H.newCalculatedMonth;switch(i){case wt.ArrowRight:case wt.ArrowLeft:case wt.ArrowUp:case wt.ArrowDown:t.handleMonthNavigation(de,ie);break}}},t.getVerticalOffset=function(n){var i,s;return(s=(i=sv[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(n,i){var s=t.props,a=s.disabledKeyboardNavigation,c=s.handleOnMonthKeyDown,u=n.key;u!==wt.Tab&&n.preventDefault(),a||t.handleKeyboardNavigation(n,u,i),c&&c(n)},t.onQuarterClick=function(n,i){var s=qd(t.props.day,i);Qp(s,t.props)||t.handleDayClick($5(s),n)},t.onQuarterMouseEnter=function(n){var i=qd(t.props.day,n);Qp(i,t.props)||t.handleDayMouseEnter($5(i))},t.handleQuarterNavigation=function(n,i){var s,a,c,u;t.isDisabled(i)||t.isExcluded(i)||((a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(u=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())},t.onQuarterKeyDown=function(n,i){var s,a,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case wt.Enter:t.onQuarterClick(n,i),(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,t.props.selected);break;case wt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,ky(t.props.preSelection,1));break;case wt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,pk(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,s=t.props,a=s.day,c=s.disabled,u=s.minDate,d=s.maxDate,f=s.excludeDates,w=s.includeDates,b=Yo(a,n);return c?{isDisabled:!0,labelDate:Yo(a,n)}:{isDisabled:(i=(u||d||f||w)&&Pk(b,t.props))!==null&&i!==void 0?i:!1,labelDate:b}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate,u=i.preSelection,d=i.monthClassName,f=d?d(Yo(s,n)):void 0,w=t.getSelection();return rs("react-datepicker__month-text","react-datepicker__month-".concat(n),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":w?t.isSelectMonthInList(s,n,w):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&u&&t.isSelectedMonth(s,n,u)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":a&&c?Kp(a,c,n,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(s,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=To(t.props.preSelection),s=t.isMonthDisabledForLabelDate(i).isDisabled,a=n===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Xc(t.props.preSelection),s=Qp(t.props.day,t.props),a=n===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getAriaLabel=function(n){var i=t.props,s=i.chooseDayAriaLabelPrefix,a=s===void 0?"Choose":s,c=i.disabledDayAriaLabelPrefix,u=c===void 0?"Not available":c,d=i.day,f=i.locale,w=Yo(d,n),b=t.isDisabled(w)||t.isExcluded(w)?u:a;return"".concat(b," ").concat(Wr(w,"MMMM yyyy",f))},t.getQuarterClassNames=function(n){var i=t.props,s=i.day,a=i.startDate,c=i.endDate,u=i.minDate,d=i.maxDate,f=i.excludeDates,w=i.includeDates,b=i.filterDate,v=i.preSelection,E=i.disabledKeyboardNavigation,D=i.disabled,T=(u||d||f||w||b||D)&&Qp(qd(s,n),t.props),P=t.getSelection();return rs("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":T,"react-datepicker__quarter-text--selected":P?t.isSelectQuarterInList(s,n,P):void 0,"react-datepicker__quarter-text--keyboard-selected":!E&&v&&t.isSelectedQuarter(s,n,v)&&!t.isQuarterSelected()&&!T,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":a&&c?Jp(a,c,n,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,n)})},t.getMonthContent=function(n){var i=t.props,s=i.showFullMonthYearPicker,a=i.renderMonthContent,c=i.locale,u=i.day,d=Tk(n,c),f=My(n,c);return a?a(n,d,f,u):s?f:d},t.getQuarterContent=function(n){var i,s=t.props,a=s.renderQuarterContent,c=s.locale,u=rM(n,c);return(i=a?.(n,u))!==null&&i!==void 0?i:u},t.renderMonths=function(){var n,i=t.props,s=i.showTwoColumnMonthYearPicker,a=i.showFourColumnMonthYearPicker,c=i.day,u=i.selected,d=(n=sv[sx(a,s)])===null||n===void 0?void 0:n.grid;return d?.map(function(f,w){return Ve.createElement("div",{className:"react-datepicker__month-wrapper",key:w},f.map(function(b,v){return Ve.createElement("div",{ref:t.MONTH_REFS[b],key:v,onClick:function(E){t.onMonthClick(E,b)},onKeyDown:function(E){Mk(E)&&(E.preventDefault(),E.key=wt.Enter),t.onMonthKeyDown(E,b)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(b)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(b)}:void 0,tabIndex:Number(t.getTabIndex(b)),className:t.getMonthClassNames(b),"aria-disabled":t.isMonthDisabled(b),role:"option","aria-label":t.getAriaLabel(b),"aria-current":t.isCurrentMonth(c,b)?"date":void 0,"aria-selected":u?t.isSelectedMonth(c,b,u):void 0},t.getMonthContent(b))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,s=n.selected,a=[1,2,3,4];return Ve.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(c,u){return Ve.createElement("div",{key:u,ref:t.QUARTER_REFS[u],role:"option",onClick:function(d){t.onQuarterClick(d,c)},onKeyDown:function(d){t.onQuarterKeyDown(d,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":s?t.isSelectedQuarter(i,c,s):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,s=n.selectsStart,a=n.selectsEnd,c=n.showMonthYearPicker,u=n.showQuarterYearPicker,d=n.showWeekPicker;return rs("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||a)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":d})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,s=t.selectsMultiple;if(s)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,s=t.day,a=t.ariaLabelPrefix,c=a===void 0?"Month ":a,u=c?c.trim()+" ":"",d=Io(s)?"".concat(u).concat(Wr(s,"MMMM, yyyy",this.props.locale)):"",f=n||i;return f?Ve.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":d,role:"listbox"},n?this.renderMonths():this.renderQuarters()):Ve.createElement("div",{role:"table"},this.props.dayNamesHeader&&Ve.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&Ve.createElement("div",{role:"rowgroup"},this.props.monthHeader),Ve.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":d,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&Ve.createElement("div",{role:"rowgroup"},this.props.monthFooter))},e})(Se.Component),yM=(function(r){As(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(n){return t.props.month===n},t.handleOptionKeyDown=function(n,i){var s;switch(i.key){case"Enter":i.preventDefault(),t.onChange(n);break;case"Escape":i.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var a=(n+(i.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(s=t.monthOptionButtonsRef[a])===null||s===void 0||s.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(n,i){return Ve.createElement("div",{ref:function(s){t.monthOptionButtonsRef[i]=s,t.isSelectedMonth(i)&&s?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),onKeyDown:t.handleOptionKeyDown.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?Ve.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return Ve.createElement(z0,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(Se.Component),wM=(function(r){As(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,s){return Ve.createElement("option",{key:i,value:s},i)})},t.renderSelectMode=function(n){return Ve.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return Ve.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Ve.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Ve.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return Ve.createElement(yM,An({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,s=[t.renderReadView(!i,n)];return i&&s.unshift(t.renderDropdown(n)),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return Tk(s,t.props.locale)}:function(s){return My(s,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return Ve.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e})(Se.Component),ox=5;function xM(r,e,t){for(var n=[],i=r??uu(t,ox),s=e??Ha(t,ox),a=lc(i),c=lc(s);!ac(a,c);)n.push(tr(a)),a=$a(a,1);return n}var bM=(function(r){As(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var s=a1(i),a=fl(n.props.date,i)&&co(n.props.date,i);return Ve.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":a?"true":void 0},a?Ve.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Wr(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:xM(n.props.minDate,n.props.maxDate,n.props.date)},n}return e.prototype.render=function(){var t=rs({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Ve.createElement(z0,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(Se.Component),ax=5,_M=(function(r){As(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n,i,s=(n=t.props.minDate)!==null&&n!==void 0?n:uu(t.props.date,ax),a=(i=t.props.maxDate)!==null&&i!==void 0?i:Ha(t.props.date,ax),c=lc(s),u=lc(a),d=[];!ac(c,u);){var f=a1(c);d.push(Ve.createElement("option",{key:f,value:f},Wr(c,t.props.dateFormat,t.props.locale))),c=$a(c,1)}return d},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return Ve.createElement("select",{value:a1(lc(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=Wr(t.props.date,t.props.dateFormat,t.props.locale);return Ve.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Ve.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Ve.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return Ve.createElement(bM,An({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=tr(n);fl(t.props.date,i)&&co(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ve.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(Se.Component),SM=(function(r){As(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(n){var i,s;(t.props.minTime||t.props.maxTime)&&X5(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Q5(n,t.props)||(s=(i=t.props).onChange)===null||s===void 0||s.call(i,n)},t.isSelectedTime=function(n){var i=qu(t.props.selected);return i&&Rk(i,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&X5(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Q5(n,t.props)},t.liClasses=function(n){var i,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&($s(n)*3600+Ys(n)*60+su(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(n,i){var s,a;n.key===wt.Space&&(n.preventDefault(),n.key=wt.Enter),(n.key===wt.ArrowUp||n.key===wt.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===wt.ArrowDown||n.key===wt.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===wt.Enter&&t.handleClick(i),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,n)},t.renderTimes=function(){for(var n,i=[],s=typeof t.props.format=="string"?t.props.format:"p",a=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=qu(t.props.selected)||qu(t.props.openToDate)||tr(),u=yf(c),d=t.props.injectTimes&&t.props.injectTimes.sort(function(T,P){return T.getTime()-P.getTime()}),f=60*hM(c),w=f/a,b=0;b<w;b++){var v=Ff(u,b*a);if(i.push(v),d){var E=dM(u,v,b,a,d);i=i.concat(E)}}var D=i.reduce(function(T,P){return P.getTime()<=c.getTime()?P:T},i[0]);return i.map(function(T){return Ve.createElement("li",{key:T.valueOf(),onClick:t.handleClick.bind(t,T),className:t.liClasses(T),ref:function(P){T===D&&(t.centerLi=P)},onKeyDown:function(P){t.handleOnKeyDown(P,T)},tabIndex:T===D?0:-1,role:"option","aria-selected":t.isSelectedTime(T)?"true":void 0,"aria-disabled":t.isDisabledTime(T)?"true":void 0},Wr(T,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Ve.createElement(Ve.Fragment,null):Ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},Ve.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var t=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==t&&this.setState({height:t})}},e.prototype.render=function(){var t=this,n,i=this.state.height;return Ve.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Ve.createElement("div",{className:"react-datepicker__time"},Ve.createElement("div",{className:"react-datepicker__time-box"},Ve.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e})(Se.Component),lx=3,kM=(function(r){As(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=wl([],Array(n.props.yearItemNumber),!0).map(function(){return Se.createRef()}),n.isDisabled=function(i){return ga(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return Oy(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var s=function(){var a,c;(c=(a=n.YEAR_REFS[i])===null||a===void 0?void 0:a.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(i,s){n.props.onDayClick&&n.props.onDayClick(i,s)},n.handleYearNavigation=function(i,s){var a,c,u,d,f=n.props,w=f.date,b=f.yearItemNumber;if(!(w===void 0||b===void 0)){var v=sc(w,b).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((c=(a=n.props).setPreSelection)===null||c===void 0||c.call(a,s),i-v<0?n.updateFocusOnPaginate(b-(v-i)):i-v>=b?n.updateFocusOnPaginate(Math.abs(b-(i-v))):(d=(u=n.YEAR_REFS[i-v])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())}},n.isSameDay=function(i,s){return Un(i,s)},n.isCurrentYear=function(i){return i===Bn(tr())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&fl(hl(tr(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&fl(hl(tr(),i),n.props.endDate)},n.isInRange=function(i){return Xp(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var s=n.props,a=s.selectsStart,c=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate;return!(a||c||u)||!n.selectingDate()?!1:a&&f?Xp(i,n.selectingDate(),f):c&&d||u&&d&&!f?Xp(i,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var s;if(!n.isInSelectingRange(i))return!1;var a=n.props,c=a.startDate,u=a.selectsStart,d=hl(tr(),i);return u?fl(d,(s=n.selectingDate())!==null&&s!==void 0?s:null):fl(d,c??null)},n.isSelectingRangeEnd=function(i){var s;if(!n.isInSelectingRange(i))return!1;var a=n.props,c=a.endDate,u=a.selectsEnd,d=a.selectsRange,f=hl(tr(),i);return u||d?fl(f,(s=n.selectingDate())!==null&&s!==void 0?s:null):fl(f,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var s=n.props,a=s.minDate,c=s.maxDate,u=s.excludeDates,d=s.includeDates,f=s.filterDate,w=s.selected,b=wf(hl(n.props.date,i)),v=(a||c||u||d||f)&&km(i,n.props),E=!!w&&Un(b,wf(w)),D=Un(b,wf(n.props.preSelection));return!n.props.inline&&!E&&D&&!v}},n.isSelectedYear=function(i){var s=n.props,a=s.selectsMultiple,c=s.selected,u=s.selectedDates;return a?u?.some(function(d){return i===Bn(d)}):!!c&&i===Bn(c)},n.onYearClick=function(i,s){var a=n.props.date;a!==void 0&&n.handleYearClick(wf(hl(a,s)),i)},n.onYearKeyDown=function(i,s){var a,c,u=i.key,d=n.props,f=d.date,w=d.yearItemNumber,b=d.handleOnKeyDown;if(u!==wt.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(u){case wt.Enter:if(n.props.selected==null)break;n.onYearClick(i,s),(c=(a=n.props).setPreSelection)===null||c===void 0||c.call(a,n.props.selected);break;case wt.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,Ha(n.props.preSelection,1));break;case wt.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,uu(n.props.preSelection,1));break;case wt.ArrowUp:{if(f===void 0||w===void 0||n.props.preSelection==null)break;var v=sc(f,w).startPeriod,E=lx,D=s-E;if(D<v){var T=w%E;s>=v&&s<v+T?E=T:E+=T,D=s-E}n.handleYearNavigation(D,uu(n.props.preSelection,E));break}case wt.ArrowDown:{if(f===void 0||w===void 0||n.props.preSelection==null)break;var P=sc(f,w).endPeriod,E=lx,D=s+E;if(D>P){var T=w%E;s<=P&&s>P-T?E=T:E+=T,D=s+E}n.handleYearNavigation(D,Ha(n.props.preSelection,E));break}}b&&b(i)},n.getYearClassNames=function(i){var s=n.props,a=s.date,c=s.disabled,u=s.minDate,d=s.maxDate,f=s.excludeDates,w=s.includeDates,b=s.filterDate,v=s.yearClassName;return rs("react-datepicker__year-text","react-datepicker__year-".concat(i),a?v?.(hl(a,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(u||d||f||w||b||c)&&km(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=Bn(n.props.preSelection),a=km(i,n.props);return i===s&&!a?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,s=i.date,a=i.yearItemNumber,c=i.onYearMouseEnter,u=i.onYearMouseLeave;if(s===void 0)return null;for(var d=sc(s,a),f=d.startPeriod,w=d.endPeriod,b=function(D){n.push(Ve.createElement("div",{ref:v.YEAR_REFS[D-f],onClick:function(T){t.onYearClick(T,D)},onKeyDown:function(T){Mk(T)&&(T.preventDefault(),T.key=wt.Enter),t.onYearKeyDown(T,D)},tabIndex:Number(v.getYearTabIndex(D)),className:v.getYearClassNames(D),onMouseEnter:v.props.usePointerEvent?void 0:function(T){return c(T,D)},onPointerEnter:v.props.usePointerEvent?function(T){return c(T,D)}:void 0,onMouseLeave:v.props.usePointerEvent?void 0:function(T){return u(T,D)},onPointerLeave:v.props.usePointerEvent?function(T){return u(T,D)}:void 0,key:D,"aria-current":v.isCurrentYear(D)?"date":void 0},v.getYearContent(D)))},v=this,E=f;E<=w;E++)b(E);return Ve.createElement("div",{className:"react-datepicker__year"},Ve.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(Se.Component);function EM(r,e,t,n){for(var i=[],s=0;s<2*e+1;s++){var a=r+e-s,c=!0;t&&(c=Bn(t)<=a),n&&c&&(c=Bn(n)>=a),c&&i.push(a)}return i}var NM=(function(r){As(e,r);function e(t){var n=r.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(c,u){var d;switch(u.key){case"Enter":u.preventDefault(),n.onChange(c);break;case"Escape":u.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{u.preventDefault();var f=c+(u.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[f]&&((d=n.yearOptionButtonsRef[f])===null||d===void 0||d.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var c=n.props.year,u=n.state.yearsList.map(function(w){return Ve.createElement("div",{ref:function(b){n.yearOptionButtonsRef[w]=b,w===c&&b?.focus()},role:"button",tabIndex:0,className:c===w?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:w,onClick:n.onChange.bind(n,w),onKeyDown:n.handleOptionKeyDown.bind(n,w),"aria-selected":c===w?"true":void 0},c===w?Ve.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",w)}),d=n.props.minDate?Bn(n.props.minDate):null,f=n.props.maxDate?Bn(n.props.maxDate):null;return(!f||!n.state.yearsList.find(function(w){return w===f}))&&u.unshift(Ve.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},Ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(w){return w===d}))&&u.push(Ve.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},Ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var u=n.state.yearsList.map(function(d){return d+c});n.setState({yearsList:u})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,a=i||(s?10:5);return n.state={yearsList:EM(n.props.year,a,n.props.minDate,n.props.maxDate)},n.dropdownRef=Se.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(s){return s.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=rs({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Ve.createElement(z0,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(Se.Component),CM=(function(r){As(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Bn(t.props.minDate):1900,i=t.props.maxDate?Bn(t.props.maxDate):2100,s=[],a=n;a<=i;a++)s.push(Ve.createElement("option",{key:a,value:a},a));return s},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return Ve.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return Ve.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},Ve.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Ve.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Ve.createElement(NM,An({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var s;(s=t.onSelect)===null||s===void 0||s.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var s,a;(a=(s=t.props).onSelect)===null||a===void 0||a.call(s,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ve.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(Se.Component),IM=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Ok="react-datepicker-ignore-onclickoutside",AM=function(r){var e=(r.className||"").split(/\s+/);return IM.some(function(t){return e.indexOf(t)>=0})},TM=(function(r){As(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var s,a;AM(i.target)&&((a=(s=n.props).onDropdownFocus)===null||a===void 0||a.call(s,i))},n.getDateInView=function(){var i=n.props,s=i.preSelection,a=i.selected,c=i.openToDate,u=Dk(n.props),d=Lk(n.props),f=tr(),w=c||a||s;return w||(u&&yl(f,u)?u:d&&ac(f,d)?d:f)},n.increaseMonth=function(){n.setState(function(i){var s=i.date;return{date:$a(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var s=i.date;return{date:Yu(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,s,a){n.props.onSelect(i,s,a),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,s){n.setState({selectingDate:hl(tr(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,s)},n.handleYearMouseLeave=function(i,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,s)},n.handleYearChange=function(i){var s,a,c,u;(a=(s=n.props).onYearChange)===null||a===void 0||a.call(s,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!ga(i,n.props))return i;for(var s=lc(i),a=ZR(i),c=lD(a,s),u=null,d=0;d<=c;d++){var f=qa(s,d);if(!ga(f,n.props)){u=f;break}}return u},n.handleMonthChange=function(i){var s,a,c,u=(s=n.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;n.handleCustomMonthChange(u),n.props.adjustDateOnChange&&(n.props.onSelect(u),(c=(a=n.props).setOpen)===null||c===void 0||c.call(a,!0)),n.props.setPreSelection&&n.props.setPreSelection(u)},n.handleCustomMonthChange=function(i){var s,a;(a=(s=n.props).onMonthChange)===null||a===void 0||a.call(s,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(s){var a=s.date;return{date:hl(a,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(s){var a=s.date;return{date:Yo(a,Number(i))}},function(){var s,a;n.handleMonthChange(n.state.date),(a=(s=n.props).onMonthSelectedInChange)===null||a===void 0||a.call(s,0)})},n.changeMonthYear=function(i){n.setState(function(s){var a=s.date;return{date:hl(Yo(a,To(i)),Bn(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i,s){if(i===void 0&&(i=n.state.date),s===void 0&&(s=0),!Io(i))return[];var a=n.props.disabled,c=ou(i,n.props.locale,n.props.calendarStartDay),u=[];return n.props.showWeekNumbers&&u.push(Ve.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(a?"react-datepicker__day-name--disabled":""),role:"columnheader"},Ve.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),Ve.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),u.concat([0,1,2,3,4,5,6].map(function(d){var f=qa(c,d),w=n.formatWeekday(f,n.props.locale),b=Wr(f,"EEEE",n.props.locale),v=n.props.weekDayClassName?n.props.weekDayClassName(f):void 0;if(n.props.renderCustomDayName){var E=n.props.renderCustomDayName({day:f,shortName:w,fullName:b,locale:n.props.locale,customDayNameCount:s});return Ve.createElement("div",{key:d,role:"columnheader",className:rs("react-datepicker__day-name",v,a?"react-datepicker__day-name--disabled":"")},E)}return Ve.createElement("div",{key:d,role:"columnheader",className:rs("react-datepicker__day-name",v,a?"react-datepicker__day-name--disabled":"")},Ve.createElement("span",{className:"react-datepicker__sr-only"},b),Ve.createElement("span",{"aria-hidden":"true"},w))}))},n.formatWeekday=function(i,s){return n.props.formatWeekDay?eM(i,n.props.formatWeekDay,s):n.props.useWeekdaysShort?nM(i,s):tM(i,s)},n.decreaseYear=function(){n.setState(function(i){var s,a=i.date;return{date:uu(a,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,s,a;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,u=n.props.showPreviousMonths?c-1:0,d=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:u,f=Yu(n.state.date,d),w;switch(!0){case n.props.disabled:w=!0;break;case n.props.showMonthYearPicker:w=ex(n.state.date,n.props);break;case n.props.showYearPicker:w=aM(n.state.date,n.props);break;case n.props.showQuarterYearPicker:w=sM(n.state.date,n.props);break;default:w=J5(f,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&w||n.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],v=["react-datepicker__navigation","react-datepicker__navigation--previous"],E=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(E=n.decreaseYear),w&&n.props.showDisabledMonthNavigation&&(v.push("react-datepicker__navigation--previous--disabled"),E=void 0);var D=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,T=n.props,P=T.previousMonthButtonLabel,U=P===void 0?e.defaultProps.previousMonthButtonLabel:P,V=T.previousYearButtonLabel,H=V===void 0?e.defaultProps.previousYearButtonLabel:V,ie=n.props,de=ie.previousMonthAriaLabel,q=de===void 0?typeof U=="string"?U:"Previous Month":de,O=ie.previousYearAriaLabel,M=O===void 0?typeof H=="string"?H:"Previous Year":O;return Ve.createElement("button",{type:"button",className:v.join(" "),onClick:E,onKeyDown:n.props.handleOnKeyDown,"aria-label":D?M:q},Ve.createElement("span",{className:b.join(" ")},D?H:U))}}},n.increaseYear=function(){n.setState(function(i){var s,a=i.date;return{date:Ha(a,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.disabled:s=!0;break;case n.props.showMonthYearPicker:s=tx(n.state.date,n.props);break;case n.props.showYearPicker:s=lM(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=oM(n.state.date,n.props);break;default:s=Z5(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var u=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(u=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),u=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,f=n.props,w=f.nextMonthButtonLabel,b=w===void 0?e.defaultProps.nextMonthButtonLabel:w,v=f.nextYearButtonLabel,E=v===void 0?e.defaultProps.nextYearButtonLabel:v,D=n.props,T=D.nextMonthAriaLabel,P=T===void 0?typeof b=="string"?b:"Next Month":T,U=D.nextYearAriaLabel,V=U===void 0?typeof E=="string"?E:"Next Year":U;return Ve.createElement("button",{type:"button",className:a.join(" "),onClick:u,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?V:P},Ve.createElement("span",{className:c.join(" ")},d?E:b))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),Ve.createElement("h2",{className:s.join(" ")},Io(i)?Wr(i,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return Ve.createElement(CM,An({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Bn(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return Ve.createElement(wM,An({},e.defaultProps,n.props,{month:To(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return Ve.createElement(_M,An({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(Y5(),i),n.props.setPreSelection&&n.props.setPreSelection(Y5())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return Ve.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(i,s){return s===void 0&&(s=0),Ve.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(i,s))},n.renderDefaultHeader=function(i){var s=i.monthDate,a=i.i,c=Ve.createElement("div",{className:rs("react-datepicker__header",{"react-datepicker__header--has-time-select":n.props.showTimeSelect,"react-datepicker__header--middle":n.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":n.props.monthHeaderPosition==="bottom"})},n.renderCurrentMonth(s),Ve.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(a!==0),n.renderMonthYearDropdown(a!==0),n.renderYearDropdown(a!==0)));return n.props.monthHeaderPosition==="top"?c:Ve.createElement("div",{className:"react-datepicker__header-wrapper"},n.renderPreviousButton()||null,n.renderNextButton()||null,c)},n.renderCustomHeader=function(i){var s,a,c=i.monthDate,u=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=n.props,f=d.showYearPicker,w=d.yearItemNumber,b;if(f){var v=sc(c,w),E=v.startPeriod,D=v.endPeriod;b={startYear:E,endYear:D}}var T=J5(n.state.date,n.props),P=Z5(n.state.date,n.props),U=ex(n.state.date,n.props),V=tx(n.state.date,n.props);return Ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(a=(s=n.props).renderCustomHeader)===null||a===void 0?void 0:a.call(s,An(An(An({},n.state),f&&{visibleYearsRange:b}),{customHeaderCount:u,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:T,nextMonthButtonDisabled:P,prevYearButtonDisabled:U,nextYearButtonDisabled:V})))},n.renderYearHeader=function(i){var s=i.monthDate,a=n.props,c=a.showYearPicker,u=a.yearItemNumber,d=u===void 0?e.defaultProps.yearItemNumber:u,f=sc(s,d),w=f.startPeriod,b=f.endPeriod;return Ve.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(w," - ").concat(b):Bn(s))},n.renderHeader=function(i){var s=i.monthDate,a=i.i,c=a===void 0?0:a,u={monthDate:s,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(u);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(u);default:return n.renderDefaultHeader(u)}},n.renderMonths=function(){var i,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var a=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,u=n.props.showPreviousMonths?c-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ha(n.state.date,u):Yu(n.state.date,u),f=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:u,w=0;w<c;++w){var b=w-f+u,v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ha(d,b):$a(d,b),E="month-".concat(w),D=w<c-1,T=w>0;a.push(Ve.createElement("div",{key:E,ref:function(P){n.monthContainer=P??void 0},className:"react-datepicker__month-container"},n.props.monthHeaderPosition==="top"&&n.renderHeader({monthDate:v,i:w}),Ve.createElement(vM,An({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:v,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:w,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:D,monthShowsDuplicateDaysStart:T,dayNamesHeader:n.renderDayNamesHeader(v,w),monthHeader:n.props.monthHeaderPosition==="middle"?n.renderHeader({monthDate:v,i:w}):void 0,monthFooter:n.props.monthHeaderPosition==="bottom"?n.renderHeader({monthDate:v,i:w}):void 0}))))}return a}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return Ve.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),Ve.createElement(kM,An({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return Ve.createElement(SM,An({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i,s;if(n.props.showTimeInput){if(n.props.selectsRange){var a=n.props,c=a.startDate,u=a.endDate,d=c?new Date(c):void 0,f=d&&Io(d)&&!!c,w=f?"".concat(Rd(d.getHours()),":").concat(Rd(d.getMinutes())):"",b=u?new Date(u):void 0,v=b&&Io(b)&&!!u,E=v?"".concat(Rd(b.getHours()),":").concat(Rd(b.getMinutes())):"";return Ve.createElement(Ve.Fragment,null,Ve.createElement(iv,An({},e.defaultProps,n.props,{date:d,timeString:w,onChange:function(U){var V,H;(H=(V=n.props).onTimeChange)===null||H===void 0||H.call(V,U,"start")},timeInputLabel:((i=n.props.timeInputLabel)!==null&&i!==void 0?i:"Time")+" (Start)"})),Ve.createElement(iv,An({},e.defaultProps,n.props,{date:b,timeString:E,onChange:function(U){var V,H;(H=(V=n.props).onTimeChange)===null||H===void 0||H.call(V,U,"end")},timeInputLabel:((s=n.props.timeInputLabel)!==null&&s!==void 0?s:"Time")+" (End)"})))}var D=n.props.selected?new Date(n.props.selected):void 0,T=D&&Io(D)&&!!n.props.selected,P=T?"".concat(Rd(D.getHours()),":").concat(Rd(D.getMinutes())):"";return Ve.createElement(iv,An({},e.defaultProps,n.props,{date:D,timeString:P,onChange:function(U){var V,H;(H=(V=n.props).onTimeChange)===null||H===void 0||H.call(V,U)}}))}},n.renderAriaLiveRegion=function(){var i;if(!Io(n.state.date))return Ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=sc(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),a=s.startPeriod,c=s.endPeriod,u;return n.props.showYearPicker?u="".concat(a," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?u=Bn(n.state.date):u="".concat(My(To(n.state.date),n.props.locale)," ").concat(Bn(n.state.date)),Ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&u)},n.renderChildren=function(){if(n.props.children)return Ve.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=Se.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:Ok,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:np,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&Io(this.props.preSelection)&&(!Un(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!co(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Un(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||WR;return Ve.createElement(z0,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Ve.createElement("div",{style:{display:"contents"},ref:this.containerRef},Ve.createElement(t,{className:rs("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(Se.Component),PM=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return Ve.createElement("i",{className:"".concat(s," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(Ve.isValidElement(e)){var a=e;return Ve.cloneElement(a,{className:"".concat(a.props.className||""," ").concat(s," ").concat(n),onClick:function(c){typeof a.props.onClick=="function"&&a.props.onClick(c),typeof i=="function"&&i(c)}})}return Ve.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},Ve.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},jk=(function(r){As(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return JL.createPortal(this.props.children,this.el)},e})(Se.Component),DM="[tabindex], a, button, input, select, textarea",LM=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},Fk=(function(r){As(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(DM),1,-1).filter(LM)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=Se.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?Ve.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Ve.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Ve.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(Se.Component);function RM(r){function e(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=Se.useRef(null),a=HR(An({open:!i,whileElementsMounted:_R,placement:t.popperPlacement,middleware:wl([PR({padding:15}),TR(10),DR({element:s})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=An(An({},t),{hidePopper:i,popperProps:An(An({},a),{arrowRef:s})});return Ve.createElement(r,An({},c))}return e.displayName="withFloating(".concat(r.displayName||r.name||"Component",")"),e}var MM=function(r){var e=r.className,t=r.wrapperClassName,n=r.hidePopper,i=n===void 0?!0:n,s=r.popperComponent,a=r.targetComponent,c=r.enableTabLoop,u=r.popperOnKeyDown,d=r.portalId,f=r.portalHost,w=r.popperProps,b=r.showArrow,v=r.popperTargetRef,E=r.monthHeaderPosition;Se.useEffect(function(){v?.current&&w.refs.setPositionReference(v.current)},[v,w.refs]);var D=void 0;if(!i){var T=rs("react-datepicker-popper",!b&&"react-datepicker-popper-offset",E==="middle"&&"react-datepicker-popper--header-middle",E==="bottom"&&"react-datepicker-popper--header-bottom",e);D=Ve.createElement(Fk,{enableTabLoop:c},Ve.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:T,"data-placement":w.placement,onKeyDown:u},s,b&&Ve.createElement(jR,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}r.popperContainer&&(D=Se.createElement(r.popperContainer,{},D)),d&&!i&&(D=Ve.createElement(jk,{portalId:d,portalHost:f},D));var P=rs("react-datepicker-wrapper",t);return Ve.createElement(Ve.Fragment,null,Ve.createElement("div",{ref:w.refs.setReference,className:P},a),D)},OM=RM(MM);function cx(r,e){return r&&e?To(r)!==To(e)||Bn(r)!==Bn(e):r!==e}var ov="Date input not valid.",Md=(function(r){As(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){var i=n.props.timeZone,s=n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:tr();return i?W5(s,i):s},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,a){var c=Ru(a.date,"yyyy-MM-dd",void 0,!1);return c?wl(wl([],s,!0),[An(An({},a),{date:c})],!1):s},[])},n.calcInitialState=function(){var i=n.props.timeZone,s=n.getPreSelection(),a=Dk(n.props),c=Lk(n.props),u=a&&yl(s,yf(a))?a:c&&ac(s,G5(c))?c:s,d=n.props.selectsRange?n.props.startDate:n.props.selected;return d&&i&&(d=W5(d,i)),{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:d??u,highlightDates:nx(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var i,s=n.props,a=s.locale,c=s.startDate,u=s.endDate,d=s.rangeSeparator,f=s.selected,w=s.selectedDates,b=s.selectsMultiple,v=s.selectsRange,E=s.formatMultipleDates,D=s.value,T=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,P=n.state.inputValue;if(typeof D=="string")return D;if(typeof P=="string")return P;if(v)return GR(c,u,{dateFormat:T,locale:a,rangeSeparator:d});if(b){if(E){var U=function(V){return Co(V,{dateFormat:T,locale:a})};return E(w??[],U)}return KR(w??[],{dateFormat:T,locale:a})}return Co(f,{dateFormat:T,locale:a})},n.resetHiddenStatus=function(){n.setState(An(An({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(An(An({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,s;(s=(i=n.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},n.setBlur=function(){var i,s;(s=(i=n.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,s){s===void 0&&(s=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:av},function(){i||n.setState(function(a){return{focused:s?a.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return El(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var s,a,c=n.state.wasHidden,u=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((a=(s=n.props).onFocus)===null||a===void 0||a.call(s,i),u&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(An(An({},n.state),{inputValue:null}))},n.handleBlur=function(i){var s,a;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((a=(s=n.props).onBlur)===null||a===void 0||a.call(s,i));var c=n.state.inputValue;if(typeof c=="string"&&c.length>0){var u=/[a-zA-Z0-9]/.test(c);!u&&n.props.selected&&n.setSelected(null,void 0,!0)}n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var s,a;(a=(s=n.props).onClickOutside)===null||a===void 0||a.call(s,i),!n.props.inline&&!i.defaultPrevented&&n.setOpen(!1),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,s,a,c,u,d,f,w,b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];var E=b[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,b),!E||typeof E.isDefaultPrevented!="function"||E.isDefaultPrevented()))){n.setState({inputValue:E?.target instanceof HTMLInputElement?E.target.value:null,lastPreSelectChange:jM});var D=n.props,T=D.selectsRange,P=D.startDate,U=D.endDate,V=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,H=(s=n.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,ie=E?.target instanceof HTMLInputElement?E.target.value:"";if(T){var de=n.props.rangeSeparator,q=de.trim(),O=ie.split(V.includes(q)?de:q,2).map(function(be){return be.trim()}),M=O[0],z=O[1],N=Ru(M??"",V,n.props.locale,H),I=N?Ru(z??"",V,n.props.locale,H):null,L=((a=qu(P))===null||a===void 0?void 0:a.getTime())!==N?.getTime(),ee=((c=qu(U))===null||c===void 0?void 0:c.getTime())!==I?.getTime();if(!L&&!ee||N&&ga(N,n.props)||I&&ga(I,n.props))return;N&&n.setState({preSelection:N}),(d=(u=n.props).onChange)===null||d===void 0||d.call(u,[N,I],E)}else{var ve=Ru(ie,V,n.props.locale,H,(f=n.props.selected)!==null&&f!==void 0?f:void 0);if(ve||!ie)n.setSelected(ve,E,!0);else if(!n.props.inline){var Ne=YR(ie,(w=n.state.preSelection)!==null&&w!==void 0?w:void 0);Ne&&(!n.props.minDate||!yl(Ne,n.props.minDate))&&(!n.props.maxDate||!ac(Ne,n.props.maxDate))&&n.setState({preSelection:Ne})}}}},n.handleSelect=function(i,s,a){var c;if(!n.props.readOnly){var u=n.props,d=u.selectsRange,f=u.startDate,w=u.endDate,b=u.locale,v=u.swapRange,E=(c=n.props.dateFormat)!==null&&c!==void 0?c:e.defaultProps.dateFormat,D=!d||f&&!w&&(v||!rv(i,f));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&D&&n.sendFocusBackToInput(),n.props.onChangeRaw){var T=Co(i,{dateFormat:E,locale:b});n.props.onChangeRaw(s,{date:i,formattedDate:T})}n.setSelected(i,s,!1,a),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(i):D&&n.setOpen(!1)}},n.setSelected=function(i,s,a,c){var u,d,f=n.props.timeZone,w=i;if(w&&f&&(w=Ql(w,f)),n.props.showYearPicker){if(w!==null&&km(Bn(w),n.props))return}else if(n.props.showMonthYearPicker){if(w!==null&&Pk(w,n.props))return}else if(w!==null&&ga(w,n.props))return;var b=n.props,v=b.onChange,E=b.selectsRange,D=b.startDate,T=b.endDate,P=b.selectsMultiple,U=b.selectedDates,V=b.minTime,H=b.swapRange;if(!Hu(n.props.selected,w)||n.props.allowSameDay||E||P)if(w!==null&&(n.props.selected&&(!a||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(w=Xl(w,{hour:$s(n.props.selected),minute:Ys(n.props.selected),second:su(n.props.selected)})),!a&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&V&&(w=Xl(w,{hour:V.getHours(),minute:V.getMinutes(),second:V.getSeconds()})),n.props.inline||n.setState({preSelection:w}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),E){var ie=v,de=!D&&!T,q=D&&!T,O=!D&&!!T,M=D&&T;de?ie?.([w,null],s):q?w===null?ie?.([null,null],s):rv(w,D)?ie?.(H?[w,D]:[w,null],s):ie?.([D,w],s):O&&(w&&rv(w,T)?ie?.([w,T],s):ie?.([w,null],s)),M&&ie?.([w,null],s)}else if(P){var z=v;if(w!==null)if(!U?.length)z?.([w],s);else{var N=U.some(function(L){return Un(L,w)});if(N){var I=U.filter(function(L){return!Un(L,w)});z?.(I,s)}else z?.(wl(wl([],U,!0),[w],!1),s)}}else v?.(w,s);a||((d=(u=n.props).onSelect)===null||d===void 0||d.call(u,w,s),n.setState({inputValue:null}))},n.setPreSelection=function(i){if(!n.props.readOnly){var s=El(n.props.minDate),a=El(n.props.maxDate),c=!0;if(i){var u=yf(i);if(s&&a)c=ju(i,n.props.minDate,n.props.maxDate);else if(s){var d=yf(n.props.minDate);c=ac(i,d)||Hu(u,d)}else if(a){var f=G5(n.props.maxDate);c=yl(i,f)||Hu(u,f)}}c&&n.setState({preSelection:i})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i,s){var a,c;if(!n.props.selectsMultiple){var u=n.props,d=u.selectsRange,f=u.startDate,w=u.endDate,b=u.onChange,v=u.timeZone;if(d){var E=b;if(s==="start"){if(f){var D=Xl(f,{hour:$s(i),minute:Ys(i)});n.setState({preSelection:D}),v&&(D=Ql(D,v)),E?.([D,w?v?Ql(w,v):w:null],void 0)}}else if(s==="end"){if(w){var T=Xl(w,{hour:$s(i),minute:Ys(i)});n.setState({preSelection:T}),v&&(T=Ql(T,v)),E?.([f?v?Ql(f,v):f:null,T],void 0)}}else{var P=f&&!w;if(P){var D=Xl(f,{hour:$s(i),minute:Ys(i)});n.setState({preSelection:D}),v&&(D=Ql(D,v)),E?.([D,null],void 0)}else if(f&&w){var T=Xl(w,{hour:$s(i),minute:Ys(i)});n.setState({preSelection:T}),v&&(T=Ql(T,v)),E?.([v?Ql(f,v):f,T],void 0)}else{var U=Xl(n.getPreSelection(),{hour:$s(i),minute:Ys(i)});n.setState({preSelection:U})}}}else{var V=n.props.selected?n.props.selected:n.getPreSelection(),U=n.props.selected?i:Xl(V,{hour:$s(i),minute:Ys(i)});n.setState({preSelection:U}),U&&v&&(U=Ql(U,v)),(c=(a=n.props).onChange)===null||c===void 0||c.call(a,U)}n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(i=n.props).onInputClick)===null||s===void 0||s.call(i)},n.handleTimeOnlyArrowKey=function(i){var s,a,c,u,d=qu(n.props.selected)||n.state.preSelection||tr(),f=(s=n.props.timeIntervals)!==null&&s!==void 0?s:30,w=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,b=Array.isArray(w)?w[0]:w,v=yf(d),E=$s(d)*60+Ys(d),D=1440-f,T;if(i===wt.ArrowUp){var P=Math.max(0,E-f);T=Ff(v,P)}else{var P=Math.min(D,E+f);T=Ff(v,P)}var U=Wr(T,b||e.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:T,inputValue:U}),!(n.props.selectsRange||n.props.selectsMultiple)){var V=n.props.selected?n.props.selected:n.getPreSelection(),H=n.props.selected?T:Xl(V,{hour:$s(T),minute:Ys(T)});(u=(c=n.props).onChange)===null||u===void 0||u.call(c,H),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(T)})}},n.handleTimeOnlyEnterKey=function(i){var s,a,c,u,d=i.target,f=d.value,w=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,b=n.props.timeFormat||"p",v=n.state.preSelection||qu(n.props.selected)||tr(),E=Ru(f,w,n.props.locale,(a=n.props.strictParsing)!==null&&a!==void 0?a:!1,v),D=v;if(E&&Io(E))D=E;else{var T=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(T instanceof HTMLElement){var P=(u=T.textContent)===null||u===void 0?void 0:u.trim();if(P){var U=Ru(P,b,n.props.locale,!1,v);U&&Io(U)&&(D=U)}}}n.handleTimeChange(D),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(i){var s,a;if(!((s=n.calendar)===null||s===void 0)&&s.containerRef.current){for(var c=n.calendar.containerRef.current,u=Array.from(c.querySelectorAll(".react-datepicker__time-list-item")),d=null,f=1/0,w=n.props.timeFormat||"p",b=0,v=u;b<v.length;b++){var E=v[b],D=(a=E.textContent)===null||a===void 0?void 0:a.trim();if(D){var T=Ru(D,w,n.props.locale,!1,i);if(T&&Io(T)){if(Rk(T,i)){d=E;break}var P=Math.abs(T.getTime()-i.getTime());P<f&&(f=P,d=E)}}}d&&(u.forEach(function(U){U.setAttribute("tabindex","-1")}),d.setAttribute("tabindex","0"),d.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(i){var s,a,c,u,d,f;(a=(s=n.props).onKeyDown)===null||a===void 0||a.call(s,i);var w=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(w===wt.ArrowDown||w===wt.ArrowUp||w===wt.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(w===wt.ArrowDown||w===wt.ArrowUp){i.preventDefault(),n.handleTimeOnlyArrowKey(w);return}if(w===wt.Enter){i.preventDefault(),n.handleTimeOnlyEnterKey(i);return}}if(n.state.open){if(w===wt.ArrowDown||w===wt.ArrowUp){i.preventDefault();var b=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',v=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(b);v instanceof HTMLElement&&v.focus({preventScroll:!0});return}var E=tr(n.state.preSelection);w===wt.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===av?(n.handleSelect(E,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(E)):n.setOpen(!1)):w===wt.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):w===wt.Tab&&n.setOpen(!1),n.inputOk()||(f=(d=n.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:ov})}},n.onPortalKeyDown=function(i){var s=i.key;s===wt.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var s,a,c,u,d,f,w=n.props,b=w.minDate,v=w.maxDate,E=w.disabledKeyboardNavigation,D=w.showWeekPicker,T=w.shouldCloseOnSelect,P=w.locale,U=w.calendarStartDay,V=w.adjustDateOnChange,H=w.inline;if((a=(s=n.props).onKeyDown)===null||a===void 0||a.call(s,i),!E){var ie=i.key,de=i.shiftKey,q=tr(n.state.preSelection),O=function(N,I){var L=I;switch(N){case wt.ArrowRight:L=D?Qm(I,1):qa(I,1);break;case wt.ArrowLeft:L=D?D5(I):lL(I);break;case wt.ArrowUp:L=D5(I);break;case wt.ArrowDown:L=Qm(I,1);break;case wt.PageUp:L=de?uu(I,1):Yu(I,1);break;case wt.PageDown:L=de?Ha(I,1):$a(I,1);break;case wt.Home:L=ou(I,P,U);break;case wt.End:L=JR(I);break}return L},M=function(N,I){for(var L=40,ee=N,ve=!1,Ne=0,be=O(N,I);!ve;){if(Ne>=L){be=I;break}b&&be<b&&(ee=wt.ArrowRight,be=ga(b,n.props)?O(ee,be):b),v&&be>v&&(ee=wt.ArrowLeft,be=ga(v,n.props)?O(ee,be):v),ga(be,n.props)?((ee===wt.PageUp||ee===wt.Home)&&(ee=wt.ArrowRight),(ee===wt.PageDown||ee===wt.End)&&(ee=wt.ArrowLeft),be=O(ee,be)):ve=!0,Ne++}return be};if(ie===wt.Enter){i.preventDefault(),n.handleSelect(q,i),!T&&n.setPreSelection(q);return}else if(ie===wt.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(u=(c=n.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:ov});return}var z=null;switch(ie){case wt.ArrowLeft:case wt.ArrowRight:case wt.ArrowUp:case wt.ArrowDown:case wt.PageUp:case wt.PageDown:case wt.Home:case wt.End:z=M(ie,q);break}if(!z){(f=(d=n.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:ov});return}i.preventDefault(),n.setState({lastPreSelectChange:av}),V&&n.setSelected(z),n.setPreSelection(z),H&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(i){var s=i.key;s===wt.Escape&&(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var s=n.props,a=s.selectsRange,c=s.onChange;c?.(a?[null,null]:null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.handleMonthSelectedInChange=function(i){n.setState({monthSelectedIn:i})},n.renderCalendar=function(){var i,s;return!n.props.inline&&!n.isCalendarOpen()?null:Ve.createElement(TM,An({showMonthYearDropdown:void 0,ref:function(a){n.calendar=a}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:uM(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode,onMonthSelectedInChange:n.handleMonthSelectedInChange}),n.props.children)},n.renderAriaLiveRegion=function(){var i,s=n.props.locale,a=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,c=n.props.showTimeInput||n.props.showTimeSelect,u=c?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(Co(n.props.startDate,{dateFormat:u,locale:s}),". ").concat(n.props.endDate?"End date: "+Co(n.props.endDate,{dateFormat:u,locale:s}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(Co(n.props.selected,{dateFormat:a,locale:s})):n.props.showYearPicker?d="Selected year: ".concat(Co(n.props.selected,{dateFormat:"yyyy",locale:s})):n.props.showMonthYearPicker?d="Selected month: ".concat(Co(n.props.selected,{dateFormat:"MMMM yyyy",locale:s})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(Co(n.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):d="Selected date: ".concat(Co(n.props.selected,{dateFormat:u,locale:s})),Ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var i,s,a,c,u,d,f,w=rs(n.props.className,(i={},i[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,i)),b=n.props.customInput||Ve.createElement("input",{type:"text"}),v=n.props.customInputRef||"ref",E={},D=(a=n.props["aria-describedby"])!==null&&a!==void 0?a:n.props.ariaDescribedBy,T=(c=n.props["aria-invalid"])!==null&&c!==void 0?c:n.props.ariaInvalid,P=(u=n.props["aria-label"])!==null&&u!==void 0?u:n.props.ariaLabel,U=(d=n.props["aria-labelledby"])!==null&&d!==void 0?d:n.props.ariaLabelledBy,V=(f=n.props["aria-required"])!==null&&f!==void 0?f:n.props.ariaRequired;return D!=null&&(E["aria-describedby"]=D),T!=null&&(E["aria-invalid"]=T),P!=null&&(E["aria-label"]=P),U!=null&&(E["aria-labelledby"]=U),V!=null&&(E["aria-required"]=V),Se.cloneElement(b,An((s={},s[v]=function(H){n.input=H},s.value=n.getInputValue(),s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=rs(b.props.className,w),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s),E))},n.renderClearButton=function(){var i=n.props,s=i.isClearable,a=i.disabled,c=i.selected,u=i.startDate,d=i.endDate,f=i.clearButtonTitle,w=i.clearButtonClassName,b=w===void 0?"":w,v=i.ariaLabelClose,E=v===void 0?"Close":v,D=i.selectedDates,T=i.readOnly;return s&&!T&&(c!=null||u!=null||d!=null||D?.length)?Ve.createElement("button",{type:"button",className:rs("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":E,onClick:n.onClearClick,title:f,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:Ok,readOnly:!1,rangeSeparator:Ak,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:np,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,s,a,c;this.props.selectsRange&&cx(t.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):cx(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&n.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:nx(this.props.highlightDates)}),!n.focused&&!Hu(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),n.open===!0&&this.state.open===!1&&((c=(a=this.props).onCalendarClose)===null||c===void 0||c.call(a)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,s=t.calendarIconClassname,a=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,u=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Ve.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&Ve.createElement(PM,An({icon:i,className:rs(a,!a&&s,u&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?Ve.createElement(Fk,{enableTabLoop:this.props.enableTabLoop},Ve.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=Ve.createElement(jk,An({portalId:this.props.portalId},this.props),n)),Ve.createElement(Ve.Fragment,null,this.renderInputContainer(),n)}return Ve.createElement(OM,An({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},e})(Se.Component),jM="input",av="navigate";const FM="modulepreload",BM=function(r,e){return new URL(r,e).href},ux={},lv=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let d=function(f){return Promise.all(f.map(w=>Promise.resolve(w).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=d(t.map(f=>{if(f=BM(f,n),f in ux)return;ux[f]=!0;const w=f.endsWith(".css"),b=w?'[rel="stylesheet"]':"";if(n)for(let E=a.length-1;E>=0;E--){const D=a[E];if(D.href===f&&(!w||D.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${b}`))return;const v=document.createElement("link");if(v.rel=w?"stylesheet":FM,w||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),w)return new Promise((E,D)=>{v.addEventListener("load",E),v.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return i.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};function _r(r){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(r)}var Ya=Uint8Array,Ko=Uint16Array,jy=Int32Array,Fy=new Ya([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),By=new Ya([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),dx=new Ya([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bk=function(r,e){for(var t=new Ko(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new jy(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},Uk=Bk(Fy,2),UM=Uk.b,d1=Uk.r;UM[28]=258,d1[258]=28;var VM=Bk(By,0),hx=VM.r,h1=new Ko(32768);for(var Hr=0;Hr<32768;++Hr){var Hc=(Hr&43690)>>1|(Hr&21845)<<1;Hc=(Hc&52428)>>2|(Hc&13107)<<2,Hc=(Hc&61680)>>4|(Hc&3855)<<4,h1[Hr]=((Hc&65280)>>8|(Hc&255)<<8)>>1}var Ef=(function(r,e,t){for(var n=r.length,i=0,s=new Ko(e);i<n;++i)r[i]&&++s[r[i]-1];var a=new Ko(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var c;if(t){c=new Ko(1<<e);var u=15-e;for(i=0;i<n;++i)if(r[i])for(var d=i<<4|r[i],f=e-r[i],w=a[r[i]-1]++<<f,b=w|(1<<f)-1;w<=b;++w)c[h1[w]>>u]=d}else for(c=new Ko(n),i=0;i<n;++i)r[i]&&(c[i]=h1[a[r[i]-1]++]>>15-r[i]);return c}),rd=new Ya(288);for(var Hr=0;Hr<144;++Hr)rd[Hr]=8;for(var Hr=144;Hr<256;++Hr)rd[Hr]=9;for(var Hr=256;Hr<280;++Hr)rd[Hr]=7;for(var Hr=280;Hr<288;++Hr)rd[Hr]=8;var a0=new Ya(32);for(var Hr=0;Hr<32;++Hr)a0[Hr]=5;var zM=Ef(rd,9,0),qM=Ef(a0,5,0),Vk=function(r){return(r+7)/8|0},HM=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Ya(r.subarray(e,t))},Jl=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},uf=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},cv=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return{t:qk,l:0};if(i==1){var a=new Ya(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(ie,de){return ie.f-de.f}),t.push({s:-1,f:25001});var c=t[0],u=t[1],d=0,f=1,w=2;for(t[0]={s:-1,f:c.f+u.f,l:c,r:u};f!=i-1;)c=t[t[d].f<t[w].f?d++:w++],u=t[d!=f&&t[d].f<t[w].f?d++:w++],t[f++]={s:-1,f:c.f+u.f,l:c,r:u};for(var b=s[0].s,n=1;n<i;++n)s[n].s>b&&(b=s[n].s);var v=new Ko(b+1),E=f1(t[f-1],v,0);if(E>e){var n=0,D=0,T=E-e,P=1<<T;for(s.sort(function(de,q){return v[q.s]-v[de.s]||de.f-q.f});n<i;++n){var U=s[n].s;if(v[U]>e)D+=P-(1<<E-v[U]),v[U]=e;else break}for(D>>=T;D>0;){var V=s[n].s;v[V]<e?D-=1<<e-v[V]++-1:++n}for(;n>=0&&D;--n){var H=s[n].s;v[H]==e&&(--v[H],++D)}E=e}return{t:new Ya(v),l:E}},f1=function(r,e,t){return r.s==-1?Math.max(f1(r.l,e,t+1),f1(r.r,e,t+1)):e[r.s]=t},fx=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Ko(++e),n=0,i=r[0],s=1,a=function(u){t[n++]=u},c=1;c<=e;++c)if(r[c]==i&&c!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=r[c]}return{c:t.subarray(0,n),n:e}},df=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},zk=function(r,e,t){var n=t.length,i=Vk(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},px=function(r,e,t,n,i,s,a,c,u,d,f){Jl(e,f++,t),++i[256];for(var w=cv(i,15),b=w.t,v=w.l,E=cv(s,15),D=E.t,T=E.l,P=fx(b),U=P.c,V=P.n,H=fx(D),ie=H.c,de=H.n,q=new Ko(19),O=0;O<U.length;++O)++q[U[O]&31];for(var O=0;O<ie.length;++O)++q[ie[O]&31];for(var M=cv(q,7),z=M.t,N=M.l,I=19;I>4&&!z[dx[I-1]];--I);var L=d+5<<3,ee=df(i,rd)+df(s,a0)+a,ve=df(i,b)+df(s,D)+a+14+3*I+df(q,z)+2*q[16]+3*q[17]+7*q[18];if(u>=0&&L<=ee&&L<=ve)return zk(e,f,r.subarray(u,u+d));var Ne,be,oe,_e;if(Jl(e,f,1+(ve<ee)),f+=2,ve<ee){Ne=Ef(b,v,0),be=b,oe=Ef(D,T,0),_e=D;var ge=Ef(z,N,0);Jl(e,f,V-257),Jl(e,f+5,de-1),Jl(e,f+10,I-4),f+=14;for(var O=0;O<I;++O)Jl(e,f+3*O,z[dx[O]]);f+=3*I;for(var te=[U,ie],j=0;j<2;++j)for(var F=te[j],O=0;O<F.length;++O){var Y=F[O]&31;Jl(e,f,ge[Y]),f+=z[Y],Y>15&&(Jl(e,f,F[O]>>5&127),f+=F[O]>>12)}}else Ne=zM,be=rd,oe=qM,_e=a0;for(var O=0;O<c;++O){var se=n[O];if(se>255){var Y=se>>18&31;uf(e,f,Ne[Y+257]),f+=be[Y+257],Y>7&&(Jl(e,f,se>>23&31),f+=Fy[Y]);var le=se&31;uf(e,f,oe[le]),f+=_e[le],le>3&&(uf(e,f,se>>5&8191),f+=By[le])}else uf(e,f,Ne[se]),f+=be[se]}return uf(e,f,Ne[256]),f+be[256]},WM=new jy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qk=new Ya(0),$M=function(r,e,t,n,i,s){var a=s.z||r.length,c=new Ya(n+a+5*(1+Math.ceil(a/7e3))+i),u=c.subarray(n,c.length-i),d=s.l,f=(s.r||0)&7;if(e){f&&(u[0]=s.r>>3);for(var w=WM[e-1],b=w>>13,v=w&8191,E=(1<<t)-1,D=s.p||new Ko(32768),T=s.h||new Ko(E+1),P=Math.ceil(t/3),U=2*P,V=function(ht){return(r[ht]^r[ht+1]<<P^r[ht+2]<<U)&E},H=new jy(25e3),ie=new Ko(288),de=new Ko(32),q=0,O=0,M=s.i||0,z=0,N=s.w||0,I=0;M+2<a;++M){var L=V(M),ee=M&32767,ve=T[L];if(D[ee]=ve,T[L]=ee,N<=M){var Ne=a-M;if((q>7e3||z>24576)&&(Ne>423||!d)){f=px(r,u,0,H,ie,de,O,z,I,M-I,f),z=q=O=0,I=M;for(var be=0;be<286;++be)ie[be]=0;for(var be=0;be<30;++be)de[be]=0}var oe=2,_e=0,ge=v,te=ee-ve&32767;if(Ne>2&&L==V(M-te))for(var j=Math.min(b,Ne)-1,F=Math.min(32767,M),Y=Math.min(258,Ne);te<=F&&--ge&&ee!=ve;){if(r[M+oe]==r[M+oe-te]){for(var se=0;se<Y&&r[M+se]==r[M+se-te];++se);if(se>oe){if(oe=se,_e=te,se>j)break;for(var le=Math.min(te,se-2),ye=0,be=0;be<le;++be){var fe=M-te+be&32767,he=D[fe],Te=fe-he&32767;Te>ye&&(ye=Te,ve=fe)}}}ee=ve,ve=D[ee],te+=ee-ve&32767}if(_e){H[z++]=268435456|d1[oe]<<18|hx[_e];var Fe=d1[oe]&31,$e=hx[_e]&31;O+=Fy[Fe]+By[$e],++ie[257+Fe],++de[$e],N=M+oe,++q}else H[z++]=r[M],++ie[r[M]]}}for(M=Math.max(M,N);M<a;++M)H[z++]=r[M],++ie[r[M]];f=px(r,u,d,H,ie,de,O,z,I,M-I,f),d||(s.r=f&7|u[f/8|0]<<3,f-=7,s.h=T,s.p=D,s.i=M,s.w=N)}else{for(var M=s.w||0;M<a+d;M+=65535){var Ye=M+65535;Ye>=a&&(u[f/8|0]=d,Ye=a),f=zk(u,f+1,r.subarray(M,Ye))}s.i=a}return HM(c,0,n+Vk(f)+i)},Hk=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length|0,a=0;a!=s;){for(var c=Math.min(a+2655,s);a<c;++a)i+=n+=t[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},YM=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ya(s.length+r.length);a.set(s),a.set(r,s.length),r=a,i.w=s.length}return $M(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},Wk=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},GM=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=Hk();i.p(e.dictionary),Wk(r,2,i.d())}};function p1(r,e){e||(e={});var t=Hk();t.p(r);var n=YM(r,e,e.dictionary?6:2,4);return GM(n,e),Wk(n,n.length-4,t.d()),n}var KM=typeof TextDecoder<"u"&&new TextDecoder,QM=0;try{KM.decode(qk,{stream:!0}),QM=1}catch{}function XM(r){if(Array.isArray(r))return r}function JM(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,c=[],u=!0,d=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(u=(n=s.call(t)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function mx(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function ZM(r,e){if(r){if(typeof r=="string")return mx(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?mx(r,e):void 0}}function e8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gx(r,e){return XM(r)||JM(r,e)||ZM(r,e)||e8()}function vx(r,e="utf8"){return new TextDecoder(e).decode(r)}const t8=new TextEncoder;function n8(r){return t8.encode(r)}const r8=1024*8,i8=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),uv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Uy{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=r8,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof Uy)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=uv[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===i8&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+n));c.reverse();const u=new uv[t](c.buffer);return this.offset+=n,u.reverse(),u}const a=new uv[t](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return vx(this.readBytes(e))}decodeText(e=1,t="utf8"){return vx(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(n8(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Dh(r){let e=r.length;for(;--e>=0;)r[e]=0}const s8=3,o8=258,$k=29,a8=256,l8=a8+1+$k,Yk=30,c8=512,u8=new Array((l8+2)*2);Dh(u8);const d8=new Array(Yk*2);Dh(d8);const h8=new Array(c8);Dh(h8);const f8=new Array(o8-s8+1);Dh(f8);const p8=new Array($k);Dh(p8);const m8=new Array(Yk);Dh(m8);const g8=(r,e,t,n)=>{let i=r&65535|0,s=r>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var m1=g8;const v8=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},y8=new Uint32Array(v8()),w8=(r,e,t,n)=>{const i=y8,s=n+t;r^=-1;for(let a=n;a<s;a++)r=r>>>8^i[(r^e[a])&255];return r^-1};var ul=w8,g1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Gk={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const x8=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var b8=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)x8(t,n)&&(r[n]=t[n])}}return r},_8=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,s=r.length;n<s;n++){let a=r[n];t.set(a,i),i+=a.length}return t},Kk={assign:b8,flattenChunks:_8};let Qk=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Qk=!1}const Vf=new Uint8Array(256);for(let r=0;r<256;r++)Vf[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Vf[254]=Vf[254]=1;var S8=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,s,a=r.length,c=0;for(i=0;i<a;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),s=0,i=0;s<c;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const k8=(r,e)=>{if(e<65534&&r.subarray&&Qk)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var E8=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const s=new Array(t*2);for(i=0,n=0;n<t;){let a=r[n++];if(a<128){s[i++]=a;continue}let c=Vf[a];if(c>4){s[i++]=65533,n+=c-1;continue}for(a&=c===2?31:c===3?15:7;c>1&&n<t;)a=a<<6|r[n++]&63,c--;if(c>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return k8(s,i)},N8=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Vf[r[t]]>e?t:e},v1={string2buf:S8,buf2string:E8,utf8border:N8};function C8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var I8=C8;const em=16209,A8=16191;var T8=function(e,t){let n,i,s,a,c,u,d,f,w,b,v,E,D,T,P,U,V,H,ie,de,q,O,M,z;const N=e.state;n=e.next_in,M=e.input,i=n+(e.avail_in-5),s=e.next_out,z=e.output,a=s-(t-e.avail_out),c=s+(e.avail_out-257),u=N.dmax,d=N.wsize,f=N.whave,w=N.wnext,b=N.window,v=N.hold,E=N.bits,D=N.lencode,T=N.distcode,P=(1<<N.lenbits)-1,U=(1<<N.distbits)-1;e:do{E<15&&(v+=M[n++]<<E,E+=8,v+=M[n++]<<E,E+=8),V=D[v&P];t:for(;;){if(H=V>>>24,v>>>=H,E-=H,H=V>>>16&255,H===0)z[s++]=V&65535;else if(H&16){ie=V&65535,H&=15,H&&(E<H&&(v+=M[n++]<<E,E+=8),ie+=v&(1<<H)-1,v>>>=H,E-=H),E<15&&(v+=M[n++]<<E,E+=8,v+=M[n++]<<E,E+=8),V=T[v&U];n:for(;;){if(H=V>>>24,v>>>=H,E-=H,H=V>>>16&255,H&16){if(de=V&65535,H&=15,E<H&&(v+=M[n++]<<E,E+=8,E<H&&(v+=M[n++]<<E,E+=8)),de+=v&(1<<H)-1,de>u){e.msg="invalid distance too far back",N.mode=em;break e}if(v>>>=H,E-=H,H=s-a,de>H){if(H=de-H,H>f&&N.sane){e.msg="invalid distance too far back",N.mode=em;break e}if(q=0,O=b,w===0){if(q+=d-H,H<ie){ie-=H;do z[s++]=b[q++];while(--H);q=s-de,O=z}}else if(w<H){if(q+=d+w-H,H-=w,H<ie){ie-=H;do z[s++]=b[q++];while(--H);if(q=0,w<ie){H=w,ie-=H;do z[s++]=b[q++];while(--H);q=s-de,O=z}}}else if(q+=w-H,H<ie){ie-=H;do z[s++]=b[q++];while(--H);q=s-de,O=z}for(;ie>2;)z[s++]=O[q++],z[s++]=O[q++],z[s++]=O[q++],ie-=3;ie&&(z[s++]=O[q++],ie>1&&(z[s++]=O[q++]))}else{q=s-de;do z[s++]=z[q++],z[s++]=z[q++],z[s++]=z[q++],ie-=3;while(ie>2);ie&&(z[s++]=z[q++],ie>1&&(z[s++]=z[q++]))}}else if((H&64)===0){V=T[(V&65535)+(v&(1<<H)-1)];continue n}else{e.msg="invalid distance code",N.mode=em;break e}break}}else if((H&64)===0){V=D[(V&65535)+(v&(1<<H)-1)];continue t}else if(H&32){N.mode=A8;break e}else{e.msg="invalid literal/length code",N.mode=em;break e}break}}while(n<i&&s<c);ie=E>>3,n-=ie,E-=ie<<3,v&=(1<<E)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<c?257+(c-s):257-(s-c),N.hold=v,N.bits=E};const Od=15,yx=852,wx=592,xx=0,dv=1,bx=2,P8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),D8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),L8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),R8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),M8=(r,e,t,n,i,s,a,c)=>{const u=c.bits;let d=0,f=0,w=0,b=0,v=0,E=0,D=0,T=0,P=0,U=0,V,H,ie,de,q,O=null,M;const z=new Uint16Array(Od+1),N=new Uint16Array(Od+1);let I=null,L,ee,ve;for(d=0;d<=Od;d++)z[d]=0;for(f=0;f<n;f++)z[e[t+f]]++;for(v=u,b=Od;b>=1&&z[b]===0;b--);if(v>b&&(v=b),b===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<b&&z[w]===0;w++);for(v<w&&(v=w),T=1,d=1;d<=Od;d++)if(T<<=1,T-=z[d],T<0)return-1;if(T>0&&(r===xx||b!==1))return-1;for(N[1]=0,d=1;d<Od;d++)N[d+1]=N[d]+z[d];for(f=0;f<n;f++)e[t+f]!==0&&(a[N[e[t+f]]++]=f);if(r===xx?(O=I=a,M=20):r===dv?(O=P8,I=D8,M=257):(O=L8,I=R8,M=0),U=0,f=0,d=w,q=s,E=v,D=0,ie=-1,P=1<<v,de=P-1,r===dv&&P>yx||r===bx&&P>wx)return 1;for(;;){L=d-D,a[f]+1<M?(ee=0,ve=a[f]):a[f]>=M?(ee=I[a[f]-M],ve=O[a[f]-M]):(ee=96,ve=0),V=1<<d-D,H=1<<E,w=H;do H-=V,i[q+(U>>D)+H]=L<<24|ee<<16|ve|0;while(H!==0);for(V=1<<d-1;U&V;)V>>=1;if(V!==0?(U&=V-1,U+=V):U=0,f++,--z[d]===0){if(d===b)break;d=e[t+a[f]]}if(d>v&&(U&de)!==ie){for(D===0&&(D=v),q+=w,E=d-D,T=1<<E;E+D<b&&(T-=z[E+D],!(T<=0));)E++,T<<=1;if(P+=1<<E,r===dv&&P>yx||r===bx&&P>wx)return 1;ie=U&de,i[ie]=v<<24|E<<16|q-s|0}}return U!==0&&(i[q+U]=d-D<<24|64<<16|0),c.bits=v,0};var Nf=M8;const O8=0,Xk=1,Jk=2,{Z_FINISH:_x,Z_BLOCK:j8,Z_TREES:tm,Z_OK:id,Z_STREAM_END:F8,Z_NEED_DICT:B8,Z_STREAM_ERROR:xa,Z_DATA_ERROR:Zk,Z_MEM_ERROR:eE,Z_BUF_ERROR:U8,Z_DEFLATED:Sx}=Gk,q0=16180,kx=16181,Ex=16182,Nx=16183,Cx=16184,Ix=16185,Ax=16186,Tx=16187,Px=16188,Dx=16189,l0=16190,Zl=16191,hv=16192,Lx=16193,fv=16194,Rx=16195,Mx=16196,Ox=16197,jx=16198,nm=16199,rm=16200,Fx=16201,Bx=16202,Ux=16203,Vx=16204,zx=16205,pv=16206,qx=16207,Hx=16208,Zr=16209,tE=16210,nE=16211,V8=852,z8=592,q8=15,H8=q8,Wx=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function W8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const cd=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<q0||e.mode>nE?1:0},rE=r=>{if(cd(r))return xa;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=q0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(V8),e.distcode=e.distdyn=new Int32Array(z8),e.sane=1,e.back=-1,id},iE=r=>{if(cd(r))return xa;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,rE(r)},sE=(r,e)=>{let t;if(cd(r))return xa;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?xa:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,iE(r))},oE=(r,e)=>{if(!r)return xa;const t=new W8;r.state=t,t.strm=r,t.window=null,t.mode=q0;const n=sE(r,e);return n!==id&&(r.state=null),n},$8=r=>oE(r,H8);let $x=!0,mv,gv;const Y8=r=>{if($x){mv=new Int32Array(512),gv=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Nf(Xk,r.lens,0,288,mv,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Nf(Jk,r.lens,0,32,gv,0,r.work,{bits:5}),$x=!1}r.lencode=mv,r.lenbits=9,r.distcode=gv,r.distbits=5},aE=(r,e,t,n)=>{let i;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(t-n,t-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},G8=(r,e)=>{let t,n,i,s,a,c,u,d,f,w,b,v,E,D,T=0,P,U,V,H,ie,de,q,O;const M=new Uint8Array(4);let z,N;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(cd(r)||!r.output||!r.input&&r.avail_in!==0)return xa;t=r.state,t.mode===Zl&&(t.mode=hv),a=r.next_out,i=r.output,u=r.avail_out,s=r.next_in,n=r.input,c=r.avail_in,d=t.hold,f=t.bits,w=c,b=u,O=id;e:for(;;)switch(t.mode){case q0:if(t.wrap===0){t.mode=hv;break}for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,M[0]=d&255,M[1]=d>>>8&255,t.check=ul(t.check,M,2,0),d=0,f=0,t.mode=kx;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",t.mode=Zr;break}if((d&15)!==Sx){r.msg="unknown compression method",t.mode=Zr;break}if(d>>>=4,f-=4,q=(d&15)+8,t.wbits===0&&(t.wbits=q),q>15||q>t.wbits){r.msg="invalid window size",t.mode=Zr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=d&512?Dx:Zl,d=0,f=0;break;case kx:for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.flags=d,(t.flags&255)!==Sx){r.msg="unknown compression method",t.mode=Zr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Zr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(M[0]=d&255,M[1]=d>>>8&255,t.check=ul(t.check,M,2,0)),d=0,f=0,t.mode=Ex;case Ex:for(;f<32;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(M[0]=d&255,M[1]=d>>>8&255,M[2]=d>>>16&255,M[3]=d>>>24&255,t.check=ul(t.check,M,4,0)),d=0,f=0,t.mode=Nx;case Nx:for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(M[0]=d&255,M[1]=d>>>8&255,t.check=ul(t.check,M,2,0)),d=0,f=0,t.mode=Cx;case Cx:if(t.flags&1024){for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(M[0]=d&255,M[1]=d>>>8&255,t.check=ul(t.check,M,2,0)),d=0,f=0}else t.head&&(t.head.extra=null);t.mode=Ix;case Ix:if(t.flags&1024&&(v=t.length,v>c&&(v=c),v&&(t.head&&(q=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+v),q)),t.flags&512&&t.wrap&4&&(t.check=ul(t.check,n,v,s)),c-=v,s+=v,t.length-=v),t.length))break e;t.length=0,t.mode=Ax;case Ax:if(t.flags&2048){if(c===0)break e;v=0;do q=n[s+v++],t.head&&q&&t.length<65536&&(t.head.name+=String.fromCharCode(q));while(q&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=ul(t.check,n,v,s)),c-=v,s+=v,q)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Tx;case Tx:if(t.flags&4096){if(c===0)break e;v=0;do q=n[s+v++],t.head&&q&&t.length<65536&&(t.head.comment+=String.fromCharCode(q));while(q&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=ul(t.check,n,v,s)),c-=v,s+=v,q)break e}else t.head&&(t.head.comment=null);t.mode=Px;case Px:if(t.flags&512){for(;f<16;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.wrap&4&&d!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Zr;break}d=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Zl;break;case Dx:for(;f<32;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}r.adler=t.check=Wx(d),d=0,f=0,t.mode=l0;case l0:if(t.havedict===0)return r.next_out=a,r.avail_out=u,r.next_in=s,r.avail_in=c,t.hold=d,t.bits=f,B8;r.adler=t.check=1,t.mode=Zl;case Zl:if(e===j8||e===tm)break e;case hv:if(t.last){d>>>=f&7,f-=f&7,t.mode=pv;break}for(;f<3;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}switch(t.last=d&1,d>>>=1,f-=1,d&3){case 0:t.mode=Lx;break;case 1:if(Y8(t),t.mode=nm,e===tm){d>>>=2,f-=2;break e}break;case 2:t.mode=Mx;break;case 3:r.msg="invalid block type",t.mode=Zr}d>>>=2,f-=2;break;case Lx:for(d>>>=f&7,f-=f&7;f<32;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Zr;break}if(t.length=d&65535,d=0,f=0,t.mode=fv,e===tm)break e;case fv:t.mode=Rx;case Rx:if(v=t.length,v){if(v>c&&(v=c),v>u&&(v=u),v===0)break e;i.set(n.subarray(s,s+v),a),c-=v,s+=v,u-=v,a+=v,t.length-=v;break}t.mode=Zl;break;case Mx:for(;f<14;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.nlen=(d&31)+257,d>>>=5,f-=5,t.ndist=(d&31)+1,d>>>=5,f-=5,t.ncode=(d&15)+4,d>>>=4,f-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Zr;break}t.have=0,t.mode=Ox;case Ox:for(;t.have<t.ncode;){for(;f<3;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.lens[I[t.have++]]=d&7,d>>>=3,f-=3}for(;t.have<19;)t.lens[I[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,z={bits:t.lenbits},O=Nf(O8,t.lens,0,19,t.lencode,0,t.work,z),t.lenbits=z.bits,O){r.msg="invalid code lengths set",t.mode=Zr;break}t.have=0,t.mode=jx;case jx:for(;t.have<t.nlen+t.ndist;){for(;T=t.lencode[d&(1<<t.lenbits)-1],P=T>>>24,U=T>>>16&255,V=T&65535,!(P<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(V<16)d>>>=P,f-=P,t.lens[t.have++]=V;else{if(V===16){for(N=P+2;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(d>>>=P,f-=P,t.have===0){r.msg="invalid bit length repeat",t.mode=Zr;break}q=t.lens[t.have-1],v=3+(d&3),d>>>=2,f-=2}else if(V===17){for(N=P+3;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}d>>>=P,f-=P,q=0,v=3+(d&7),d>>>=3,f-=3}else{for(N=P+7;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}d>>>=P,f-=P,q=0,v=11+(d&127),d>>>=7,f-=7}if(t.have+v>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Zr;break}for(;v--;)t.lens[t.have++]=q}}if(t.mode===Zr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Zr;break}if(t.lenbits=9,z={bits:t.lenbits},O=Nf(Xk,t.lens,0,t.nlen,t.lencode,0,t.work,z),t.lenbits=z.bits,O){r.msg="invalid literal/lengths set",t.mode=Zr;break}if(t.distbits=6,t.distcode=t.distdyn,z={bits:t.distbits},O=Nf(Jk,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,z),t.distbits=z.bits,O){r.msg="invalid distances set",t.mode=Zr;break}if(t.mode=nm,e===tm)break e;case nm:t.mode=rm;case rm:if(c>=6&&u>=258){r.next_out=a,r.avail_out=u,r.next_in=s,r.avail_in=c,t.hold=d,t.bits=f,T8(r,b),a=r.next_out,i=r.output,u=r.avail_out,s=r.next_in,n=r.input,c=r.avail_in,d=t.hold,f=t.bits,t.mode===Zl&&(t.back=-1);break}for(t.back=0;T=t.lencode[d&(1<<t.lenbits)-1],P=T>>>24,U=T>>>16&255,V=T&65535,!(P<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(U&&(U&240)===0){for(H=P,ie=U,de=V;T=t.lencode[de+((d&(1<<H+ie)-1)>>H)],P=T>>>24,U=T>>>16&255,V=T&65535,!(H+P<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}d>>>=H,f-=H,t.back+=H}if(d>>>=P,f-=P,t.back+=P,t.length=V,U===0){t.mode=zx;break}if(U&32){t.back=-1,t.mode=Zl;break}if(U&64){r.msg="invalid literal/length code",t.mode=Zr;break}t.extra=U&15,t.mode=Fx;case Fx:if(t.extra){for(N=t.extra;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Bx;case Bx:for(;T=t.distcode[d&(1<<t.distbits)-1],P=T>>>24,U=T>>>16&255,V=T&65535,!(P<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if((U&240)===0){for(H=P,ie=U,de=V;T=t.distcode[de+((d&(1<<H+ie)-1)>>H)],P=T>>>24,U=T>>>16&255,V=T&65535,!(H+P<=f);){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}d>>>=H,f-=H,t.back+=H}if(d>>>=P,f-=P,t.back+=P,U&64){r.msg="invalid distance code",t.mode=Zr;break}t.offset=V,t.extra=U&15,t.mode=Ux;case Ux:if(t.extra){for(N=t.extra;f<N;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Zr;break}t.mode=Vx;case Vx:if(u===0)break e;if(v=b-u,t.offset>v){if(v=t.offset-v,v>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Zr;break}v>t.wnext?(v-=t.wnext,E=t.wsize-v):E=t.wnext-v,v>t.length&&(v=t.length),D=t.window}else D=i,E=a-t.offset,v=t.length;v>u&&(v=u),u-=v,t.length-=v;do i[a++]=D[E++];while(--v);t.length===0&&(t.mode=rm);break;case zx:if(u===0)break e;i[a++]=t.length,u--,t.mode=rm;break;case pv:if(t.wrap){for(;f<32;){if(c===0)break e;c--,d|=n[s++]<<f,f+=8}if(b-=u,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?ul(t.check,i,b,a-b):m1(t.check,i,b,a-b)),b=u,t.wrap&4&&(t.flags?d:Wx(d))!==t.check){r.msg="incorrect data check",t.mode=Zr;break}d=0,f=0}t.mode=qx;case qx:if(t.wrap&&t.flags){for(;f<32;){if(c===0)break e;c--,d+=n[s++]<<f,f+=8}if(t.wrap&4&&d!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Zr;break}d=0,f=0}t.mode=Hx;case Hx:O=F8;break e;case Zr:O=Zk;break e;case tE:return eE;case nE:default:return xa}return r.next_out=a,r.avail_out=u,r.next_in=s,r.avail_in=c,t.hold=d,t.bits=f,(t.wsize||b!==r.avail_out&&t.mode<Zr&&(t.mode<pv||e!==_x))&&aE(r,r.output,r.next_out,b-r.avail_out),w-=r.avail_in,b-=r.avail_out,r.total_in+=w,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?ul(t.check,i,b,r.next_out-b):m1(t.check,i,b,r.next_out-b)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Zl?128:0)+(t.mode===nm||t.mode===fv?256:0),(w===0&&b===0||e===_x)&&O===id&&(O=U8),O},K8=r=>{if(cd(r))return xa;let e=r.state;return e.window&&(e.window=null),r.state=null,id},Q8=(r,e)=>{if(cd(r))return xa;const t=r.state;return(t.wrap&2)===0?xa:(t.head=e,e.done=!1,id)},X8=(r,e)=>{const t=e.length;let n,i,s;return cd(r)||(n=r.state,n.wrap!==0&&n.mode!==l0)?xa:n.mode===l0&&(i=1,i=m1(i,e,t,0),i!==n.check)?Zk:(s=aE(r,e,t,t),s?(n.mode=tE,eE):(n.havedict=1,id))};var J8=iE,Z8=sE,eO=rE,tO=$8,nO=oE,rO=G8,iO=K8,sO=Q8,oO=X8,aO="pako inflate (from Nodeca project)",ec={inflateReset:J8,inflateReset2:Z8,inflateResetKeep:eO,inflateInit:tO,inflateInit2:nO,inflate:rO,inflateEnd:iO,inflateGetHeader:sO,inflateSetDictionary:oO,inflateInfo:aO};function lO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var cO=lO;const lE=Object.prototype.toString,{Z_NO_FLUSH:uO,Z_FINISH:dO,Z_OK:zf,Z_STREAM_END:vv,Z_NEED_DICT:yv,Z_STREAM_ERROR:hO,Z_DATA_ERROR:Yx,Z_MEM_ERROR:fO}=Gk;function ip(r){this.options=Kk.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I8,this.strm.avail_out=0;let t=ec.inflateInit2(this.strm,e.windowBits);if(t!==zf)throw new Error(g1[t]);if(this.header=new cO,ec.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=v1.string2buf(e.dictionary):lE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ec.inflateSetDictionary(this.strm,e.dictionary),t!==zf)))throw new Error(g1[t])}ip.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,c;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?dO:uO,lE.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=ec.inflate(t,a),s===yv&&i&&(s=ec.inflateSetDictionary(t,i),s===zf?s=ec.inflate(t,a):s===Yx&&(s=yv));t.avail_in>0&&s===vv&&t.state.wrap>0&&r[t.next_in]!==0;)ec.inflateReset(t),s=ec.inflate(t,a);switch(s){case hO:case Yx:case yv:case fO:return this.onEnd(s),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||s===vv))if(this.options.to==="string"){let u=v1.utf8border(t.output,t.next_out),d=t.next_out-u,f=v1.buf2string(t.output,u);t.next_out=d,t.avail_out=n-d,d&&t.output.set(t.output.subarray(u,u+d),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===zf&&c===0)){if(s===vv)return s=ec.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};ip.prototype.onData=function(r){this.chunks.push(r)};ip.prototype.onEnd=function(r){r===zf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Kk.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function pO(r,e){const t=new ip(e);if(t.push(r),t.err)throw t.msg||g1[t.err];return t.result}var mO=ip,gO=pO,vO={Inflate:mO,inflate:gO};const{Inflate:yO,inflate:wO}=vO;var Gx=yO,xO=wO;const cE=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;cE[r]=e}const Kx=4294967295;function bO(r,e,t){let n=r;for(let i=0;i<t;i++)n=cE[(n^e[i])&255]^n>>>8;return n}function _O(r,e){return(bO(Kx,r,e)^Kx)>>>0}function Qx(r,e,t){const n=r.readUint32(),i=_O(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function uE(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function dE(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function hE(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function fE(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-i]+t[s]>>1)&255}}function pE(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+SO(e[s-i],t[s],t[s-i])&255}}function SO(r,e,t){const n=r+e-t,i=Math.abs(n-r),s=Math.abs(n-e),a=Math.abs(n-t);return i<=s&&i<=a?r:s<=a?e:t}function kO(r,e,t,n,i,s){switch(r){case 0:uE(e,t,i);break;case 1:dE(e,t,i,s);break;case 2:hE(e,t,n,i);break;case 3:fE(e,t,n,i,s);break;case 4:pE(e,t,n,i,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const EO=new Uint16Array([255]),NO=new Uint8Array(EO.buffer),CO=NO[0]===255;function IO(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(s/8)*i,u=new Uint8Array(n*t*c);let d=0;for(let f=0;f<7;f++){const w=a[f],b=Math.ceil((t-w.x)/w.xStep),v=Math.ceil((n-w.y)/w.yStep);if(b<=0||v<=0)continue;const E=b*c,D=new Uint8Array(E);for(let T=0;T<v;T++){const P=e[d++],U=e.subarray(d,d+E);d+=E;const V=new Uint8Array(E);kO(P,U,V,D,E,c),D.set(V);for(let H=0;H<b;H++){const ie=w.x+H*w.xStep,de=w.y+T*w.yStep;if(!(ie>=t||de>=n))for(let q=0;q<c;q++)u[(de*t+ie)*c+q]=V[H*c+q]}}}if(s===16){const f=new Uint16Array(u.buffer);if(CO)for(let w=0;w<f.length;w++)f[w]=AO(f[w]);return f}else return u}function AO(r){return(r&255)<<8|r>>8&255}const TO=new Uint16Array([255]),PO=new Uint8Array(TO.buffer),DO=PO[0]===255,LO=new Uint8Array(0);function Xx(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=Math.ceil(s/8)*i,c=Math.ceil(s/8*i*t),u=new Uint8Array(n*c);let d=LO,f=0,w,b;for(let v=0;v<n;v++){switch(w=e.subarray(f+1,f+1+c),b=u.subarray(v*c,(v+1)*c),e[f]){case 0:uE(w,b,c);break;case 1:dE(w,b,c,a);break;case 2:hE(w,b,d,c);break;case 3:fE(w,b,d,c,a);break;case 4:pE(w,b,d,c,a);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}d=b,f+=c+1}if(s===16){const v=new Uint16Array(u.buffer);if(DO)for(let E=0;E<v.length;E++)v[E]=RO(v[E]);return v}else return u}function RO(r){return(r&255)<<8|r>>8&255}const Em=Uint8Array.of(137,80,78,71,13,10,26,10);function Jx(r){if(!MO(r.readBytes(Em.length)))throw new Error("wrong PNG signature")}function MO(r){if(r.length<Em.length)return!1;for(let e=0;e<Em.length;e++)if(r[e]!==Em[e])return!1;return!0}const OO="tEXt",jO=0,mE=new TextDecoder("latin1");function FO(r){if(UO(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const BO=/^[\u0000-\u00FF]*$/;function UO(r){if(!BO.test(r))throw new Error("invalid latin1 text")}function VO(r,e,t){const n=gE(e);r[n]=zO(e,t-n.length-1)}function gE(r){for(r.mark();r.readByte()!==jO;);const e=r.offset;r.reset();const t=mE.decode(r.readBytes(e-r.offset-1));return r.skip(1),FO(t),t}function zO(r,e){return mE.decode(r.readBytes(e))}const Ho={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},wv={UNKNOWN:-1,DEFLATE:0},Zx={UNKNOWN:-1,ADAPTIVE:0},xv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},im={NONE:0,BACKGROUND:1,PREVIOUS:2},bv={SOURCE:0,OVER:1};class qO extends Uy{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new Gx,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=wv.UNKNOWN,this._filterMethod=Zx.UNKNOWN,this._interlaceMethod=xv.UNKNOWN,this._colorType=Ho.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Jx(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Jx(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case OO:VO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Qx(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Qx(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=HO(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case Ho.GREYSCALE:n=1;break;case Ho.TRUECOLOUR:n=3;break;case Ho.INDEXED_COLOUR:n=1;break;case Ho.GREYSCALE_ALPHA:n=2;break;case Ho.TRUECOLOUR_ALPHA:n=4;break;case Ho.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==wv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<t;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ho.GREYSCALE:case Ho.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Ho.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Ho.UNKNOWN:case Ho.GREYSCALE_ALPHA:case Ho.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=gE(this),n=this.readUint8();if(n!==wv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:xO(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=Xx({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case im.NONE:break;case im.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)n.data[a+c]=0}break;case im.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,i=(s,a)=>{const c=((s+t.yOffset)*this._png.width+t.xOffset+a)*this._png.channels,u=(s*t.width+a)*this._png.channels;return{index:c,frameIndex:u}};switch(t.blendOp){case bv.SOURCE:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:c,frameIndex:u}=i(s,a);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[u+d]}break;case bv.OVER:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:c,frameIndex:u}=i(s,a);for(let d=0;d<this._png.channels;d++){const f=t.data[u+this._png.channels-1]/n,w=d%(this._png.channels-1)===0?1:t.data[u+d],b=Math.floor(f*w+(1-f)*e.data[c+d]);e.data[c+d]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Zx.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===xv.NO_INTERLACE)this._png.data=Xx({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===xv.ADAM7)this._png.data=IO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:im.NONE,blendOp:bv.SOURCE,data:e}),this._inflator=new Gx,this._writingDataChunks=!1}}function HO(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var eb;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(eb||(eb={}));function WO(r,e){return new qO(r,e).decode()}var gn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function _v(){gn.console&&typeof gn.console.log=="function"&&gn.console.log.apply(gn.console,arguments)}var Pr={log:_v,warn:function(r){gn.console&&(typeof gn.console.warn=="function"?gn.console.warn.apply(gn.console,arguments):_v.call(null,arguments))},error:function(r){gn.console&&(typeof gn.console.error=="function"?gn.console.error.apply(gn.console,arguments):_v(r))}};function Sv(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Fu(n.response,e,t)},n.onerror=function(){Pr.error("could not download file")},n.send()}function tb(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function sm(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Fu=gn.saveAs||((typeof window>"u"?"undefined":_r(window))!=="object"||window!==gn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=gn.URL||gn.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?tb(i.href)?Sv(r,e,t):sm(i,i.target="_blank"):sm(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){sm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(tb(r))Sv(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){sm(n)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:_r(s)!=="object"&&(Pr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Sv(r,e,t);var i=r.type==="application/octet-stream",s=/constructor/i.test(gn.HTMLElement)||gn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":_r(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var f=c.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},c.readAsDataURL(r)}else{var u=gn.URL||gn.webkitURL,d=u.createObjectURL(r);n?n.location=d:location.href=d,n=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});function vE(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,a=i.exec(r);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+c+u+d}}var Nm=gn.atob.bind(gn),nb=gn.btoa.bind(gn);function kv(r,e){var t=r[0],n=r[1],i=r[2],s=r[3];t=zs(t,n,i,s,e[0],7,-680876936),s=zs(s,t,n,i,e[1],12,-389564586),i=zs(i,s,t,n,e[2],17,606105819),n=zs(n,i,s,t,e[3],22,-1044525330),t=zs(t,n,i,s,e[4],7,-176418897),s=zs(s,t,n,i,e[5],12,1200080426),i=zs(i,s,t,n,e[6],17,-1473231341),n=zs(n,i,s,t,e[7],22,-45705983),t=zs(t,n,i,s,e[8],7,1770035416),s=zs(s,t,n,i,e[9],12,-1958414417),i=zs(i,s,t,n,e[10],17,-42063),n=zs(n,i,s,t,e[11],22,-1990404162),t=zs(t,n,i,s,e[12],7,1804603682),s=zs(s,t,n,i,e[13],12,-40341101),i=zs(i,s,t,n,e[14],17,-1502002290),t=qs(t,n=zs(n,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=qs(s,t,n,i,e[6],9,-1069501632),i=qs(i,s,t,n,e[11],14,643717713),n=qs(n,i,s,t,e[0],20,-373897302),t=qs(t,n,i,s,e[5],5,-701558691),s=qs(s,t,n,i,e[10],9,38016083),i=qs(i,s,t,n,e[15],14,-660478335),n=qs(n,i,s,t,e[4],20,-405537848),t=qs(t,n,i,s,e[9],5,568446438),s=qs(s,t,n,i,e[14],9,-1019803690),i=qs(i,s,t,n,e[3],14,-187363961),n=qs(n,i,s,t,e[8],20,1163531501),t=qs(t,n,i,s,e[13],5,-1444681467),s=qs(s,t,n,i,e[2],9,-51403784),i=qs(i,s,t,n,e[7],14,1735328473),t=Hs(t,n=qs(n,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Hs(s,t,n,i,e[8],11,-2022574463),i=Hs(i,s,t,n,e[11],16,1839030562),n=Hs(n,i,s,t,e[14],23,-35309556),t=Hs(t,n,i,s,e[1],4,-1530992060),s=Hs(s,t,n,i,e[4],11,1272893353),i=Hs(i,s,t,n,e[7],16,-155497632),n=Hs(n,i,s,t,e[10],23,-1094730640),t=Hs(t,n,i,s,e[13],4,681279174),s=Hs(s,t,n,i,e[0],11,-358537222),i=Hs(i,s,t,n,e[3],16,-722521979),n=Hs(n,i,s,t,e[6],23,76029189),t=Hs(t,n,i,s,e[9],4,-640364487),s=Hs(s,t,n,i,e[12],11,-421815835),i=Hs(i,s,t,n,e[15],16,530742520),t=Ws(t,n=Hs(n,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ws(s,t,n,i,e[7],10,1126891415),i=Ws(i,s,t,n,e[14],15,-1416354905),n=Ws(n,i,s,t,e[5],21,-57434055),t=Ws(t,n,i,s,e[12],6,1700485571),s=Ws(s,t,n,i,e[3],10,-1894986606),i=Ws(i,s,t,n,e[10],15,-1051523),n=Ws(n,i,s,t,e[1],21,-2054922799),t=Ws(t,n,i,s,e[8],6,1873313359),s=Ws(s,t,n,i,e[15],10,-30611744),i=Ws(i,s,t,n,e[6],15,-1560198380),n=Ws(n,i,s,t,e[13],21,1309151649),t=Ws(t,n,i,s,e[4],6,-145523070),s=Ws(s,t,n,i,e[11],10,-1120210379),i=Ws(i,s,t,n,e[2],15,718787259),n=Ws(n,i,s,t,e[9],21,-343485551),r[0]=Jc(t,r[0]),r[1]=Jc(n,r[1]),r[2]=Jc(i,r[2]),r[3]=Jc(s,r[3])}function H0(r,e,t,n,i,s){return e=Jc(Jc(e,r),Jc(n,s)),Jc(e<<i|e>>>32-i,t)}function zs(r,e,t,n,i,s,a){return H0(e&t|~e&n,r,e,i,s,a)}function qs(r,e,t,n,i,s,a){return H0(e&n|t&~n,r,e,i,s,a)}function Hs(r,e,t,n,i,s,a){return H0(e^t^n,r,e,i,s,a)}function Ws(r,e,t,n,i,s,a){return H0(t^(e|~n),r,e,i,s,a)}function yE(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)kv(n,$O(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(kv(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,kv(n,i),n}function $O(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var rb="0123456789abcdef".split("");function YO(r){for(var e="",t=0;t<4;t++)e+=rb[r>>8*t+4&15]+rb[r>>8*t&15];return e}function GO(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function y1(r){return yE(r).map(GO).join("")}var KO=(function(r){for(var e=0;e<r.length;e++)r[e]=YO(r[e]);return r.join("")})(yE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jc(r,e){if(KO){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function w1(r,e){var t,n,i,s;if(r!==t){for(var a=(i=r,s=1+(256/r.length|0),new Array(s+1).join(i)),c=[],u=0;u<256;u++)c[u]=u;var d=0;for(u=0;u<256;u++){var f=c[u];d=(d+f+a.charCodeAt(u))%256,c[u]=c[d],c[d]=f}t=r,n=c}else c=n;var w=e.length,b=0,v=0,E="";for(u=0;u<w;u++)v=(v+(f=c[b=(b+1)%256]))%256,c[b]=c[v],c[v]=f,a=c[(c[b]+c[v])%256],E+=String.fromCharCode(e.charCodeAt(u)^a);return E}var ib={print:4,modify:8,copy:16,"annot-forms":32};function Hd(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(c){if(ib.perm!==void 0)throw new Error("Invalid permission: "+c);i+=ib[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=y1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=w1(this.encryptionKey,this.padding)}function Wd(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function sb(r){if(_r(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!i],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(r,n)}catch(c){gn.console&&Pr.error("jsPDF PubSub Error",c.message,c)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function c0(r){if(!(this instanceof c0))return new c0(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function wE(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Bu(r,e,t,n,i){if(!(this instanceof Bu))return new Bu(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,wE.call(this,n,i)}function Gd(r,e,t,n,i){if(!(this instanceof Gd))return new Gd(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,wE.call(this,n,i)}function Yt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],c=1,u=16,d="S",f=null;_r(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(f=r.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(u=r.floatPrecision),d=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var w=r.putOnlyUsedFonts||!1,b={},v={internal:{},__private__:{}};v.__private__.PubSub=sb;var E="1.3",D=v.__private__.getPdfVersion=function(){return E};v.__private__.setPdfVersion=function(_){E=_};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return T};var P=v.__private__.getPageFormat=function(_){return T[_]};i=i||"a4";var U="compat",V="advanced",H=U;function ie(){this.saveGraphicsState(),J(new Bt(Jt,0,0,-Jt,0,Ki()*Jt).toString()+" cm"),this.setFontSize(this.getFontSize()/Jt),d="n",H=V}function de(){this.restoreGraphicsState(),d="S",H=U}var q=v.__private__.combineFontStyleAndFontWeight=function(_,W){if(_=="bold"&&W=="normal"||_=="bold"&&W==400||_=="normal"&&W=="italic"||_=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(_=W==400||W==="normal"?_==="italic"?"italic":"normal":W!=700&&W!=="bold"||_!=="normal"?(W==700?"bold":W)+""+_:"bold"),_};v.advancedAPI=function(_){var W=H===U;return W&&ie.call(this),typeof _!="function"||(_(this),W&&de.call(this)),this},v.compatAPI=function(_){var W=H===V;return W&&de.call(this),typeof _!="function"||(_(this),W&&ie.call(this)),this},v.isAdvancedAPI=function(){return H===V};var O,M=function(_){if(H!==V)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=v.roundToPrecision=v.__private__.roundToPrecision=function(_,W){var ue=e||W;if(isNaN(_)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(ue).replace(/0+$/,"")};O=v.hpf=v.__private__.hpf=typeof u=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return z(_,u)}:u==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return z(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return z(_,16)};var N=v.f2=v.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return z(_,2)},I=v.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return z(_,3)},L=v.scale=v.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return H===U?_*Jt:H===V?_:void 0},ee=function(_){return L((function(W){return H===U?Ki()-W:H===V?W:void 0})(_))};v.__private__.setPrecision=v.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ve,Ne="00000000000000000000000000000000",be=v.__private__.getFileId=function(){return Ne},oe=v.__private__.setFileId=function(_){return Ne=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Be=new Hd(f.userPermissions,f.userPassword,f.ownerPassword,Ne)),Ne};v.setFileId=function(_){return oe(_),this},v.getFileId=function(){return be()};var _e=v.__private__.convertDateToPDFDate=function(_){var W=_.getTimezoneOffset(),ue=W<0?"+":"-",xe=Math.floor(Math.abs(W/60)),Ae=Math.abs(W%60),Ke=[ue,Y(xe),"'",Y(Ae),"'"].join("");return["D:",_.getFullYear(),Y(_.getMonth()+1),Y(_.getDate()),Y(_.getHours()),Y(_.getMinutes()),Y(_.getSeconds()),Ke].join("")},ge=v.__private__.convertPDFDateToDate=function(_){var W=parseInt(_.substr(2,4),10),ue=parseInt(_.substr(6,2),10)-1,xe=parseInt(_.substr(8,2),10),Ae=parseInt(_.substr(10,2),10),Ke=parseInt(_.substr(12,2),10),et=parseInt(_.substr(14,2),10);return new Date(W,ue,xe,Ae,Ke,et,0)},te=v.__private__.setCreationDate=function(_){var W;if(_===void 0&&(_=new Date),_ instanceof Date)W=_e(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=_}return ve=W},j=v.__private__.getCreationDate=function(_){var W=ve;return _==="jsDate"&&(W=ge(ve)),W};v.setCreationDate=function(_){return te(_),this},v.getCreationDate=function(_){return j(_)};var F,Y=v.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},se=v.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},le=0,ye=[],fe=[],he=0,Te=[],Fe=[],$e=!1,Ye=fe;v.__private__.setCustomOutputDestination=function(_){$e=!0,Ye=_};var ht=function(_){$e||(Ye=_)};v.__private__.resetCustomOutputDestination=function(){$e=!1,Ye=fe};var J=v.__private__.out=function(_){return _=_.toString(),he+=_.length+1,Ye.push(_),Ye},Ge=v.__private__.write=function(_){return J(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},at=v.__private__.getArrayBuffer=function(_){for(var W=_.length,ue=new ArrayBuffer(W),xe=new Uint8Array(ue);W--;)xe[W]=_.charCodeAt(W);return ue},lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return lt};var Qe=r.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(_){return Qe=H===V?_/Jt:_,this};var bt,pt=v.__private__.getFontSize=v.getFontSize=function(){return H===U?Qe:Qe*Jt},Rt=r.R2L||!1;v.__private__.setR2L=v.setR2L=function(_){return Rt=_,this},v.__private__.getR2L=v.getR2L=function(){return Rt};var vt,hn=v.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))bt=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');bt=_}else bt=parseInt(_,10)};v.__private__.getZoomMode=function(){return bt};var xt,Et=v.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');vt=_};v.__private__.getPageMode=function(){return vt};var Ft=v.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');xt=_};v.__private__.getLayoutMode=function(){return xt},v.__private__.setDisplayMode=v.setDisplayMode=function(_,W,ue){return hn(_),Ft(W),Et(ue),this};var nn={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(_){if(Object.keys(nn).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nn[_]},v.__private__.getDocumentProperties=function(){return nn},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(_){for(var W in nn)nn.hasOwnProperty(W)&&_[W]&&(nn[W]=_[W]);return this},v.__private__.setDocumentProperty=function(_,W){if(Object.keys(nn).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nn[_]=W};var St,Jt,Ct,nr,Je,ln={},_t={},Wn=[],ut={},Tn={},Gt={},Zt={},En=null,an=0,$t=[],kn=new sb(v),_i=r.hotfixes||[],mr={},Br={},ti=[],Bt=function _(W,ue,xe,Ae,Ke,et){if(!(this instanceof _))return new _(W,ue,xe,Ae,Ke,et);isNaN(W)&&(W=1),isNaN(ue)&&(ue=0),isNaN(xe)&&(xe=0),isNaN(Ae)&&(Ae=1),isNaN(Ke)&&(Ke=0),isNaN(et)&&(et=0),this._matrix=[W,ue,xe,Ae,Ke,et]};Object.defineProperty(Bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Bt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(_)},Bt.prototype.multiply=function(_){var W=_.sx*this.sx+_.shy*this.shx,ue=_.sx*this.shy+_.shy*this.sy,xe=_.shx*this.sx+_.sy*this.shx,Ae=_.shx*this.shy+_.sy*this.sy,Ke=_.tx*this.sx+_.ty*this.shx+this.tx,et=_.tx*this.shy+_.ty*this.sy+this.ty;return new Bt(W,ue,xe,Ae,Ke,et)},Bt.prototype.decompose=function(){var _=this.sx,W=this.shy,ue=this.shx,xe=this.sy,Ae=this.tx,Ke=this.ty,et=Math.sqrt(_*_+W*W),Nt=(_/=et)*ue+(W/=et)*xe;ue-=_*Nt,xe-=W*Nt;var Mt=Math.sqrt(ue*ue+xe*xe);return Nt/=Mt,_*(xe/=Mt)<W*(ue/=Mt)&&(_=-_,W=-W,Nt=-Nt,et=-et),{scale:new Bt(et,0,0,Mt,0,0),translate:new Bt(1,0,0,1,Ae,Ke),rotate:new Bt(_,W,-W,_,0,0),skew:new Bt(1,0,Nt,1,0,0)}},Bt.prototype.toString=function(_){return this.join(" ")},Bt.prototype.inversed=function(){var _=this.sx,W=this.shy,ue=this.shx,xe=this.sy,Ae=this.tx,Ke=this.ty,et=1/(_*xe-W*ue),Nt=xe*et,Mt=-W*et,tn=-ue*et,un=_*et;return new Bt(Nt,Mt,tn,un,-Nt*Ae-tn*Ke,-Mt*Ae-un*Ke)},Bt.prototype.applyToPoint=function(_){var W=_.x*this.sx+_.y*this.shx+this.tx,ue=_.x*this.shy+_.y*this.sy+this.ty;return new xs(W,ue)},Bt.prototype.applyToRectangle=function(_){var W=this.applyToPoint(_),ue=this.applyToPoint(new xs(_.x+_.w,_.y+_.h));return new ra(W.x,W.y,ue.x-W.x,ue.y-W.y)},Bt.prototype.clone=function(){var _=this.sx,W=this.shy,ue=this.shx,xe=this.sy,Ae=this.tx,Ke=this.ty;return new Bt(_,W,ue,xe,Ae,Ke)},v.Matrix=Bt;var Kt=v.matrixMult=function(_,W){return W.multiply(_)},gr=new Bt(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=gr;var Er=function(_,W){if(!Tn[_]){var ue=(W instanceof Bu?"Sh":"P")+(Object.keys(ut).length+1).toString(10);W.id=ue,Tn[_]=ue,ut[ue]=W,kn.publish("addPattern",W)}};v.ShadingPattern=Bu,v.TilingPattern=Gd,v.addShadingPattern=function(_,W){return M("addShadingPattern()"),Er(_,W),this},v.beginTilingPattern=function(_){M("beginTilingPattern()"),Gi(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},v.endTilingPattern=function(_,W){M("endTilingPattern()"),W.stream=Fe[F].join(`
`),Er(_,W),kn.publish("endTilingPattern",W),ti.pop().restore()};var ni,rr=v.__private__.newObject=function(){var _=Ir();return or(_,!0),_},Ir=v.__private__.newObjectDeferred=function(){return le++,ye[le]=function(){return he},le},or=function(_,W){return W=typeof W=="boolean"&&W,ye[_]=he,W&&J(_+" 0 obj"),_},Xs=v.__private__.newAdditionalObject=function(){var _={objId:Ir(),content:""};return Te.push(_),_},ho=Ir(),Li=Ir(),gs=v.__private__.decodeColorString=function(_){var W=_.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length!==5||W[4]!=="k"&&W[4]!=="K"||(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var ue=parseFloat(W[0]);W=[ue,ue,ue,"r"]}for(var xe="#",Ae=0;Ae<3;Ae++)xe+=("0"+Math.floor(255*parseFloat(W[Ae])).toString(16)).slice(-2);return xe},Dr=v.__private__.encodeColorString=function(_){var W;typeof _=="string"&&(_={ch1:_});var ue=_.ch1,xe=_.ch2,Ae=_.ch3,Ke=_.ch4,et=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var Nt=new vE(ue);if(Nt.ok)ue=Nt.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var Mt=parseInt(ue.substr(1),16);ue=Mt>>16&255,xe=Mt>>8&255,Ae=255&Mt}if(xe===void 0||Ke===void 0&&ue===xe&&xe===Ae)W=typeof ue=="string"?ue+" "+et[0]:_.precision===2?N(ue/255)+" "+et[0]:I(ue/255)+" "+et[0];else if(Ke===void 0||_r(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return["1.","1.","1.",et[1]].join(" ");W=typeof ue=="string"?[ue,xe,Ae,et[1]].join(" "):_.precision===2?[N(ue/255),N(xe/255),N(Ae/255),et[1]].join(" "):[I(ue/255),I(xe/255),I(Ae/255),et[1]].join(" ")}else W=typeof ue=="string"?[ue,xe,Ae,Ke,et[2]].join(" "):_.precision===2?[N(ue),N(xe),N(Ae),N(Ke),et[2]].join(" "):[I(ue),I(xe),I(Ae),I(Ke),et[2]].join(" ");return W},Si=v.__private__.getFilters=function(){return a},Lr=v.__private__.putStream=function(_){var W=(_=_||{}).data||"",ue=_.filters||Si(),xe=_.alreadyAppliedFilters||[],Ae=_.addLength1||!1,Ke=W.length,et=_.objectId,Nt=function($r){return $r};if(f!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Nt=Be.encryptor(et,0));var Mt={};ue===!0&&(ue=["FlateEncode"]);var tn=_.additionalKeyValues||[],un=(Mt=Yt.API.processDataByFilters!==void 0?Yt.API.processDataByFilters(W,ue):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(Mt.data.length!==0&&(tn.push({key:"Length",value:Mt.data.length}),Ae===!0&&tn.push({key:"Length1",value:Ke})),un.length!=0)if(un.split("/").length-1==1)tn.push({key:"Filter",value:un});else{tn.push({key:"Filter",value:"["+un+"]"});for(var Ln=0;Ln<tn.length;Ln+=1)if(tn[Ln].key==="DecodeParms"){for(var Qn=[],Ur=0;Ur<Mt.reverseChain.split("/").length-1;Ur+=1)Qn.push("null");Qn.push(tn[Ln].value),tn[Ln].value="["+Qn.join(" ")+"]"}}J("<<");for(var ar=0;ar<tn.length;ar++)J("/"+tn[ar].key+" "+tn[ar].value);J(">>"),Mt.data.length!==0&&(J("stream"),J(Nt(Mt.data)),J("endstream"))},fo=v.__private__.putPage=function(_){var W=_.number,ue=_.data,xe=_.objId,Ae=_.contentsObjId;or(xe,!0),J("<</Type /Page"),J("/Parent "+_.rootDictionaryObjId+" 0 R"),J("/Resources "+_.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(O(_.mediaBox.bottomLeftX))+" "+parseFloat(O(_.mediaBox.bottomLeftY))+" "+O(_.mediaBox.topRightX)+" "+O(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&J("/CropBox ["+O(_.cropBox.bottomLeftX)+" "+O(_.cropBox.bottomLeftY)+" "+O(_.cropBox.topRightX)+" "+O(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&J("/BleedBox ["+O(_.bleedBox.bottomLeftX)+" "+O(_.bleedBox.bottomLeftY)+" "+O(_.bleedBox.topRightX)+" "+O(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&J("/TrimBox ["+O(_.trimBox.bottomLeftX)+" "+O(_.trimBox.bottomLeftY)+" "+O(_.trimBox.topRightX)+" "+O(_.trimBox.topRightY)+"]"),_.artBox!==null&&J("/ArtBox ["+O(_.artBox.bottomLeftX)+" "+O(_.artBox.bottomLeftY)+" "+O(_.artBox.topRightX)+" "+O(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&J("/UserUnit "+_.userUnit),kn.publish("putPage",{objId:xe,pageContext:$t[W],pageNumber:W,page:ue}),J("/Contents "+Ae+" 0 R"),J(">>"),J("endobj");var Ke=ue.join(`
`);return H===V&&(Ke+=`
Q`),or(Ae,!0),Lr({data:Ke,filters:Si(),objectId:Ae}),J("endobj"),xe},Hi=v.__private__.putPages=function(){var _,W,ue=[];for(_=1;_<=an;_++)$t[_].objId=Ir(),$t[_].contentsObjId=Ir();for(_=1;_<=an;_++)ue.push(fo({number:_,data:Fe[_],objId:$t[_].objId,contentsObjId:$t[_].contentsObjId,mediaBox:$t[_].mediaBox,cropBox:$t[_].cropBox,bleedBox:$t[_].bleedBox,trimBox:$t[_].trimBox,artBox:$t[_].artBox,userUnit:$t[_].userUnit,rootDictionaryObjId:ho,resourceDictionaryObjId:Li}));or(ho,!0),J("<</Type /Pages");var xe="/Kids [";for(W=0;W<an;W++)xe+=ue[W]+" 0 R ";J(xe+"]"),J("/Count "+an),J(">>"),J("endobj"),kn.publish("postPutPages")},vs=function(_){kn.publish("putFont",{font:_,out:J,newObject:rr,putStream:Lr}),_.isAlreadyPutted!==!0&&(_.objectNumber=rr(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Wd(_.postScriptName)),J("/Subtype /Type1"),typeof _.encoding=="string"&&J("/Encoding /"+_.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},os=function(_){_.objectNumber=rr();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[O(_.x),O(_.y),O(_.x+_.width),O(_.y+_.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var ue=_.pages[1].join(`
`);Lr({data:ue,additionalKeyValues:W,objectId:_.objectNumber}),J("endobj")},Js=function(_,W){W||(W=21);var ue=rr(),xe=(function(et,Nt){var Mt,tn=[],un=1/(Nt-1);for(Mt=0;Mt<1;Mt+=un)tn.push(Mt);if(tn.push(1),et[0].offset!=0){var Ln={offset:0,color:et[0].color};et.unshift(Ln)}if(et[et.length-1].offset!=1){var Qn={offset:1,color:et[et.length-1].color};et.push(Qn)}for(var Ur="",ar=0,$r=0;$r<tn.length;$r++){for(Mt=tn[$r];Mt>et[ar+1].offset;)ar++;var Mr=et[ar].offset,Yr=(Mt-Mr)/(et[ar+1].offset-Mr),Vr=et[ar].color,Ps=et[ar+1].color;Ur+=se(Math.round((1-Yr)*Vr[0]+Yr*Ps[0]).toString(16))+se(Math.round((1-Yr)*Vr[1]+Yr*Ps[1]).toString(16))+se(Math.round((1-Yr)*Vr[2]+Yr*Ps[2]).toString(16))}return Ur.trim()})(_.colors,W),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+W+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Lr({data:xe,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),J("endobj"),_.objectNumber=rr(),J("<< /ShadingType "+_.type),J("/ColorSpace /DeviceRGB");var Ke="/Coords ["+O(parseFloat(_.coords[0]))+" "+O(parseFloat(_.coords[1]))+" ";_.type===2?Ke+=O(parseFloat(_.coords[2]))+" "+O(parseFloat(_.coords[3])):Ke+=O(parseFloat(_.coords[2]))+" "+O(parseFloat(_.coords[3]))+" "+O(parseFloat(_.coords[4]))+" "+O(parseFloat(_.coords[5])),J(Ke+="]"),_.matrix&&J("/Matrix ["+_.matrix.toString()+"]"),J("/Function "+ue+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Do=function(_,W){var ue=Ir(),xe=rr();W.push({resourcesOid:ue,objectOid:xe}),_.objectNumber=xe;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+_.boundingBox.map(O).join(" ")+"]"}),Ae.push({key:"XStep",value:O(_.xStep)}),Ae.push({key:"YStep",value:O(_.yStep)}),Ae.push({key:"Resources",value:ue+" 0 R"}),_.matrix&&Ae.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Lr({data:_.stream,additionalKeyValues:Ae,objectId:_.objectNumber}),J("endobj")},Dl=function(_){for(var W in _.objectNumber=rr(),J("<<"),_)switch(W){case"opacity":J("/ca "+N(_[W]));break;case"stroke-opacity":J("/CA "+N(_[W]))}J(">>"),J("endobj")},zn=function(_){or(_.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var W in J("/Font <<"),ln)ln.hasOwnProperty(W)&&(w===!1||w===!0&&b.hasOwnProperty(W))&&J("/"+W+" "+ln[W].objectNumber+" 0 R");J(">>")})(),(function(){if(Object.keys(ut).length>0){for(var W in J("/Shading <<"),ut)ut.hasOwnProperty(W)&&ut[W]instanceof Bu&&ut[W].objectNumber>=0&&J("/"+W+" "+ut[W].objectNumber+" 0 R");kn.publish("putShadingPatternDict"),J(">>")}})(),(function(W){if(Object.keys(ut).length>0){for(var ue in J("/Pattern <<"),ut)ut.hasOwnProperty(ue)&&ut[ue]instanceof v.TilingPattern&&ut[ue].objectNumber>=0&&ut[ue].objectNumber<W&&J("/"+ue+" "+ut[ue].objectNumber+" 0 R");kn.publish("putTilingPatternDict"),J(">>")}})(_.objectOid),(function(){if(Object.keys(Gt).length>0){var W;for(W in J("/ExtGState <<"),Gt)Gt.hasOwnProperty(W)&&Gt[W].objectNumber>=0&&J("/"+W+" "+Gt[W].objectNumber+" 0 R");kn.publish("putGStateDict"),J(">>")}})(),(function(){for(var W in J("/XObject <<"),mr)mr.hasOwnProperty(W)&&mr[W].objectNumber>=0&&J("/"+W+" "+mr[W].objectNumber+" 0 R");kn.publish("putXobjectDict"),J(">>")})(),J(">>"),J("endobj")},Lo=function(_){_t[_.fontName]=_t[_.fontName]||{},_t[_.fontName][_.fontStyle]=_.id},po=function(_,W,ue,xe,Ae){var Ke={id:"F"+(Object.keys(ln).length+1).toString(10),postScriptName:_,fontName:W,fontStyle:ue,encoding:xe,isStandardFont:Ae||!1,metadata:{}};return kn.publish("addFont",{font:Ke,instance:this}),ln[Ke.id]=Ke,Lo(Ke),Ke.id},ri=v.__private__.pdfEscape=v.pdfEscape=function(_,W){return(function(ue,xe){var Ae,Ke,et,Nt,Mt,tn,un,Ln,Qn;if(et=(xe=xe||{}).sourceEncoding||"Unicode",Mt=xe.outputEncoding,(xe.autoencode||Mt)&&ln[St].metadata&&ln[St].metadata[et]&&ln[St].metadata[et].encoding&&(Nt=ln[St].metadata[et].encoding,!Mt&&ln[St].encoding&&(Mt=ln[St].encoding),!Mt&&Nt.codePages&&(Mt=Nt.codePages[0]),typeof Mt=="string"&&(Mt=Nt[Mt]),Mt)){for(un=!1,tn=[],Ae=0,Ke=ue.length;Ae<Ke;Ae++)(Ln=Mt[ue.charCodeAt(Ae)])?tn.push(String.fromCharCode(Ln)):tn.push(ue[Ae]),tn[Ae].charCodeAt(0)>>8&&(un=!0);ue=tn.join("")}for(Ae=ue.length;un===void 0&&Ae!==0;)ue.charCodeAt(Ae-1)>>8&&(un=!0),Ae--;if(!un)return ue;for(tn=xe.noBOM?[]:[254,255],Ae=0,Ke=ue.length;Ae<Ke;Ae++){if((Qn=(Ln=ue.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tn.push(Qn),tn.push(Ln-(Qn<<8))}return String.fromCharCode.apply(void 0,tn)})(_,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ri=v.__private__.beginPage=function(_){Fe[++an]=[],$t[an]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},mo(an),ht(Fe[F])},Zo=function(_,W){var ue,xe,Ae;switch(t=W||t,typeof _=="string"&&(ue=P(_.toLowerCase()),Array.isArray(ue)&&(xe=ue[0],Ae=ue[1])),Array.isArray(_)&&(xe=_[0]*Jt,Ae=_[1]*Jt),isNaN(xe)&&(xe=i[0],Ae=i[1]),(xe>14400||Ae>14400)&&(Pr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Ae=Math.min(14400,Ae)),i=[xe,Ae],t.substr(0,1)){case"l":Ae>xe&&(i=[Ae,xe]);break;case"p":xe>Ae&&(i=[Ae,xe])}Ri(i),Ut(Dn),J(ws),ur!==0&&J(ur+" J"),Ll!==0&&J(Ll+" j"),kn.publish("addPage",{pageNumber:an})},ea=function(_){_>0&&_<=an&&(Fe.splice(_,1),$t.splice(_,1),an--,F>an&&(F=an),this.setPage(F))},mo=function(_){_>0&&_<=an&&(F=_)},Mi=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Fe.length-1},ba=function(_,W,ue){var xe,Ae=void 0;return ue=ue||{},_=_!==void 0?_:ln[St].fontName,W=W!==void 0?W:ln[St].fontStyle,xe=_.toLowerCase(),_t[xe]!==void 0&&_t[xe][W]!==void 0?Ae=_t[xe][W]:_t[_]!==void 0&&_t[_][W]!==void 0?Ae=_t[_][W]:ue.disableWarning===!1&&Pr.warn("Unable to look up font label for font '"+_+"', '"+W+"'. Refer to getFontList() for available fonts."),Ae||ue.noFallback||(Ae=_t.times[W])==null&&(Ae=_t.times.normal),Ae},Kn=v.__private__.putInfo=function(){var _=rr(),W=function(xe){return xe};for(var ue in f!==null&&(W=Be.encryptor(_,0)),J("<<"),J("/Producer ("+ri(W("jsPDF "+Yt.version))+")"),nn)nn.hasOwnProperty(ue)&&nn[ue]&&J("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+ri(W(nn[ue]))+")");J("/CreationDate ("+ri(W(ve))+")"),J(">>"),J("endobj")},Zs=v.__private__.putCatalog=function(_){var W=(_=_||{}).rootDictionaryObjId||ho;switch(rr(),J("<<"),J("/Type /Catalog"),J("/Pages "+W+" 0 R"),bt||(bt="fullwidth"),bt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+bt;ue.substr(ue.length-1)==="%"&&(bt=parseInt(bt)/100),typeof bt=="number"&&J("/OpenAction [3 0 R /XYZ null null "+N(bt)+"]")}switch(xt||(xt="continuous"),xt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}vt&&J("/PageMode /"+vt),kn.publish("putCatalog"),J(">>"),J("endobj")},Qa=v.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(le+1)),J("/Root "+le+" 0 R"),J("/Info "+(le-1)+" 0 R"),f!==null&&J("/Encrypt "+Be.oid+" 0 R"),J("/ID [ <"+Ne+"> <"+Ne+"> ]"),J(">>")},Nr=v.__private__.putHeader=function(){J("%PDF-"+E),J("%")},Ro=v.__private__.putXRef=function(){var _="0000000000";J("xref"),J("0 "+(le+1)),J("0000000000 65535 f ");for(var W=1;W<=le;W++)typeof ye[W]=="function"?J((_+ye[W]()).slice(-10)+" 00000 n "):ye[W]!==void 0?J((_+ye[W]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Wi=v.__private__.buildDocument=function(){var _;le=0,he=0,fe=[],ye=[],Te=[],ho=Ir(),Li=Ir(),ht(fe),kn.publish("buildDocument"),Nr(),Hi(),(function(){kn.publish("putAdditionalObjects");for(var ue=0;ue<Te.length;ue++){var xe=Te[ue];or(xe.objId,!0),J(xe.content),J("endobj")}kn.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var ue in ln)ln.hasOwnProperty(ue)&&(w===!1||w===!0&&b.hasOwnProperty(ue))&&vs(ln[ue])})(),(function(){var ue;for(ue in Gt)Gt.hasOwnProperty(ue)&&Dl(Gt[ue])})(),(function(){for(var ue in mr)mr.hasOwnProperty(ue)&&os(mr[ue])})(),(function(ue){var xe;for(xe in ut)ut.hasOwnProperty(xe)&&(ut[xe]instanceof Bu?Js(ut[xe]):ut[xe]instanceof Gd&&Do(ut[xe],ue))})(_),kn.publish("putResources"),_.forEach(zn),zn({resourcesOid:Li,objectOid:Number.MAX_SAFE_INTEGER}),kn.publish("postPutResources"),f!==null&&(Be.oid=rr(),J("<<"),J("/Filter /Standard"),J("/V "+Be.v),J("/R "+Be.r),J("/U <"+Be.toHexString(Be.U)+">"),J("/O <"+Be.toHexString(Be.O)+">"),J("/P "+Be.P),J(">>"),J("endobj")),Kn(),Zs();var W=he;return Ro(),Qa(),J("startxref"),J(""+W),J("%%EOF"),ht(Fe[F]),fe.join(`
`)},ys=v.__private__.getBlob=function(_){return new Blob([at(_)],{type:"application/pdf"})},G=v.output=v.__private__.output=(ni=function(_,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",_){case void 0:return Wi();case"save":v.save(W.filename);break;case"arraybuffer":return at(Wi());case"blob":return ys(Wi());case"bloburi":case"bloburl":if(gn.URL!==void 0&&typeof gn.URL.createObjectURL=="function")return gn.URL&&gn.URL.createObjectURL(ys(Wi()))||void 0;Pr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",xe=Wi();try{ue=nb(xe)}catch{ue=nb(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+W.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(gn)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(Ae=W.pdfObjectUrl,Ke="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",Nt=gn.open();return Nt!==null&&Nt.document.write(et),Nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(gn)==="[object Window]"){var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',tn=gn.open();if(tn!==null){tn.document.write(Mt);var un=this;tn.document.documentElement.querySelector("#pdfViewer").onload=function(){tn.document.title=W.filename,tn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(un.output("bloburl"))}}return tn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(gn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',Qn=gn.open();if(Qn!==null&&(Qn.document.write(Ln),Qn.document.title=W.filename),Qn||typeof safari>"u")return Qn;break;case"datauri":case"dataurl":return gn.document.location.href=this.output("datauristring",W);default:return null}},ni.foo=function(){try{return ni.apply(this,arguments)}catch(ue){var _=ue.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var W="Error in function "+_.split(`
`)[0].split("<")[0]+": "+ue.message;if(!gn.console)throw new Error(W);gn.console.error(W,ue),gn.alert&&alert(W)}},ni.foo.bar=ni,ni.foo),we=function(_){return Array.isArray(_i)===!0&&_i.indexOf(_)>-1};switch(n){case"pt":Jt=1;break;case"mm":Jt=72/25.4;break;case"cm":Jt=72/2.54;break;case"in":Jt=72;break;case"px":Jt=we("px_scaling")==1?.75:96/72;break;case"pc":case"em":Jt=12;break;case"ex":Jt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Jt=n}var Be=null;te(),oe();var He=v.__private__.getPageInfo=v.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$t[_].objId,pageNumber:_,pageContext:$t[_]}},mt=v.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in $t)if($t[W].objId===_)break;return He(W)},Tt=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:$t[F].objId,pageNumber:F,pageContext:$t[F]}};v.addPage=function(){return Zo.apply(this,arguments),this},v.setPage=function(){return mo.apply(this,arguments),ht.call(this,Fe[F]),this},v.insertPage=function(_){return this.addPage(),this.movePage(F,_),this},v.movePage=function(_,W){var ue,xe;if(_>W){ue=Fe[_],xe=$t[_];for(var Ae=_;Ae>W;Ae--)Fe[Ae]=Fe[Ae-1],$t[Ae]=$t[Ae-1];Fe[W]=ue,$t[W]=xe,this.setPage(W)}else if(_<W){ue=Fe[_],xe=$t[_];for(var Ke=_;Ke<W;Ke++)Fe[Ke]=Fe[Ke+1],$t[Ke]=$t[Ke+1];Fe[W]=ue,$t[W]=xe,this.setPage(W)}return this},v.deletePage=function(){return ea.apply(this,arguments),this},v.__private__.text=v.text=function(_,W,ue,xe,Ae){var Ke,et,Nt,Mt,tn,un,Ln,Qn,Ur,ar=(xe=xe||{}).scope||this;if(typeof _=="number"&&typeof W=="number"&&(typeof ue=="string"||Array.isArray(ue))){var $r=ue;ue=W,W=_,_=$r}if(arguments[3]instanceof Bt==0?(Nt=arguments[4],Mt=arguments[5],_r(Ln=arguments[3])==="object"&&Ln!==null||(typeof Nt=="string"&&(Mt=Nt,Nt=null),typeof Ln=="string"&&(Mt=Ln,Ln=null),typeof Ln=="number"&&(Nt=Ln,Ln=null),xe={flags:Ln,angle:Nt,align:Mt})):(M("The transform parameter of text() with a Matrix value"),Ur=Ae),isNaN(W)||isNaN(ue)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return ar;var Mr,Yr="",Vr=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:$n,Ps=ar.internal.scaleFactor;function vo(Xn){return Xn=Xn.split("	").join(Array(xe.TabLen||9).join(" ")),ri(Xn,Ln)}function Ds(Xn){for(var hr,Kr=Xn.concat(),mi=[],jo=Kr.length;jo--;)typeof(hr=Kr.shift())=="string"?mi.push(hr):Array.isArray(Xn)&&(hr.length===1||hr[1]===void 0&&hr[2]===void 0)?mi.push(hr[0]):mi.push([hr[0],hr[1],hr[2]]);return mi}function m(Xn,hr){var Kr;if(typeof Xn=="string")Kr=hr(Xn)[0];else if(Array.isArray(Xn)){for(var mi,jo,mu=Xn.concat(),_c=[],Aa=mu.length;Aa--;)typeof(mi=mu.shift())=="string"?_c.push(hr(mi)[0]):Array.isArray(mi)&&typeof mi[0]=="string"&&(jo=hr(mi[0],mi[1],mi[2]),_c.push([jo[0],jo[1],jo[2]]));Kr=_c}return Kr}var C=!1,B=!0;if(typeof _=="string")C=!0;else if(Array.isArray(_)){var ne=_.concat();et=[];for(var Pe,je=ne.length;je--;)(typeof(Pe=ne.shift())!="string"||Array.isArray(Pe)&&typeof Pe[0]!="string")&&(B=!1);C=B}if(C===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var ct=Qe/ar.internal.scaleFactor,jn=ct*(Vr-1);switch(xe.baseline){case"bottom":ue-=jn;break;case"top":ue+=ct-jn;break;case"hanging":ue+=ct-2*jn;break;case"middle":ue+=ct/2-jn}if((un=xe.maxWidth||0)>0&&(typeof _=="string"?_=ar.splitTextToSize(_,un):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Xn,hr){return Xn.concat(ar.splitTextToSize(hr,un))},[]))),Ke={text:_,x:W,y:ue,options:xe,mutex:{pdfEscape:ri,activeFontKey:St,fonts:ln,activeFontSize:Qe}},kn.publish("preProcessText",Ke),_=Ke.text,Nt=(xe=Ke.options).angle,Ur instanceof Bt==0&&Nt&&typeof Nt=="number"){Nt*=Math.PI/180,xe.rotationDirection===0&&(Nt=-Nt),H===V&&(Nt=-Nt);var zr=Math.cos(Nt),Cn=Math.sin(Nt);Ur=new Bt(zr,Cn,-Cn,zr,0,0)}else Nt&&Nt instanceof Bt&&(Ur=Nt);H!==V||Ur||(Ur=gr),(tn=xe.charSpace||Yi)!==void 0&&(Yr+=O(L(tn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qn=xe.horizontalScale)!==void 0&&(Yr+=O(100*Qn)+` Tz
`),xe.lang;var Yn=-1,dr=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Qi=ar.internal.getCurrentPageInfo().pageContext;switch(dr){case 0:case!1:case"fill":Yn=0;break;case 1:case!0:case"stroke":Yn=1;break;case 2:case"fillThenStroke":Yn=2;break;case 3:case"invisible":Yn=3;break;case 4:case"fillAndAddForClipping":Yn=4;break;case 5:case"strokeAndAddPathForClipping":Yn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Yn=6;break;case 7:case"addToPathForClipping":Yn=7}var as=Qi.usedRenderingMode!==void 0?Qi.usedRenderingMode:-1;Yn!==-1?Yr+=Yn+` Tr
`:as!==-1&&(Yr+=`0 Tr
`),Yn!==-1&&(Qi.usedRenderingMode=Yn),Mt=xe.align||"left";var Fi,yo=Qe*Vr,yc=ar.internal.pageSize.getWidth(),wc=ln[St];tn=xe.charSpace||Yi,un=xe.maxWidth||0,Ln=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var Ea=[],wo=function(Xn){return ar.getStringUnitWidth(Xn,{font:wc,charSpace:tn,fontSize:Qe,doKerning:!1})*Qe/Ps};if(Object.prototype.toString.call(_)==="[object Array]"){var ro;et=Ds(_),Mt!=="left"&&(Fi=et.map(wo));var io,el=0;if(Mt==="right"){W-=Fi[0],_=[],je=et.length;for(var sa=0;sa<je;sa++)sa===0?(io=Ar(W),ro=eo(ue)):(io=L(el-Fi[sa]),ro=-yo),_.push([et[sa],io,ro]),el=Fi[sa]}else if(Mt==="center"){W-=Fi[0]/2,_=[],je=et.length;for(var Na=0;Na<je;Na++)Na===0?(io=Ar(W),ro=eo(ue)):(io=L((el-Fi[Na])/2),ro=-yo),_.push([et[Na],io,ro]),el=Fi[Na]}else if(Mt==="left"){_=[],je=et.length;for(var Ca=0;Ca<je;Ca++)_.push(et[Ca])}else if(Mt==="justify"&&wc.encoding==="Identity-H"){_=[],je=et.length,un=un!==0?un:yc;for(var oa=0,si=0;si<je;si++)if(ro=si===0?eo(ue):-yo,io=si===0?Ar(W):oa,si<je-1){var Rl=L((un-Fi[si])/(et[si].split(" ").length-1)),aa=et[si].split(" ");_.push([aa[0]+" ",io,ro]),oa=0;for(var Oo=1;Oo<aa.length;Oo++){var Ml=(wo(aa[Oo-1]+" "+aa[Oo])-wo(aa[Oo]))*Ps+Rl;Oo==aa.length-1?_.push([aa[Oo],Ml,0]):_.push([aa[Oo]+" ",Ml,0]),oa-=Ml}}else _.push([et[si],io,ro]);_.push(["",oa,0])}else{if(Mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],je=et.length,un=un!==0?un:yc,si=0;si<je;si++){ro=si===0?eo(ue):-yo,io=si===0?Ar(W):0;var Ol=et[si].split(" ").length-1,xc=Ol>0?(un-Fi[si])/Ol:0;si<je-1?Ea.push(O(L(xc))):Ea.push(0),_.push([et[si],io,ro])}}}(typeof xe.R2L=="boolean"?xe.R2L:Rt)===!0&&(_=m(_,function(Xn,hr,Kr){return[Xn.split("").reverse().join(""),hr,Kr]})),Ke={text:_,x:W,y:ue,options:xe,mutex:{pdfEscape:ri,activeFontKey:St,fonts:ln,activeFontSize:Qe}},kn.publish("postProcessText",Ke),_=Ke.text,Mr=Ke.mutex.isHex||!1;var bc=ln[St].encoding;bc!=="WinAnsiEncoding"&&bc!=="StandardEncoding"||(_=m(_,function(Xn,hr,Kr){return[vo(Xn),hr,Kr]})),et=Ds(_),_=[];for(var Ia,tl,nl,jl=Array.isArray(et[0])?1:0,rl="",Fl=function(Xn,hr,Kr){var mi="";return Kr instanceof Bt?(Kr=typeof xe.angle=="number"?Kt(Kr,new Bt(1,0,0,1,Xn,hr)):Kt(new Bt(1,0,0,1,Xn,hr),Kr),H===V&&(Kr=Kt(new Bt(1,0,0,-1,0,0),Kr)),mi=Kr.join(" ")+` Tm
`):mi=O(Xn)+" "+O(hr)+` Td
`,mi},Gr=0;Gr<et.length;Gr++){switch(rl="",jl){case 1:nl=(Mr?"<":"(")+et[Gr][0]+(Mr?">":")"),Ia=parseFloat(et[Gr][1]),tl=parseFloat(et[Gr][2]);break;case 0:nl=(Mr?"<":"(")+et[Gr]+(Mr?">":")"),Ia=Ar(W),tl=eo(ue)}Ea!==void 0&&Ea[Gr]!==void 0&&(rl=Ea[Gr]+` Tw
`),Gr===0?_.push(rl+Fl(Ia,tl,Ur)+nl):jl===0?_.push(rl+nl):jl===1&&_.push(rl+Fl(Ia,tl,Ur)+nl)}_=jl===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Ls=`BT
/`;return Ls+=St+" "+Qe+` Tf
`,Ls+=O(Qe*Vr)+` TL
`,Ls+=$i+`
`,Ls+=Yr,Ls+=_,J(Ls+="ET"),b[St]=!0,ar};var vn=v.__private__.clip=v.clip=function(_){return J(_==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return vn("evenodd")},v.__private__.discardPath=v.discardPath=function(){return J("n"),this};var gt=v.__private__.isValidStyle=function(_){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(W=!0),W};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(_){return gt(_)&&(d=_),this};var fn=v.__private__.getStyle=v.getStyle=function(_){var W=d;switch(_){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=_}return W},yt=v.close=function(){return J("h"),this};v.stroke=function(){return J("S"),this},v.fill=function(_){return Pt("f",_),this},v.fillEvenOdd=function(_){return Pt("f*",_),this},v.fillStroke=function(_){return Pt("B",_),this},v.fillStrokeEvenOdd=function(_){return Pt("B*",_),this};var Pt=function(_,W){_r(W)==="object"?On(W,_):J(_)},st=function(_){_===null||H===V&&_===void 0||(_=fn(_),J(_))};function Nn(_,W,ue,xe,Ae){var Ke=new Gd(W||this.boundingBox,ue||this.xStep,xe||this.yStep,this.gState,Ae||this.matrix);Ke.stream=this.stream;var et=_+"$$"+this.cloneIndex+++"$$";return Er(et,Ke),Ke}var On=function(_,W){var ue=Tn[_.key],xe=ut[ue];if(xe instanceof Bu)J("q"),J(Rr(W)),xe.gState&&v.setGState(xe.gState),J(_.matrix.toString()+" cm"),J("/"+ue+" sh"),J("Q");else if(xe instanceof Gd){var Ae=new Bt(1,0,0,-1,0,Ki());_.matrix&&(Ae=Ae.multiply(_.matrix||gr),ue=Nn.call(xe,_.key,_.boundingBox,_.xStep,_.yStep,Ae).id),J("q"),J("/Pattern cs"),J("/"+ue+" scn"),xe.gState&&v.setGState(xe.gState),J(W),J("Q")}},Rr=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},en=v.moveTo=function(_,W){return J(O(L(_))+" "+O(ee(W))+" m"),this},Qt=v.lineTo=function(_,W){return J(O(L(_))+" "+O(ee(W))+" l"),this},qn=v.curveTo=function(_,W,ue,xe,Ae,Ke){return J([O(L(_)),O(ee(W)),O(L(ue)),O(ee(xe)),O(L(Ae)),O(ee(Ke)),"c"].join(" ")),this};v.__private__.line=v.line=function(_,W,ue,xe,Ae){if(isNaN(_)||isNaN(W)||isNaN(ue)||isNaN(xe)||!gt(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return H===U?this.lines([[ue-_,xe-W]],_,W,[1,1],Ae||"S"):this.lines([[ue-_,xe-W]],_,W,[1,1]).stroke()},v.__private__.lines=v.lines=function(_,W,ue,xe,Ae,Ke){var et,Nt,Mt,tn,un,Ln,Qn,Ur,ar,$r,Mr,Yr;if(typeof _=="number"&&(Yr=ue,ue=W,W=_,_=Yr),xe=xe||[1,1],Ke=Ke||!1,isNaN(W)||isNaN(ue)||!Array.isArray(_)||!Array.isArray(xe)||!gt(Ae)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(en(W,ue),et=xe[0],Nt=xe[1],tn=_.length,$r=W,Mr=ue,Mt=0;Mt<tn;Mt++)(un=_[Mt]).length===2?($r=un[0]*et+$r,Mr=un[1]*Nt+Mr,Qt($r,Mr)):(Ln=un[0]*et+$r,Qn=un[1]*Nt+Mr,Ur=un[2]*et+$r,ar=un[3]*Nt+Mr,$r=un[4]*et+$r,Mr=un[5]*Nt+Mr,qn(Ln,Qn,Ur,ar,$r,Mr));return Ke&&yt(),st(Ae),this},v.path=function(_){for(var W=0;W<_.length;W++){var ue=_[W],xe=ue.c;switch(ue.op){case"m":en(xe[0],xe[1]);break;case"l":Qt(xe[0],xe[1]);break;case"c":qn.apply(this,xe);break;case"h":yt()}}return this},v.__private__.rect=v.rect=function(_,W,ue,xe,Ae){if(isNaN(_)||isNaN(W)||isNaN(ue)||isNaN(xe)||!gt(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return H===U&&(xe=-xe),J([O(L(_)),O(ee(W)),O(L(ue)),O(L(xe)),"re"].join(" ")),st(Ae),this},v.__private__.triangle=v.triangle=function(_,W,ue,xe,Ae,Ke,et){if(isNaN(_)||isNaN(W)||isNaN(ue)||isNaN(xe)||isNaN(Ae)||isNaN(Ke)||!gt(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-_,xe-W],[Ae-ue,Ke-xe],[_-Ae,W-Ke]],_,W,[1,1],et,!0),this},v.__private__.roundedRect=v.roundedRect=function(_,W,ue,xe,Ae,Ke,et){if(isNaN(_)||isNaN(W)||isNaN(ue)||isNaN(xe)||isNaN(Ae)||isNaN(Ke)||!gt(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nt=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ue),Ke=Math.min(Ke,.5*xe),this.lines([[ue-2*Ae,0],[Ae*Nt,0,Ae,Ke-Ke*Nt,Ae,Ke],[0,xe-2*Ke],[0,Ke*Nt,-Ae*Nt,Ke,-Ae,Ke],[2*Ae-ue,0],[-Ae*Nt,0,-Ae,-Ke*Nt,-Ae,-Ke],[0,2*Ke-xe],[0,-Ke*Nt,Ae*Nt,-Ke,Ae,-Ke]],_+Ae,W,[1,1],et,!0),this},v.__private__.ellipse=v.ellipse=function(_,W,ue,xe,Ae){if(isNaN(_)||isNaN(W)||isNaN(ue)||isNaN(xe)||!gt(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*ue,et=4/3*(Math.SQRT2-1)*xe;return en(_+ue,W),qn(_+ue,W-et,_+Ke,W-xe,_,W-xe),qn(_-Ke,W-xe,_-ue,W-et,_-ue,W),qn(_-ue,W+et,_-Ke,W+xe,_,W+xe),qn(_+Ke,W+xe,_+ue,W+et,_+ue,W),st(Ae),this},v.__private__.circle=v.circle=function(_,W,ue,xe){if(isNaN(_)||isNaN(W)||isNaN(ue)||!gt(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,W,ue,ue,xe)},v.setFont=function(_,W,ue){return ue&&(W=q(W,ue)),St=ba(_,W,{disableWarning:!1}),this};var Pn=v.__private__.getFont=v.getFont=function(){return ln[ba.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var _,W,ue={};for(_ in _t)if(_t.hasOwnProperty(_))for(W in ue[_]=[],_t[_])_t[_].hasOwnProperty(W)&&ue[_].push(W);return ue},v.addFont=function(_,W,ue,xe,Ae){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(ue=q(ue,xe)),po.call(this,_,W,ue,Ae=Ae||"Identity-H")};var $n,Dn=r.lineWidth||.200025,ii=v.__private__.getLineWidth=v.getLineWidth=function(){return Dn},Ut=v.__private__.setLineWidth=v.setLineWidth=function(_){return Dn=_,J(O(L(_))+" w"),this};v.__private__.setLineDash=Yt.API.setLineDash=Yt.API.setLineDashPattern=function(_,W){if(_=_||[],W=W||0,isNaN(W)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(ue){return O(L(ue))}).join(" "),W=O(L(W)),J("["+_+"] "+W+" d"),this};var Ts=v.__private__.getLineHeight=v.getLineHeight=function(){return Qe*$n};v.__private__.getLineHeight=v.getLineHeight=function(){return Qe*$n};var ta=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&($n=_),this},Mo=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return $n};ta(r.lineHeight);var Ar=v.__private__.getHorizontalCoordinate=function(_){return L(_)},eo=v.__private__.getVerticalCoordinate=function(_){return H===V?_:$t[F].mediaBox.topRightY-$t[F].mediaBox.bottomLeftY-L(_)},Xa=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(_){return O(Ar(_))},fi=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(_){return O(eo(_))},ws=r.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return gs(ws)},v.__private__.setStrokeColor=v.setDrawColor=function(_,W,ue,xe){return ws=Dr({ch1:_,ch2:W,ch3:ue,ch4:xe,pdfColorType:"draw",precision:2}),J(ws),this};var _a=r.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return gs(_a)},v.__private__.setFillColor=v.setFillColor=function(_,W,ue,xe){return _a=Dr({ch1:_,ch2:W,ch3:ue,ch4:xe,pdfColorType:"fill",precision:2}),J(_a),this};var $i=r.textColor||"0 g",to=v.__private__.getTextColor=v.getTextColor=function(){return gs($i)};v.__private__.setTextColor=v.setTextColor=function(_,W,ue,xe){return $i=Dr({ch1:_,ch2:W,ch3:ue,ch4:xe,pdfColorType:"text",precision:3}),this};var Yi=r.charSpace,na=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Yi||0)};v.__private__.setCharSpace=v.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yi=_,this};var ur=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(_){var W=v.CapJoinStyles[_];if(W===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ur=W,J(W+" J"),this};var Ll=0;v.__private__.setLineJoin=v.setLineJoin=function(_){var W=v.CapJoinStyles[_];if(W===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ll=W,J(W+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(O(L(_))+" M"),this},v.GState=c0,v.setGState=function(_){(_=typeof _=="string"?Gt[Zt[_]]:Ja(null,_)).equals(En)||(J("/"+_.id+" gs"),En=_)};var Ja=function(_,W){if(!_||!Zt[_]){var ue=!1;for(var xe in Gt)if(Gt.hasOwnProperty(xe)&&Gt[xe].equals(W)){ue=!0;break}if(ue)W=Gt[xe];else{var Ae="GS"+(Object.keys(Gt).length+1).toString(10);Gt[Ae]=W,W.id=Ae}return _&&(Zt[_]=W.id),kn.publish("addGState",W),W}};v.addGState=function(_,W){return Ja(_,W),this},v.saveGraphicsState=function(){return J("q"),Wn.push({key:St,size:Qe,color:$i}),this},v.restoreGraphicsState=function(){J("Q");var _=Wn.pop();return St=_.key,Qe=_.size,$i=_.color,En=null,this},v.setCurrentTransformationMatrix=function(_){return J(_.toString()+" cm"),this},v.comment=function(_){return J("#"+_),this};var xs=function(_,W){var ue=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Ke){isNaN(Ke)||(ue=parseFloat(Ke))}});var xe=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Ke){isNaN(Ke)||(xe=parseFloat(Ke))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Ke){Ae=Ke.toString()}}),this},ra=function(_,W,ue,xe){xs.call(this,_,W),this.type="rect";var Ae=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(et){isNaN(et)||(Ae=parseFloat(et))}});var Ke=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(et){isNaN(et)||(Ke=parseFloat(et))}}),this},ia=function(){this.page=an,this.currentPage=F,this.pages=Fe.slice(0),this.pagesContext=$t.slice(0),this.x=Ct,this.y=nr,this.matrix=Je,this.width=Oi(F),this.height=Sa(F),this.outputDestination=Ye,this.id="",this.objectNumber=-1};ia.prototype.restore=function(){an=this.page,F=this.currentPage,$t=this.pagesContext,Fe=this.pages,Ct=this.x,nr=this.y,Je=this.matrix,Za(F,this.width),ji(F,this.height),Ye=this.outputDestination};var Gi=function(_,W,ue,xe,Ae){ti.push(new ia),an=F=0,Fe=[],Ct=_,nr=W,Je=Ae,Ri([ue,xe])};for(var go in v.beginFormObject=function(_,W,ue,xe,Ae){return Gi(_,W,ue,xe,Ae),this},v.endFormObject=function(_){return(function(W){if(Br[W])ti.pop().restore();else{var ue=new ia,xe="Xo"+(Object.keys(mr).length+1).toString(10);ue.id=xe,Br[W]=xe,mr[xe]=ue,kn.publish("addFormObject",ue),ti.pop().restore()}})(_),this},v.doFormObject=function(_,W){var ue=mr[Br[_]];return J("q"),J(W.toString()+" cm"),J("/"+ue.id+" Do"),J("Q"),this},v.getFormObject=function(_){var W=mr[Br[_]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},v.save=function(_,W){return _=_||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(Fu(ys(Wi()),_),typeof Fu.unload=="function"&&gn.setTimeout&&setTimeout(Fu.unload,911),this):new Promise(function(ue,xe){try{var Ae=Fu(ys(Wi()),_);typeof Fu.unload=="function"&&gn.setTimeout&&setTimeout(Fu.unload,911),ue(Ae)}catch(Ke){xe(Ke.message)}})},Yt.API)Yt.API.hasOwnProperty(go)&&(go==="events"&&Yt.API.events.length?(function(_,W){var ue,xe,Ae;for(Ae=W.length-1;Ae!==-1;Ae--)ue=W[Ae][0],xe=W[Ae][1],_.subscribe.apply(_,[ue].concat(typeof xe=="function"?[xe]:xe))})(kn,Yt.API.events):v[go]=Yt.API[go]);function Oi(_){return $t[_].mediaBox.topRightX-$t[_].mediaBox.bottomLeftX}function Za(_,W){$t[_].mediaBox.topRightX=W+$t[_].mediaBox.bottomLeftX}function Sa(_){return $t[_].mediaBox.topRightY-$t[_].mediaBox.bottomLeftY}function ji(_,W){$t[_].mediaBox.topRightY=W+$t[_].mediaBox.bottomLeftY}var no=v.getPageWidth=function(_){return Oi(_=_||F)/Jt},pi=v.setPageWidth=function(_,W){Za(_,W*Jt)},Ki=v.getPageHeight=function(_){return Sa(_=_||F)/Jt},ka=v.setPageHeight=function(_,W){ji(_,W*Jt)};return v.internal={pdfEscape:ri,getStyle:fn,getFont:Pn,getFontSize:pt,getCharSpace:na,getTextColor:to,getLineHeight:Ts,getLineHeightFactor:Mo,getLineWidth:ii,write:Ge,getHorizontalCoordinate:Ar,getVerticalCoordinate:eo,getCoordinateString:Xa,getVerticalCoordinateString:fi,collections:{},newObject:rr,newAdditionalObject:Xs,newObjectDeferred:Ir,newObjectDeferredBegin:or,getFilters:Si,putStream:Lr,events:kn,scaleFactor:Jt,pageSize:{getWidth:function(){return no(F)},setWidth:function(_){pi(F,_)},getHeight:function(){return Ki(F)},setHeight:function(_){ka(F,_)}},encryptionOptions:f,encryption:Be,getEncryptor:function(_){return f!==null?Be.encryptor(_,0):function(W){return W}},output:G,getNumberOfPages:Mi,get pages(){return Fe},out:J,f2:N,f3:I,getPageInfo:He,getPageInfoByObjId:mt,getCurrentPageInfo:Tt,getPDFVersion:D,Point:xs,Rectangle:ra,Matrix:Bt,hasHotfix:we},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return no(F)},set:function(_){pi(F,_)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Ki(F)},set:function(_){ka(F,_)},enumerable:!0,configurable:!0}),(function(_){for(var W=0,ue=lt.length;W<ue;W++){var xe=po.call(this,_[W][0],_[W][1],_[W][2],lt[W][3],!0);w===!1&&(b[xe]=!0);var Ae=_[W][0].split("-");Lo({id:xe,fontName:Ae[0],fontStyle:Ae[1]||""})}kn.publish("addFonts",{fonts:ln,dictionary:_t})}).call(v,lt),St="F1",Zo(i,t),kn.publish("initialized"),v}Hd.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Hd.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hd.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Hd.prototype.processOwnerPassword=function(r,e){return w1(y1(e).substr(0,5),r)},Hd.prototype.encryptor=function(r,e){var t=y1(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return w1(t,n)}},c0.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||_r(r)!==_r(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Yt.API={events:[]},Yt.version="3.0.4";var xi=Yt.API,Vy=1,ud=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jd=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bn=function(r){return r.toFixed(2)},Wc=function(r){return r.toFixed(5)};xi.__acroform__={};var Po=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},ob=function(r){return r*Vy},dl=function(r){var e=new bE,t=jt.internal.getHeight(r)||0,n=jt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(bn(n)),Number(bn(t))],e},QO=xi.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},XO=xi.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},JO=xi.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Ii=xi.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return JO(r,e-1)},Ai=xi.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return QO(r,e-1)},Ti=xi.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XO(r,e-1)},ZO=xi.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],s=r[1],a=r[2],c=r[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=n(s+c)||0,u.upperRight_X=t(i+a)||0,u.upperRight_Y=n(s)||0,[Number(bn(u.lowerLeft_X)),Number(bn(u.lowerLeft_Y)),Number(bn(u.upperRight_X)),Number(bn(u.upperRight_Y))]},ej=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=x1(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+bn(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=dl(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},x1=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var s=t,a=jt.internal.getHeight(r)||0;a=a<0?-a:a;var c=jt.internal.getWidth(r)||0;c=c<0?-c:c;var u=function(N,I,L){if(N+1<i.length){var ee=I+" "+i[N+1][0];return om(ee,r,L).width<=c-4}return!1};s++;e:for(;s>0;){e="",s--;var d,f,w=om("3",r,s).height,b=r.multiline?a-s:(a-w)/2,v=b+=2,E=0,D=0,T=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+om(e,r,s=12).width+", FieldWidth:"+c+`
`;break}for(var P="",U=0,V=0;V<i.length;V++)if(i.hasOwnProperty(V)){var H=!1;if(i[V].length!==1&&T!==i[V].length-1){if((w+2)*(U+2)+2>a)continue e;P+=i[V][T],H=!0,D=V,V--}else{P=(P+=i[V][T]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var ie=parseInt(V),de=u(ie,P,s),q=V>=i.length-1;if(de&&!q){P+=" ",T=0;continue}if(de||q){if(q)D=ie;else if(r.multiline&&(w+2)*(U+2)+2>a)continue e}else{if(!r.multiline||(w+2)*(U+2)+2>a)continue e;D=ie}}for(var O="",M=E;M<=D;M++){var z=i[M];if(r.multiline){if(M===D){O+=z[T]+" ",T=(T+1)%z.length;continue}if(M===E){O+=z[z.length-1]+" ";continue}}O+=z[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,f=om(O,r,s).width,r.textAlign){case"right":d=c-f-2;break;case"center":d=(c-f)/2;break;default:d=2}e+=bn(d)+" "+bn(v)+` Td
`,e+="("+ud(O)+`) Tj
`,e+=-bn(d)+` 0 Td
`,v=-(s+2),f=0,E=H?D:D+1,U++,P=""}break}return n.text=e,n.fontSize=s,n},om=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},tj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nj=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},rj=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Ga.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(tj)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Vy=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new _E,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&nj(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var c=n[a],u=[],d=c.Rect;if(c.Rect&&(c.Rect=ZO(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=jt.createDefaultAppearanceStream(c),_r(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var f=ej(c);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(c.appearanceStreamContent){var w="";for(var b in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(b)){var v=c.appearanceStreamContent[b];if(w+="/"+b+" ",w+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var a in v)if(v.hasOwnProperty(a)){var E=v[a];typeof E=="function"&&(E=E.call(i,c)),w+="/"+a+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=v)=="function"&&(E=E.call(i,c)),w+="/"+a+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);w+=">>"}u.push({key:"AP",value:`<<
`+w+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:c.objId}),i.internal.out("endobj")}s&&(function(D,T){for(var P in D)if(D.hasOwnProperty(P)){var U=P,V=D[P];T.internal.newObjectDeferredBegin(V.objId,!0),_r(V)==="object"&&typeof V.putStream=="function"&&V.putStream(),delete D[U]}})(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},xE=xi.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),_r(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+ud(n(r[s].toString()))+")"):i+=r[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ev=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+ud(n(r))+")"},xl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xl.prototype.toString=function(){return this.objId+" 0 R"},xl.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},xl.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:xE(i,this.objId,this.scope)}):i instanceof xl?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var bE=function(){xl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Po(bE,xl);var _E=function(){xl.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ud(t(r))+")"}},set:function(t){r=t}})};Po(_E,xl);var Ga=function r(){xl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');e=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ii(e,3)},set:function(P){P?this.F=Ai(e,3):this.F=Ti(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');t=P}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(P){n=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(P){n[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(P){n[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(P){n[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(P){n[3]=P}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof u0)return;s="FieldObject"+r.FieldNum++}var P=function(U){return U};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+ud(P(s))+")"},set:function(P){s=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(P){s=P}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(P){a=P}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(P){c=P}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(P){u=P}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Vy:d},set:function(P){d=P}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(P){f=P}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof u0||this instanceof Ku))return Ev(w,this.objId,this.scope)},set:function(P){P=P.toString(),w=P}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ms==0?Ev(b,this.objId,this.scope):b},set:function(P){P=P.toString(),b=this instanceof ms==0?P.substr(0,1)==="("?jd(P.substr(1,P.length-2)):jd(P):P}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ms==1?jd(b.substr(1,b.length-1)):b},set:function(P){P=P.toString(),b=this instanceof ms==1?"/"+P:P}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ms==0?Ev(v,this.objId,this.scope):v},set:function(P){P=P.toString(),v=this instanceof ms==0?P.substr(0,1)==="("?jd(P.substr(1,P.length-2)):jd(P):P}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ms==1?jd(v.substr(1,v.length-1)):v},set:function(P){P=P.toString(),v=this instanceof ms==1?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,D=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return D},set:function(P){P=!!P,D=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(P){E=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,1)},set:function(P){P?this.Ff=Ai(this.Ff,1):this.Ff=Ti(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,2)},set:function(P){P?this.Ff=Ai(this.Ff,2):this.Ff=Ti(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,3)},set:function(P){P?this.Ff=Ai(this.Ff,3):this.Ff=Ti(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');T=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(T){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};Po(Ga,xl);var nh=function(){Ga.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xE(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=(function(s,a,c){c||(c=1);for(var u,d=[];u=a.exec(s);)d.push(u[c]);return d})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,18)},set:function(t){t?this.Ff=Ai(this.Ff,18):this.Ff=Ti(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ai(this.Ff,19):this.Ff=Ti(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,20)},set:function(t){t?(this.Ff=Ai(this.Ff,20),e.sort()):this.Ff=Ti(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,22)},set:function(t){t?this.Ff=Ai(this.Ff,22):this.Ff=Ti(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(t){t?this.Ff=Ai(this.Ff,23):this.Ff=Ti(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,27)},set:function(t){t?this.Ff=Ai(this.Ff,27):this.Ff=Ti(this.Ff,27)}}),this.hasAppearanceStream=!1};Po(nh,Ga);var rh=function(){nh.call(this),this.fontName="helvetica",this.combo=!1};Po(rh,nh);var ih=function(){rh.call(this),this.combo=!0};Po(ih,rh);var Cm=function(){ih.call(this),this.edit=!0};Po(Cm,ih);var ms=function(){Ga.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,15)},set:function(t){t?this.Ff=Ai(this.Ff,15):this.Ff=Ti(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,16)},set:function(t){t?this.Ff=Ai(this.Ff,16):this.Ff=Ti(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,17)},set:function(t){t?this.Ff=Ai(this.Ff,17):this.Ff=Ti(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(t){t?this.Ff=Ai(this.Ff,26):this.Ff=Ti(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+ud(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){_r(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Po(ms,Ga);var Im=function(){ms.call(this),this.pushButton=!0};Po(Im,ms);var sh=function(){ms.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Po(sh,ms);var u0=function(){var r,e;Ga.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+ud(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){_r(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Po(u0,Ga),sh.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},sh.prototype.createOption=function(r){var e=new u0;return e.Parent=this,e.optionName=r,this.Kids.push(e),ij.call(this.scope,e),e};var Am=function(){ms.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=jt.CheckBox.createAppearanceStream()};Po(Am,ms);var Ku=function(){Ga.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,13)},set:function(e){e?this.Ff=Ai(this.Ff,13):this.Ff=Ti(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,21)},set:function(e){e?this.Ff=Ai(this.Ff,21):this.Ff=Ti(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(e){e?this.Ff=Ai(this.Ff,23):this.Ff=Ti(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,24)},set:function(e){e?this.Ff=Ai(this.Ff,24):this.Ff=Ti(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,25)},set:function(e){e?this.Ff=Ai(this.Ff,25):this.Ff=Ti(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(e){e?this.Ff=Ai(this.Ff,26):this.Ff=Ti(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Po(Ku,Ga);var Tm=function(){Ku.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,14)},set:function(r){r?this.Ff=Ai(this.Ff,14):this.Ff=Ti(this.Ff,14)}}),this.password=!0};Po(Tm,Ku);var jt={CheckBox:{createAppearanceStream:function(){return{N:{On:jt.CheckBox.YesNormal},D:{On:jt.CheckBox.YesPushDown,Off:jt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=dl(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=x1(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+bn(jt.internal.getWidth(r))+" "+bn(jt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+bn(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=dl(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=jt.internal.getHeight(r),a=jt.internal.getWidth(r),c=x1(r,r.caption);return i.push("1 g"),i.push("0 0 "+bn(a)+" "+bn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+bn(a-1)+" "+bn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+bn(c.fontSize)+" Tf "+n),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=dl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bn(jt.internal.getWidth(r))+" "+bn(jt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:jt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=jt.RadioButton.Circle.YesNormal,e.D[r]=jt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=dl(r);e.scope=r.scope;var t=[],n=jt.internal.getWidth(r)<=jt.internal.getHeight(r)?jt.internal.getWidth(r)/4:jt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=jt.internal.Bezier_C,s=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Wc(jt.internal.getWidth(r)/2)+" "+Wc(jt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=dl(r);e.scope=r.scope;var t=[],n=jt.internal.getWidth(r)<=jt.internal.getHeight(r)?jt.internal.getWidth(r)/4:jt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*jt.internal.Bezier_C).toFixed(5)),a=Number((n*jt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Wc(jt.internal.getWidth(r)/2)+" "+Wc(jt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Wc(jt.internal.getWidth(r)/2)+" "+Wc(jt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=dl(r);e.scope=r.scope;var t=[],n=jt.internal.getWidth(r)<=jt.internal.getHeight(r)?jt.internal.getWidth(r)/4:jt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*jt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Wc(jt.internal.getWidth(r)/2)+" "+Wc(jt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:jt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=jt.RadioButton.Cross.YesNormal,e.D[r]=jt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=dl(r);e.scope=r.scope;var t=[],n=jt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+bn(jt.internal.getWidth(r)-2)+" "+bn(jt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(bn(n.x1.x)+" "+bn(n.x1.y)+" m"),t.push(bn(n.x2.x)+" "+bn(n.x2.y)+" l"),t.push(bn(n.x4.x)+" "+bn(n.x4.y)+" m"),t.push(bn(n.x3.x)+" "+bn(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=dl(r);e.scope=r.scope;var t=jt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+bn(jt.internal.getWidth(r))+" "+bn(jt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+bn(jt.internal.getWidth(r)-2)+" "+bn(jt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(bn(t.x1.x)+" "+bn(t.x1.y)+" m"),n.push(bn(t.x2.x)+" "+bn(t.x2.y)+" l"),n.push(bn(t.x4.x)+" "+bn(t.x4.y)+" m"),n.push(bn(t.x3.x)+" "+bn(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=dl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bn(jt.internal.getWidth(r))+" "+bn(jt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};jt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=jt.internal.getWidth(r),t=jt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},jt.internal.getWidth=function(r){var e=0;return _r(r)==="object"&&(e=ob(r.Rect[2])),e},jt.internal.getHeight=function(r){var e=0;return _r(r)==="object"&&(e=ob(r.Rect[3])),e};var ij=xi.addField=function(r){if(rj(this,r),!(r instanceof Ga))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};xi.AcroFormChoiceField=nh,xi.AcroFormListBox=rh,xi.AcroFormComboBox=ih,xi.AcroFormEditBox=Cm,xi.AcroFormButton=ms,xi.AcroFormPushButton=Im,xi.AcroFormRadioButton=sh,xi.AcroFormCheckBox=Am,xi.AcroFormTextField=Ku,xi.AcroFormPasswordField=Tm,xi.AcroFormAppearance=jt,xi.AcroForm={ChoiceField:nh,ListBox:rh,ComboBox:ih,EditBox:Cm,Button:ms,PushButton:Im,RadioButton:sh,CheckBox:Am,TextField:Ku,PasswordField:Tm,Appearance:jt},Yt.AcroForm={ChoiceField:nh,ListBox:rh,ComboBox:ih,EditBox:Cm,Button:ms,PushButton:Im,RadioButton:sh,CheckBox:Am,TextField:Ku,PasswordField:Tm,Appearance:jt};Yt.AcroForm;function SE(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(N,I){var L,ee,ve,Ne,be,oe=t;if((I=I||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(de(N))for(be in n)for(ve=n[be],L=0;L<ve.length;L+=1){for(Ne=!0,ee=0;ee<ve[L].length;ee+=1)if(ve[L][ee]!==void 0&&ve[L][ee]!==N[ee]){Ne=!1;break}if(Ne===!0){oe=be;break}}else for(be in n)for(ve=n[be],L=0;L<ve.length;L+=1){for(Ne=!0,ee=0;ee<ve[L].length;ee+=1)if(ve[L][ee]!==void 0&&ve[L][ee]!==N.charCodeAt(ee)){Ne=!1;break}if(Ne===!0){oe=be;break}}return oe===t&&I!==t&&(oe=I),oe},s=function N(I){for(var L=this.internal.write,ee=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var Ne=[];if(Ne.push({key:"Type",value:"/XObject"}),Ne.push({key:"Subtype",value:"/Image"}),Ne.push({key:"Width",value:I.width}),Ne.push({key:"Height",value:I.height}),I.colorSpace===P.INDEXED?Ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(Ne.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===P.DEVICE_CMYK&&Ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ne.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&Ne.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var be="",oe=0,_e=I.transparency.length;oe<_e;oe++)be+=I.transparency[oe]+" "+I.transparency[oe]+" ";Ne.push({key:"Mask",value:"["+be+"]"})}I.sMask!==void 0&&Ne.push({key:"SMask",value:I.objectId+1+" 0 R"});var ge=I.filter!==void 0?["/"+I.filter]:void 0;if(ee({data:I.data,additionalKeyValues:Ne,alreadyAppliedFilters:ge,objectId:I.objectId}),L("endobj"),"sMask"in I&&I.sMask!==void 0){var te,j=(te=I.sMaskBitsPerComponent)!==null&&te!==void 0?te:I.bitsPerComponent,F={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:I.sMask};"filter"in I&&(F.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(I.width),F.filter=I.filter),N.call(this,F)}if(I.colorSpace===P.INDEXED){var Y=this.internal.newObject();ee({data:O(new Uint8Array(I.palette)),objectId:Y}),L("endobj")}},a=function(){var N=this.internal.collections[e+"images"];for(var I in N)s.call(this,N[I])},c=function(){var N,I=this.internal.collections[e+"images"],L=this.internal.write;for(var ee in I)L("/I"+(N=I[ee]).index,N.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var N=this.internal.collections[e+"images"];return u.call(this),N},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(N){return typeof r["process"+N.toUpperCase()]=="function"},b=function(N){return _r(N)==="object"&&N.nodeType===1},v=function(N,I){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var L=""+N.getAttribute("src");if(L.indexOf("data:image/")===0)return Nm(unescape(L).split("base64,").pop());var ee=r.loadFile(L,!0);if(ee!==void 0)return ee}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var ve;switch(I){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;default:ve="image/jpeg"}return Nm(N.toDataURL(ve,1).split("base64,").pop())}},E=function(N){var I=this.internal.collections[e+"images"];if(I){for(var L in I)if(N===I[L].alias)return I[L]}},D=function(N,I,L){return N||I||(N=-96,I=-96),N<0&&(N=-1*L.width*72/N/this.internal.scaleFactor),I<0&&(I=-1*L.height*72/I/this.internal.scaleFactor),N===0&&(N=I*L.width/L.height),I===0&&(I=N*L.height/L.width),[N,I]},T=function(N,I,L,ee,ve,Ne){var be=D.call(this,L,ee,ve),oe=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,ge=d.call(this);if(L=be[0],ee=be[1],ge[ve.index]=ve,Ne){Ne*=Math.PI/180;var te=Math.cos(Ne),j=Math.sin(Ne),F=function(se){return se.toFixed(4)},Y=[F(te),F(j),F(-1*j),F(te),0,0,"cm"]}this.internal.write("q"),Ne?(this.internal.write([1,"0","0",1,oe(N),_e(I+ee),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([oe(L),"0","0",oe(ee),"0","0","cm"].join(" "))):this.internal.write([oe(L),"0","0",oe(ee),oe(N),_e(I+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},P=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var U=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},V=r.__addimage__.sHashCode=function(N){var I,L,ee=0;if(typeof N=="string")for(L=N.length,I=0;I<L;I++)ee=(ee<<5)-ee+N.charCodeAt(I),ee|=0;else if(de(N))for(L=N.byteLength/2,I=0;I<L;I++)ee=(ee<<5)-ee+N[I],ee|=0;return ee},H=r.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var I=!0;return N.length===0&&(I=!1),N.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(I=!1),I},ie=r.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var I=N.indexOf(",");return I<0?null:N.substring(0,I).trim().endsWith("base64")?N.substring(I+1):null};r.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var de=r.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},q=r.__addimage__.binaryStringToUint8Array=function(N){for(var I=N.length,L=new Uint8Array(I),ee=0;ee<I;ee++)L[ee]=N.charCodeAt(ee);return L},O=r.__addimage__.arrayBufferToBinaryString=function(N){for(var I="",L=de(N)?N:new Uint8Array(N),ee=0;ee<L.length;ee+=8192)I+=String.fromCharCode.apply(null,L.subarray(ee,ee+8192));return I};r.addImage=function(){var N,I,L,ee,ve,Ne,be,oe,_e;if(typeof arguments[1]=="number"?(I=t,L=arguments[1],ee=arguments[2],ve=arguments[3],Ne=arguments[4],be=arguments[5],oe=arguments[6],_e=arguments[7]):(I=arguments[1],L=arguments[2],ee=arguments[3],ve=arguments[4],Ne=arguments[5],be=arguments[6],oe=arguments[7],_e=arguments[8]),_r(N=arguments[0])==="object"&&!b(N)&&"imageData"in N){var ge=N;N=ge.imageData,I=ge.format||I||t,L=ge.x||L||0,ee=ge.y||ee||0,ve=ge.w||ge.width||ve,Ne=ge.h||ge.height||Ne,be=ge.alias||be,oe=ge.compression||oe,_e=ge.rotation||ge.angle||_e}var te=this.internal.getFilters();if(oe===void 0&&te.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(L)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var j=M.call(this,N,I,be,oe);return T.call(this,L,ee,ve,Ne,j,_e),this};var M=function(N,I,L,ee){var ve,Ne,be;if(typeof N=="string"&&i(N)===t){N=unescape(N);var oe=z(N,!1);(oe!==""||(oe=r.loadFile(N,!0))!==void 0)&&(N=oe)}if(b(N)&&(N=v(N,I)),I=i(N,I),!w(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((be=L)==null||be.length===0)&&(L=(function(_e){return typeof _e=="string"||de(_e)?V(_e):de(_e.data)?V(_e.data):null})(N)),(ve=E.call(this,L))||(N instanceof Uint8Array||I==="RGBA"||(Ne=N,N=q(N)),ve=this["process"+I.toUpperCase()](N,f.call(this),L,(function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in r.image_compression?_e:U.NONE})(ee),Ne)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},z=r.__addimage__.convertBase64ToBinaryString=function(N,I){I=typeof I!="boolean"||I;var L,ee="";if(typeof N=="string"){var ve;L=(ve=ie(N))!==null&&ve!==void 0?ve:N;try{ee=Nm(L)}catch(Ne){if(I)throw H(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};r.getImageProperties=function(N){var I,L,ee="";if(b(N)&&(N=v(N)),typeof N=="string"&&i(N)===t&&((ee=z(N,!1))===""&&(ee=r.loadFile(N)||""),N=ee),L=i(N),!w(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(N instanceof Uint8Array||(N=q(N)),!(I=this["process"+L.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=L,I}})(Yt.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Yt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,s,a=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,w=0;w<d.length&&!f;w++)switch((n=d[w]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){n=d[b];var v=this.internal.pdfEscape,E=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var D=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(D.objId),U=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+v(P(n.contents))+")",s+=" /Popup "+T.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+v(P(U))+") >>",D.content=s;var V=D.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+V,n.open&&(s+=" /Open true"),s+=" >>",T.content=s,this.internal.write(D.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+c(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var H=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(E(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var ie=this.annotations._nameMap[n.options.name];n.options.pageNumber=ie.page,n.options.top=ie.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(E(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var de=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+de+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,s,a){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(t),y:d(n),w:u(t+i),h:d(n+s)},options:a,type:"link"})},r.textWithLink=function(t,n,i,s){var a,c,u=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var f=this.splitTextToSize(t,c).length;a=Math.ceil(d*f)}else c=u,a=d;return this.text(t,n,i,s),i+=.2*d,s.align==="center"&&(n-=u/2),s.align==="right"&&(n-=u),this.link(n,i-d,c,a,s),u},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(Yt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(D){return e[D.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(D){return typeof D=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(D)},c=r.__arabicParser__.isArabicEndLetter=function(D){return a(D)&&s(D)&&e[D.charCodeAt(0)].length<=2},u=r.__arabicParser__.isArabicAlfLetter=function(D){return a(D)&&i.indexOf(D.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(D){return a(D)&&s(D)&&e[D.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(D){return a(D)&&s(D)&&e[D.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(D){return a(D)&&s(D)&&e[D.charCodeAt(0)].length>=3};var f=r.__arabicParser__.arabicLetterHasMedialForm=function(D){return a(D)&&s(D)&&e[D.charCodeAt(0)].length==4},w=r.__arabicParser__.resolveLigatures=function(D){var T=0,P=t,U="",V=0;for(T=0;T<D.length;T+=1)P[D.charCodeAt(T)]!==void 0?(V++,typeof(P=P[D.charCodeAt(T)])=="number"&&(U+=String.fromCharCode(P),P=t,V=0),T===D.length-1&&(P=t,U+=D.charAt(T-(V-1)),T-=V-1,V=0)):(P=t,U+=D.charAt(T-V),T-=V,V=0);return U};r.__arabicParser__.isArabicDiacritic=function(D){return D!==void 0&&n[D.charCodeAt(0)]!==void 0};var b=r.__arabicParser__.getCorrectForm=function(D,T,P){return a(D)?s(D)===!1?-1:!d(D)||!a(T)&&!a(P)||!a(P)&&c(T)||c(D)&&!a(T)||c(D)&&u(T)||c(D)&&c(T)?0:f(D)&&a(T)&&!c(T)&&a(P)&&d(P)?3:c(D)||!a(P)?1:2:-1},v=function(D){var T=0,P=0,U=0,V="",H="",ie="",de=(D=D||"").split("\\s+"),q=[];for(T=0;T<de.length;T+=1){for(q.push(""),P=0;P<de[T].length;P+=1)V=de[T][P],H=de[T][P-1],ie=de[T][P+1],a(V)?(U=b(V,H,ie),q[T]+=U!==-1?String.fromCharCode(e[V.charCodeAt(0)][U]):V):q[T]+=V;q[T]=w(q[T])}return q.join(" ")},E=r.__arabicParser__.processArabic=r.processArabic=function(){var D,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(T)){var U=0;for(P=[],U=0;U<T.length;U+=1)Array.isArray(T[U])?P.push([v(T[U][0]),T[U][1],T[U][2]]):P.push([v(T[U])]);D=P}else D=v(T);return typeof arguments[0]=="string"?D:(arguments[0].text=D,arguments[0])};r.events.push(["preProcessText",E])})(Yt.API),Yt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(c){a=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Yt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(D){u=D}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(D){d=D}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(D){f=D}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(D){w=D}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(D){b=D}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(D){v=D}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(D){E=D}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},r.getTextDimensions=function(u,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,v=0,E=0,D=0,T=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var P=d.maxWidth;P>0?typeof u=="string"?u=this.splitTextToSize(u,P):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(V,H){return V.concat(T.splitTextToSize(H,P))},[])):u=Array.isArray(u)?u:[u];for(var U=0;U<u.length;U++)v<(D=this.getStringUnitWidth(u[U],{font:w})*f)&&(v=D);return v!==0&&(E=u.length),{w:v/=b,h:Math.max((E*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/b,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=w.top,v&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};r.table=function(u,d,f,w,b){if(n.call(this),!f)throw new Error("No data for PDF table.");var v,E,D,T,P=[],U=[],V=[],H={},ie={},de=[],q=[],O=(b=b||{}).autoSize||!1,M=b.printHeaders!==!1,z=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,N=b.margins||Object.assign({width:this.getPageWidth()},e),I=typeof b.padding=="number"?b.padding:3,L=b.headerBackgroundColor||"#c8c8c8",ee=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=ee,this.setFontSize(z),w==null)U=P=Object.keys(f[0]),V=P.map(function(){return"left"});else if(Array.isArray(w)&&_r(w[0])==="object")for(P=w.map(function(ge){return ge.name}),U=w.map(function(ge){return ge.prompt||ge.name||""}),V=w.map(function(ge){return ge.align||"left"}),v=0;v<w.length;v+=1)ie[w[v].name]=.7499990551181103*w[v].width;else Array.isArray(w)&&typeof w[0]=="string"&&(U=P=w,V=P.map(function(){return"left"}));if(O||Array.isArray(w)&&typeof w[0]=="string")for(v=0;v<P.length;v+=1){for(H[T=P[v]]=f.map(function(ge){return ge[T]}),this.setFont(void 0,"bold"),de.push(this.getTextDimensions(U[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=H[T],this.setFont(void 0,"normal"),D=0;D<E.length;D+=1)de.push(this.getTextDimensions(E[D],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ie[T]=Math.max.apply(null,de)+I+I,de=[]}if(M){var ve={};for(v=0;v<P.length;v+=1)ve[P[v]]={},ve[P[v]].text=U[v],ve[P[v]].align=V[v];var Ne=c.call(this,ve,ie);q=P.map(function(ge){return new s(u,d,ie[ge],Ne,ve[ge].text,void 0,ve[ge].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var be=w.reduce(function(ge,te){return ge[te.name]=te.align,ge},{});for(v=0;v<f.length;v+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:v,data:f[v]},this);var oe=c.call(this,f[v],ie);for(D=0;D<P.length;D+=1){var _e=f[v][P[D]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:v,col:D,data:_e},this),a.call(this,new s(u,d,ie[P[D]],oe,_e,v+2,be[P[D]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var c=function(u,d){var f=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(v){var E=u[v];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,d[v]-f-f)},this).map(function(v){return this.getLineHeightFactor()*v.length*w/b+f+f},this).reduce(function(v,E){return Math.max(v,E)},0)};r.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},r.printHeaderRow=function(u,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){f=this.internal.__cell__.tableHeaderRow[v].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,b.push(f)),f.lineNumber=u;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(E)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}})(Yt.API);var kE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},EE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],b1=SE(EE),NE=[100,200,300,400,500,600,700,800,900],sj=SE(NE);function Nv(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return kE[s=s||"normal"]?s:"normal"})(r.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),i=(function(s){return typeof b1[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function ab(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var oj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cb(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function ub(r){return r.trimLeft()}function aj(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function lj(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var am,db,hb,Fd,lm,fb,pb,mb,Cv=["times"];function gb(r,e,t,n,i){var s=4,a=yb;switch(i){case Yt.API.image_compression.FAST:s=1,a=vb;break;case Yt.API.image_compression.MEDIUM:s=6,a=wb;break;case Yt.API.image_compression.SLOW:s=9,a=xb}r=(function(u,d,f,w){for(var b,v=u.length/d,E=new Uint8Array(u.length+v),D=[cj,vb,yb,wb,xb],T=0;T<v;T+=1){var P=T*d,U=u.subarray(P,P+d);if(w)E.set(w(U,f,b),P+T);else{for(var V=D.length,H=[],ie=0;ie<V;ie+=1)H[ie]=D[ie](U,f,b);var de=dj(H.concat());E.set(H[de],P+T)}b=U}return E})(r,e,Math.ceil(t*n/8),a);var c=p1(r,{level:s});return Yt.API.__addimage__.arrayBufferToBinaryString(c)}function cj(r){var e=Array.apply([],r);return e.unshift(0),e}function vb(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var s=r[i-e]||0;n[i+1]=r[i]-s+256&255}return n}function yb(r,e,t){var n=r.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=t&&t[s]||0;i[s+1]=r[s]-a+256&255}return i}function wb(r,e,t){var n=r.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=r[s-e]||0,c=t&&t[s]||0;i[s+1]=r[s]+256-(a+c>>>1)&255}return i}function xb(r,e,t){var n=r.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=uj(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=r[s]-a+256&255}return i}function uj(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=i&&n<=s?r:i<=s?e:t}function dj(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Iv(r,e,t){var n=e*t,i=Math.floor(n/8),s=16-(n-8*i+t),a=(1<<t)-1;return CE(r,i)>>s&a}function bb(r,e,t,n){var i=t*n,s=Math.floor(i/8),a=16-(i-8*s+n),c=(1<<n)-1,u=(e&c)<<a;(function(d,f,w){if(f+1<d.byteLength)d.setUint16(f,w,!1);else{var b=w>>8&255;d.setUint8(f,b)}})(r,s,CE(r,s)&~(c<<a)&65535|u)}function CE(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function hj(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],s=i>>7,a=1<<1+(7&i);r[e++],r[e++];var c=null,u=null;s&&(c=e,u=a,e+=3*a);var d=!0,f=[],w=0,b=null,v=0,E=null;for(this.width=t,this.height=n;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,E=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var D=r[e++];w=r[e++]|r[e++]<<8,b=r[e++],1&D||(b=null),v=D>>2&7,e++;break;case 254:for(;;){if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var T=r[e++]|r[e++]<<8,P=r[e++]|r[e++]<<8,U=r[e++]|r[e++]<<8,V=r[e++]|r[e++]<<8,H=r[e++],ie=H>>6&1,de=1<<1+(7&H),q=c,O=u,M=!1;H>>7&&(M=!0,q=e,O=de,e+=3*de);var z=e;for(e++;;){var N;if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}f.push({x:T,y:P,width:U,height:V,has_local_palette:M,palette_offset:q,palette_size:O,data_offset:z,data_length:e-z,transparent_index:b,interlaced:!!ie,delay:w,disposal:v});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return E},this.frameInfo=function(I){if(I<0||I>=f.length)throw new Error("Frame index out of range.");return f[I]},this.decodeAndBlitFrameBGRA=function(I,L){var ee=this.frameInfo(I),ve=ee.width*ee.height,Ne=new Uint8Array(ve);_b(r,ee.data_offset,Ne,ve);var be=ee.palette_offset,oe=ee.transparent_index;oe===null&&(oe=256);var _e=ee.width,ge=t-_e,te=_e,j=4*(ee.y*t+ee.x),F=4*((ee.y+ee.height)*t+ee.x),Y=j,se=4*ge;ee.interlaced===!0&&(se+=4*t*7);for(var le=8,ye=0,fe=Ne.length;ye<fe;++ye){var he=Ne[ye];if(te===0&&(te=_e,(Y+=se)>=F&&(se=4*ge+4*t*(le-1),Y=j+(_e+ge)*(le<<1),le>>=1)),he===oe)Y+=4;else{var Te=r[be+3*he],Fe=r[be+3*he+1],$e=r[be+3*he+2];L[Y++]=$e,L[Y++]=Fe,L[Y++]=Te,L[Y++]=255}--te}},this.decodeAndBlitFrameRGBA=function(I,L){var ee=this.frameInfo(I),ve=ee.width*ee.height,Ne=new Uint8Array(ve);_b(r,ee.data_offset,Ne,ve);var be=ee.palette_offset,oe=ee.transparent_index;oe===null&&(oe=256);var _e=ee.width,ge=t-_e,te=_e,j=4*(ee.y*t+ee.x),F=4*((ee.y+ee.height)*t+ee.x),Y=j,se=4*ge;ee.interlaced===!0&&(se+=4*t*7);for(var le=8,ye=0,fe=Ne.length;ye<fe;++ye){var he=Ne[ye];if(te===0&&(te=_e,(Y+=se)>=F&&(se=4*ge+4*t*(le-1),Y=j+(_e+ge)*(le<<1),le>>=1)),he===oe)Y+=4;else{var Te=r[be+3*he],Fe=r[be+3*he+1],$e=r[be+3*he+2];L[Y++]=Te,L[Y++]=Fe,L[Y++]=$e,L[Y++]=255}--te}}}function _b(r,e,t,n){for(var i=r[e++],s=1<<i,a=s+1,c=a+1,u=i+1,d=(1<<u)-1,f=0,w=0,b=0,v=r[e++],E=new Int32Array(4096),D=null;;){for(;f<16&&v!==0;)w|=r[e++]<<f,f+=8,v===1?v=r[e++]:--v;if(f<u)break;var T=w&d;if(w>>=u,f-=u,T!==s){if(T===a)break;for(var P=T<c?T:D,U=0,V=P;V>s;)V=E[V]>>8,++U;var H=V;if(b+U+(P!==T?1:0)>n)return void Pr.log("Warning, gif stream longer than expected.");t[b++]=H;var ie=b+=U;for(P!==T&&(t[b++]=H),V=P;U--;)V=E[V],t[--ie]=255&V,V>>=8;D!==null&&c<4096&&(E[c++]=D<<8|H,c>=d+1&&u<12&&(++u,d=d<<1|1)),D=T}else c=a+1,d=(1<<(u=i+1))-1,D=null}return b!==n&&Pr.log("Warning, gif stream shorter than expected."),t}function Av(r){var e,t,n,i,s,a=Math.floor,c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),w=new Array(65535),b=new Array(65535),v=new Array(64),E=new Array(64),D=[],T=0,P=7,U=new Array(64),V=new Array(64),H=new Array(64),ie=new Array(256),de=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ne(j,F){for(var Y=0,se=0,le=new Array,ye=1;ye<=16;ye++){for(var fe=1;fe<=j[ye];fe++)le[F[se]]=[],le[F[se]][0]=Y,le[F[se]][1]=ye,se++,Y++;Y*=2}return le}function be(j){for(var F=j[0],Y=j[1]-1;Y>=0;)F&1<<Y&&(T|=1<<P),Y--,--P<0&&(T==255?(oe(255),oe(0)):oe(T),P=7,T=0)}function oe(j){D.push(j)}function _e(j){oe(j>>8&255),oe(255&j)}function ge(j,F,Y,se,le){for(var ye,fe=le[0],he=le[240],Te=(function(Qe,bt){var pt,Rt,vt,hn,xt,Et,Ft,nn,St,Jt,Ct=0;for(St=0;St<8;++St){pt=Qe[Ct],Rt=Qe[Ct+1],vt=Qe[Ct+2],hn=Qe[Ct+3],xt=Qe[Ct+4],Et=Qe[Ct+5],Ft=Qe[Ct+6];var nr=pt+(nn=Qe[Ct+7]),Je=pt-nn,ln=Rt+Ft,_t=Rt-Ft,Wn=vt+Et,ut=vt-Et,Tn=hn+xt,Gt=hn-xt,Zt=nr+Tn,En=nr-Tn,an=ln+Wn,$t=ln-Wn;Qe[Ct]=Zt+an,Qe[Ct+4]=Zt-an;var kn=.707106781*($t+En);Qe[Ct+2]=En+kn,Qe[Ct+6]=En-kn;var _i=.382683433*((Zt=Gt+ut)-($t=_t+Je)),mr=.5411961*Zt+_i,Br=1.306562965*$t+_i,ti=.707106781*(an=ut+_t),Bt=Je+ti,Kt=Je-ti;Qe[Ct+5]=Kt+mr,Qe[Ct+3]=Kt-mr,Qe[Ct+1]=Bt+Br,Qe[Ct+7]=Bt-Br,Ct+=8}for(Ct=0,St=0;St<8;++St){pt=Qe[Ct],Rt=Qe[Ct+8],vt=Qe[Ct+16],hn=Qe[Ct+24],xt=Qe[Ct+32],Et=Qe[Ct+40],Ft=Qe[Ct+48];var gr=pt+(nn=Qe[Ct+56]),Er=pt-nn,ni=Rt+Ft,rr=Rt-Ft,Ir=vt+Et,or=vt-Et,Xs=hn+xt,ho=hn-xt,Li=gr+Xs,gs=gr-Xs,Dr=ni+Ir,Si=ni-Ir;Qe[Ct]=Li+Dr,Qe[Ct+32]=Li-Dr;var Lr=.707106781*(Si+gs);Qe[Ct+16]=gs+Lr,Qe[Ct+48]=gs-Lr;var fo=.382683433*((Li=ho+or)-(Si=rr+Er)),Hi=.5411961*Li+fo,vs=1.306562965*Si+fo,os=.707106781*(Dr=or+rr),Js=Er+os,Do=Er-os;Qe[Ct+40]=Do+Hi,Qe[Ct+24]=Do-Hi,Qe[Ct+8]=Js+vs,Qe[Ct+56]=Js-vs,Ct++}for(St=0;St<64;++St)Jt=Qe[St]*bt[St],v[St]=Jt>0?Jt+.5|0:Jt-.5|0;return v})(j,F),Fe=0;Fe<64;++Fe)E[q[Fe]]=Te[Fe];var $e=E[0]-Y;Y=E[0],$e==0?be(se[0]):(be(se[b[ye=32767+$e]]),be(w[ye]));for(var Ye=63;Ye>0&&E[Ye]==0;)Ye--;if(Ye==0)return be(fe),Y;for(var ht,J=1;J<=Ye;){for(var Ge=J;E[J]==0&&J<=Ye;)++J;var at=J-Ge;if(at>=16){ht=at>>4;for(var lt=1;lt<=ht;++lt)be(he);at&=15}ye=32767+E[J],be(le[(at<<4)+b[ye]]),be(w[ye]),J++}return Ye!=63&&be(fe),Y}function te(j){j=Math.min(Math.max(j,1),100),s!=j&&((function(F){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var le=a((Y[se]*F+50)/100);le=Math.min(Math.max(le,1),255),c[q[se]]=le}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var he=a((ye[fe]*F+50)/100);he=Math.min(Math.max(he,1),255),u[q[fe]]=he}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,$e=0;$e<8;$e++)for(var Ye=0;Ye<8;Ye++)d[Fe]=1/(c[q[Fe]]*Te[$e]*Te[Ye]*8),f[Fe]=1/(u[q[Fe]]*Te[$e]*Te[Ye]*8),Fe++})(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,F){F&&te(F),D=new Array,T=0,P=7,_e(65496),_e(65504),_e(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),_e(1),_e(1),oe(0),oe(0),(function(){_e(65499),_e(132),oe(0);for(var Rt=0;Rt<64;Rt++)oe(c[Rt]);oe(1);for(var vt=0;vt<64;vt++)oe(u[vt])})(),(function(Rt,vt){_e(65472),_e(17),oe(8),_e(vt),_e(Rt),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)})(j.width,j.height),(function(){_e(65476),_e(418),oe(0);for(var Rt=0;Rt<16;Rt++)oe(O[Rt+1]);for(var vt=0;vt<=11;vt++)oe(M[vt]);oe(16);for(var hn=0;hn<16;hn++)oe(z[hn+1]);for(var xt=0;xt<=161;xt++)oe(N[xt]);oe(1);for(var Et=0;Et<16;Et++)oe(I[Et+1]);for(var Ft=0;Ft<=11;Ft++)oe(L[Ft]);oe(17);for(var nn=0;nn<16;nn++)oe(ee[nn+1]);for(var St=0;St<=161;St++)oe(ve[St])})(),_e(65498),_e(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var Y=0,se=0,le=0;T=0,P=7,this.encode.displayName="_encode_";for(var ye,fe,he,Te,Fe,$e,Ye,ht,J,Ge=j.data,at=j.width,lt=j.height,Qe=4*at,bt=0;bt<lt;){for(ye=0;ye<Qe;){for(Fe=Qe*bt+ye,Ye=-1,ht=0,J=0;J<64;J++)$e=Fe+(ht=J>>3)*Qe+(Ye=4*(7&J)),bt+ht>=lt&&($e-=Qe*(bt+1+ht-lt)),ye+Ye>=Qe&&($e-=ye+Ye-Qe+4),fe=Ge[$e++],he=Ge[$e++],Te=Ge[$e++],U[J]=(de[fe]+de[he+256|0]+de[Te+512|0]>>16)-128,V[J]=(de[fe+768|0]+de[he+1024|0]+de[Te+1280|0]>>16)-128,H[J]=(de[fe+1280|0]+de[he+1536|0]+de[Te+1792|0]>>16)-128;Y=ge(U,d,Y,e,n),se=ge(V,f,se,t,i),le=ge(H,f,le,t,i),ye+=32}bt+=8}if(P>=0){var pt=[];pt[1]=P+1,pt[0]=(1<<P+1)-1,be(pt)}return _e(65497),new Uint8Array(D)},r=r||50,(function(){for(var j=String.fromCharCode,F=0;F<256;F++)ie[F]=j(F)})(),e=Ne(O,M),t=Ne(I,L),n=Ne(z,N),i=Ne(ee,ve),(function(){for(var j=1,F=2,Y=1;Y<=15;Y++){for(var se=j;se<F;se++)b[32767+se]=Y,w[32767+se]=[],w[32767+se][1]=Y,w[32767+se][0]=se;for(var le=-(F-1);le<=-j;le++)b[32767+le]=Y,w[32767+le]=[],w[32767+le][1]=Y,w[32767+le][0]=F-1+le;j<<=1,F<<=1}})(),(function(){for(var j=0;j<256;j++)de[j]=19595*j,de[j+256|0]=38470*j,de[j+512|0]=7471*j+32768,de[j+768|0]=-11059*j,de[j+1024|0]=-21709*j,de[j+1280|0]=32768*j+8421375,de[j+1536|0]=-27439*j,de[j+1792|0]=-5329*j})(),te(r)}function Ba(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Sb(r){function e(M){if(!M)throw Error("assert :P")}function t(M,z,N){for(var I=0;4>I;I++)if(M[z+I]!=N.charCodeAt(I))return!0;return!1}function n(M,z,N,I,L){for(var ee=0;ee<L;ee++)M[z+ee]=N[I+ee]}function i(M,z,N,I){for(var L=0;L<I;L++)M[z+L]=N}function s(M){return new Int32Array(M)}function a(M,z){for(var N=[],I=0;I<M;I++)N.push(new z);return N}function c(M,z){var N=[];return(function I(L,ee,ve){for(var Ne=ve[ee],be=0;be<Ne&&(L.push(ve.length>ee+1?[]:new z),!(ve.length<ee+1));be++)I(L[be],ee+1,ve)})(N,0,M),N}var u=function(){var M=this;function z(p,x){for(var k=1<<x-1>>>0;p&k;)k>>>=1;return k?(p&k-1)+k:p}function N(p,x,k,R,$){e(!(R%k));do p[x+(R-=k)]=$;while(0<R)}function I(p,x,k,R,$){if(e(2328>=$),512>=$)var Q=s(512);else if((Q=s($))==null)return 0;return(function(X,Z,re,ae,ke,Le){var ce,Ce,De=Z,We=1<<re,Me=s(16),ze=s(16);for(e(ke!=0),e(ae!=null),e(X!=null),e(0<re),Ce=0;Ce<ke;++Ce){if(15<ae[Ce])return 0;++Me[ae[Ce]]}if(Me[0]==ke)return 0;for(ze[1]=0,ce=1;15>ce;++ce){if(Me[ce]>1<<ce)return 0;ze[ce+1]=ze[ce]+Me[ce]}for(Ce=0;Ce<ke;++Ce)ce=ae[Ce],0<ae[Ce]&&(Le[ze[ce]++]=Ce);if(ze[15]==1)return(ae=new L).g=0,ae.value=Le[0],N(X,De,1,We,ae),We;var qe,Xe=-1,Ze=We-1,qt=0,It=1,wn=1,Lt=1<<re;for(Ce=0,ce=1,ke=2;ce<=re;++ce,ke<<=1){if(It+=wn<<=1,0>(wn-=Me[ce]))return 0;for(;0<Me[ce];--Me[ce])(ae=new L).g=ce,ae.value=Le[Ce++],N(X,De+qt,ke,Lt,ae),qt=z(qt,ce)}for(ce=re+1,ke=2;15>=ce;++ce,ke<<=1){if(It+=wn<<=1,0>(wn-=Me[ce]))return 0;for(;0<Me[ce];--Me[ce]){if(ae=new L,(qt&Ze)!=Xe){for(De+=Lt,qe=1<<(Xe=ce)-re;15>Xe&&!(0>=(qe-=Me[Xe]));)++Xe,qe<<=1;We+=Lt=1<<(qe=Xe-re),X[Z+(Xe=qt&Ze)].g=qe+re,X[Z+Xe].value=De-Z-Xe}ae.g=ce-re,ae.value=Le[Ce++],N(X,De+(qt>>re),ke,Lt,ae),qt=z(qt,ce)}}return It!=2*ze[15]-1?0:We})(p,x,k,R,$,Q)}function L(){this.value=this.g=0}function ee(){this.value=this.g=0}function ve(){this.G=a(5,L),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(wo,ee)}function Ne(p,x,k,R){e(p!=null),e(x!=null),e(2147483648>R),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=x,p.pa=k,p.Jd=x,p.Yc=k+R,p.Zc=4<=R?k+R-4+1:k,fe(p)}function be(p,x){for(var k=0;0<x--;)k|=Te(p,128)<<x;return k}function oe(p,x){var k=be(p,x);return he(p)?-k:k}function _e(p,x,k,R){var $,Q=0;for(e(p!=null),e(x!=null),e(4294967288>R),p.Sb=R,p.Ra=0,p.u=0,p.h=0,4<R&&(R=4),$=0;$<R;++$)Q+=x[k+$]<<8*$;p.Ra=Q,p.bb=R,p.oa=x,p.pa=k}function ge(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<el-8>>>0,++p.bb,p.u-=8;se(p)&&(p.h=1,p.u=0)}function te(p,x){if(e(0<=x),!p.h&&x<=io){var k=Y(p)&ro[x];return p.u+=x,ge(p),k}return p.h=1,p.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(p){return p.Ra>>>(p.u&el-1)>>>0}function se(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>el}function le(p,x){p.u=x,p.h=se(p)}function ye(p){p.u>=sa&&(e(p.u>=sa),ge(p))}function fe(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function he(p){return be(p,1)}function Te(p,x){var k=p.Ca;0>p.b&&fe(p);var R=p.b,$=k*x>>>8,Q=(p.I>>>R>$)+0;for(Q?(k-=$,p.I-=$+1<<R>>>0):k=$+1,R=k,$=0;256<=R;)$+=8,R>>=8;return R=7^$+Na[R],p.b-=R,p.Ca=(k<<R)-1,Q}function Fe(p,x,k){p[x+0]=k>>24&255,p[x+1]=k>>16&255,p[x+2]=k>>8&255,p[x+3]=255&k}function $e(p,x){return p[x+0]|p[x+1]<<8}function Ye(p,x){return $e(p,x)|p[x+2]<<16}function ht(p,x){return $e(p,x)|$e(p,x+2)<<16}function J(p,x){var k=1<<x;return e(p!=null),e(0<x),p.X=s(k),p.X==null?0:(p.Mb=32-x,p.Xa=x,1)}function Ge(p,x){e(p!=null),e(x!=null),e(p.Xa==x.Xa),n(x.X,0,p.X,0,1<<x.Xa)}function at(){this.X=[],this.Xa=this.Mb=0}function lt(p,x,k,R){e(k!=null),e(R!=null);var $=k[0],Q=R[0];return $==0&&($=(p*Q+x/2)/x),Q==0&&(Q=(x*$+p/2)/p),0>=$||0>=Q?0:(k[0]=$,R[0]=Q,1)}function Qe(p,x){return p+(1<<x)-1>>>x}function bt(p,x){return((4278255360&p)+(4278255360&x)>>>0&4278255360)+((16711935&p)+(16711935&x)>>>0&16711935)>>>0}function pt(p,x){M[x]=function(k,R,$,Q,X,Z,re){var ae;for(ae=0;ae<X;++ae){var ke=M[p](Z[re+ae-1],$,Q+ae);Z[re+ae]=bt(k[R+ae],ke)}}}function Rt(){this.ud=this.hd=this.jd=0}function vt(p,x){return((4278124286&(p^x))>>>1)+(p&x)>>>0}function hn(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function xt(p,x){return hn(p+(p-x+.5>>1))}function Et(p,x,k){return Math.abs(x-k)-Math.abs(p-k)}function Ft(p,x,k,R,$,Q,X){for(R=Q[X-1],k=0;k<$;++k)Q[X+k]=R=bt(p[x+k],R)}function nn(p,x,k,R,$){var Q;for(Q=0;Q<k;++Q){var X=p[x+Q],Z=X>>8&255,re=16711935&(re=(re=16711935&X)+((Z<<16)+Z));R[$+Q]=(4278255360&X)+re>>>0}}function St(p,x){x.jd=255&p,x.hd=p>>8&255,x.ud=p>>16&255}function Jt(p,x,k,R,$,Q){var X;for(X=0;X<R;++X){var Z=x[k+X],re=Z>>>8,ae=Z,ke=255&(ke=(ke=Z>>>16)+((p.jd<<24>>24)*(re<<24>>24)>>>5));ae=255&(ae=(ae+=(p.hd<<24>>24)*(re<<24>>24)>>>5)+((p.ud<<24>>24)*(ke<<24>>24)>>>5)),$[Q+X]=(4278255360&Z)+(ke<<16)+ae}}function Ct(p,x,k,R,$){M[x]=function(Q,X,Z,re,ae,ke,Le,ce,Ce){for(re=Le;re<ce;++re)for(Le=0;Le<Ce;++Le)ae[ke++]=$(Z[R(Q[X++])])},M[p]=function(Q,X,Z,re,ae,ke,Le){var ce=8>>Q.b,Ce=Q.Ea,De=Q.K[0],We=Q.w;if(8>ce)for(Q=(1<<Q.b)-1,We=(1<<ce)-1;X<Z;++X){var Me,ze=0;for(Me=0;Me<Ce;++Me)Me&Q||(ze=R(re[ae++])),ke[Le++]=$(De[ze&We]),ze>>=ce}else M["VP8LMapColor"+k](re,ae,De,We,ke,Le,X,Z,Ce)}}function nr(p,x,k,R,$){for(k=x+k;x<k;){var Q=p[x++];R[$++]=Q>>16&255,R[$++]=Q>>8&255,R[$++]=255&Q}}function Je(p,x,k,R,$){for(k=x+k;x<k;){var Q=p[x++];R[$++]=Q>>16&255,R[$++]=Q>>8&255,R[$++]=255&Q,R[$++]=Q>>24&255}}function ln(p,x,k,R,$){for(k=x+k;x<k;){var Q=(X=p[x++])>>16&240|X>>12&15,X=240&X|X>>28&15;R[$++]=Q,R[$++]=X}}function _t(p,x,k,R,$){for(k=x+k;x<k;){var Q=(X=p[x++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;R[$++]=Q,R[$++]=X}}function Wn(p,x,k,R,$){for(k=x+k;x<k;){var Q=p[x++];R[$++]=255&Q,R[$++]=Q>>8&255,R[$++]=Q>>16&255}}function ut(p,x,k,R,$,Q){if(Q==0)for(k=x+k;x<k;)Fe(R,((Q=p[x++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),$+=32;else n(R,$,p,x,k)}function Tn(p,x){M[x][0]=M[p+"0"],M[x][1]=M[p+"1"],M[x][2]=M[p+"2"],M[x][3]=M[p+"3"],M[x][4]=M[p+"4"],M[x][5]=M[p+"5"],M[x][6]=M[p+"6"],M[x][7]=M[p+"7"],M[x][8]=M[p+"8"],M[x][9]=M[p+"9"],M[x][10]=M[p+"10"],M[x][11]=M[p+"11"],M[x][12]=M[p+"12"],M[x][13]=M[p+"13"],M[x][14]=M[p+"0"],M[x][15]=M[p+"0"]}function Gt(p){return p==Ec||p==Vl||p==xu||p==bu}function Zt(){this.eb=[],this.size=this.A=this.fb=0}function En(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function an(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Zt,this.f.kb=new En,this.sd=null}function $t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function kn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _i(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function mr(p,x){var k=p.T,R=x.ba.f.RGBA,$=R.eb,Q=R.fb+p.ka*R.A,X=Ms[x.ba.S],Z=p.y,re=p.O,ae=p.f,ke=p.N,Le=p.ea,ce=p.W,Ce=x.cc,De=x.dc,We=x.Mc,Me=x.Nc,ze=p.ka,qe=p.ka+p.T,Xe=p.U,Ze=Xe+1>>1;for(ze==0?X(Z,re,null,null,ae,ke,Le,ce,ae,ke,Le,ce,$,Q,null,null,Xe):(X(x.ec,x.fc,Z,re,Ce,De,We,Me,ae,ke,Le,ce,$,Q-R.A,$,Q,Xe),++k);ze+2<qe;ze+=2)Ce=ae,De=ke,We=Le,Me=ce,ke+=p.Rc,ce+=p.Rc,Q+=2*R.A,X(Z,(re+=2*p.fa)-p.fa,Z,re,Ce,De,We,Me,ae,ke,Le,ce,$,Q-R.A,$,Q,Xe);return re+=p.fa,p.j+qe<p.o?(n(x.ec,x.fc,Z,re,Xe),n(x.cc,x.dc,ae,ke,Ze),n(x.Mc,x.Nc,Le,ce,Ze),k--):1&qe||X(Z,re,null,null,ae,ke,Le,ce,ae,ke,Le,ce,$,Q+R.A,null,null,Xe),k}function Br(p,x,k){var R=p.F,$=[p.J];if(R!=null){var Q=p.U,X=x.ba.S,Z=X==wu||X==xu;x=x.ba.f.RGBA;var re=[0],ae=p.ka;re[0]=p.T,p.Kb&&(ae==0?--re[0]:(--ae,$[0]-=p.width),p.j+p.ka+p.T==p.o&&(re[0]=p.o-p.j-ae));var ke=x.eb;ae=x.fb+ae*x.A,p=vu(R,$[0],p.width,Q,re,ke,ae+(Z?0:3),x.A),e(k==re),p&&Gt(X)&&Ul(ke,ae,Z,Q,re,x.A)}return 0}function ti(p){var x=p.ma,k=x.ba.S,R=11>k,$=k==il||k==yu||k==wu||k==vr||k==12||Gt(k);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!yc(x.Oa,p,$?11:12))return 0;if($&&Gt(k)&&Ds(),p.da)alert("todo:use_scaling");else{if(R){if(x.Ib=_i,p.Kb){if(k=p.U+1>>1,x.memory=s(p.U+2*k),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+p.U,x.Mc=x.cc,x.Nc=x.dc+k,x.Ib=mr,Ds()}}else alert("todo:EmitYUV");$&&(x.Jb=Br,R&&Ps())}if(R&&!Xi){for(p=0;256>p;++p)Os[p]=89858*(p-128)+Fo>>Ta,js[p]=-22014*(p-128)+Fo,Ac[p]=-45773*(p-128),Wl[p]=113618*(p-128)+Fo>>Ta;for(p=lr;p<fr;++p)x=76283*(p-16)+Fo>>Ta,vd[p-lr]=Kn(x,255),up[p-lr]=Kn(x+8>>4,15);Xi=1}return 1}function Bt(p){var x=p.ma,k=p.U,R=p.T;return e(!(1&p.ka)),0>=k||0>=R?0:(k=x.Ib(p,x),x.Jb!=null&&x.Jb(p,x,k),x.Dc+=k,1)}function Kt(p){p.ma.memory=null}function gr(p,x,k,R){return te(p,8)!=47?0:(x[0]=te(p,14)+1,k[0]=te(p,14)+1,R[0]=te(p,1),te(p,3)!=0?0:!p.h)}function Er(p,x){if(4>p)return p+1;var k=p-2>>1;return(2+(1&p)<<k)+te(x,k)+1}function ni(p,x){return 120<x?x-120:1<=(k=((k=Y0[x-1])>>4)*p+(8-(15&k)))?k:1;var k}function rr(p,x,k){var R=Y(k),$=p[x+=255&R].g-8;return 0<$&&(le(k,k.u+8),R=Y(k),x+=p[x].value,x+=R&(1<<$)-1),le(k,k.u+p[x].g),p[x].value}function Ir(p,x,k){return k.g+=p.g,k.value+=p.value<<x>>>0,e(8>=k.g),p.g}function or(p,x,k){var R=p.xc;return e((x=R==0?0:p.vc[p.md*(k>>R)+(x>>R)])<p.Wb),p.Ya[x]}function Xs(p,x,k,R){var $=p.ab,Q=p.c*x,X=p.C;x=X+x;var Z=k,re=R;for(R=p.Ta,k=p.Ua;0<$--;){var ae=p.gc[$],ke=X,Le=x,ce=Z,Ce=re,De=(re=R,Z=k,ae.Ea);switch(e(ke<Le),e(Le<=ae.nc),ae.hc){case 2:si(ce,Ce,(Le-ke)*De,re,Z);break;case 0:var We=ke,Me=Le,ze=re,qe=Z,Xe=(Lt=ae).Ea;We==0&&(Ca(ce,Ce,null,null,1,ze,qe),Ft(ce,Ce+1,0,0,Xe-1,ze,qe+1),Ce+=Xe,qe+=Xe,++We);for(var Ze=1<<Lt.b,qt=Ze-1,It=Qe(Xe,Lt.b),wn=Lt.K,Lt=Lt.w+(We>>Lt.b)*It;We<Me;){var Rn=wn,Qr=Lt,xn=1;for(oa(ce,Ce,ze,qe-Xe,1,ze,qe);xn<Xe;){var At=(xn&~qt)+Ze;At>Xe&&(At=Xe),(0,Ol[Rn[Qr++]>>8&15])(ce,Ce+ +xn,ze,qe+xn-Xe,At-xn,ze,qe+xn),xn=At}Ce+=Xe,qe+=Xe,++We&qt||(Lt+=It)}Le!=ae.nc&&n(re,Z-De,re,Z+(Le-ke-1)*De,De);break;case 1:for(De=ce,Me=Ce,Xe=(ce=ae.Ea)-(qe=ce&~(ze=(Ce=1<<ae.b)-1)),We=Qe(ce,ae.b),Ze=ae.K,ae=ae.w+(ke>>ae.b)*We;ke<Le;){for(qt=Ze,It=ae,wn=new Rt,Lt=Me+qe,Rn=Me+ce;Me<Lt;)St(qt[It++],wn),xc(wn,De,Me,Ce,re,Z),Me+=Ce,Z+=Ce;Me<Rn&&(St(qt[It++],wn),xc(wn,De,Me,Xe,re,Z),Me+=Xe,Z+=Xe),++ke&ze||(ae+=We)}break;case 3:if(ce==re&&Ce==Z&&0<ae.b){for(Me=re,ce=De=Z+(Le-ke)*De-(qe=(Le-ke)*Qe(ae.Ea,ae.b)),Ce=re,ze=Z,We=[],qe=(Xe=qe)-1;0<=qe;--qe)We[qe]=Ce[ze+qe];for(qe=Xe-1;0<=qe;--qe)Me[ce+qe]=We[qe];Rl(ae,ke,Le,re,De,re,Z)}else Rl(ae,ke,Le,ce,Ce,re,Z)}Z=R,re=k}re!=k&&n(R,k,Z,re,Q)}function ho(p,x){var k=p.V,R=p.Ba+p.c*p.C,$=x-p.C;if(e(x<=p.l.o),e(16>=$),0<$){var Q=p.l,X=p.Ta,Z=p.Ua,re=Q.width;if(Xs(p,$,k,R),$=Z=[Z],e((k=p.C)<(R=x)),e(Q.v<Q.va),R>Q.o&&(R=Q.o),k<Q.j){var ae=Q.j-k;k=Q.j,$[0]+=ae*re}if(k>=R?k=0:($[0]+=4*Q.v,Q.ka=k-Q.j,Q.U=Q.va-Q.v,Q.T=R-k,k=1),k){if(Z=Z[0],11>(k=p.ca).S){var ke=k.f.RGBA,Le=(R=k.S,$=Q.U,Q=Q.T,ae=ke.eb,ke.A),ce=Q;for(ke=ke.fb+p.Ma*ke.A;0<ce--;){var Ce=X,De=Z,We=$,Me=ae,ze=ke;switch(R){case fd:bc(Ce,De,We,Me,ze);break;case il:Ia(Ce,De,We,Me,ze);break;case Ec:Ia(Ce,De,We,Me,ze),Ul(Me,ze,0,We,1,0);break;case sp:jl(Ce,De,We,Me,ze);break;case yu:ut(Ce,De,We,Me,ze,1);break;case Vl:ut(Ce,De,We,Me,ze,1),Ul(Me,ze,0,We,1,0);break;case wu:ut(Ce,De,We,Me,ze,0);break;case xu:ut(Ce,De,We,Me,ze,0),Ul(Me,ze,1,We,1,0);break;case vr:tl(Ce,De,We,Me,ze);break;case bu:tl(Ce,De,We,Me,ze),Rh(Me,ze,We,1,0);break;case pd:nl(Ce,De,We,Me,ze);break;default:e(0)}Z+=re,ke+=Le}p.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=k.height)}}p.C=x,e(p.C<=p.i)}function Li(p){var x;if(0<p.ua)return 0;for(x=0;x<p.Wb;++x){var k=p.Ya[x].G,R=p.Ya[x].H;if(0<k[1][R[1]+0].g||0<k[2][R[2]+0].g||0<k[3][R[3]+0].g)return 0}return 1}function gs(p,x,k,R,$,Q){if(p.Z!=0){var X=p.qd,Z=p.rd;for(e(ls[p.Z]!=null);x<k;++x)ls[p.Z](X,Z,R,$,R,$,Q),X=R,Z=$,$+=Q;p.qd=X,p.rd=Z}}function Dr(p,x){var k=p.l.ma,R=k.Z==0||k.Z==1?p.l.j:p.C;if(R=p.C<R?R:p.C,e(x<=p.l.o),x>R){var $=p.l.width,Q=k.ca,X=k.tb+$*R,Z=p.V,re=p.Ba+p.c*R,ae=p.gc;e(p.ab==1),e(ae[0].hc==3),Oo(ae[0],R,x,Z,re,Q,X),gs(k,R,x,Q,X,$)}p.C=p.Ma=x}function Si(p,x,k,R,$,Q,X){var Z=p.$/R,re=p.$%R,ae=p.m,ke=p.s,Le=k+p.$,ce=Le;$=k+R*$;var Ce=k+R*Q,De=280+ke.ua,We=p.Pb?Z:16777216,Me=0<ke.ua?ke.Wa:null,ze=ke.wc,qe=Le<Ce?or(ke,re,Z):null;e(p.C<Q),e(Ce<=$);var Xe=!1;e:for(;;){for(;Xe||Le<Ce;){var Ze=0;if(Z>=We){var qt=Le-k;e((We=p).Pb),We.wd=We.m,We.xd=qt,0<We.s.ua&&Ge(We.s.Wa,We.s.vb),We=Z+gd}if(re&ze||(qe=or(ke,re,Z)),e(qe!=null),qe.Qb&&(x[Le]=qe.qb,Xe=!0),!Xe)if(ye(ae),qe.jc){Ze=ae,qt=x;var It=Le,wn=qe.pd[Y(Ze)&wo-1];e(qe.jc),256>wn.g?(le(Ze,Ze.u+wn.g),qt[It]=wn.value,Ze=0):(le(Ze,Ze.u+wn.g-256),e(256<=wn.value),Ze=wn.value),Ze==0&&(Xe=!0)}else Ze=rr(qe.G[0],qe.H[0],ae);if(ae.h)break;if(Xe||256>Ze){if(!Xe)if(qe.nd)x[Le]=(qe.qb|Ze<<8)>>>0;else{if(ye(ae),Xe=rr(qe.G[1],qe.H[1],ae),ye(ae),qt=rr(qe.G[2],qe.H[2],ae),It=rr(qe.G[3],qe.H[3],ae),ae.h)break;x[Le]=(It<<24|Xe<<16|Ze<<8|qt)>>>0}if(Xe=!1,++Le,++re>=R&&(re=0,++Z,X!=null&&Z<=Q&&!(Z%16)&&X(p,Z),Me!=null))for(;ce<Le;)Ze=x[ce++],Me.X[(506832829*Ze&4294967295)>>>Me.Mb]=Ze}else if(280>Ze){if(Ze=Er(Ze-256,ae),qt=rr(qe.G[4],qe.H[4],ae),ye(ae),qt=ni(R,qt=Er(qt,ae)),ae.h)break;if(Le-k<qt||$-Le<Ze)break e;for(It=0;It<Ze;++It)x[Le+It]=x[Le+It-qt];for(Le+=Ze,re+=Ze;re>=R;)re-=R,++Z,X!=null&&Z<=Q&&!(Z%16)&&X(p,Z);if(e(Le<=$),re&ze&&(qe=or(ke,re,Z)),Me!=null)for(;ce<Le;)Ze=x[ce++],Me.X[(506832829*Ze&4294967295)>>>Me.Mb]=Ze}else{if(!(Ze<De))break e;for(Xe=Ze-280,e(Me!=null);ce<Le;)Ze=x[ce++],Me.X[(506832829*Ze&4294967295)>>>Me.Mb]=Ze;Ze=Le,e(!(Xe>>>(qt=Me).Xa)),x[Ze]=qt.X[Xe],Xe=!0}Xe||e(ae.h==se(ae))}if(p.Pb&&ae.h&&Le<$)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Ge(p.s.vb,p.s.Wa);else{if(ae.h)break e;X?.(p,Z>Q?Q:Z),p.a=0,p.$=Le-k}return 1}return p.a=3,0}function Lr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var x=p.Wa;x!=null&&(x.X=null),p.vb=null,e(p!=null)}function fo(){var p=new tn;return p==null?null:(p.a=0,p.xb=Cc,Tn("Predictor","VP8LPredictors"),Tn("Predictor","VP8LPredictors_C"),Tn("PredictorAdd","VP8LPredictorsAdd"),Tn("PredictorAdd","VP8LPredictorsAdd_C"),si=nn,xc=Jt,bc=nr,Ia=Je,tl=ln,nl=_t,jl=Wn,M.VP8LMapColor32b=aa,M.VP8LMapColor8b=Ml,p)}function Hi(p,x,k,R,$){var Q=1,X=[p],Z=[x],re=R.m,ae=R.s,ke=null,Le=0;e:for(;;){if(k)for(;Q&&te(re,1);){var ce=X,Ce=Z,De=R,We=1,Me=De.m,ze=De.gc[De.ab],qe=te(Me,2);if(De.Oc&1<<qe)Q=0;else{switch(De.Oc|=1<<qe,ze.hc=qe,ze.Ea=ce[0],ze.nc=Ce[0],ze.K=[null],++De.ab,e(4>=De.ab),qe){case 0:case 1:ze.b=te(Me,3)+2,We=Hi(Qe(ze.Ea,ze.b),Qe(ze.nc,ze.b),0,De,ze.K),ze.K=ze.K[0];break;case 3:var Xe,Ze=te(Me,8)+1,qt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(ce[0]=Qe(ze.Ea,qt),ze.b=qt,Xe=We=Hi(Ze,1,0,De,ze.K)){var It,wn=Ze,Lt=ze,Rn=1<<(8>>Lt.b),Qr=s(Rn);if(Qr==null)Xe=0;else{var xn=Lt.K[0],At=Lt.w;for(Qr[0]=Lt.K[0][0],It=1;It<1*wn;++It)Qr[It]=bt(xn[At+It],Qr[It-1]);for(;It<4*Rn;++It)Qr[It]=0;Lt.K[0]=null,Lt.K[0]=Qr,Xe=1}}We=Xe;break;case 2:break;default:e(0)}Q=We}}if(X=X[0],Z=Z[0],Q&&te(re,1)&&!(Q=1<=(Le=te(re,4))&&11>=Le)){R.a=3;break e}var ft;if(ft=Q)t:{var oi,dn,In,Cr=R,Bi=X,gi=Z,qr=Le,ki=k,Ui=Cr.m,Or=Cr.s,Fn=[null],Jn=1,jr=0,Zn=ap[qr];n:for(;;){if(ki&&te(Ui,1)){var Xr=te(Ui,3)+2,Jr=Qe(Bi,Xr),yr=Qe(gi,Xr),cs=Jr*yr;if(!Hi(Jr,yr,0,Cr,Fn))break n;for(Fn=Fn[0],Or.xc=Xr,oi=0;oi<cs;++oi){var pr=Fn[oi]>>8&65535;Fn[oi]=pr,pr>=Jn&&(Jn=pr+1)}}if(Ui.h)break n;for(dn=0;5>dn;++dn){var wr=zl[dn];!dn&&0<qr&&(wr+=1<<qr),jr<wr&&(jr=wr)}var vi=a(Jn*Zn,L),Ji=Jn,Fs=a(Ji,ve);if(Fs==null)var ai=null;else e(65536>=Ji),ai=Fs;var li=s(jr);if(ai==null||li==null||vi==null){Cr.a=1;break n}var us=vi;for(oi=In=0;oi<Jn;++oi){var xr=ai[oi],ds=xr.G,_o=xr.H,Bo=0,Vi=1,ci=0;for(dn=0;5>dn;++dn){wr=zl[dn],ds[dn]=us,_o[dn]=In,!dn&&0<qr&&(wr+=1<<qr);i:{var al,Da=wr,Tc=Cr,ua=li,hp=us,$h=In,Tr=0,Uo=Tc.m,Yh=te(Uo,1);if(i(ua,0,0,Da),Yh){var Gh=te(Uo,1)+1,yd=te(Uo,1),wd=te(Uo,yd==0?1:8);ua[wd]=1,Gh==2&&(ua[wd=te(Uo,8)]=1);var da=1}else{var Fr=s(19),yi=te(Uo,4)+4;if(19<yi){Tc.a=3;var ui=0;break i}for(al=0;al<yi;++al)Fr[$0[al]]=te(Uo,3);var Pc=void 0,La=void 0,Dc=Tc,J0=Fr,Ei=Da,xd=ua,Nu=0,ha=Dc.m,Vo=8,so=a(128,L);r:for(;I(so,0,7,J0,19);){if(te(ha,1)){var Cu=2+2*te(ha,3);if((Pc=2+te(ha,Cu))>Ei)break r}else Pc=Ei;for(La=0;La<Ei&&Pc--;){ye(ha);var bd=so[0+(127&Y(ha))];le(ha,ha.u+bd.g);var ll=bd.value;if(16>ll)xd[La++]=ll,ll!=0&&(Vo=ll);else{var fp=ll==16,Kh=ll-16,pp=md[Kh],Qh=te(ha,_u[Kh])+pp;if(La+Qh>Ei)break r;for(var mp=fp?Vo:0;0<Qh--;)xd[La++]=mp}}Nu=1;break r}Nu||(Dc.a=3),da=Nu}(da=da&&!Uo.h)&&(Tr=I(hp,$h,8,ua,Da)),da&&Tr!=0?ui=Tr:(Tc.a=3,ui=0)}if(ui==0)break n;if(Vi&&op[dn]==1&&(Vi=us[In].g==0),Bo+=us[In].g,In+=ui,3>=dn){var Lc,_d=li[0];for(Lc=1;Lc<wr;++Lc)li[Lc]>_d&&(_d=li[Lc]);ci+=_d}}if(xr.nd=Vi,xr.Qb=0,Vi&&(xr.qb=(ds[3][_o[3]+0].value<<24|ds[1][_o[1]+0].value<<16|ds[2][_o[2]+0].value)>>>0,Bo==0&&256>ds[0][_o[0]+0].value&&(xr.Qb=1,xr.qb+=ds[0][_o[0]+0].value<<8)),xr.jc=!xr.Qb&&6>ci,xr.jc){var Iu,oo=xr;for(Iu=0;Iu<wo;++Iu){var Ra=Iu,zo=oo.pd[Ra],Yl=oo.G[0][oo.H[0]+Ra];256<=Yl.value?(zo.g=Yl.g+256,zo.value=Yl.value):(zo.g=0,zo.value=0,Ra>>=Ir(Yl,8,zo),Ra>>=Ir(oo.G[1][oo.H[1]+Ra],16,zo),Ra>>=Ir(oo.G[2][oo.H[2]+Ra],0,zo),Ir(oo.G[3][oo.H[3]+Ra],24,zo))}}}Or.vc=Fn,Or.Wb=Jn,Or.Ya=ai,Or.yc=vi,ft=1;break t}ft=0}if(!(Q=ft)){R.a=3;break e}if(0<Le){if(ae.ua=1<<Le,!J(ae.Wa,Le)){R.a=1,Q=0;break e}}else ae.ua=0;var Sd=R,kd=X,gp=Z,Ed=Sd.s,Nd=Ed.xc;if(Sd.c=kd,Sd.i=gp,Ed.md=Qe(kd,Nd),Ed.wc=Nd==0?-1:(1<<Nd)-1,k){R.xb=ca;break e}if((ke=s(X*Z))==null){R.a=1,Q=0;break e}Q=(Q=Si(R,ke,0,X,Z,Z,null))&&!re.h;break e}return Q?($!=null?$[0]=ke:(e(ke==null),e(k)),R.$=0,k||Lr(ae)):Lr(ae),Q}function vs(p,x){var k=p.c*p.i,R=k+x+16*x;return e(p.c<=x),p.V=s(R),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+k+x,1)}function os(p,x){var k=p.C,R=x-k,$=p.V,Q=p.Ba+p.c*k;for(e(x<=p.l.o);0<R;){var X=16<R?16:R,Z=p.l.ma,re=p.l.width,ae=re*X,ke=Z.ca,Le=Z.tb+re*k,ce=p.Ta,Ce=p.Ua;Xs(p,X,$,Q),Mh(ce,Ce,ke,Le,ae),gs(Z,k,k+X,ke,Le,re),R-=X,$+=X*p.c,k+=X}e(k==x),p.C=p.Ma=x}function Js(){this.ub=this.yd=this.td=this.Rb=0}function Do(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Dl(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function zn(){this.Yb=(function(){var p=[];return(function x(k,R,$){for(var Q=$[R],X=0;X<Q&&(k.push($.length>R+1?[]:0),!($.length<R+1));X++)x(k[X],R+1,$)})(p,0,[3,11]),p})()}function Lo(){this.jb=s(3),this.Wc=c([4,8],zn),this.Xc=c([4,17],zn)}function po(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ri(){this.ld=this.La=this.dd=this.tc=0}function Ri(){this.Na=this.la=0}function Zo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ea(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mo(){this.uc=this.M=this.Nb=0,this.wa=Array(new ri),this.Y=0,this.ya=Array(new ea),this.aa=0,this.l=new Zs}function Mi(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ba(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new Js,this.Kc=new Do,this.ed=new po,this.Qa=new Dl,this.Ic=this.$c=this.Aa=0,this.D=new mo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,j),this.ia=0,this.pb=a(4,Zo),this.Pa=new Lo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Mi),this.Hd=0,this.rb=Array(new Ri),this.sb=0,this.wa=Array(new ri),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ea),this.L=this.aa=0,this.gd=c([4,2],ri),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Kn(p,x){return 0>p?0:p>x?x:p}function Zs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qa(){var p=new ba;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,ql||(ql=ys)),p}function Nr(p,x,k){return p.a==0&&(p.a=x,p.sc=k,p.cb=0),0}function Ro(p,x,k){return 3<=k&&p[x+0]==157&&p[x+1]==1&&p[x+2]==42}function Wi(p,x){if(p==null)return 0;if(p.a=0,p.sc="OK",x==null)return Nr(p,2,"null VP8Io passed to VP8GetHeaders()");var k=x.data,R=x.w,$=x.ha;if(4>$)return Nr(p,7,"Truncated header.");var Q=k[R+0]|k[R+1]<<8|k[R+2]<<16,X=p.Od;if(X.Rb=!(1&Q),X.td=Q>>1&7,X.yd=Q>>4&1,X.ub=Q>>5,3<X.td)return Nr(p,3,"Incorrect keyframe parameters.");if(!X.yd)return Nr(p,4,"Frame not displayable.");R+=3,$-=3;var Z=p.Kc;if(X.Rb){if(7>$)return Nr(p,7,"cannot parse picture header");if(!Ro(k,R,$))return Nr(p,3,"Bad code word");Z.c=16383&(k[R+4]<<8|k[R+3]),Z.Td=k[R+4]>>6,Z.i=16383&(k[R+6]<<8|k[R+5]),Z.Ud=k[R+6]>>6,R+=7,$-=7,p.za=Z.c+15>>4,p.Ub=Z.i+15>>4,x.width=Z.c,x.height=Z.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((Q=p.Pa).jb,0,255,Q.jb.length),e((Q=p.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,i(Q.Zb,0,0,Q.Zb.length),i(Q.Lb,0,0,Q.Lb)}if(X.ub>$)return Nr(p,7,"bad partition length");Ne(Q=p.m,k,R,X.ub),R+=X.ub,$-=X.ub,X.Rb&&(Z.Ld=he(Q),Z.Kd=he(Q)),Z=p.Qa;var re,ae=p.Pa;if(e(Q!=null),e(Z!=null),Z.Cb=he(Q),Z.Cb){if(Z.Bb=he(Q),he(Q)){for(Z.Fb=he(Q),re=0;4>re;++re)Z.Zb[re]=he(Q)?oe(Q,7):0;for(re=0;4>re;++re)Z.Lb[re]=he(Q)?oe(Q,6):0}if(Z.Bb)for(re=0;3>re;++re)ae.jb[re]=he(Q)?be(Q,8):255}else Z.Bb=0;if(Q.Ka)return Nr(p,3,"cannot parse segment header");if((Z=p.ed).zd=he(Q),Z.Tb=be(Q,6),Z.wb=be(Q,3),Z.Pc=he(Q),Z.Pc&&he(Q)){for(ae=0;4>ae;++ae)he(Q)&&(Z.vd[ae]=oe(Q,6));for(ae=0;4>ae;++ae)he(Q)&&(Z.od[ae]=oe(Q,6))}if(p.L=Z.Tb==0?0:Z.zd?1:2,Q.Ka)return Nr(p,3,"cannot parse filter header");var ke=$;if($=re=R,R=re+ke,Z=ke,p.Xb=(1<<be(p.m,2))-1,ke<3*(ae=p.Xb))k=7;else{for(re+=3*ae,Z-=3*ae,ke=0;ke<ae;++ke){var Le=k[$+0]|k[$+1]<<8|k[$+2]<<16;Le>Z&&(Le=Z),Ne(p.Jc[+ke],k,re,Le),re+=Le,Z-=Le,$+=3}Ne(p.Jc[+ae],k,re,Z),k=re<R?0:5}if(k!=0)return Nr(p,k,"cannot parse partitions");for(k=be(re=p.m,7),$=he(re)?oe(re,4):0,R=he(re)?oe(re,4):0,Z=he(re)?oe(re,4):0,ae=he(re)?oe(re,4):0,re=he(re)?oe(re,4):0,ke=p.Qa,Le=0;4>Le;++Le){if(ke.Cb){var ce=ke.Zb[Le];ke.Fb||(ce+=k)}else{if(0<Le){p.pb[Le]=p.pb[0];continue}ce=k}var Ce=p.pb[Le];Ce.Sc[0]=Nc[Kn(ce+$,127)],Ce.Sc[1]=Su[Kn(ce+0,127)],Ce.Eb[0]=2*Nc[Kn(ce+R,127)],Ce.Eb[1]=101581*Su[Kn(ce+Z,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=Nc[Kn(ce+ae,117)],Ce.Qc[1]=Su[Kn(ce+re,127)],Ce.lc=ce+re}if(!X.Rb)return Nr(p,4,"Not a key frame.");for(he(Q),X=p.Pa,k=0;4>k;++k){for($=0;8>$;++$)for(R=0;3>R;++R)for(Z=0;11>Z;++Z)ae=Te(Q,K0[k][$][R][Z])?be(Q,8):cp[k][$][R][Z],X.Wc[k][$].Yb[R][Z]=ae;for($=0;17>$;++$)X.Xc[k][$]=X.Wc[k][qh[$]]}return p.kc=he(Q),p.kc&&(p.Bd=be(Q,8)),p.cb=1}function ys(p,x,k,R,$,Q,X){var Z=x[$].Yb[k];for(k=0;16>$;++$){if(!Te(p,Z[k+0]))return $;for(;!Te(p,Z[k+1]);)if(Z=x[++$].Yb[0],k=0,$==16)return 16;var re=x[$+1].Yb;if(Te(p,Z[k+2])){var ae=p,ke=0;if(Te(ae,(ce=Z)[(Le=k)+3]))if(Te(ae,ce[Le+6])){for(Z=0,Le=2*(ke=Te(ae,ce[Le+8]))+(ce=Te(ae,ce[Le+9+ke])),ke=0,ce=Vh[Le];ce[Z];++Z)ke+=ke+Te(ae,ce[Z]);ke+=3+(8<<Le)}else Te(ae,ce[Le+7])?(ke=7+2*Te(ae,165),ke+=Te(ae,145)):ke=5+Te(ae,159);else ke=Te(ae,ce[Le+4])?3+Te(ae,ce[Le+5]):2;Z=re[2]}else ke=1,Z=re[1];re=X+zh[$],0>(ae=p).b&&fe(ae);var Le,ce=ae.b,Ce=(Le=ae.Ca>>1)-(ae.I>>ce)>>31;--ae.b,ae.Ca+=Ce,ae.Ca|=1,ae.I-=(Le+1&Ce)<<ce,Q[re]=((ke^Ce)-Ce)*R[(0<$)+0]}return 16}function G(p){var x=p.rb[p.sb-1];x.la=0,x.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function we(p,x,k,R,$){$=p[x+k+32*R]+($>>3),p[x+k+32*R]=-256&$?0>$?0:255:$}function Be(p,x,k,R,$,Q){we(p,x,0,k,R+$),we(p,x,1,k,R+Q),we(p,x,2,k,R-Q),we(p,x,3,k,R-$)}function He(p){return(20091*p>>16)+p}function mt(p,x,k,R){var $,Q=0,X=s(16);for($=0;4>$;++$){var Z=p[x+0]+p[x+8],re=p[x+0]-p[x+8],ae=(35468*p[x+4]>>16)-He(p[x+12]),ke=He(p[x+4])+(35468*p[x+12]>>16);X[Q+0]=Z+ke,X[Q+1]=re+ae,X[Q+2]=re-ae,X[Q+3]=Z-ke,Q+=4,x++}for($=Q=0;4>$;++$)Z=(p=X[Q+0]+4)+X[Q+8],re=p-X[Q+8],ae=(35468*X[Q+4]>>16)-He(X[Q+12]),we(k,R,0,0,Z+(ke=He(X[Q+4])+(35468*X[Q+12]>>16))),we(k,R,1,0,re+ae),we(k,R,2,0,re-ae),we(k,R,3,0,Z-ke),Q++,R+=32}function Tt(p,x,k,R){var $=p[x+0]+4,Q=35468*p[x+4]>>16,X=He(p[x+4]),Z=35468*p[x+1]>>16;Be(k,R,0,$+X,p=He(p[x+1]),Z),Be(k,R,1,$+Q,p,Z),Be(k,R,2,$-Q,p,Z),Be(k,R,3,$-X,p,Z)}function vn(p,x,k,R,$){mt(p,x,k,R),$&&mt(p,x+16,k,R+4)}function gt(p,x,k,R){Fl(p,x+0,k,R,1),Fl(p,x+32,k,R+128,1)}function fn(p,x,k,R){var $;for(p=p[x+0]+4,$=0;4>$;++$)for(x=0;4>x;++x)we(k,R,x,$,p)}function yt(p,x,k,R){p[x+0]&&Xn(p,x+0,k,R),p[x+16]&&Xn(p,x+16,k,R+4),p[x+32]&&Xn(p,x+32,k,R+128),p[x+48]&&Xn(p,x+48,k,R+128+4)}function Pt(p,x,k,R){var $,Q=s(16);for($=0;4>$;++$){var X=p[x+0+$]+p[x+12+$],Z=p[x+4+$]+p[x+8+$],re=p[x+4+$]-p[x+8+$],ae=p[x+0+$]-p[x+12+$];Q[0+$]=X+Z,Q[8+$]=X-Z,Q[4+$]=ae+re,Q[12+$]=ae-re}for($=0;4>$;++$)X=(p=Q[0+4*$]+3)+Q[3+4*$],Z=Q[1+4*$]+Q[2+4*$],re=Q[1+4*$]-Q[2+4*$],ae=p-Q[3+4*$],k[R+0]=X+Z>>3,k[R+16]=ae+re>>3,k[R+32]=X-Z>>3,k[R+48]=ae-re>>3,R+=64}function st(p,x,k){var R,$=x-32,Q=bs,X=255-p[$-1];for(R=0;R<k;++R){var Z,re=Q,ae=X+p[x-1];for(Z=0;Z<k;++Z)p[x+Z]=re[ae+p[$+Z]];x+=32}}function Nn(p,x){st(p,x,4)}function On(p,x){st(p,x,8)}function Rr(p,x){st(p,x,16)}function en(p,x){var k;for(k=0;16>k;++k)n(p,x+32*k,p,x-32,16)}function Qt(p,x){var k;for(k=16;0<k;--k)i(p,x,p[x-1],16),x+=32}function qn(p,x,k){var R;for(R=0;16>R;++R)i(x,k+32*R,p,16)}function Pn(p,x){var k,R=16;for(k=0;16>k;++k)R+=p[x-1+32*k]+p[x+k-32];qn(R>>5,p,x)}function $n(p,x){var k,R=8;for(k=0;16>k;++k)R+=p[x-1+32*k];qn(R>>4,p,x)}function Dn(p,x){var k,R=8;for(k=0;16>k;++k)R+=p[x+k-32];qn(R>>4,p,x)}function ii(p,x){qn(128,p,x)}function Ut(p,x,k){return p+2*x+k+2>>2}function Ts(p,x){var k,R=x-32;for(R=new Uint8Array([Ut(p[R-1],p[R+0],p[R+1]),Ut(p[R+0],p[R+1],p[R+2]),Ut(p[R+1],p[R+2],p[R+3]),Ut(p[R+2],p[R+3],p[R+4])]),k=0;4>k;++k)n(p,x+32*k,R,0,R.length)}function ta(p,x){var k=p[x-1],R=p[x-1+32],$=p[x-1+64],Q=p[x-1+96];Fe(p,x+0,16843009*Ut(p[x-1-32],k,R)),Fe(p,x+32,16843009*Ut(k,R,$)),Fe(p,x+64,16843009*Ut(R,$,Q)),Fe(p,x+96,16843009*Ut($,Q,Q))}function Mo(p,x){var k,R=4;for(k=0;4>k;++k)R+=p[x+k-32]+p[x-1+32*k];for(R>>=3,k=0;4>k;++k)i(p,x+32*k,R,4)}function Ar(p,x){var k=p[x-1+0],R=p[x-1+32],$=p[x-1+64],Q=p[x-1-32],X=p[x+0-32],Z=p[x+1-32],re=p[x+2-32],ae=p[x+3-32];p[x+0+96]=Ut(R,$,p[x-1+96]),p[x+1+96]=p[x+0+64]=Ut(k,R,$),p[x+2+96]=p[x+1+64]=p[x+0+32]=Ut(Q,k,R),p[x+3+96]=p[x+2+64]=p[x+1+32]=p[x+0+0]=Ut(X,Q,k),p[x+3+64]=p[x+2+32]=p[x+1+0]=Ut(Z,X,Q),p[x+3+32]=p[x+2+0]=Ut(re,Z,X),p[x+3+0]=Ut(ae,re,Z)}function eo(p,x){var k=p[x+1-32],R=p[x+2-32],$=p[x+3-32],Q=p[x+4-32],X=p[x+5-32],Z=p[x+6-32],re=p[x+7-32];p[x+0+0]=Ut(p[x+0-32],k,R),p[x+1+0]=p[x+0+32]=Ut(k,R,$),p[x+2+0]=p[x+1+32]=p[x+0+64]=Ut(R,$,Q),p[x+3+0]=p[x+2+32]=p[x+1+64]=p[x+0+96]=Ut($,Q,X),p[x+3+32]=p[x+2+64]=p[x+1+96]=Ut(Q,X,Z),p[x+3+64]=p[x+2+96]=Ut(X,Z,re),p[x+3+96]=Ut(Z,re,re)}function Xa(p,x){var k=p[x-1+0],R=p[x-1+32],$=p[x-1+64],Q=p[x-1-32],X=p[x+0-32],Z=p[x+1-32],re=p[x+2-32],ae=p[x+3-32];p[x+0+0]=p[x+1+64]=Q+X+1>>1,p[x+1+0]=p[x+2+64]=X+Z+1>>1,p[x+2+0]=p[x+3+64]=Z+re+1>>1,p[x+3+0]=re+ae+1>>1,p[x+0+96]=Ut($,R,k),p[x+0+64]=Ut(R,k,Q),p[x+0+32]=p[x+1+96]=Ut(k,Q,X),p[x+1+32]=p[x+2+96]=Ut(Q,X,Z),p[x+2+32]=p[x+3+96]=Ut(X,Z,re),p[x+3+32]=Ut(Z,re,ae)}function fi(p,x){var k=p[x+0-32],R=p[x+1-32],$=p[x+2-32],Q=p[x+3-32],X=p[x+4-32],Z=p[x+5-32],re=p[x+6-32],ae=p[x+7-32];p[x+0+0]=k+R+1>>1,p[x+1+0]=p[x+0+64]=R+$+1>>1,p[x+2+0]=p[x+1+64]=$+Q+1>>1,p[x+3+0]=p[x+2+64]=Q+X+1>>1,p[x+0+32]=Ut(k,R,$),p[x+1+32]=p[x+0+96]=Ut(R,$,Q),p[x+2+32]=p[x+1+96]=Ut($,Q,X),p[x+3+32]=p[x+2+96]=Ut(Q,X,Z),p[x+3+64]=Ut(X,Z,re),p[x+3+96]=Ut(Z,re,ae)}function ws(p,x){var k=p[x-1+0],R=p[x-1+32],$=p[x-1+64],Q=p[x-1+96];p[x+0+0]=k+R+1>>1,p[x+2+0]=p[x+0+32]=R+$+1>>1,p[x+2+32]=p[x+0+64]=$+Q+1>>1,p[x+1+0]=Ut(k,R,$),p[x+3+0]=p[x+1+32]=Ut(R,$,Q),p[x+3+32]=p[x+1+64]=Ut($,Q,Q),p[x+3+64]=p[x+2+64]=p[x+0+96]=p[x+1+96]=p[x+2+96]=p[x+3+96]=Q}function _a(p,x){var k=p[x-1+0],R=p[x-1+32],$=p[x-1+64],Q=p[x-1+96],X=p[x-1-32],Z=p[x+0-32],re=p[x+1-32],ae=p[x+2-32];p[x+0+0]=p[x+2+32]=k+X+1>>1,p[x+0+32]=p[x+2+64]=R+k+1>>1,p[x+0+64]=p[x+2+96]=$+R+1>>1,p[x+0+96]=Q+$+1>>1,p[x+3+0]=Ut(Z,re,ae),p[x+2+0]=Ut(X,Z,re),p[x+1+0]=p[x+3+32]=Ut(k,X,Z),p[x+1+32]=p[x+3+64]=Ut(R,k,X),p[x+1+64]=p[x+3+96]=Ut($,R,k),p[x+1+96]=Ut(Q,$,R)}function $i(p,x){var k;for(k=0;8>k;++k)n(p,x+32*k,p,x-32,8)}function to(p,x){var k;for(k=0;8>k;++k)i(p,x,p[x-1],8),x+=32}function Yi(p,x,k){var R;for(R=0;8>R;++R)i(x,k+32*R,p,8)}function na(p,x){var k,R=8;for(k=0;8>k;++k)R+=p[x+k-32]+p[x-1+32*k];Yi(R>>4,p,x)}function ur(p,x){var k,R=4;for(k=0;8>k;++k)R+=p[x+k-32];Yi(R>>3,p,x)}function Ll(p,x){var k,R=4;for(k=0;8>k;++k)R+=p[x-1+32*k];Yi(R>>3,p,x)}function Ja(p,x){Yi(128,p,x)}function xs(p,x,k){var R=p[x-k],$=p[x+0],Q=3*($-R)+la[1020+p[x-2*k]-p[x+k]],X=kc[112+(Q+4>>3)];p[x-k]=bs[255+R+kc[112+(Q+3>>3)]],p[x+0]=bs[255+$-X]}function ra(p,x,k,R){var $=p[x+0],Q=p[x+k];return xo[255+p[x-2*k]-p[x-k]]>R||xo[255+Q-$]>R}function ia(p,x,k,R){return 4*xo[255+p[x-k]-p[x+0]]+xo[255+p[x-2*k]-p[x+k]]<=R}function Gi(p,x,k,R,$){var Q=p[x-3*k],X=p[x-2*k],Z=p[x-k],re=p[x+0],ae=p[x+k],ke=p[x+2*k],Le=p[x+3*k];return 4*xo[255+Z-re]+xo[255+X-ae]>R?0:xo[255+p[x-4*k]-Q]<=$&&xo[255+Q-X]<=$&&xo[255+X-Z]<=$&&xo[255+Le-ke]<=$&&xo[255+ke-ae]<=$&&xo[255+ae-re]<=$}function go(p,x,k,R){var $=2*R+1;for(R=0;16>R;++R)ia(p,x+R,k,$)&&xs(p,x+R,k)}function Oi(p,x,k,R){var $=2*R+1;for(R=0;16>R;++R)ia(p,x+R*k,1,$)&&xs(p,x+R*k,1)}function Za(p,x,k,R){var $;for($=3;0<$;--$)go(p,x+=4*k,k,R)}function Sa(p,x,k,R){var $;for($=3;0<$;--$)Oi(p,x+=4,k,R)}function ji(p,x,k,R,$,Q,X,Z){for(Q=2*Q+1;0<$--;){if(Gi(p,x,k,Q,X))if(ra(p,x,k,Z))xs(p,x,k);else{var re=p,ae=x,ke=k,Le=re[ae-2*ke],ce=re[ae-ke],Ce=re[ae+0],De=re[ae+ke],We=re[ae+2*ke],Me=27*(qe=la[1020+3*(Ce-ce)+la[1020+Le-De]])+63>>7,ze=18*qe+63>>7,qe=9*qe+63>>7;re[ae-3*ke]=bs[255+re[ae-3*ke]+qe],re[ae-2*ke]=bs[255+Le+ze],re[ae-ke]=bs[255+ce+Me],re[ae+0]=bs[255+Ce-Me],re[ae+ke]=bs[255+De-ze],re[ae+2*ke]=bs[255+We-qe]}x+=R}}function no(p,x,k,R,$,Q,X,Z){for(Q=2*Q+1;0<$--;){if(Gi(p,x,k,Q,X))if(ra(p,x,k,Z))xs(p,x,k);else{var re=p,ae=x,ke=k,Le=re[ae-ke],ce=re[ae+0],Ce=re[ae+ke],De=kc[112+(4+(We=3*(ce-Le))>>3)],We=kc[112+(We+3>>3)],Me=De+1>>1;re[ae-2*ke]=bs[255+re[ae-2*ke]+Me],re[ae-ke]=bs[255+Le+We],re[ae+0]=bs[255+ce-De],re[ae+ke]=bs[255+Ce-Me]}x+=R}}function pi(p,x,k,R,$,Q){ji(p,x,k,1,16,R,$,Q)}function Ki(p,x,k,R,$,Q){ji(p,x,1,k,16,R,$,Q)}function ka(p,x,k,R,$,Q){var X;for(X=3;0<X;--X)no(p,x+=4*k,k,1,16,R,$,Q)}function _(p,x,k,R,$,Q){var X;for(X=3;0<X;--X)no(p,x+=4,1,k,16,R,$,Q)}function W(p,x,k,R,$,Q,X,Z){ji(p,x,$,1,8,Q,X,Z),ji(k,R,$,1,8,Q,X,Z)}function ue(p,x,k,R,$,Q,X,Z){ji(p,x,1,$,8,Q,X,Z),ji(k,R,1,$,8,Q,X,Z)}function xe(p,x,k,R,$,Q,X,Z){no(p,x+4*$,$,1,8,Q,X,Z),no(k,R+4*$,$,1,8,Q,X,Z)}function Ae(p,x,k,R,$,Q,X,Z){no(p,x+4,1,$,8,Q,X,Z),no(k,R+4,1,$,8,Q,X,Z)}function Ke(){this.ba=new an,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new kn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Mt(){this.ua=0,this.Wa=new at,this.vb=new at,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ve,this.yc=new L}function tn(){this.xb=this.a=0,this.l=new Zs,this.ca=new an,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Mt,this.ab=0,this.gc=a(4,Nt),this.Oc=0}function un(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Zs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ln(p,x,k,R,$,Q,X){for(p=p==null?0:p[x+0],x=0;x<X;++x)$[Q+x]=p+k[R+x]&255,p=$[Q+x]}function Qn(p,x,k,R,$,Q,X){var Z;if(p==null)Ln(null,null,k,R,$,Q,X);else for(Z=0;Z<X;++Z)$[Q+Z]=p[x+Z]+k[R+Z]&255}function Ur(p,x,k,R,$,Q,X){if(p==null)Ln(null,null,k,R,$,Q,X);else{var Z,re=p[x+0],ae=re,ke=re;for(Z=0;Z<X;++Z)ae=ke+(re=p[x+Z])-ae,ke=k[R+Z]+(-256&ae?0>ae?0:255:ae)&255,ae=re,$[Q+Z]=ke}}function ar(p,x,k,R){var $=x.width,Q=x.o;if(e(p!=null&&x!=null),0>k||0>=R||k+R>Q)return null;if(!p.Cc){if(p.ga==null){var X;if(p.ga=new un,(X=p.ga==null)||(X=x.width*x.o,e(p.Gb.length==0),p.Gb=s(X),p.Uc=0,p.Gb==null?X=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,X=1),X=!X),!X){X=p.ga;var Z=p.Fa,re=p.P,ae=p.qc,ke=p.mb,Le=p.nb,ce=re+1,Ce=ae-1,De=X.l;if(e(Z!=null&&ke!=null&&x!=null),ls[0]=null,ls[1]=Ln,ls[2]=Qn,ls[3]=Ur,X.ca=ke,X.tb=Le,X.c=x.width,X.i=x.height,e(0<X.c&&0<X.i),1>=ae)x=0;else if(X.$a=3&Z[re+0],X.Z=Z[re+0]>>2&3,X.Lc=Z[re+0]>>4&3,re=Z[re+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||re)x=0;else if(De.put=Bt,De.ac=ti,De.bc=Kt,De.ma=X,De.width=x.width,De.height=x.height,De.Da=x.Da,De.v=x.v,De.va=x.va,De.j=x.j,De.o=x.o,X.$a)e:{e(X.$a==1),x=fo();t:for(;;){if(x==null){x=0;break e}if(e(X!=null),X.mc=x,x.c=X.c,x.i=X.i,x.l=X.l,x.l.ma=X,x.l.width=X.c,x.l.height=X.i,x.a=0,_e(x.m,Z,ce,Ce),!Hi(X.c,X.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Li(x.s)?(X.ic=1,Z=x.c*x.i,x.Ta=null,x.Ua=0,x.V=s(Z),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(X.ic=0,x=vs(x,X.c)),!x))break t;x=1;break e}X.mc=null,x=0}else x=Ce>=X.c*X.i;X=!x}if(X)return null;p.ga.Lc!=1?p.Ga=0:R=Q-k}e(p.ga!=null),e(k+R<=Q);e:{if(x=(Z=p.ga).c,Q=Z.l.o,Z.$a==0){if(ce=p.rc,Ce=p.Vc,De=p.Fa,re=p.P+1+k*x,ae=p.mb,ke=p.nb+k*x,e(re<=p.P+p.qc),Z.Z!=0)for(e(ls[Z.Z]!=null),X=0;X<R;++X)ls[Z.Z](ce,Ce,De,re,ae,ke,x),ce=ae,Ce=ke,ke+=x,re+=x;else for(X=0;X<R;++X)n(ae,ke,De,re,x),ce=ae,Ce=ke,ke+=x,re+=x;p.rc=ce,p.Vc=Ce}else{if(e(Z.mc!=null),x=k+R,e((X=Z.mc)!=null),e(x<=X.i),X.C>=x)x=1;else if(Z.ic||Ps(),Z.ic){Z=X.V,ce=X.Ba,Ce=X.c;var We=X.i,Me=(De=1,re=X.$/Ce,ae=X.$%Ce,ke=X.m,Le=X.s,X.$),ze=Ce*We,qe=Ce*x,Xe=Le.wc,Ze=Me<qe?or(Le,ae,re):null;e(Me<=ze),e(x<=We),e(Li(Le));t:for(;;){for(;!ke.h&&Me<qe;){if(ae&Xe||(Ze=or(Le,ae,re)),e(Ze!=null),ye(ke),256>(We=rr(Ze.G[0],Ze.H[0],ke)))Z[ce+Me]=We,++Me,++ae>=Ce&&(ae=0,++re<=x&&!(re%16)&&Dr(X,re));else{if(!(280>We)){De=0;break t}We=Er(We-256,ke);var qt,It=rr(Ze.G[4],Ze.H[4],ke);if(ye(ke),!(Me>=(It=ni(Ce,It=Er(It,ke)))&&ze-Me>=We)){De=0;break t}for(qt=0;qt<We;++qt)Z[ce+Me+qt]=Z[ce+Me+qt-It];for(Me+=We,ae+=We;ae>=Ce;)ae-=Ce,++re<=x&&!(re%16)&&Dr(X,re);Me<qe&&ae&Xe&&(Ze=or(Le,ae,re))}e(ke.h==se(ke))}Dr(X,re>x?x:re);break t}!De||ke.h&&Me<ze?(De=0,X.a=ke.h?5:3):X.$=Me,x=De}else x=Si(X,X.V,X.Ba,X.c,X.i,x,os);if(!x){R=0;break e}}k+R>=Q&&(p.Cc=1),R=1}if(!R)return null;if(p.Cc&&((R=p.ga)!=null&&(R.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+k*$}function $r(p,x,k,R,$,Q){for(;0<$--;){var X,Z=p,re=x+(k?1:0),ae=p,ke=x+(k?0:3);for(X=0;X<R;++X){var Le=ae[ke+4*X];Le!=255&&(Le*=32897,Z[re+4*X+0]=Z[re+4*X+0]*Le>>23,Z[re+4*X+1]=Z[re+4*X+1]*Le>>23,Z[re+4*X+2]=Z[re+4*X+2]*Le>>23)}x+=Q}}function Mr(p,x,k,R,$){for(;0<R--;){var Q;for(Q=0;Q<k;++Q){var X=p[x+2*Q+0],Z=15&(ae=p[x+2*Q+1]),re=4369*Z,ae=(240&ae|ae>>4)*re>>16;p[x+2*Q+0]=(240&X|X>>4)*re>>16&240|(15&X|X<<4)*re>>16>>4&15,p[x+2*Q+1]=240&ae|Z}x+=$}}function Yr(p,x,k,R,$,Q,X,Z){var re,ae,ke=255;for(ae=0;ae<$;++ae){for(re=0;re<R;++re){var Le=p[x+re];Q[X+4*re]=Le,ke&=Le}x+=k,X+=Z}return ke!=255}function Vr(p,x,k,R,$){var Q;for(Q=0;Q<$;++Q)k[R+Q]=p[x+Q]>>8}function Ps(){Ul=$r,Rh=Mr,vu=Yr,Mh=Vr}function vo(p,x,k){M[p]=function(R,$,Q,X,Z,re,ae,ke,Le,ce,Ce,De,We,Me,ze,qe,Xe){var Ze,qt=Xe-1>>1,It=Z[re+0]|ae[ke+0]<<16,wn=Le[ce+0]|Ce[De+0]<<16;e(R!=null);var Lt=3*It+wn+131074>>2;for(x(R[$+0],255&Lt,Lt>>16,We,Me),Q!=null&&(Lt=3*wn+It+131074>>2,x(Q[X+0],255&Lt,Lt>>16,ze,qe)),Ze=1;Ze<=qt;++Ze){var Rn=Z[re+Ze]|ae[ke+Ze]<<16,Qr=Le[ce+Ze]|Ce[De+Ze]<<16,xn=It+Rn+wn+Qr+524296,At=xn+2*(Rn+wn)>>3;Lt=At+It>>1,It=(xn=xn+2*(It+Qr)>>3)+Rn>>1,x(R[$+2*Ze-1],255&Lt,Lt>>16,We,Me+(2*Ze-1)*k),x(R[$+2*Ze-0],255&It,It>>16,We,Me+(2*Ze-0)*k),Q!=null&&(Lt=xn+wn>>1,It=At+Qr>>1,x(Q[X+2*Ze-1],255&Lt,Lt>>16,ze,qe+(2*Ze-1)*k),x(Q[X+2*Ze+0],255&It,It>>16,ze,qe+(2*Ze+0)*k)),It=Rn,wn=Qr}1&Xe||(Lt=3*It+wn+131074>>2,x(R[$+Xe-1],255&Lt,Lt>>16,We,Me+(Xe-1)*k),Q!=null&&(Lt=3*wn+It+131074>>2,x(Q[X+Xe-1],255&Lt,Lt>>16,ze,qe+(Xe-1)*k)))}}function Ds(){Ms[fd]=Q0,Ms[il]=sl,Ms[sp]=X0,Ms[yu]=Ic,Ms[wu]=Hl,Ms[vr]=ku,Ms[pd]=Hh,Ms[Ec]=sl,Ms[Vl]=Ic,Ms[xu]=Hl,Ms[bu]=ku}function m(p){return p&-16384?0>p?0:255:p>>ol}function C(p,x){return m((19077*p>>8)+(26149*x>>8)-14234)}function B(p,x,k){return m((19077*p>>8)-(6419*x>>8)-(13320*k>>8)+8708)}function ne(p,x){return m((19077*p>>8)+(33050*x>>8)-17685)}function Pe(p,x,k,R,$){R[$+0]=C(p,k),R[$+1]=B(p,x,k),R[$+2]=ne(p,x)}function je(p,x,k,R,$){R[$+0]=ne(p,x),R[$+1]=B(p,x,k),R[$+2]=C(p,k)}function ct(p,x,k,R,$){var Q=B(p,x,k);x=Q<<3&224|ne(p,x)>>3,R[$+0]=248&C(p,k)|Q>>5,R[$+1]=x}function jn(p,x,k,R,$){var Q=240&ne(p,x)|15;R[$+0]=240&C(p,k)|B(p,x,k)>>4,R[$+1]=Q}function zr(p,x,k,R,$){R[$+0]=255,Pe(p,x,k,R,$+1)}function Cn(p,x,k,R,$){je(p,x,k,R,$),R[$+3]=255}function Yn(p,x,k,R,$){Pe(p,x,k,R,$),R[$+3]=255}function dr(p,x,k){M[p]=function(R,$,Q,X,Z,re,ae,ke,Le){for(var ce=ke+(-2&Le)*k;ke!=ce;)x(R[$+0],Q[X+0],Z[re+0],ae,ke),x(R[$+1],Q[X+0],Z[re+0],ae,ke+k),$+=2,++X,++re,ke+=2*k;1&Le&&x(R[$+0],Q[X+0],Z[re+0],ae,ke)}}function Qi(p,x,k){return k==0?p==0?x==0?6:5:x==0?4:0:k}function as(p,x,k,R,$){switch(p>>>30){case 3:Fl(x,k,R,$,0);break;case 2:Gr(x,k,R,$);break;case 1:Xn(x,k,R,$)}}function Fi(p,x){var k,R,$=x.M,Q=x.Nb,X=p.oc,Z=p.pc+40,re=p.oc,ae=p.pc+584,ke=p.oc,Le=p.pc+600;for(k=0;16>k;++k)X[Z+32*k-1]=129;for(k=0;8>k;++k)re[ae+32*k-1]=129,ke[Le+32*k-1]=129;for(0<$?X[Z-1-32]=re[ae-1-32]=ke[Le-1-32]=129:(i(X,Z-32-1,127,21),i(re,ae-32-1,127,9),i(ke,Le-32-1,127,9)),R=0;R<p.za;++R){var ce=x.ya[x.aa+R];if(0<R){for(k=-1;16>k;++k)n(X,Z+32*k-4,X,Z+32*k+12,4);for(k=-1;8>k;++k)n(re,ae+32*k-4,re,ae+32*k+4,4),n(ke,Le+32*k-4,ke,Le+32*k+4,4)}var Ce=p.Gd,De=p.Hd+R,We=ce.ad,Me=ce.Hc;if(0<$&&(n(X,Z-32,Ce[De].y,0,16),n(re,ae-32,Ce[De].f,0,8),n(ke,Le-32,Ce[De].ea,0,8)),ce.Za){var ze=X,qe=Z-32+16;for(0<$&&(R>=p.za-1?i(ze,qe,Ce[De].y[15],4):n(ze,qe,Ce[De+1].y,0,4)),k=0;4>k;k++)ze[qe+128+k]=ze[qe+256+k]=ze[qe+384+k]=ze[qe+0+k];for(k=0;16>k;++k,Me<<=2)ze=X,qe=Z+Wh[k],bo[ce.Ob[k]](ze,qe),as(Me,We,16*+k,ze,qe)}else if(ze=Qi(R,$,ce.Ob[0]),_s[ze](X,Z),Me!=0)for(k=0;16>k;++k,Me<<=2)as(Me,We,16*+k,X,Z+Wh[k]);for(k=ce.Gc,ze=Qi(R,$,ce.Dd),Rs[ze](re,ae),Rs[ze](ke,Le),Me=We,ze=re,qe=ae,255&(ce=0|k)&&(170&ce?Ls(Me,256,ze,qe):hr(Me,256,ze,qe)),ce=ke,Me=Le,255&(k>>=8)&&(170&k?Ls(We,320,ce,Me):hr(We,320,ce,Me)),$<p.Ub-1&&(n(Ce[De].y,0,X,Z+480,16),n(Ce[De].f,0,re,ae+224,8),n(Ce[De].ea,0,ke,Le+224,8)),k=8*Q*p.B,Ce=p.sa,De=p.ta+16*R+16*Q*p.R,We=p.qa,ce=p.ra+8*R+k,Me=p.Ha,ze=p.Ia+8*R+k,k=0;16>k;++k)n(Ce,De+k*p.R,X,Z+32*k,16);for(k=0;8>k;++k)n(We,ce+k*p.B,re,ae+32*k,8),n(Me,ze+k*p.B,ke,Le+32*k,8)}}function yo(p,x,k,R,$,Q,X,Z,re){var ae=[0],ke=[0],Le=0,ce=re!=null?re.kd:0,Ce=re??new et;if(p==null||12>k)return 7;Ce.data=p,Ce.w=x,Ce.ha=k,x=[x],k=[k],Ce.gb=[Ce.gb];e:{var De=x,We=k,Me=Ce.gb;if(e(p!=null),e(We!=null),e(Me!=null),Me[0]=0,12<=We[0]&&!t(p,De[0],"RIFF")){if(t(p,De[0]+8,"WEBP")){Me=3;break e}var ze=ht(p,De[0]+4);if(12>ze||4294967286<ze){Me=3;break e}if(ce&&ze>We[0]-8){Me=7;break e}Me[0]=ze,De[0]+=12,We[0]-=12}Me=0}if(Me!=0)return Me;for(ze=0<Ce.gb[0],k=k[0];;){e:{var qe=p;We=x,Me=k;var Xe=ae,Ze=ke,qt=De=[0];if((Lt=Le=[Le])[0]=0,8>Me[0])Me=7;else{if(!t(qe,We[0],"VP8X")){if(ht(qe,We[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var It=ht(qe,We[0]+8),wn=1+Ye(qe,We[0]+12);if(2147483648<=wn*(qe=1+Ye(qe,We[0]+15))){Me=3;break e}qt!=null&&(qt[0]=It),Xe!=null&&(Xe[0]=wn),Ze!=null&&(Ze[0]=qe),We[0]+=18,Me[0]-=18,Lt[0]=1}Me=0}}if(Le=Le[0],De=De[0],Me!=0)return Me;if(We=!!(2&De),!ze&&Le)return 3;if(Q!=null&&(Q[0]=!!(16&De)),X!=null&&(X[0]=We),Z!=null&&(Z[0]=0),X=ae[0],De=ke[0],Le&&We&&re==null){Me=0;break}if(4>k){Me=7;break}if(ze&&Le||!ze&&!Le&&!t(p,x[0],"ALPH")){k=[k],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{It=p,Me=x,ze=k;var Lt=Ce.gb;Xe=Ce.na,Ze=Ce.P,qt=Ce.Sa,wn=22,e(It!=null),e(ze!=null),qe=Me[0];var Rn=ze[0];for(e(Xe!=null),e(qt!=null),Xe[0]=null,Ze[0]=null,qt[0]=0;;){if(Me[0]=qe,ze[0]=Rn,8>Rn){Me=7;break e}var Qr=ht(It,qe+4);if(4294967286<Qr){Me=3;break e}var xn=8+Qr+1&-2;if(wn+=xn,0<Lt&&wn>Lt){Me=3;break e}if(!t(It,qe,"VP8 ")||!t(It,qe,"VP8L")){Me=0;break e}if(Rn[0]<xn){Me=7;break e}t(It,qe,"ALPH")||(Xe[0]=It,Ze[0]=qe+8,qt[0]=Qr),qe+=xn,Rn-=xn}}if(k=k[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],Me!=0)break}k=[k],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(Lt=p,Me=x,ze=k,Xe=Ce.gb[0],Ze=Ce.Ja,qt=Ce.xa,It=Me[0],qe=!t(Lt,It,"VP8 "),wn=!t(Lt,It,"VP8L"),e(Lt!=null),e(ze!=null),e(Ze!=null),e(qt!=null),8>ze[0])Me=7;else{if(qe||wn){if(Lt=ht(Lt,It+4),12<=Xe&&Lt>Xe-12){Me=3;break e}if(ce&&Lt>ze[0]-8){Me=7;break e}Ze[0]=Lt,Me[0]+=8,ze[0]-=8,qt[0]=wn}else qt[0]=5<=ze[0]&&Lt[It+0]==47&&!(Lt[It+4]>>5),Ze[0]=ze[0];Me=0}if(k=k[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],x=x[0],Me!=0)break;if(4294967286<Ce.Ja)return 3;if(Z==null||We||(Z[0]=Ce.xa?2:1),X=[X],De=[De],Ce.xa){if(5>k){Me=7;break}Z=X,ce=De,We=Q,p==null||5>k?p=0:5<=k&&p[x+0]==47&&!(p[x+4]>>5)?(ze=[0],Lt=[0],Xe=[0],_e(Ze=new F,p,x,k),gr(Ze,ze,Lt,Xe)?(Z!=null&&(Z[0]=ze[0]),ce!=null&&(ce[0]=Lt[0]),We!=null&&(We[0]=Xe[0]),p=1):p=0):p=0}else{if(10>k){Me=7;break}Z=De,p==null||10>k||!Ro(p,x+3,k-3)?p=0:(ce=p[x+0]|p[x+1]<<8|p[x+2]<<16,We=16383&(p[x+7]<<8|p[x+6]),p=16383&(p[x+9]<<8|p[x+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=Ce.Ja||!We||!p?p=0:(X&&(X[0]=We),Z&&(Z[0]=p),p=1))}if(!p||(X=X[0],De=De[0],Le&&(ae[0]!=X||ke[0]!=De)))return 3;re!=null&&(re[0]=Ce,re.offset=x-re.w,e(4294967286>x-re.w),e(re.offset==re.ha-k));break}return Me==0||Me==7&&Le&&re==null?(Q!=null&&(Q[0]|=Ce.na!=null&&0<Ce.na.length),R!=null&&(R[0]=X),$!=null&&($[0]=De),0):Me}function yc(p,x,k){var R=x.width,$=x.height,Q=0,X=0,Z=R,re=$;if(x.Da=p!=null&&0<p.Da,x.Da&&(Z=p.cd,re=p.bd,Q=p.v,X=p.j,11>k||(Q&=-2,X&=-2),0>Q||0>X||0>=Z||0>=re||Q+Z>R||X+re>$))return 0;if(x.v=Q,x.j=X,x.va=Q+Z,x.o=X+re,x.U=Z,x.T=re,x.da=p!=null&&0<p.da,x.da){if(!lt(Z,re,k=[p.ib],Q=[p.hb]))return 0;x.ib=k[0],x.hb=Q[0]}return x.ob=p!=null&&p.ob,x.Kb=p==null||!p.Sd,x.da&&(x.ob=x.ib<3*R/4&&x.hb<3*$/4,x.Kb=0),1}function wc(p){if(p==null)return 2;if(11>p.S){var x=p.f.RGBA;x.fb+=(p.height-1)*x.A,x.A=-x.A}else x=p.f.kb,p=p.height,x.O+=(p-1)*x.fa,x.fa=-x.fa,x.N+=(p-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(p-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(p-1)*x.lb,x.lb=-x.lb);return 0}function Ea(p,x,k,R){if(R==null||0>=p||0>=x)return 2;if(k!=null){if(k.Da){var $=k.cd,Q=k.bd,X=-2&k.v,Z=-2&k.j;if(0>X||0>Z||0>=$||0>=Q||X+$>p||Z+Q>x)return 2;p=$,x=Q}if(k.da){if(!lt(p,x,$=[k.ib],Q=[k.hb]))return 2;p=$[0],x=Q[0]}}R.width=p,R.height=x;e:{var re=R.width,ae=R.height;if(p=R.S,0>=re||0>=ae||!(p>=fd&&13>p))p=2;else{if(0>=R.Rd&&R.sd==null){X=Q=$=x=0;var ke=(Z=re*Eu[p])*ae;if(11>p||(Q=(ae+1)/2*(x=(re+1)/2),p==12&&(X=($=re)*ae)),(ae=s(ke+2*Q+X))==null){p=1;break e}R.sd=ae,11>p?((re=R.f.RGBA).eb=ae,re.fb=0,re.A=Z,re.size=ke):((re=R.f.kb).y=ae,re.O=0,re.fa=Z,re.Fd=ke,re.f=ae,re.N=0+ke,re.Ab=x,re.Cd=Q,re.ea=ae,re.W=0+ke+Q,re.Db=x,re.Ed=Q,p==12&&(re.F=ae,re.J=0+ke+2*Q),re.Tc=X,re.lb=$)}if(x=1,$=R.S,Q=R.width,X=R.height,$>=fd&&13>$)if(11>$)p=R.f.RGBA,x&=(Z=Math.abs(p.A))*(X-1)+Q<=p.size,x&=Z>=Q*Eu[$],x&=p.eb!=null;else{p=R.f.kb,Z=(Q+1)/2,ke=(X+1)/2,re=Math.abs(p.fa),ae=Math.abs(p.Ab);var Le=Math.abs(p.Db),ce=Math.abs(p.lb),Ce=ce*(X-1)+Q;x&=re*(X-1)+Q<=p.Fd,x&=ae*(ke-1)+Z<=p.Cd,x=(x&=Le*(ke-1)+Z<=p.Ed)&re>=Q&ae>=Z&Le>=Z,x&=p.y!=null,x&=p.f!=null,x&=p.ea!=null,$==12&&(x&=ce>=Q,x&=Ce<=p.Tc,x&=p.F!=null)}else x=0;p=x?0:2}}return p!=0||k!=null&&k.fd&&(p=wc(R)),p}var wo=64,ro=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],io=24,el=32,sa=8,Na=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pt("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(p){return p},M.Predictor2=function(p,x,k){return x[k+0]},M.Predictor3=function(p,x,k){return x[k+1]},M.Predictor4=function(p,x,k){return x[k-1]},M.Predictor5=function(p,x,k){return vt(vt(p,x[k+1]),x[k+0])},M.Predictor6=function(p,x,k){return vt(p,x[k-1])},M.Predictor7=function(p,x,k){return vt(p,x[k+0])},M.Predictor8=function(p,x,k){return vt(x[k-1],x[k+0])},M.Predictor9=function(p,x,k){return vt(x[k+0],x[k+1])},M.Predictor10=function(p,x,k){return vt(vt(p,x[k-1]),vt(x[k+0],x[k+1]))},M.Predictor11=function(p,x,k){var R=x[k+0];return 0>=Et(R>>24&255,p>>24&255,(x=x[k-1])>>24&255)+Et(R>>16&255,p>>16&255,x>>16&255)+Et(R>>8&255,p>>8&255,x>>8&255)+Et(255&R,255&p,255&x)?R:p},M.Predictor12=function(p,x,k){var R=x[k+0];return(hn((p>>24&255)+(R>>24&255)-((x=x[k-1])>>24&255))<<24|hn((p>>16&255)+(R>>16&255)-(x>>16&255))<<16|hn((p>>8&255)+(R>>8&255)-(x>>8&255))<<8|hn((255&p)+(255&R)-(255&x)))>>>0},M.Predictor13=function(p,x,k){var R=x[k-1];return(xt((p=vt(p,x[k+0]))>>24&255,R>>24&255)<<24|xt(p>>16&255,R>>16&255)<<16|xt(p>>8&255,R>>8&255)<<8|xt(255&p,255&R))>>>0};var Ca=M.PredictorAdd0;M.PredictorAdd1=Ft,pt("Predictor2","PredictorAdd2"),pt("Predictor3","PredictorAdd3"),pt("Predictor4","PredictorAdd4"),pt("Predictor5","PredictorAdd5"),pt("Predictor6","PredictorAdd6"),pt("Predictor7","PredictorAdd7"),pt("Predictor8","PredictorAdd8"),pt("Predictor9","PredictorAdd9"),pt("Predictor10","PredictorAdd10"),pt("Predictor11","PredictorAdd11"),pt("Predictor12","PredictorAdd12"),pt("Predictor13","PredictorAdd13");var oa=M.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var si,Rl=M.ColorIndexInverseTransform,aa=M.MapARGB,Oo=M.VP8LColorIndexInverseTransformAlpha,Ml=M.MapAlpha,Ol=M.VP8LPredictorsAdd=[];Ol.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var xc,bc,Ia,tl,nl,jl,rl,Fl,Gr,Ls,Xn,hr,Kr,mi,jo,mu,_c,Aa,dd,Sc,hd,Lh,gu,Bl,Ul,Rh,vu,Mh,Oh=s(511),jh=s(2041),Fh=s(225),Bh=s(767),Uh=0,la=jh,kc=Fh,bs=Bh,xo=Oh,fd=0,il=1,sp=2,yu=3,wu=4,vr=5,pd=6,Ec=7,Vl=8,xu=9,bu=10,_u=[2,3,7],md=[3,3,11],zl=[280,256,256,256,40],op=[0,1,1,1,0],$0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Y0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ap=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gd=8,Nc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Su=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ql=null,Vh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],lp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],G0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],K0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_s=[],bo=[],Rs=[],ca=1,Cc=2,ls=[],Ms=[];vo("UpsampleRgbLinePair",Pe,3),vo("UpsampleBgrLinePair",je,3),vo("UpsampleRgbaLinePair",Yn,4),vo("UpsampleBgraLinePair",Cn,4),vo("UpsampleArgbLinePair",zr,4),vo("UpsampleRgba4444LinePair",jn,2),vo("UpsampleRgb565LinePair",ct,2);var Q0=M.UpsampleRgbLinePair,X0=M.UpsampleBgrLinePair,sl=M.UpsampleRgbaLinePair,Ic=M.UpsampleBgraLinePair,Hl=M.UpsampleArgbLinePair,ku=M.UpsampleRgba4444LinePair,Hh=M.UpsampleRgb565LinePair,Ta=16,Fo=1<<Ta-1,lr=-227,fr=482,ol=6,Xi=0,Os=s(256),Wl=s(256),Ac=s(256),js=s(256),vd=s(fr-lr),up=s(fr-lr);dr("YuvToRgbRow",Pe,3),dr("YuvToBgrRow",je,3),dr("YuvToRgbaRow",Yn,4),dr("YuvToBgraRow",Cn,4),dr("YuvToArgbRow",zr,4),dr("YuvToRgba4444Row",jn,2),dr("YuvToRgb565Row",ct,2);var Wh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$l=[0,2,8],dp=[8,7,6,4,4,2,2,2,1,1,1,1],Pa=1;this.WebPDecodeRGBA=function(p,x,k,R,$){var Q=il,X=new Ke,Z=new an;X.ba=Z,Z.S=Q,Z.width=[Z.width],Z.height=[Z.height];var re=Z.width,ae=Z.height,ke=new $t;if(ke==null||p==null)var Le=2;else e(ke!=null),Le=yo(p,x,k,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Le!=0?re=0:(re!=null&&(re[0]=ke.width[0]),ae!=null&&(ae[0]=ke.height[0]),re=1),re){Z.width=Z.width[0],Z.height=Z.height[0],R!=null&&(R[0]=Z.width),$!=null&&($[0]=Z.height);e:{if(R=new Zs,($=new et).data=p,$.w=x,$.ha=k,$.kd=1,x=[0],e($!=null),((p=yo($.data,$.w,$.ha,null,null,null,x,null,$))==0||p==7)&&x[0]&&(p=4),(x=p)==0){if(e(X!=null),R.data=$.data,R.w=$.w+$.offset,R.ha=$.ha-$.offset,R.put=Bt,R.ac=ti,R.bc=Kt,R.ma=X,$.xa){if((p=fo())==null){X=1;break e}if((function(ce,Ce){var De=[0],We=[0],Me=[0];t:for(;;){if(ce==null)return 0;if(Ce==null)return ce.a=2,0;if(ce.l=Ce,ce.a=0,_e(ce.m,Ce.data,Ce.w,Ce.ha),!gr(ce.m,De,We,Me)){ce.a=3;break t}if(ce.xb=Cc,Ce.width=De[0],Ce.height=We[0],!Hi(De[0],We[0],1,ce,null))break t;return 1}return e(ce.a!=0),0})(p,R)){if(R=(x=Ea(R.width,R.height,X.Oa,X.ba))==0){t:{R=p;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((k=R.l)!=null),e(($=k.ma)!=null),R.xb!=0){if(R.ca=$.ba,R.tb=$.tb,e(R.ca!=null),!yc($.Oa,k,yu)){R.a=2;break n}if(!vs(R,k.width)||k.da)break n;if((k.da||Gt(R.ca.S))&&Ps(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&Ps()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!J(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!Si(R,R.V,R.Ba,R.c,R.i,k.o,ho))break n;$.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(x=p.a)}else x=p.a}else{if((p=new Qa)==null){X=1;break e}if(p.Fa=$.na,p.P=$.P,p.qc=$.Sa,Wi(p,R)){if((x=Ea(R.width,R.height,X.Oa,X.ba))==0){if(p.Aa=0,k=X.Oa,e(($=p)!=null),k!=null){if(0<(re=0>(re=k.Md)?0:100<re?255:255*re/100)){for(ae=ke=0;4>ae;++ae)12>(Le=$.pb[ae]).lc&&(Le.ia=re*dp[0>Le.lc?0:Le.lc]>>3),ke|=Le.ia;ke&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=k.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function(ce,Ce){if(ce==null)return 0;if(Ce==null)return Nr(ce,2,"NULL VP8Io parameter in VP8Decode().");if(!ce.cb&&!Wi(ce,Ce))return 0;if(e(ce.cb),Ce.ac==null||Ce.ac(Ce)){Ce.ob&&(ce.L=0);var De=$l[ce.L];if(ce.L==2?(ce.yb=0,ce.zb=0):(ce.yb=Ce.v-De>>4,ce.zb=Ce.j-De>>4,0>ce.yb&&(ce.yb=0),0>ce.zb&&(ce.zb=0)),ce.Va=Ce.o+15+De>>4,ce.Hb=Ce.va+15+De>>4,ce.Hb>ce.za&&(ce.Hb=ce.za),ce.Va>ce.Ub&&(ce.Va=ce.Ub),0<ce.L){var We=ce.ed;for(De=0;4>De;++De){var Me;if(ce.Qa.Cb){var ze=ce.Qa.Lb[De];ce.Qa.Fb||(ze+=We.Tb)}else ze=We.Tb;for(Me=0;1>=Me;++Me){var qe=ce.gd[De][Me],Xe=ze;if(We.Pc&&(Xe+=We.vd[0],Me&&(Xe+=We.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var Ze=Xe;0<We.wb&&(Ze=4<We.wb?Ze>>2:Ze>>1)>9-We.wb&&(Ze=9-We.wb),1>Ze&&(Ze=1),qe.dd=Ze,qe.tc=2*Xe+Ze,qe.ld=40<=Xe?2:15<=Xe?1:0}else qe.tc=0;qe.La=Me}}}De=0}else Nr(ce,6,"Frame setup failed"),De=ce.a;if(De=De==0){if(De){ce.$c=0,0<ce.Aa||(ce.Ic=Pa);t:{De=ce.Ic,We=4*(Ze=ce.za);var qt=32*Ze,It=Ze+1,wn=0<ce.L?Ze*(0<ce.Aa?2:1):0,Lt=(ce.Aa==2?2:1)*Ze;if((qe=We+832+(Me=3*(16*De+$l[ce.L])/2*qt)+(ze=ce.Fa!=null&&0<ce.Fa.length?ce.Kc.c*ce.Kc.i:0))!=qe)De=0;else{if(qe>ce.Vb){if(ce.Vb=0,ce.Ec=s(qe),ce.Fc=0,ce.Ec==null){De=Nr(ce,1,"no memory during frame initialization.");break t}ce.Vb=qe}qe=ce.Ec,Xe=ce.Fc,ce.Ac=qe,ce.Bc=Xe,Xe+=We,ce.Gd=a(qt,Mi),ce.Hd=0,ce.rb=a(It+1,Ri),ce.sb=1,ce.wa=wn?a(wn,ri):null,ce.Y=0,ce.D.Nb=0,ce.D.wa=ce.wa,ce.D.Y=ce.Y,0<ce.Aa&&(ce.D.Y+=Ze),e(!0),ce.oc=qe,ce.pc=Xe,Xe+=832,ce.ya=a(Lt,ea),ce.aa=0,ce.D.ya=ce.ya,ce.D.aa=ce.aa,ce.Aa==2&&(ce.D.aa+=Ze),ce.R=16*Ze,ce.B=8*Ze,Ze=(qt=$l[ce.L])*ce.R,qt=qt/2*ce.B,ce.sa=qe,ce.ta=Xe+Ze,ce.qa=ce.sa,ce.ra=ce.ta+16*De*ce.R+qt,ce.Ha=ce.qa,ce.Ia=ce.ra+8*De*ce.B+qt,ce.$c=0,Xe+=Me,ce.mb=ze?qe:null,ce.nb=ze?Xe:null,e(Xe+ze<=ce.Fc+ce.Vb),G(ce),i(ce.Ac,ce.Bc,0,We),De=1}}if(De){if(Ce.ka=0,Ce.y=ce.sa,Ce.O=ce.ta,Ce.f=ce.qa,Ce.N=ce.ra,Ce.ea=ce.Ha,Ce.Vd=ce.Ia,Ce.fa=ce.R,Ce.Rc=ce.B,Ce.F=null,Ce.J=0,!Uh){for(De=-255;255>=De;++De)Oh[255+De]=0>De?-De:De;for(De=-1020;1020>=De;++De)jh[1020+De]=-128>De?-128:127<De?127:De;for(De=-112;112>=De;++De)Fh[112+De]=-16>De?-16:15<De?15:De;for(De=-255;510>=De;++De)Bh[255+De]=0>De?0:255<De?255:De;Uh=1}rl=Pt,Fl=vn,Ls=gt,Xn=fn,hr=yt,Gr=Tt,Kr=pi,mi=Ki,jo=W,mu=ue,_c=ka,Aa=_,dd=xe,Sc=Ae,hd=go,Lh=Oi,gu=Za,Bl=Sa,bo[0]=Mo,bo[1]=Nn,bo[2]=Ts,bo[3]=ta,bo[4]=Ar,bo[5]=Xa,bo[6]=eo,bo[7]=fi,bo[8]=_a,bo[9]=ws,_s[0]=Pn,_s[1]=Rr,_s[2]=en,_s[3]=Qt,_s[4]=$n,_s[5]=Dn,_s[6]=ii,Rs[0]=na,Rs[1]=On,Rs[2]=$i,Rs[3]=to,Rs[4]=Ll,Rs[5]=ur,Rs[6]=Ja,De=1}else De=0}De&&(De=(function(Rn,Qr){for(Rn.M=0;Rn.M<Rn.Va;++Rn.M){var xn,At=Rn.Jc[Rn.M&Rn.Xb],ft=Rn.m,oi=Rn;for(xn=0;xn<oi.za;++xn){var dn=ft,In=oi,Cr=In.Ac,Bi=In.Bc+4*xn,gi=In.zc,qr=In.ya[In.aa+xn];if(In.Qa.Bb?qr.$b=Te(dn,In.Pa.jb[0])?2+Te(dn,In.Pa.jb[2]):Te(dn,In.Pa.jb[1]):qr.$b=0,In.kc&&(qr.Ad=Te(dn,In.Bd)),qr.Za=!Te(dn,145)+0,qr.Za){var ki=qr.Ob,Ui=0;for(In=0;4>In;++In){var Or,Fn=gi[0+In];for(Or=0;4>Or;++Or){Fn=G0[Cr[Bi+Or]][Fn];for(var Jn=lp[Te(dn,Fn[0])];0<Jn;)Jn=lp[2*Jn+Te(dn,Fn[Jn])];Fn=-Jn,Cr[Bi+Or]=Fn}n(ki,Ui,Cr,Bi,4),Ui+=4,gi[0+In]=Fn}}else Fn=Te(dn,156)?Te(dn,128)?1:3:Te(dn,163)?2:0,qr.Ob[0]=Fn,i(Cr,Bi,Fn,4),i(gi,0,Fn,4);qr.Dd=Te(dn,142)?Te(dn,114)?Te(dn,183)?1:3:2:0}if(oi.m.Ka)return Nr(Rn,7,"Premature end-of-partition0 encountered.");for(;Rn.ja<Rn.za;++Rn.ja){if(oi=At,dn=(ft=Rn).rb[ft.sb-1],Cr=ft.rb[ft.sb+ft.ja],xn=ft.ya[ft.aa+ft.ja],Bi=ft.kc?xn.Ad:0)dn.la=Cr.la=0,xn.Za||(dn.Na=Cr.Na=0),xn.Hc=0,xn.Gc=0,xn.ia=0;else{var jr,Zn;if(dn=Cr,Cr=oi,Bi=ft.Pa.Xc,gi=ft.ya[ft.aa+ft.ja],qr=ft.pb[gi.$b],In=gi.ad,ki=0,Ui=ft.rb[ft.sb-1],Fn=Or=0,i(In,ki,0,384),gi.Za)var Xr=0,Jr=Bi[3];else{Jn=s(16);var yr=dn.Na+Ui.Na;if(yr=ql(Cr,Bi[1],yr,qr.Eb,0,Jn,0),dn.Na=Ui.Na=(0<yr)+0,1<yr)rl(Jn,0,In,ki);else{var cs=Jn[0]+3>>3;for(Jn=0;256>Jn;Jn+=16)In[ki+Jn]=cs}Xr=1,Jr=Bi[0]}var pr=15&dn.la,wr=15&Ui.la;for(Jn=0;4>Jn;++Jn){var vi=1&wr;for(cs=Zn=0;4>cs;++cs)pr=pr>>1|(vi=(yr=ql(Cr,Jr,yr=vi+(1&pr),qr.Sc,Xr,In,ki))>Xr)<<7,Zn=Zn<<2|(3<yr?3:1<yr?2:In[ki+0]!=0),ki+=16;pr>>=4,wr=wr>>1|vi<<7,Or=(Or<<8|Zn)>>>0}for(Jr=pr,Xr=wr>>4,jr=0;4>jr;jr+=2){for(Zn=0,pr=dn.la>>4+jr,wr=Ui.la>>4+jr,Jn=0;2>Jn;++Jn){for(vi=1&wr,cs=0;2>cs;++cs)yr=vi+(1&pr),pr=pr>>1|(vi=0<(yr=ql(Cr,Bi[2],yr,qr.Qc,0,In,ki)))<<3,Zn=Zn<<2|(3<yr?3:1<yr?2:In[ki+0]!=0),ki+=16;pr>>=2,wr=wr>>1|vi<<5}Fn|=Zn<<4*jr,Jr|=pr<<4<<jr,Xr|=(240&wr)<<jr}dn.la=Jr,Ui.la=Xr,gi.Hc=Or,gi.Gc=Fn,gi.ia=43690&Fn?0:qr.ia,Bi=!(Or|Fn)}if(0<ft.L&&(ft.wa[ft.Y+ft.ja]=ft.gd[xn.$b][xn.Za],ft.wa[ft.Y+ft.ja].La|=!Bi),oi.Ka)return Nr(Rn,7,"Premature end-of-file encountered.")}if(G(Rn),ft=Qr,oi=1,xn=(At=Rn).D,dn=0<At.L&&At.M>=At.zb&&At.M<=At.Va,At.Aa==0)t:{if(xn.M=At.M,xn.uc=dn,Fi(At,xn),oi=1,xn=(Zn=At.D).Nb,dn=(Fn=$l[At.L])*At.R,Cr=Fn/2*At.B,Jn=16*xn*At.R,cs=8*xn*At.B,Bi=At.sa,gi=At.ta-dn+Jn,qr=At.qa,In=At.ra-Cr+cs,ki=At.Ha,Ui=At.Ia-Cr+cs,wr=(pr=Zn.M)==0,Or=pr>=At.Va-1,At.Aa==2&&Fi(At,Zn),Zn.uc)for(vi=(yr=At).D.M,e(yr.D.uc),Zn=yr.yb;Zn<yr.Hb;++Zn){Xr=Zn,Jr=vi;var Ji=(Fs=(ci=yr).D).Nb;jr=ci.R;var Fs=Fs.wa[Fs.Y+Xr],ai=ci.sa,li=ci.ta+16*Ji*jr+16*Xr,us=Fs.dd,xr=Fs.tc;if(xr!=0)if(e(3<=xr),ci.L==1)0<Xr&&Lh(ai,li,jr,xr+4),Fs.La&&Bl(ai,li,jr,xr),0<Jr&&hd(ai,li,jr,xr+4),Fs.La&&gu(ai,li,jr,xr);else{var ds=ci.B,_o=ci.qa,Bo=ci.ra+8*Ji*ds+8*Xr,Vi=ci.Ha,ci=ci.Ia+8*Ji*ds+8*Xr;Ji=Fs.ld,0<Xr&&(mi(ai,li,jr,xr+4,us,Ji),mu(_o,Bo,Vi,ci,ds,xr+4,us,Ji)),Fs.La&&(Aa(ai,li,jr,xr,us,Ji),Sc(_o,Bo,Vi,ci,ds,xr,us,Ji)),0<Jr&&(Kr(ai,li,jr,xr+4,us,Ji),jo(_o,Bo,Vi,ci,ds,xr+4,us,Ji)),Fs.La&&(_c(ai,li,jr,xr,us,Ji),dd(_o,Bo,Vi,ci,ds,xr,us,Ji))}}if(At.ia&&alert("todo:DitherRow"),ft.put!=null){if(Zn=16*pr,pr=16*(pr+1),wr?(ft.y=At.sa,ft.O=At.ta+Jn,ft.f=At.qa,ft.N=At.ra+cs,ft.ea=At.Ha,ft.W=At.Ia+cs):(Zn-=Fn,ft.y=Bi,ft.O=gi,ft.f=qr,ft.N=In,ft.ea=ki,ft.W=Ui),Or||(pr-=Fn),pr>ft.o&&(pr=ft.o),ft.F=null,ft.J=null,At.Fa!=null&&0<At.Fa.length&&Zn<pr&&(ft.J=ar(At,ft,Zn,pr-Zn),ft.F=At.mb,ft.F==null&&ft.F.length==0)){oi=Nr(At,3,"Could not decode alpha data.");break t}Zn<ft.j&&(Fn=ft.j-Zn,Zn=ft.j,e(!(1&Fn)),ft.O+=At.R*Fn,ft.N+=At.B*(Fn>>1),ft.W+=At.B*(Fn>>1),ft.F!=null&&(ft.J+=ft.width*Fn)),Zn<pr&&(ft.O+=ft.v,ft.N+=ft.v>>1,ft.W+=ft.v>>1,ft.F!=null&&(ft.J+=ft.v),ft.ka=Zn-ft.j,ft.U=ft.va-ft.v,ft.T=pr-Zn,oi=ft.put(ft))}xn+1!=At.Ic||Or||(n(At.sa,At.ta-dn,Bi,gi+16*At.R,dn),n(At.qa,At.ra-Cr,qr,In+8*At.B,Cr),n(At.Ha,At.Ia-Cr,ki,Ui+8*At.B,Cr))}if(!oi)return Nr(Rn,6,"Output aborted.")}return 1})(ce,Ce)),Ce.bc!=null&&Ce.bc(Ce),De&=1}return De?(ce.cb=0,De):0})(p,R)||(x=p.a)}}else x=p.a}x==0&&X.Oa!=null&&X.Oa.fd&&(x=wc(X.ba))}X=x}Q=X!=0?null:11>Q?Z.f.RGBA.eb:Z.f.kb.y}else Q=null;return Q};var Eu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(M,z){for(var N="",I=0;I<4;I++)N+=String.fromCharCode(M[z++]);return N}function f(M,z){return M[z+0]|M[z+1]<<8}function w(M,z){return(M[z+0]|M[z+1]<<8|M[z+2]<<16)>>>0}function b(M,z){return(M[z+0]|M[z+1]<<8|M[z+2]<<16|M[z+3]<<24)>>>0}new u;var v=[0],E=[0],D=[],T=new u,P=r,U=(function(M,z){var N={},I=0,L=!1,ee=0,ve=0;if(N.frames=[],!(function(j,F){for(var Y=0;Y<4;Y++)if(j[F+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(M,z)){for(b(M,z+=4),z+=8;z<M.length;){var Ne=d(M,z),be=b(M,z+=4);z+=4;var oe=be+(1&be);switch(Ne){case"VP8 ":case"VP8L":N.frames[I]===void 0&&(N.frames[I]={}),(te=N.frames[I]).src_off=L?ve:z-8,te.src_size=ee+be+8,I++,L&&(L=!1,ee=0,ve=0);break;case"VP8X":(te=N.header={}).feature_flags=M[z];var _e=z+4;te.canvas_width=1+w(M,_e),_e+=3,te.canvas_height=1+w(M,_e),_e+=3;break;case"ALPH":L=!0,ee=oe+8,ve=z-8;break;case"ANIM":(te=N.header).bgcolor=b(M,z),_e=z+4,te.loop_count=f(M,_e),_e+=2;break;case"ANMF":var ge,te;(te=N.frames[I]={}).offset_x=2*w(M,z),z+=3,te.offset_y=2*w(M,z),z+=3,te.width=1+w(M,z),z+=3,te.height=1+w(M,z),z+=3,te.duration=w(M,z),z+=3,ge=M[z++],te.dispose=1&ge,te.blend=ge>>1&1}Ne!="ANMF"&&(z+=oe)}return N}})(P,0);U.response=P,U.rgbaoutput=!0,U.dataurl=!1;var V=U.header?U.header:null,H=U.frames?U.frames:null;if(V){V.loop_counter=V.loop_count,v=[V.canvas_height],E=[V.canvas_width];for(var ie=0;ie<H.length&&H[ie].blend!=0;ie++);}var de=H[0],q=T.WebPDecodeRGBA(P,de.src_off,de.src_size,E,v);de.rgba=q,de.imgwidth=E[0],de.imgheight=v[0];for(var O=0;O<E[0]*v[0]*4;O++)D[O]=q[O];return this.width=E,this.height=v,this.data=D,this}(function(r){var e,t,n,i,s,a,c,u,d,f=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new u,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new a,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new a,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var w=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=j;Object.defineProperty(this,"pdf",{get:function(){return F}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(J){Y=!!J}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(J){se=!!J}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(J){isNaN(J)||(le=J)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(J){isNaN(J)||(ye=J)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(J){var Ge;typeof J=="number"?Ge=[J,J,J,J]:((Ge=new Array(4))[0]=J[0],Ge[1]=J.length>=2?J[1]:Ge[0],Ge[2]=J.length>=3?J[2]:Ge[0],Ge[3]=J.length>=4?J[3]:Ge[1]),d.margin=Ge}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(J){fe=J}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(J){he=J}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(J){Te=J}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(J){J instanceof f&&(d=J)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(J){d.path=J}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(J){Fe=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var Ge;Ge=b(J),this.ctx.fillStyle=Ge.style,this.ctx.isFillTransparent=Ge.a===0,this.ctx.fillOpacity=Ge.a,this.pdf.setFillColor(Ge.r,Ge.g,Ge.b,{a:Ge.a}),this.pdf.setTextColor(Ge.r,Ge.g,Ge.b,{a:Ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var Ge=b(J);this.ctx.strokeStyle=Ge.style,this.ctx.isStrokeTransparent=Ge.a===0,this.ctx.strokeOpacity=Ge.a,Ge.a===0?this.pdf.setDrawColor(255,255,255):(Ge.a,this.pdf.setDrawColor(Ge.r,Ge.g,Ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var $e=null,Ye=null,ht=null;Object.defineProperty(this,"fontFaces",{get:function(){return ht},set:function(J){$e=null,Ye=null,ht=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var Ge;if(this.ctx.font=J,(Ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var at=Ge[1];Ge[2];var lt=Ge[3],Qe=Ge[4];Ge[5];var bt=Ge[6],pt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(pt==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:pt==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var Rt=(function(Ct){var nr,Je,ln=[],_t=Ct.trim();if(_t==="")return Cv;if(_t in lb)return[lb[_t]];for(;_t!=="";){switch(Je=null,nr=(_t=ub(_t)).charAt(0)){case'"':case"'":Je=aj(_t.substring(1),nr);break;default:Je=lj(_t)}if(Je===null||(ln.push(Je[0]),(_t=ub(Je[1]))!==""&&_t.charAt(0)!==","))return Cv;_t=_t.replace(/^,/,"")}return ln})(bt);if(this.fontFaces){var vt=(function(Ct,nr){var Je=Ct.getFontList(),ln=JSON.stringify(Je);if($e===null||Ye!==ln){var _t=(function(Wn){var ut=[];return Object.keys(Wn).forEach(function(Tn){Wn[Tn].forEach(function(Gt){var Zt=null;switch(Gt){case"bold":Zt={family:Tn,weight:"bold"};break;case"italic":Zt={family:Tn,style:"italic"};break;case"bolditalic":Zt={family:Tn,weight:"bold",style:"italic"};break;case"":case"normal":Zt={family:Tn}}Zt!==null&&(Zt.ref={name:Tn,style:Gt},ut.push(Zt))})}),ut})(Je);$e=(function(Wn){for(var ut={},Tn=0;Tn<Wn.length;++Tn){var Gt=Nv(Wn[Tn]),Zt=Gt.family,En=Gt.stretch,an=Gt.style,$t=Gt.weight;ut[Zt]=ut[Zt]||{},ut[Zt][En]=ut[Zt][En]||{},ut[Zt][En][an]=ut[Zt][En][an]||{},ut[Zt][En][an][$t]=Gt}return ut})(_t.concat(nr)),Ye=ln}return $e})(this.pdf,this.fontFaces),hn=Rt.map(function(Ct){return{family:Ct,stretch:"normal",weight:lt,style:at}}),xt=(function(Ct,nr,Je){for(var ln=(Je=Je||{}).defaultFontFamily||"times",_t=Object.assign({},oj,Je.genericFontFamilies||{}),Wn=null,ut=null,Tn=0;Tn<nr.length;++Tn)if(_t[(Wn=Nv(nr[Tn])).family]&&(Wn.family=_t[Wn.family]),Ct.hasOwnProperty(Wn.family)){ut=Ct[Wn.family];break}if(!(ut=ut||Ct[ln]))throw new Error("Could not find a font-family for the rule '"+cb(Wn)+"' and default family '"+ln+"'.");if(ut=(function(Gt,Zt){if(Zt[Gt])return Zt[Gt];var En=b1[Gt],an=En<=b1.normal?-1:1,$t=ab(Zt,EE,En,an);if(!$t)throw new Error("Could not find a matching font-stretch value for "+Gt);return $t})(Wn.stretch,ut),ut=(function(Gt,Zt){if(Zt[Gt])return Zt[Gt];for(var En=kE[Gt],an=0;an<En.length;++an)if(Zt[En[an]])return Zt[En[an]];throw new Error("Could not find a matching font-style for "+Gt)})(Wn.style,ut),!(ut=(function(Gt,Zt){if(Zt[Gt])return Zt[Gt];if(Gt===400&&Zt[500])return Zt[500];if(Gt===500&&Zt[400])return Zt[400];var En=sj[Gt],an=ab(Zt,NE,En,Gt<400?-1:1);if(!an)throw new Error("Could not find a matching font-weight for value "+Gt);return an})(Wn.weight,ut)))throw new Error("Failed to resolve a font for the rule '"+cb(Wn)+"'.");return ut})(vt,hn);this.pdf.setFont(xt.ref.name,xt.ref.style)}else{var Et="";(lt==="bold"||parseInt(lt,10)>=700||at==="bold")&&(Et="bold"),at==="italic"&&(Et+="italic"),Et.length===0&&(Et="normal");for(var Ft="",nn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<Rt.length;St++){if(this.pdf.internal.getFont(Rt[St],Et,{noFallback:!0,disableWarning:!0})!==void 0){Ft=Rt[St];break}if(Et==="bolditalic"&&this.pdf.internal.getFont(Rt[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ft=Rt[St],Et="bold";else if(this.pdf.internal.getFont(Rt[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ft=Rt[St],Et="normal";break}}if(Ft===""){for(var Jt=0;Jt<Rt.length;Jt++)if(nn[Rt[Jt]]){Ft=nn[Rt[Jt]];break}}Ft=Ft===""?"Times":Ft,this.pdf.setFont(Ft,Et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};w.prototype.setLineDash=function(j){this.lineDash=j},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){H.call(this,"fill",!1)},w.prototype.stroke=function(){H.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(j,F){if(isNaN(j)||isNaN(F))throw Pr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new a(j,F));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(j,F)},w.prototype.closePath=function(){var j=new a(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&_r(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){j=new a(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(j.x,j.y)},w.prototype.lineTo=function(j,F){if(isNaN(j)||isNaN(F))throw Pr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new a(j,F));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},w.prototype.quadraticCurveTo=function(j,F,Y,se){if(isNaN(Y)||isNaN(se)||isNaN(j)||isNaN(F))throw Pr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new a(Y,se)),ye=this.ctx.transform.applyToPoint(new a(j,F));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:le.x,y:le.y}),this.ctx.lastPoint=new a(le.x,le.y)},w.prototype.bezierCurveTo=function(j,F,Y,se,le,ye){if(isNaN(le)||isNaN(ye)||isNaN(j)||isNaN(F)||isNaN(Y)||isNaN(se))throw Pr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new a(le,ye)),he=this.ctx.transform.applyToPoint(new a(j,F)),Te=this.ctx.transform.applyToPoint(new a(Y,se));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:Te.x,y2:Te.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},w.prototype.arc=function(j,F,Y,se,le,ye){if(isNaN(j)||isNaN(F)||isNaN(Y)||isNaN(se)||isNaN(le))throw Pr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new a(j,F));j=fe.x,F=fe.y;var he=this.ctx.transform.applyToPoint(new a(0,Y)),Te=this.ctx.transform.applyToPoint(new a(0,0));Y=Math.sqrt(Math.pow(he.x-Te.x,2)+Math.pow(he.y-Te.y,2))}Math.abs(le-se)>=2*Math.PI&&(se=0,le=2*Math.PI),this.path.push({type:"arc",x:j,y:F,radius:Y,startAngle:se,endAngle:le,counterclockwise:ye})},w.prototype.arcTo=function(j,F,Y,se,le){throw new Error("arcTo not implemented.")},w.prototype.rect=function(j,F,Y,se){if(isNaN(j)||isNaN(F)||isNaN(Y)||isNaN(se))throw Pr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,F),this.lineTo(j+Y,F),this.lineTo(j+Y,F+se),this.lineTo(j,F+se),this.lineTo(j,F),this.lineTo(j+Y,F),this.lineTo(j,F)},w.prototype.fillRect=function(j,F,Y,se){if(isNaN(j)||isNaN(F)||isNaN(Y)||isNaN(se))throw Pr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,F,Y,se),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},w.prototype.strokeRect=function(j,F,Y,se){if(isNaN(j)||isNaN(F)||isNaN(Y)||isNaN(se))throw Pr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(j,F,Y,se),this.stroke())},w.prototype.clearRect=function(j,F,Y,se){if(isNaN(j)||isNaN(F)||isNaN(Y)||isNaN(se))throw Pr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,F,Y,se))},w.prototype.save=function(j){j=typeof j!="boolean"||j;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},w.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(F),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(j){var F,Y,se,le;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))F=0,Y=0,se=0,le=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(ye!==null)F=parseInt(ye[1]),Y=parseInt(ye[2]),se=parseInt(ye[3]),le=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)F=parseInt(ye[1]),Y=parseInt(ye[2]),se=parseInt(ye[3]),le=parseFloat(ye[4]);else{if(le=1,typeof j=="string"&&j.charAt(0)!=="#"){var fe=new vE(j);j=fe.ok?fe.toHex():"#000000"}j.length===4?(F=j.substring(1,2),F+=F,Y=j.substring(2,3),Y+=Y,se=j.substring(3,4),se+=se):(F=j.substring(1,3),Y=j.substring(3,5),se=j.substring(5,7)),F=parseInt(F,16),Y=parseInt(Y,16),se=parseInt(se,16)}}return{r:F,g:Y,b:se,a:le,style:j}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(j,F,Y,se){if(isNaN(F)||isNaN(Y)||typeof j!="string")throw Pr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!v.call(this)){var le=oe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;I.call(this,{text:j,x:F,y:Y,scale:ye,angle:le,align:this.textAlign,maxWidth:se})}},w.prototype.strokeText=function(j,F,Y,se){if(isNaN(F)||isNaN(Y)||typeof j!="string")throw Pr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){se=isNaN(se)?void 0:se;var le=oe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;I.call(this,{text:j,x:F,y:Y,scale:ye,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:se})}},w.prototype.measureText=function(j){if(typeof j!="string")throw Pr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,Y=this.pdf.internal.scaleFactor,se=F.internal.getFontSize(),le=F.getStringUnitWidth(j)*se/F.internal.scaleFactor;return new function(ye){var fe=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:le*=Math.round(96*Y/72*1e4)/1e4})},w.prototype.scale=function(j,F){if(isNaN(j)||isNaN(F))throw Pr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new u(j,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},w.prototype.rotate=function(j){if(isNaN(j))throw Pr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new u(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},w.prototype.translate=function(j,F){if(isNaN(j)||isNaN(F))throw Pr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new u(1,0,0,1,j,F);this.ctx.transform=this.ctx.transform.multiply(Y)},w.prototype.transform=function(j,F,Y,se,le,ye){if(isNaN(j)||isNaN(F)||isNaN(Y)||isNaN(se)||isNaN(le)||isNaN(ye))throw Pr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new u(j,F,Y,se,le,ye);this.ctx.transform=this.ctx.transform.multiply(fe)},w.prototype.setTransform=function(j,F,Y,se,le,ye){j=isNaN(j)?1:j,F=isNaN(F)?0:F,Y=isNaN(Y)?0:Y,se=isNaN(se)?1:se,le=isNaN(le)?0:le,ye=isNaN(ye)?0:ye,this.ctx.transform=new u(j,F,Y,se,le,ye)};var D=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(j,F,Y,se,le,ye,fe,he,Te){var Fe=this.pdf.getImageProperties(j),$e=1,Ye=1,ht=1,J=1;se!==void 0&&he!==void 0&&(ht=he/se,J=Te/le,$e=Fe.width/se*he/se,Ye=Fe.height/le*Te/le),ye===void 0&&(ye=F,fe=Y,F=0,Y=0),se!==void 0&&he===void 0&&(he=se,Te=le),se===void 0&&he===void 0&&(he=Fe.width,Te=Fe.height);var Ge=this.ctx.transform.decompose(),at=oe(Ge.rotate.shx),lt=new u,Qe=(lt=(lt=(lt=lt.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new c(ye-F*ht,fe-Y*J,se*$e,le*Ye));if(this.autoPaging){for(var bt,pt=T.call(this,Qe),Rt=[],vt=0;vt<pt.length;vt+=1)Rt.indexOf(pt[vt])===-1&&Rt.push(pt[vt]);V(Rt);for(var hn=Rt[0],xt=Rt[Rt.length-1],Et=hn;Et<xt+1;Et++){this.pdf.setPage(Et);var Ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nn=Et===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=Et===1?0:St+(Et-2)*Jt;if(this.ctx.clip_path.length!==0){var nr=this.path;bt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(bt,this.posX+this.margin[3],-Ct+nn+this.ctx.prevPageLastElemOffset),ie.call(this,"fill",!0),this.path=nr}var Je=JSON.parse(JSON.stringify(Qe));Je=U([Je],this.posX+this.margin[3],-Ct+nn+this.ctx.prevPageLastElemOffset)[0];var ln=(Et>hn||Et<xt)&&D.call(this);ln&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,Jt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,at),ln&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(j,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,at)};var T=function(j,F,Y){var se=[];F=F||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":se.push(Math.floor((j.y+le)/Y)+1);break;case"arc":se.push(Math.floor((j.y+le-j.radius)/Y)+1),se.push(Math.floor((j.y+le+j.radius)/Y)+1);break;case"qct":var ye=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);se.push(Math.floor((ye.y+le)/Y)+1),se.push(Math.floor((ye.y+ye.h+le)/Y)+1);break;case"bct":var fe=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);se.push(Math.floor((fe.y+le)/Y)+1),se.push(Math.floor((fe.y+fe.h+le)/Y)+1);break;case"rect":se.push(Math.floor((j.y+le)/Y)+1),se.push(Math.floor((j.y+j.h+le)/Y)+1)}for(var he=0;he<se.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<se[he];)P.call(this);return se},P=function(){var j=this.fillStyle,F=this.strokeStyle,Y=this.font,se=this.lineCap,le=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=F,this.font=Y,this.lineCap=se,this.lineWidth=le,this.lineJoin=ye},U=function(j,F,Y){for(var se=0;se<j.length;se++)switch(j[se].type){case"bct":j[se].x2+=F,j[se].y2+=Y;case"qct":j[se].x1+=F,j[se].y1+=Y;default:j[se].x+=F,j[se].y+=Y}return j},V=function(j){return j.sort(function(F,Y){return F-Y})},H=function(j,F){var Y=this.fillStyle,se=this.strokeStyle,le=this.lineCap,ye=this.lineWidth,fe=Math.abs(ye*this.ctx.transform.scaleX),he=this.lineJoin;if(this.autoPaging){for(var Te,Fe,$e=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),ht=[],J=0;J<Ye.length;J++)if(Ye[J].x!==void 0)for(var Ge=T.call(this,Ye[J]),at=0;at<Ge.length;at+=1)ht.indexOf(Ge[at])===-1&&ht.push(Ge[at]);for(var lt=0;lt<ht.length;lt++)for(;this.pdf.internal.getNumberOfPages()<ht[lt];)P.call(this);V(ht);for(var Qe=ht[0],bt=ht[ht.length-1],pt=Qe;pt<bt+1;pt++){this.pdf.setPage(pt),this.fillStyle=Y,this.strokeStyle=se,this.lineCap=le,this.lineWidth=fe,this.lineJoin=he;var Rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=pt===1?this.posY+this.margin[0]:this.margin[0],hn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=pt===1?0:hn+(pt-2)*xt;if(this.ctx.clip_path.length!==0){var Ft=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(Te,this.posX+this.margin[3],-Et+vt+this.ctx.prevPageLastElemOffset),ie.call(this,j,!0),this.path=Ft}if(Fe=JSON.parse(JSON.stringify($e)),this.path=U(Fe,this.posX+this.margin[3],-Et+vt+this.ctx.prevPageLastElemOffset),F===!1||pt===0){var nn=(pt>Qe||pt<bt)&&D.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,xt,null).clip().discardPath()),ie.call(this,j,F),nn&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=$e}else this.lineWidth=fe,ie.call(this,j,F),this.lineWidth=ye},ie=function(j,F){if((j!=="stroke"||F||!E.call(this))&&(j==="stroke"||F||!v.call(this))){for(var Y,se,le=[],ye=this.path,fe=0;fe<ye.length;fe++){var he=ye[fe];switch(he.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:he,deltas:[],abs:[]});break;case"lt":var Te=le.length;if(ye[fe-1]&&!isNaN(ye[fe-1].x)&&(Y=[he.x-ye[fe-1].x,he.y-ye[fe-1].y],Te>0)){for(;Te>=0;Te--)if(le[Te-1].close!==!0&&le[Te-1].begin!==!0){le[Te-1].deltas.push(Y),le[Te-1].abs.push(he);break}}break;case"bct":Y=[he.x1-ye[fe-1].x,he.y1-ye[fe-1].y,he.x2-ye[fe-1].x,he.y2-ye[fe-1].y,he.x-ye[fe-1].x,he.y-ye[fe-1].y],le[le.length-1].deltas.push(Y);break;case"qct":var Fe=ye[fe-1].x+2/3*(he.x1-ye[fe-1].x),$e=ye[fe-1].y+2/3*(he.y1-ye[fe-1].y),Ye=he.x+2/3*(he.x1-he.x),ht=he.y+2/3*(he.y1-he.y),J=he.x,Ge=he.y;Y=[Fe-ye[fe-1].x,$e-ye[fe-1].y,Ye-ye[fe-1].x,ht-ye[fe-1].y,J-ye[fe-1].x,Ge-ye[fe-1].y],le[le.length-1].deltas.push(Y);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(he)}}se=F?null:j==="stroke"?"stroke":"fill";for(var at=!1,lt=0;lt<le.length;lt++)if(le[lt].arc)for(var Qe=le[lt].abs,bt=0;bt<Qe.length;bt++){var pt=Qe[bt];pt.type==="arc"?O.call(this,pt.x,pt.y,pt.radius,pt.startAngle,pt.endAngle,pt.counterclockwise,void 0,F,!at):L.call(this,pt.x,pt.y),at=!0}else if(le[lt].close===!0)this.pdf.internal.out("h"),at=!1;else if(le[lt].begin!==!0){var Rt=le[lt].start.x,vt=le[lt].start.y;ee.call(this,le[lt].deltas,Rt,vt),at=!0}se&&M.call(this,se),F&&z.call(this)}},de=function(j){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-Y;case"top":return j+F-Y;case"hanging":return j+F-2*Y;case"middle":return j+F/2-Y;default:return j}},q=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(F,Y){this.colorStops.push([F,Y])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(j,F,Y,se,le,ye,fe,he,Te){for(var Fe=Ne.call(this,Y,se,le,ye),$e=0;$e<Fe.length;$e++){var Ye=Fe[$e];$e===0&&(Te?N.call(this,Ye.x1+j,Ye.y1+F):L.call(this,Ye.x1+j,Ye.y1+F)),ve.call(this,j,F,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}he?z.call(this):M.call(this,fe)},M=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(j,F){this.pdf.internal.out(t(j)+" "+n(F)+" m")},I=function(j){var F;switch(j.align){case"right":case"end":F="right";break;case"center":F="center";break;default:F="left"}var Y,se,le,ye=this.pdf.getTextDimensions(j.text),fe=de.call(this,j.y),he=q.call(this,fe)-ye.h,Te=this.ctx.transform.applyToPoint(new a(j.x,fe));if(this.autoPaging){var Fe=this.ctx.transform.decompose(),$e=new u;$e=($e=($e=$e.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var Ye=this.ctx.transform.applyToRectangle(new c(j.x,fe,ye.w,ye.h)),ht=$e.applyToRectangle(new c(j.x,he,ye.w,ye.h)),J=T.call(this,ht),Ge=[],at=0;at<J.length;at+=1)Ge.indexOf(J[at])===-1&&Ge.push(J[at]);V(Ge);for(var lt=Ge[0],Qe=Ge[Ge.length-1],bt=lt;bt<Qe+1;bt++){this.pdf.setPage(bt);var pt=bt===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],hn=vt-this.margin[0],xt=this.pdf.internal.pageSize.width-this.margin[1],Et=xt-this.margin[3],Ft=bt===1?0:Rt+(bt-2)*hn;if(this.ctx.clip_path.length!==0){var nn=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(Y,this.posX+this.margin[3],-1*Ft+pt),ie.call(this,"fill",!0),this.path=nn}var St=U([JSON.parse(JSON.stringify(ht))],this.posX+this.margin[3],-Ft+pt+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*j.scale),le=this.lineWidth,this.lineWidth=le*j.scale);var Jt=this.autoPaging!=="text";if(Jt||St.y+St.h<=vt){if(Jt||St.y>=pt&&St.x<=xt){var Ct=Jt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||xt-St.x)[0],nr=U([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Ft+pt+this.ctx.prevPageLastElemOffset)[0],Je=Jt&&(bt>lt||bt<Qe)&&D.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,hn,null).clip().discardPath()),this.pdf.text(Ct,nr.x,nr.y,{angle:j.angle,align:F,renderingMode:j.renderingMode}),Je&&this.pdf.restoreGraphicsState()}}else St.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-St.y);j.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=le)}}else j.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*j.scale),le=this.lineWidth,this.lineWidth=le*j.scale),this.pdf.text(j.text,Te.x+this.posX,Te.y+this.posY,{angle:j.angle,align:F,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=le)},L=function(j,F,Y,se){Y=Y||0,se=se||0,this.pdf.internal.out(t(j+Y)+" "+n(F+se)+" l")},ee=function(j,F,Y){return this.pdf.lines(j,F,Y,null,null)},ve=function(j,F,Y,se,le,ye,fe,he){this.pdf.internal.out([e(i(Y+j)),e(s(se+F)),e(i(le+j)),e(s(ye+F)),e(i(fe+j)),e(s(he+F)),"c"].join(" "))},Ne=function(j,F,Y,se){for(var le=2*Math.PI,ye=Math.PI/2;F>Y;)F-=le;var fe=Math.abs(Y-F);fe<le&&se&&(fe=le-fe);for(var he=[],Te=se?-1:1,Fe=F;fe>1e-5;){var $e=Fe+Te*Math.min(fe,ye);he.push(be.call(this,j,Fe,$e)),fe-=Math.abs($e-Fe),Fe=$e}return he},be=function(j,F,Y){var se=(Y-F)/2,le=j*Math.cos(se),ye=j*Math.sin(se),fe=le,he=-ye,Te=fe*fe+he*he,Fe=Te+fe*le+he*ye,$e=4/3*(Math.sqrt(2*Te*Fe)-Fe)/(fe*ye-he*le),Ye=fe-$e*he,ht=he+$e*fe,J=Ye,Ge=-ht,at=se+F,lt=Math.cos(at),Qe=Math.sin(at);return{x1:j*Math.cos(F),y1:j*Math.sin(F),x2:Ye*lt-ht*Qe,y2:Ye*Qe+ht*lt,x3:J*lt-Ge*Qe,y3:J*Qe+Ge*lt,x4:j*Math.cos(Y),y4:j*Math.sin(Y)}},oe=function(j){return 180*j/Math.PI},_e=function(j,F,Y,se,le,ye){var fe=j+.5*(Y-j),he=F+.5*(se-F),Te=le+.5*(Y-le),Fe=ye+.5*(se-ye),$e=Math.min(j,le,fe,Te),Ye=Math.max(j,le,fe,Te),ht=Math.min(F,ye,he,Fe),J=Math.max(F,ye,he,Fe);return new c($e,ht,Ye-$e,J-ht)},ge=function(j,F,Y,se,le,ye,fe,he){var Te,Fe,$e,Ye,ht,J,Ge,at,lt,Qe,bt,pt,Rt,vt,hn=Y-j,xt=se-F,Et=le-Y,Ft=ye-se,nn=fe-le,St=he-ye;for(Fe=0;Fe<41;Fe++)lt=(Ge=($e=j+(Te=Fe/40)*hn)+Te*((ht=Y+Te*Et)-$e))+Te*(ht+Te*(le+Te*nn-ht)-Ge),Qe=(at=(Ye=F+Te*xt)+Te*((J=se+Te*Ft)-Ye))+Te*(J+Te*(ye+Te*St-J)-at),Fe==0?(bt=lt,pt=Qe,Rt=lt,vt=Qe):(bt=Math.min(bt,lt),pt=Math.min(pt,Qe),Rt=Math.max(Rt,lt),vt=Math.max(vt,Qe));return new c(Math.round(bt),Math.round(pt),Math.round(Rt-bt),Math.round(vt-pt))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,F,Y=(j=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:F}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Yt.API),(function(r){var e=function(a){var c,u,d,f,w,b,v,E,D,T;for(u=[],d=0,f=(a+=c="\0\0\0\0".slice(a.length%4||4)).length;f>d;d+=4)(w=(a.charCodeAt(d)<<24)+(a.charCodeAt(d+1)<<16)+(a.charCodeAt(d+2)<<8)+a.charCodeAt(d+3))!==0?(b=(w=((w=((w=((w=(w-(T=w%85))/85)-(D=w%85))/85)-(E=w%85))/85)-(v=w%85))/85)%85,u.push(b+33,v+33,E+33,D+33,T+33)):u.push(122);return(function(P,U){for(var V=U;V>0;V--)P.pop()})(u,c.length),String.fromCharCode.apply(String,u)+"~>"},t=function(a){var c,u,d,f,w,b=String,v="length",E=255,D="charCodeAt",T="slice",P="replace";for(a[T](-2),a=a[T](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),d=[],f=0,w=(a+=c="uuuuu"[T](a[v]%5||5))[v];w>f;f+=5)u=52200625*(a[D](f)-33)+614125*(a[D](f+1)-33)+7225*(a[D](f+2)-33)+85*(a[D](f+3)-33)+(a[D](f+4)-33),d.push(E&u>>24,E&u>>16,E&u>>8,E&u);return(function(U,V){for(var H=V;H>0;H--)U.pop()})(d,c[v]),b.fromCharCode.apply(b,d)},n=function(a){return a.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),c.test(a)===!1)return"";for(var u="",d=0;d<a.length;d+=2)u+=String.fromCharCode("0x"+(a[d]+a[d+1]));return u},s=function(a){for(var c=new Uint8Array(a.length),u=a.length;u--;)c[u]=a.charCodeAt(u);return(c=p1(c)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};r.processDataByFilters=function(a,c){var u=0,d=a||"",f=[];for(typeof(c=c||[])=="string"&&(c=[c]),u=0;u<c.length;u+=1)switch(c[u]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[u]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(Yt.API),(function(r){r.loadFile=function(e,t,n){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var c=void 0;try{c=(function(u,d,f){var w=new XMLHttpRequest,b=0,v=function(E){var D=E.length,T=[],P=String.fromCharCode;for(b=0;b<D;b+=1)T.push(P(255&E.charCodeAt(b)));return T.join("")};if(w.open("GET",u,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?f(v(this.responseText)):f(void 0)}),w.send(null),d&&w.status===200)return v(w.responseText)})(i,s,a)}catch{}return c})(e,t,n)},r.loadImageFile=r.loadFile})(Yt.API),(function(r){function e(){return(gn.html2canvas?Promise.resolve(gn.html2canvas):lv(()=>import("./html2canvas.esm-DXEQVQnt.js"),[],import.meta.url)).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(gn.DOMPurify?Promise.resolve(gn.DOMPurify):lv(()=>import("./purify.es-Bzr520pe.js"),[],import.meta.url)).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var u=_r(c);return u==="undefined"?"undefined":u==="string"||c instanceof String?"string":u==="number"||c instanceof Number?"number":u==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(c,u){var d=document.createElement(c);for(var f in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[f]=u.style[f];return d},s=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),w=u.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||f.appendChild(c(w,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},a=function c(u){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),f=c.convert(Promise.resolve(),d);return(f=f.setProgress(1,c,1,[c])).set(u)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(c,u){return c.__proto__=u||a.prototype,c},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(c,u){return this.then(function(){switch(u=u||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),u){case"string":return this.then(t).then(function(d){return this.set({src:i("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},a.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(u){var d=this.opt.jsPDF,f=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var v=0;v<f.length;++v){var E=f[v],D=E.src.find(function(T){return T.format==="truetype"});D&&d.addFont(D.url,E.ref.name,E.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,d.context2d.save(!0),u(this.prop.container,b)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(c,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,u):this.outputPdf(c,u)},a.prototype.outputPdf=function(c,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,u)})},a.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},a.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(c){if(n(c)!=="object")return this;var u=Object.keys(c||{}).map(function(d){if(d in a.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(u)})},a.prototype.get=function(c,u){return this.then(function(){var d=c in a.template.prop?this.prop[c]:this.opt[c];return u?u(d):d})},a.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},a.prototype.setPageSize=function(c){function u(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(c=c||Yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:u(c.inner.width,c.k),height:u(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},a.prototype.setProgress=function(c,u,d,f){return c!=null&&(this.progress.val=c),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(c,u,d,f){return this.setProgress(c?this.progress.val+c:null,u||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(c,u){var d=this;return this.thenCore(c,u,function(f,w){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(b){return d.updateProgress(null,f),b}).then(f,w).then(function(b){return d.updateProgress(1),b})})},a.prototype.thenCore=function(c,u,d){d=d||Promise.prototype.then;var f=this;c&&(c=c.bind(f)),u&&(u=u.bind(f));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:a.convert(Object.assign({},f),Promise.prototype),b=d.call(w,c,u);return a.convert(b,f.__proto__)},a.prototype.thenExternal=function(c,u){return Promise.prototype.then.call(this,c,u)},a.prototype.thenList=function(c){var u=this;return c.forEach(function(d){u=u.thenCore(d)}),u},a.prototype.catch=function(c){c&&(c=c.bind(this));var u=Promise.prototype.catch.call(this,c);return a.convert(u,this)},a.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},a.prototype.error=function(c){return this.then(function(){throw new Error(c)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Yt.getPageSize=function(c,u,d){if(_r(c)==="object"){var f=c;c=f.orientation,u=f.unit||u,d=f.format||d}u=u||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var w,b=(""+d).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+u}var E,D=0,T=0;if(v.hasOwnProperty(b))D=v[b][1]/w,T=v[b][0]/w;else try{D=d[1],T=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",T>D&&(E=T,T=D,D=E);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",D>T&&(E=T,T=D,D=E)}return{width:T,height:D,unit:u,k:w,orientation:c}},r.html=function(c,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Nv):null;var d=new a(u);return u.worker?d:d.from(c).doCallback()}})(Yt.API),Yt.API.addJS=function(r){return hb=r,this.internal.events.subscribe("postPutResources",function(){am=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(am+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),db=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){am!==void 0&&db!==void 0&&this.internal.out("/Names <</JavaScript "+am+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],c=n.exec(a);if(c!=null){var u=c[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var w=t.internal.newObject();f.push(w);var b=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<f.length;s++)t.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var c=this.count=this.count_r({count:0},a);if(c>0&&this.line("/Count "+c),a.options&&a.options.pageNumber){var u=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])})(Yt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,s,a,c){var u,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(w){for(var b,v=256*w.charCodeAt(4)+w.charCodeAt(5),E=w.length,D={width:0,height:0,numcomponents:1},T=4;T<E;T+=2){if(T+=v,e.indexOf(w.charCodeAt(T+1))!==-1){b=256*w.charCodeAt(T+5)+w.charCodeAt(T+6),D={width:256*w.charCodeAt(T+7)+w.charCodeAt(T+8),height:b,numcomponents:w.charCodeAt(T+9)};break}v=256*w.charCodeAt(T+2)+w.charCodeAt(T+3)}return D})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}f={data:t,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:d,index:n,alias:i}}return f}})(Yt.API),Yt.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,s=WO(r,{checkCrc:!0}),a=s.width,c=s.height,u=s.channels,d=s.palette,f=s.depth;i=d&&u===1?(function(O){for(var M=O.width,z=O.height,N=O.data,I=O.palette,L=O.depth,ee=!1,ve=[],Ne=[],be=void 0,oe=!1,_e=0,ge=0;ge<I.length;ge++){var te=gx(I[ge],4),j=te[0],F=te[1],Y=te[2],se=te[3];ve.push(j,F,Y),se!=null&&(se===0?(_e++,Ne.length<1&&Ne.push(ge)):se<255&&(oe=!0))}if(oe||_e>1){ee=!0,Ne=void 0;var le=M*z;be=new Uint8Array(le);for(var ye=new DataView(N.buffer),fe=0;fe<le;fe++){var he=Iv(ye,fe,L),Te=gx(I[he],4)[3];be[fe]=Te}}else _e===0&&(Ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:N,alphaBytes:be,needSMask:ee,palette:ve,mask:Ne}})(s):u===2||u===4?(function(O){for(var M=O.data,z=O.width,N=O.height,I=O.channels,L=O.depth,ee=I===2?"DeviceGray":"DeviceRGB",ve=I-1,Ne=z*N,be=ve,oe=Ne*be,_e=1*Ne,ge=Math.ceil(oe*L/8),te=Math.ceil(_e*L/8),j=new Uint8Array(ge),F=new Uint8Array(te),Y=new DataView(M.buffer),se=new DataView(j.buffer),le=new DataView(F.buffer),ye=!1,fe=0;fe<Ne;fe++){for(var he=fe*I,Te=0;Te<be;Te++)bb(se,Iv(Y,he+Te,L),fe*be+Te,L);var Fe=Iv(Y,he+be,L);Fe<(1<<L)-1&&(ye=!0),bb(le,Fe,1*fe,L)}return{colorSpace:ee,colorsPerPixel:ve,sMaskBitsPerComponent:ye?L:void 0,colorBytes:j,alphaBytes:F,needSMask:ye}})(s):(function(O){var M=O.data,z=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:M instanceof Uint16Array?(function(N){for(var I=N.length,L=new Uint8Array(2*I),ee=new DataView(L.buffer,L.byteOffset,L.byteLength),ve=0;ve<I;ve++)ee.setUint16(2*ve,N[ve],!1);return L})(M):M,needSMask:!1}})(s);var w,b,v,E=i,D=E.colorSpace,T=E.colorsPerPixel,P=E.sMaskBitsPerComponent,U=E.colorBytes,V=E.alphaBytes,H=E.needSMask,ie=E.palette,de=E.mask,q=null;return n!==Yt.API.image_compression.NONE&&typeof p1=="function"?(q=(function(O){var M;switch(O){case Yt.API.image_compression.FAST:M=11;break;case Yt.API.image_compression.MEDIUM:M=13;break;case Yt.API.image_compression.SLOW:M=14;break;default:M=12}return M})(n),w=this.decode.FLATE_DECODE,b="/Predictor ".concat(q," /Colors ").concat(T," /BitsPerComponent ").concat(f," /Columns ").concat(a),r=gb(U,Math.ceil(a*T*f/8),T,f,n),H&&(v=gb(V,Math.ceil(a*P/8),1,P,n))):(w=void 0,b=void 0,r=U,H&&(v=V)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:t,data:r,index:e,filter:w,decodeParameters:b,transparency:de,palette:ie,sMask:v,predictor:q,width:a,height:c,bitsPerComponent:f,sMaskBitsPerComponent:P,colorSpace:D}}},(function(r){r.processGIF89A=function(e,t,n,i){var s=new hj(e),a=s.width,c=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:a,height:c},f=new Av(100).encode(d,100);return r.processJPEG.call(this,f,t,n,i)},r.processGIF87A=r.processGIF89A})(Yt.API),Ba.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ba.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Pr.log("bit decode error:"+t)}},Ba.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var u=this.palette[s>>7-c&1];this.data[a+4*c]=u.blue,this.data[a+4*c+1]=u.green,this.data[a+4*c+2]=u.red,this.data[a+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Ba.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,c=s>>4,u=15&s,d=this.palette[c];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Ba.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Ba.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,c=(s>>5&e)/e*255|0,u=(s>>10&e)/e*255|0,d=s>>15?255:0,f=n*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=a,this.data[f+3]=d}this.pos+=r}},Ba.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(a&e)/e*255|0,u=(a>>5&t)/t*255|0,d=(a>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=c,this.data[f+3]=255}this.pos+=r}},Ba.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Ba.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=s,this.data[c+1]=i,this.data[c+2]=n,this.data[c+3]=a}},Ba.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,i){var s=new Ba(e,!1),a=s.width,c=s.height,u={data:s.getData(),width:a,height:c},d=new Av(100).encode(u,100);return r.processJPEG.call(this,d,t,n,i)}})(Yt.API),Sb.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,i){var s=new Sb(e),a=s.width,c=s.height,u={data:s.getData(),width:a,height:c},d=new Av(100).encode(u,100);return r.processJPEG.call(this,d,t,n,i)}})(Yt.API),Yt.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),c=0,u=0,d=0;d<i;d+=4){var f=n[d],w=n[d+1],b=n[d+2],v=n[d+3];s[c++]=f,s[c++]=w,s[c++]=b,a[u++]=v}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:E,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Yt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fd=Yt.API,lm=Fd.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,u=c.fof?c.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,w=e.doKerning!==!1,b=0,v=r.length,E=0,D=c[0]||u,T=[];for(t=0;t<v;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(b=w&&_r(d[n])==="object"&&!isNaN(parseInt(d[n][E],10))?d[n][E]/f:0,T.push((c[n]||D)/u+b)),E=n;return T},fb=Fd.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Fd.processArabic&&(r=Fd.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:lm.apply(this,arguments).reduce(function(s,a){return s+a},0)},pb=function(r,e,t,n){for(var i=[],s=0,a=r.length,c=0;s!==a&&c+e[s]<t;)c+=e[s],s++;i.push(r.slice(0,s));var u=s;for(c=0;s!==a;)c+e[s]>n&&(i.push(r.slice(u,s)),c=0,u=s),c+=e[s],s++;return u!==s&&i.push(r.slice(u,s)),i},mb=function(r,e,t){t||(t={});var n,i,s,a,c,u,d,f=[],w=[f],b=t.textIndent||0,v=0,E=0,D=r.split(" "),T=lm.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?D[0].length+2:t.lineIndent||0){var P=Array(u).join(" "),U=[];D.map(function(H){(H=H.split(/\s*\n/)).length>1?U=U.concat(H.map(function(ie,de){return(de&&ie.length?`
`:"")+ie})):U.push(H[0])}),D=U,u=fb.apply(this,[P,t])}for(s=0,a=D.length;s<a;s++){var V=0;if(n=D[s],u&&n[0]==`
`&&(n=n.substr(1),V=1),b+v+(E=(i=lm.apply(this,[n,t])).reduce(function(H,ie){return H+ie},0))>e||V){if(E>e){for(c=pb.apply(this,[n,i,e-(b+v),e]),f.push(c.shift()),f=[c.pop()];c.length;)w.push([c.shift()]);E=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(H,ie){return H+ie},0)}else f=[n];w.push(f),b=E+u,v=T}else f.push(n),b+=v+E,v=T}return d=u?function(H,ie){return(ie?P:"")+H.join(" ")}:function(H){return H.join(" ")},w.map(d)},Fd.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var w=this.internal.getFont(f.fontName,f.fontStyle),b="Unicode";return w.metadata[b]?{widths:w.metadata[b].widths||{0:1},kerning:w.metadata[b].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var c,u,d=[];for(c=0,u=n.length;c<u;c++)d=d.concat(mb.apply(this,[n[c],a,s]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[t[s]]=e[s],i[e[s]]=t[s];var a=function(b){return"0x"+parseInt(b,10).toString(16)},c=r.__fontmetrics__.compress=function(b){var v,E,D,T,P=["{"];for(var U in b){if(v=b[U],isNaN(parseInt(U,10))?E="'"+U+"'":(U=parseInt(U,10),E=(E=a(U).slice(2)).slice(0,-1)+i[E.slice(-1)]),typeof v=="number")v<0?(D=a(v).slice(3),T="-"):(D=a(v).slice(2),T=""),D=T+D.slice(0,-1)+i[D.slice(-1)];else{if(_r(v)!=="object")throw new Error("Don't know what to do with value type "+_r(v)+".");D=c(v)}P.push(E+D)}return P.push("}"),P.join("")},u=r.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,E,D,T,P={},U=1,V=P,H=[],ie="",de="",q=b.length-1,O=1;O<q;O+=1)(T=b[O])=="'"?v?(D=v.join(""),v=void 0):v=[]:v?v.push(T):T=="{"?(H.push([V,D]),V={},D=void 0):T=="}"?((E=H.pop())[0][E[1]]=V,D=void 0,V=E[0]):T=="-"?U=-1:D===void 0?n.hasOwnProperty(T)?(ie+=n[T],D=parseInt(ie,16)*U,U=1,ie=""):ie+=T:n.hasOwnProperty(T)?(de+=n[T],V[D]=parseInt(de,16)*U,U=1,D=void 0,de=""):de+=T;return P},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(b){var v=b.font,E=w.Unicode[v.postScriptName];E&&(v.metadata.Unicode={},v.metadata.Unicode.widths=E.widths,v.metadata.Unicode.kerning=E.kerning);var D=f.Unicode[v.postScriptName];D&&(v.metadata.Unicode.encoding=D,v.encoding=D.codePages[0])}])})(Yt.API),(function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=t.charCodeAt(s);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Nm(c)),a.metadata=r.API.TTFFont.open(c),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])})(Yt),Yt.API.addSvgAsImage=function(r,e,t,n,i,s,a,c){if(isNaN(e)||isNaN(t))throw Pr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Pr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=i;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(gn.canvg?Promise.resolve(gn.canvg):lv(()=>import("./index.es-DhzJFp8b.js"),[],import.meta.url)).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(d,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(f)}).then(function(){w.addImage(u.toDataURL("image/jpeg",1),e,t,n,i,a,c)})},Yt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},Yt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(a),u=[],d=0,f=0,w=0;function b(E,D){var T,P=!1;for(T=0;T<E.length;T+=1)E[T]===D&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var v=c.length;for(w=0;w<v;w+=1)t[c[w]].value=t[c[w]].defaultValue,t[c[w]].explicitSet=!1}if(_r(r)==="object"){for(i in r)if(s=r[i],b(c,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&b(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")u.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(n=!1);n===!0&&u.push([s[d][0]-1,s[d][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,D=[];for(E in t)t[E].explicitSet===!0&&(t[E].type==="name"?D.push("/"+E+" /"+t[E].value):D.push("/"+E+" "+t[E].value));D.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+D.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+a.length+c.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+c+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Yt.API),(function(r){var e=r.API,t=e.pdfEscape16=function(s,a){for(var c,u=a.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],w=0,b=s.length;w<b;++w){if(c=a.metadata.characterToGlyph(s.charCodeAt(w)),a.metadata.glyIdsUsed.push(c),a.metadata.toUnicode[c]=s.charCodeAt(w),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(a.metadata.widthOfGlyph(c),10)])),c=="0")return f.join("");c=c.toString(16),f.push(d[4-c.length],c)}return f.join("")},n=function(s){var a,c,u,d,f,w,b;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],w=0,b=(c=Object.keys(s).sort(function(v,E){return v-E})).length;w<b;w++)a=c[w],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(d=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var c=a.font,u=a.out,d=a.newObject,f=a.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,b=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),v="",E=0;E<b.length;E++)v+=String.fromCharCode(b[E]);var D=d();f({data:v,addLength1:!0,objectId:D}),u("endobj");var T=d();f({data:n(c.metadata.toUnicode),addLength1:!0,objectId:T}),u("endobj");var P=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Wd(c.fontName)),u("/FontFile2 "+D+" 0 R"),u("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var U=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Wd(c.fontName)),u("/FontDescriptor "+P+" 0 R"),u("/W "+r.API.PDFObject.convert(w)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+T+" 0 R"),u("/BaseFont /"+Wd(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+U+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var c=a.font,u=a.out,d=a.newObject,f=a.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,b="",v=0;v<w.length;v++)b+=String.fromCharCode(w[v]);var E=d();f({data:b,addLength1:!0,objectId:E}),u("endobj");var D=d();f({data:n(c.metadata.toUnicode),addLength1:!0,objectId:D}),u("endobj");var T=d();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+E+" 0 R"),u("/Flags 96"),u("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Wd(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=d();for(var P=0;P<c.metadata.hmtx.widths.length;P++)c.metadata.hmtx.widths[P]=parseInt(c.metadata.hmtx.widths[P]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+D+" 0 R/BaseFont/"+Wd(c.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,c=s.text||"",u=s.x,d=s.y,f=s.options||{},w=s.mutex||{},b=w.pdfEscape,v=w.activeFontKey,E=w.fonts,D=v,T="",P=0,U="",V=E[D].encoding;if(E[D].encoding!=="Identity-H")return{text:c,x:u,y:d,options:f,mutex:w};for(U=c,D=v,Array.isArray(c)&&(U=c[0]),P=0;P<U.length;P+=1)E[D].metadata.hasOwnProperty("cmap")&&(a=E[D].metadata.cmap.unicode.codeMap[U[P].charCodeAt(0)]),a||U[P].charCodeAt(0)<256&&E[D].metadata.hasOwnProperty("Unicode")?T+=U[P]:T+="";var H="";return parseInt(D.slice(1))<14||V==="WinAnsiEncoding"?H=b(T,D).split("").map(function(ie){return ie.charCodeAt(0).toString(16)}).join(""):V==="Identity-H"&&(H=t(T,E[D])),w.isHex=!0,{text:H,x:u,y:d,options:f,mutex:w}};e.events.push(["postProcessText",function(s){var a=s.text||"",c=[],u={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?c.push([i(Object.assign({},u,{text:a[d][0]})).text,a[d][1],a[d][2]]):c.push(i(Object.assign({},u,{text:a[d]})).text);s.text=c}else s.text=i(Object.assign({},u,{text:a})).text}])})(Yt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Yt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,a,c,u,d,f,w=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},D={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),U=!1,V=0;this.__bidiEngine__={};var H=function(N){var I=N.charCodeAt(),L=I>>8,ee=D[L];return ee!==void 0?w[256*ee+(255&I)]:L===252||L===253?"AL":P.test(L)?"L":L===8?"R":"N"},ie=function(N){for(var I,L=0;L<N.length;L++){if((I=H(N.charAt(L)))==="L")return!1;if(I==="R")return!0}return!1},de=function(N,I,L,ee){var ve,Ne,be,oe,_e=I[ee];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":U=!1;break;case"N":case"AN":break;case"EN":U&&(_e="AN");break;case"AL":U=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":ee<1||ee+1>=I.length||(ve=L[ee-1])!=="EN"&&ve!=="AN"||(Ne=I[ee+1])!=="EN"&&Ne!=="AN"?_e="N":U&&(Ne="AN"),_e=Ne===ve?Ne:"N";break;case"ES":_e=(ve=ee>0?L[ee-1]:"B")==="EN"&&ee+1<I.length&&I[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&L[ee-1]==="EN"){_e="EN";break}if(U){_e="N";break}for(be=ee+1,oe=I.length;be<oe&&I[be]==="ET";)be++;_e=be<oe&&I[be]==="EN"?"EN":"N";break;case"NSM":if(a&&!c){for(oe=I.length,be=ee+1;be<oe&&I[be]==="NSM";)be++;if(be<oe){var ge=N[ee],te=ge>=1425&&ge<=2303||ge===64286;if(ve=I[be],te&&(ve==="R"||ve==="AL")){_e="R";break}}}_e=ee<1||(ve=I[ee-1])==="B"?"N":L[ee-1];break;case"B":U=!1,i=!0,_e=V;break;case"S":s=!0,_e="N"}return _e},q=function(N,I,L){var ee=N.split("");return L&&O(ee,L,{hiLevel:V}),ee.reverse(),I&&I.reverse(),ee.join("")},O=function(N,I,L){var ee,ve,Ne,be,oe,_e=-1,ge=N.length,te=0,j=[],F=V?v:b,Y=[];for(U=!1,i=!1,s=!1,ve=0;ve<ge;ve++)Y[ve]=H(N[ve]);for(Ne=0;Ne<ge;Ne++){if(oe=te,j[Ne]=de(N,Y,j,Ne),ee=240&(te=F[oe][E[j[Ne]]]),te&=15,I[Ne]=be=F[te][5],ee>0)if(ee===16){for(ve=_e;ve<Ne;ve++)I[ve]=1;_e=-1}else _e=-1;if(F[te][6])_e===-1&&(_e=Ne);else if(_e>-1){for(ve=_e;ve<Ne;ve++)I[ve]=be;_e=-1}Y[Ne]==="B"&&(I[Ne]=0),L.hiLevel|=be}s&&(function(se,le,ye){for(var fe=0;fe<ye;fe++)if(se[fe]==="S"){le[fe]=V;for(var he=fe-1;he>=0&&se[he]==="WS";he--)le[he]=V}})(Y,I,ge)},M=function(N,I,L,ee,ve){if(!(ve.hiLevel<N)){if(N===1&&V===1&&!i)return I.reverse(),void(L&&L.reverse());for(var Ne,be,oe,_e,ge=I.length,te=0;te<ge;){if(ee[te]>=N){for(oe=te+1;oe<ge&&ee[oe]>=N;)oe++;for(_e=te,be=oe-1;_e<be;_e++,be--)Ne=I[_e],I[_e]=I[be],I[be]=Ne,L&&(Ne=L[_e],L[_e]=L[be],L[be]=Ne);te=oe}te++}}},z=function(N,I,L){var ee=N.split(""),ve={hiLevel:V};return L||(L=[]),O(ee,L,ve),(function(Ne,be,oe){if(oe.hiLevel!==0&&f)for(var _e,ge=0;ge<Ne.length;ge++)be[ge]===1&&(_e=T.indexOf(Ne[ge]))>=0&&(Ne[ge]=T[_e+1])})(ee,L,ve),M(2,ee,I,L,ve),M(1,ee,I,L,ve),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(N,I,L){if((function(ve,Ne){if(Ne)for(var be=0;be<ve.length;be++)Ne[be]=be;c===void 0&&(c=ie(ve)),d===void 0&&(d=ie(ve))})(N,I),a||!u||d)if(a&&u&&c^d)V=c?1:0,N=q(N,I,L);else if(!a&&u&&d)V=c?1:0,N=z(N,I,L),N=q(N,I);else if(!a||c||u||d){if(a&&!u&&c^d)N=q(N,I),c?(V=0,N=z(N,I,L)):(V=1,N=z(N,I,L),N=q(N,I));else if(a&&c&&!u&&d)V=1,N=z(N,I,L),N=q(N,I);else if(!a&&!u&&c^d){var ee=f;c?(V=1,N=z(N,I,L),V=0,f=!1,N=z(N,I,L),f=ee):(V=0,N=z(N,I,L),N=q(N,I),V=1,f=!1,N=z(N,I,L),f=ee,N=q(N,I))}}else V=0,N=z(N,I,L);else V=c?1:0,N=z(N,I,L);return N},this.__bidiEngine__.setOptions=function(N){N&&(a=N.isInputVisual,u=N.isOutputVisual,c=N.isInputRtl,d=N.isOutputRtl,f=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(a=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?a.push([t.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):a.push([t.doBidiReorder(i[c])]);n.text=a}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Yt),Yt.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new hu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Cj(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new fj(this.contents),this.head=new mj(this),this.name=new xj(this),this.cmap=new IE(this),this.toUnicode={},this.hhea=new gj(this),this.maxp=new bj(this),this.hmtx=new _j(this),this.post=new yj(this),this.os2=new vj(this),this.loca=new Nj(this),this.glyf=new Sj(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,c,u,d;for(d=[],a=0,c=(u=this.bbox).length;a<c;a++)e=u[a],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,s,a,c;for(a=0,s=0,c=(e=""+e).length;0<=c?s<c:s>c;s=0<=c?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var Ka,hu=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,s,a,c,u;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),c=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^c)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*a+256*c+u},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)t=e[n],s.push(this.writeByte(t));return s},r})(),fj=(function(){var r;function e(t){var n,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,s,a,c,u,d,f,w,b,v,E,D;for(D in v=Object.keys(t).length,u=Math.log(2),w=16*Math.floor(Math.log(v)/u),a=Math.floor(w/u),f=16*v-w,(i=new hu).writeInt(this.scalarType),i.writeShort(v),i.writeShort(w),i.writeShort(a),i.writeShort(f),s=16*v,d=i.pos+s,c=null,E=[],t)for(b=t[D],i.writeString(D),i.writeInt(r(b)),i.writeInt(d),i.writeInt(b.length),E=E.concat(b),D==="head"&&(c=d),d+=b.length;d%4;)E.push(0),d++;return i.write(E),n=2981146554-r(i.data),i.pos=c+8,i.writeUInt32(n),i.data},r=function(t){var n,i,s,a;for(t=AE.call(t);t.length%4;)t.push(0);for(s=new hu(t),i=0,n=0,a=t.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e})(),pj={}.hasOwnProperty,Pl=function(r,e){for(var t in e)pj.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Ka=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var mj=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pl(r,Ka),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new hu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),kb=(function(){function r(e,t){var n,i,s,a,c,u,d,f,w,b,v,E,D,T,P,U,V;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(v=e.readUInt16(),b=v/2,e.pos+=6,s=(function(){var H,ie;for(ie=[],u=H=0;0<=b?H<b:H>b;u=0<=b?++H:--H)ie.push(e.readUInt16());return ie})(),e.pos+=2,D=(function(){var H,ie;for(ie=[],u=H=0;0<=b?H<b:H>b;u=0<=b?++H:--H)ie.push(e.readUInt16());return ie})(),d=(function(){var H,ie;for(ie=[],u=H=0;0<=b?H<b:H>b;u=0<=b?++H:--H)ie.push(e.readUInt16());return ie})(),f=(function(){var H,ie;for(ie=[],u=H=0;0<=b?H<b:H>b;u=0<=b?++H:--H)ie.push(e.readUInt16());return ie})(),i=(this.length-e.pos+this.offset)/2,c=(function(){var H,ie;for(ie=[],u=H=0;0<=i?H<i:H>i;u=0<=i?++H:--H)ie.push(e.readUInt16());return ie})(),u=P=0,V=s.length;P<V;u=++P)for(T=s[u],n=U=E=D[u];E<=T?U<=T:U>=T;n=E<=T?++U:--U)f[u]===0?a=n+d[u]:(a=c[f[u]/2+(n-E)-(b-u)]||0)!==0&&(a+=d[u]),this.codeMap[n]=65535&a}e.pos=w}return r.encode=function(e,t){var n,i,s,a,c,u,d,f,w,b,v,E,D,T,P,U,V,H,ie,de,q,O,M,z,N,I,L,ee,ve,Ne,be,oe,_e,ge,te,j,F,Y,se,le,ye,fe,he,Te,Fe,$e;switch(ee=new hu,a=Object.keys(e).sort(function(Ye,ht){return Ye-ht}),t){case"macroman":for(D=0,T=(function(){var Ye=[];for(E=0;E<256;++E)Ye.push(0);return Ye})(),U={0:0},s={},ve=0,_e=a.length;ve<_e;ve++)U[he=e[i=a[ve]]]==null&&(U[he]=++D),s[i]={old:e[i],new:U[e[i]]},T[i]=U[e[i]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(T),{charMap:s,subtable:ee.data,maxGlyphID:D+1};case"unicode":for(I=[],w=[],V=0,U={},n={},P=d=null,Ne=0,ge=a.length;Ne<ge;Ne++)U[ie=e[i=a[Ne]]]==null&&(U[ie]=++V),n[i]={old:ie,new:U[ie]},c=U[ie]-i,P!=null&&c===d||(P&&w.push(P),I.push(i),d=c),P=i;for(P&&w.push(P),w.push(65535),I.push(65535),z=2*(M=I.length),O=2*Math.pow(Math.log(M)/Math.LN2,2),b=Math.log(O/2)/Math.LN2,q=2*M-O,u=[],de=[],v=[],E=be=0,te=I.length;be<te;E=++be){if(N=I[E],f=w[E],N===65535){u.push(0),de.push(0);break}if(N-(L=n[N].new)>=32768)for(u.push(0),de.push(2*(v.length+M-E)),i=oe=N;N<=f?oe<=f:oe>=f;i=N<=f?++oe:--oe)v.push(n[i].new);else u.push(L-N),de.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*M+2*v.length),ee.writeUInt16(0),ee.writeUInt16(z),ee.writeUInt16(O),ee.writeUInt16(b),ee.writeUInt16(q),ye=0,j=w.length;ye<j;ye++)i=w[ye],ee.writeUInt16(i);for(ee.writeUInt16(0),fe=0,F=I.length;fe<F;fe++)i=I[fe],ee.writeUInt16(i);for(Te=0,Y=u.length;Te<Y;Te++)c=u[Te],ee.writeUInt16(c);for(Fe=0,se=de.length;Fe<se;Fe++)H=de[Fe],ee.writeUInt16(H);for($e=0,le=v.length;$e<le;$e++)D=v[$e],ee.writeUInt16(D);return{charMap:n,subtable:ee.data,maxGlyphID:V+1}}},r})(),IE=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pl(r,Ka),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new kb(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=kb.encode(e,t),(i=new hu).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r})(),gj=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pl(r,Ka),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),vj=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pl(r,Ka),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),yj=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pl(r,Ka),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,c,u;for(u=[],s=a=0,c=this.file.maxp.numGlyphs;0<=c?a<c:a>c;s=0<=c?++a:--a)u.push(e.readUInt32());return u}).call(this)}},r})(),wj=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xj=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pl(r,Ka),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,s,a,c,u,d,f,w,b;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(u={},s=f=0,w=n.length;f<w;s=++f)i=n[s],e.pos=i.offset,d=e.readString(i.length),a=new wj(d,i),u[b=i.nameID]==null&&(u[b]=[]),u[i.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},r})(),bj=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pl(r,Ka),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),_j=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pl(r,Ka),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,s,a,c,u;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],t=d=0;0<=i?d<i:d>i;t=0<=i?++d:--d)f.push(e.readInt16());return f})(),this.widths=(function(){var d,f,w,b;for(b=[],d=0,f=(w=this.metrics).length;d<f;d++)s=w[d],b.push(s.advance);return b}).call(this),n=this.widths[this.widths.length-1],u=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)u.push(this.widths.push(n));return u},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),AE=[].slice,Sj=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pl(r,Ka),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,s,a,c,u,d,f,w;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,a=(c=new hu(t.read(i))).readShort(),d=c.readShort(),w=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[e]=a===-1?new Ej(c,d,w,u,f):new kj(c,a,d,w,u,f),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,s,a,c,u;for(a=[],s=[],c=0,u=t.length;c<u;c++)i=e[t[c]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},r})(),kj=(function(){function r(e,t,n,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),Ej=(function(){function r(e,t,n,i,s){var a,c;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;c=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&c;)a.pos+=1&c?4:2,128&c?a.pos+=8:64&c?a.pos+=4:8&c&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new hu(AE.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),Nj=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pl(r,Ka),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<t.length&&t[s]==a){++s,n[a]=i;var c=this.offsets[a],u=this.offsets[a+1]-c;u>0&&(i+=u)}for(var d=new Array(4*n.length),f=0;f<n.length;++f)d[4*f+3]=255&n[f],d[4*f+2]=(65280&n[f])>>8,d[4*f+1]=(16711680&n[f])>>16,d[4*f]=(4278190080&n[f])>>24;return d},r})(),Cj=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,s,a,c,u;for(i={},a=0,c=e.length;a<c;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(n=i[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in u=this.glyphsFor(t))n=u[s],i[s]=n;return i},r.prototype.encode=function(e,t){var n,i,s,a,c,u,d,f,w,b,v,E,D,T,P;for(i in n=IE.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),v={0:0},P=n.charMap)v[(u=P[i]).old]=u.new;for(E in b=n.maxGlyphID,a)E in v||(v[E]=b++);return f=(function(U){var V,H;for(V in H={},U)H[U[V]]=V;return H})(v),w=Object.keys(f).sort(function(U,V){return U-V}),D=(function(){var U,V,H;for(H=[],U=0,V=w.length;U<V;U++)c=w[U],H.push(f[c]);return H})(),s=this.font.glyf.encode(a,D,v),d=this.font.loca.encode(s.offsets,D),T={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},r})();Yt.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,s,a;if(Array.isArray(t))return"["+(function(){var c,u,d;for(d=[],c=0,u=t.length;c<u;c++)n=t[c],d.push(e.convert(n));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e})();function TE(r,e,t,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,c=i.internal.getFontSize()/a,u=i.getLineHeightFactor?i.getLineHeightFactor():s,d=c*u,f=/\r\n|\r|\n/g,w="",b=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(w=typeof r=="string"?r.split(f):r,b=w.length||1),t+=c*(2-s),n.valign==="middle"?t-=b/2*d:n.valign==="bottom"&&(t-=b*d),n.halign==="center"||n.halign==="right"){var v=c;if(n.halign==="center"&&(v*=.5),w&&b>=1){for(var E=0;E<w.length;E++)i.text(w[E],e-i.getStringUnitWidth(w[E])*v,t),t+=d;return i}e-=i.getStringUnitWidth(r)*v}return n.halign==="justify"?i.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,e,t),i}var Eb={},oh=(function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Eb=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),c=a.fontStyle,u=a.fontName;if(e.font&&(u=e.font),e.fontStyle){c=e.fontStyle;var d=this.getFontList()[u];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(u,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var f=r.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=r.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=r.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,i,s){return this.jsPDFDocument.rect(e,t,n,i,s)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return Eb||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r})(),_1=function(r,e){return _1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},_1(r,e)};function PE(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_1(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var DE=(function(r){PE(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e})(Array);function Ij(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Aj(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function d0(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(s){return t.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function LE(r,e,t,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:s});var a=RE(i,!1);a&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,a)}function RE(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function W0(r,e){var t,n,i,s;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(i=r.right)!==null&&i!==void 0?i:e,bottom:(s=r.bottom)!==null&&s!==void 0?s:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function ME(r,e){var t=W0(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function Tj(r,e,t,n,i){var s={},a=1.3333333333333333,c=Tv(e,function(V){return i.getComputedStyle(V).backgroundColor});c!=null&&(s.fillColor=c);var u=Tv(e,function(V){return i.getComputedStyle(V).color});u!=null&&(s.textColor=u);var d=Dj(n,t);d&&(s.cellPadding=d);var f="borderTopColor",w=a*t,b=n.borderTopWidth;if(n.borderBottomWidth===b&&n.borderRightWidth===b&&n.borderLeftWidth===b){var v=(parseFloat(b)||0)/w;v&&(s.lineWidth=v)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/w,right:(parseFloat(n.borderRightWidth)||0)/w,bottom:(parseFloat(n.borderBottomWidth)||0)/w,left:(parseFloat(n.borderLeftWidth)||0)/w},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var E=Tv(e,function(V){return i.getComputedStyle(V)[f]});E!=null&&(s.lineColor=E);var D=["left","right","center","justify"];D.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),D=["middle","bottom","top"],D.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var T=parseInt(n.fontSize||"");isNaN(T)||(s.fontSize=T/a);var P=Pj(n);P&&(s.fontStyle=P);var U=(n.fontFamily||"").toLowerCase();return r.indexOf(U)!==-1&&(s.font=U),s}function Pj(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function Tv(r,e){var t=OE(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function OE(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:OE(r.parentElement,e):t}function Dj(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,s=t.map(function(c){return parseInt(c||"0")/n}),a=W0(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function jE(r,e,t,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var u=Object.keys(r.getFontList()),d=r.scaleFactor(),f=[],w=[],b=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:f,body:w,foot:b};for(var v=0;v<c.rows.length;v++){var E=c.rows[v],D=(a=(s=E?.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),T=Lj(u,d,t,E,n,i);T&&(D==="thead"?f.push(T):D==="tfoot"?b.push(T):w.push(T))}return{head:f,body:w,foot:b}}function Lj(r,e,t,n,i,s){for(var a=new DE(n),c=0;c<n.cells.length;c++){var u=n.cells[c],d=t.getComputedStyle(u);if(i||d.display!=="none"){var f=void 0;s&&(f=Tj(r,u,e,d,t)),a.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:f,_element:u,content:Rj(u)})}}var w=t.getComputedStyle(n);if(a.length>0&&(i||w.display!=="none"))return a}function Rj(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function Mj(r,e,t){for(var n=0,i=[r,e,t];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function oc(r,e,t,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),a=1;a<arguments.length;a++){var c=arguments[a];if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(s[u]=c[u])}return s}function FE(r,e){var t=new oh(r),n=t.getDocumentOptions(),i=t.getGlobalOptions();Mj(i,n,e);var s=oc({},i,n,e),a;typeof window<"u"&&(a=window);var c=Oj(i,n,e),u=jj(i,n,e),d=Fj(t,s),f=Uj(t,s,a);return{id:e.tableId,content:f,hooks:u,styles:c,settings:d}}function Oj(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var d=r[u],f=e[u],w=t[u];n.columnStyles=oc({},d,f,w)}else{var b=[r,e,t],v=b.map(function(E){return E[u]||{}});n[u]=oc({},v[0],v[1],v[2])}},s=0,a=Object.keys(n);s<a.length;s++){var c=a[s];i(c)}return n}function jj(r,e,t){for(var n=[r,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var c=a[s];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function Fj(r,e){var t,n,i,s,a,c,u,d,f,w,b,v,E=W0(e.margin,40/r.scaleFactor()),D=(t=Bj(r,e.startY))!==null&&t!==void 0?t:E.top,T;e.showFoot===!0?T="everyPage":e.showFoot===!1?T="never":T=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var P;e.showHead===!0?P="everyPage":e.showHead===!1?P="never":P=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var U=(s=e.useCss)!==null&&s!==void 0?s:!1,V=e.theme||(U?"plain":"striped"),H=!!e.horizontalPageBreak,ie=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:U,theme:V,startY:D,margin:E,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:P,showFoot:T,tableLineWidth:(w=e.tableLineWidth)!==null&&w!==void 0?w:0,tableLineColor:(b=e.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:H,horizontalPageBreakRepeat:ie,horizontalPageBreakBehaviour:(v=e.horizontalPageBreakBehaviour)!==null&&v!==void 0?v:"afterAllRows"}}function Bj(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),s=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&t?.finalY!=null?t.finalY+20/n:null}function Uj(r,e,t){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var c=jE(r,e.html,t,a,e.useCss)||{};n=c.head||n,i=c.body||n,s=c.foot||n}else console.error("Cannot parse html in non browser environment")}var u=e.columns||Vj(n,i,s);return{columns:u,head:n,body:i,foot:s}}function Vj(r,e,t){var n=r[0]||e[0]||t[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,c;Array.isArray(n)?c=n[parseInt(s)]:c=n[s],typeof c=="object"&&!Array.isArray(c)&&(a=c?.colSpan||1);for(var u=0;u<a;u++){var d=void 0;Array.isArray(n)?d=i.length:d=s+(u>0?"_".concat(u):"");var f={dataKey:d};i.push(f)}}),i}var S1=(function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r})(),zj=(function(r){PE(e,r);function e(t,n,i,s,a,c){var u=r.call(this,t,n,c)||this;return u.cell=i,u.row=s,u.column=a,u.section=s.section,u}return e})(S1),qj=(function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,i,s,a){for(var c=0,u=t;c<u.length;c++){var d=u[c],f=new zj(e,this,n,i,s,a),w=d(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],w)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new S1(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new S1(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r})(),BE=(function(){function r(e,t,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof DE&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=i,this.spansMultiplePages=s}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var i=t.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var c=t.getLineHeight(a.styles.fontSize),u=a.padding("vertical"),d=u+c;return d>i?d:i},0)},r})(),UE=(function(){function r(e,t,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",c=/\r\n|\r|\n/g;this.text=a.split(c)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=W0(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r})(),Hj=(function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},r})();function Wj(r,e){$j(r,e);var t=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,t.push(s)),n+=s.width});var i=e.getWidth(r.pageSize().width)-n;i&&(i=k1(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=k1(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Gj(e),Kj(e,r),Yj(e)}function $j(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,i=ME(r,e);e.allRows().forEach(function(s){for(var a=0,c=e.columns;a<c.length;a++){var u=c[a],d=s.cells[u.index];if(d){var f=e.hooks.didParseCell;e.callCellHooks(r,f,d,s,u,null);var w=d.padding("horizontal");d.contentWidth=d0(d.text,d.styles,r)+w;var b=d0(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,r);if(d.minReadableWidth=b+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>i?(d.minWidth=i,d.wrappedWidth=i):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var v=10/t;d.minWidth=d.styles.minCellWidth||v,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,c=e.columns;a<c.length;a++){var u=c[a],d=s.cells[u.index];if(d&&d.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,d.wrappedWidth),u.minWidth=Math.max(u.minWidth,d.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,d.minReadableWidth);else{var f=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},w=f.cellWidth||f.minCellWidth;w&&typeof w=="number"&&(u.minWidth=w,u.wrappedWidth=w)}d&&(d.colSpan>1&&!u.minWidth&&(u.minWidth=d.minWidth),d.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=d.minWidth))}})}function k1(r,e,t){for(var n=e,i=r.reduce(function(v,E){return v+E.wrappedWidth},0),s=0;s<r.length;s++){var a=r[s],c=a.wrappedWidth/i,u=n*c,d=a.width+u,f=t(a),w=d<f?f:d;e-=w-a.width,a.width=w}if(e=Math.round(e*1e10)/1e10,e){var b=r.filter(function(v){return e<0?v.width>t(v):!0});b.length&&(e=k1(b,e,t))}return e}function Yj(r){for(var e={},t=1,n=r.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,c=r.columns;a<c.length;a++){var u=c[a],d=e[u.index];if(t>1)t--,delete s.cells[u.index];else if(d)d.cell.height+=s.height,t=d.cell.colSpan,delete s.cells[u.index],d.left--,d.left<=1&&delete e[u.index];else{var f=s.cells[u.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var w=n.length-i,b=f.rowSpan>w?w:f.rowSpan;e[u.index]={cell:f,left:b,row:s}}}}}function Gj(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],i=null,s=0,a=0,c=0;c<r.columns.length;c++){var u=r.columns[c];if(a-=1,a>1&&r.columns[c+1])s+=u.width,delete n.cells[u.index];else if(i){var d=i;delete n.cells[u.index],i=null,d.width=u.width+s}else{var d=n.cells[u.index];if(!d)continue;if(a=d.colSpan,s=0,d.colSpan>1){i=d,s+=u.width;continue}d.width=u.width+s}}}function Kj(r,e){for(var t={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var s=i[n],a=0,c=r.columns;a<c.length;a++){var u=c[a],d=s.cells[u.index];if(d){e.applyStyles(d.styles,!0);var f=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,f+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Nb(d.text,f,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Nb(d.text,f,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var w=d.styles.overflow(d.text,f);typeof w=="string"?d.text=[w]:d.text=w}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var b=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<b*d.rowSpan?t={height:b,count:d.rowSpan}:t&&t.count>0&&t.height>b&&(b=t.height),b>s.height&&(s.height=b)}}t.count--}}function Nb(r,e,t,n,i){return r.map(function(s){return Qj(s,e,t,n,i)})}function Qj(r,e,t,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=d0(r,t,n))return r;for(;e<d0(r+i,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function VE(r,e){var t=new oh(r),n=Xj(e,t.scaleFactor()),i=new qj(e,n);return Wj(t,i),t.applyStyles(t.userStyles),i}function Xj(r,e){var t=r.content,n=Zj(t.columns);if(t.head.length===0){var i=Cb(n,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=Cb(n,"foot");i&&t.foot.push(i)}var s=r.settings.theme,a=r.styles;return{columns:n,head:Pv("head",t.head,n,a,s,e),body:Pv("body",t.body,n,a,s,e),foot:Pv("foot",t.foot,n,a,s,e)}}function Pv(r,e,t,n,i,s){var a={},c=e.map(function(u,d){for(var f=0,w={},b=0,v=0,E=0,D=t;E<D.length;E++){var T=D[E];if(a[T.index]==null||a[T.index].left===0)if(v===0){var P=void 0;Array.isArray(u)?P=u[T.index-b-f]:P=u[T.dataKey];var U={};typeof P=="object"&&!Array.isArray(P)&&(U=P?.styles||{});var V=e7(r,T,d,i,n,s,U),H=new UE(P,V,r);w[T.dataKey]=H,w[T.index]=H,v=H.colSpan-1,a[T.index]={left:H.rowSpan-1,times:v}}else v--,b++;else a[T.index].left--,v=a[T.index].times,f++}return new BE(u,d,r,w)});return c}function Cb(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var i=Jj(e,n.raw);i!=null&&(t[n.dataKey]=i)}}),Object.keys(t).length>0?t:null}function Jj(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function Zj(r){return r.map(function(e,t){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:t:i=t,new Hj(i,e,t)})}function e7(r,e,t,n,i,s,a){var c=Aj(n),u;r==="head"?u=i.headStyles:r==="body"?u=i.bodyStyles:r==="foot"&&(u=i.footStyles);var d=oc({},c.table,c[r],i.styles,u),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},w=r==="body"?f:{},b=r==="body"&&t%2===0?oc({},c.alternateRow,i.alternateRowStyles):{},v=Ij(s),E=oc({},v,d,b,w);return oc(E,a)}function t7(r,e,t){var n;t===void 0&&(t={});var i=ME(r,e),s=new Map,a=[],c=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(b){var v=e.columns.find(function(E){return E.dataKey===b||E.index===b});v&&!s.has(v.index)&&(s.set(v.index,!0),a.push(v.index),c.push(e.columns[v.index]),i-=v.wrappedWidth)});for(var d=!0,f=(n=t?.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(s.has(f)){f++;continue}var w=e.columns[f].wrappedWidth;if(d||i>=w)d=!1,a.push(f),c.push(e.columns[f]),i-=w;else break;f++}return{colIndexes:a,columns:c,lastIndex:f-1}}function n7(r,e){for(var t=[],n=0;n<e.columns.length;n++){var i=t7(r,e,{start:n});i.columns.length&&(t.push(i),n=i.lastIndex)}return t}function zE(r,e){var t=e.settings,n=t.startY,i=t.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=n+i.bottom+a;if(t.pageBreak==="avoid"){var u=e.body,d=u.reduce(function(b,v){return b+v.height},0);c+=d}var f=new oh(r);(t.pageBreak==="always"||t.startY!=null&&c>f.pageSize().height)&&(HE(f),s.y=i.top),e.callWillDrawPageHooks(f,s);var w=oc({},s);e.startPageNumber=f.pageNumber(),t.horizontalPageBreak?r7(f,e,w,s):(f.applyStyles(f.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(b){return mc(f,e,b,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(b,v){var E=v===e.body.length-1;h0(f,e,b,E,w,s,e.columns)}),f.applyStyles(f.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(b){return mc(f,e,b,s,e.columns)})),LE(f,e,w,s),e.callEndPageHooks(f,s),e.finalY=s.y,r.lastAutoTable=e,f.applyStyles(f.userStyles)}function r7(r,e,t,n){var i=n7(r,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(d,f){r.applyStyles(r.userStyles),f>0?Cf(r,e,t,n,d.columns,!0):Ib(r,e,n,d.columns),i7(r,e,t,n,d.columns),Dv(r,e,n,d.columns)});else for(var a=-1,c=i[0],u=function(){var d=a;if(c){r.applyStyles(r.userStyles);var f=c.columns;a>=0?Cf(r,e,t,n,f,!0):Ib(r,e,n,f),d=Ab(r,e,a+1,n,f),Dv(r,e,n,f)}var w=d-a;i.slice(1).forEach(function(b){r.applyStyles(r.userStyles),Cf(r,e,t,n,b.columns,!0),Ab(r,e,a+1,n,b.columns,w),Dv(r,e,n,b.columns)}),a=d};a<e.body.length-1;)u()}function Ib(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return mc(r,e,s,t,n)})}function i7(r,e,t,n,i){r.applyStyles(r.userStyles),e.body.forEach(function(s,a){var c=a===e.body.length-1;h0(r,e,s,c,t,n,i)})}function Ab(r,e,t,n,i,s){r.applyStyles(r.userStyles),s=s??e.body.length;var a=Math.min(t+s,e.body.length),c=-1;return e.body.slice(t,a).forEach(function(u,d){var f=t+d===e.body.length-1,w=qE(r,e,f,n);u.canEntireRowFit(w,i)&&(mc(r,e,u,n,i),c=t+d)}),c}function Dv(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return mc(r,e,s,t,n)})}function s7(r,e,t){var n=t.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function o7(r,e,t,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var s=0,a=0,c=t.columns;a<c.length;a++){var u=c[a],d=r.cells[u.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var f=new UE(d.raw,d.styles,d.section);f=oc(f,d),f.text=[];var w=s7(d,e,n);d.text.length>w&&(f.text=d.text.splice(w,d.text.length));var b=n.scaleFactor(),v=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(b,v),d.contentHeight>=e&&(d.contentHeight=e,f.styles.minCellHeight-=e),d.contentHeight>r.height&&(r.height=d.contentHeight),f.contentHeight=f.getContentHeight(b,v),f.contentHeight>s&&(s=f.contentHeight),i[u.index]=f}}var E=new BE(r.raw,-1,r.section,i,!0);E.height=s;for(var D=0,T=t.columns;D<T.length;D++){var u=T[D],f=E.cells[u.index];f&&(f.height=E.height);var d=r.cells[u.index];d&&(d.height=r.height)}return E}function a7(r,e,t,n){var i=r.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,c=i-a;e.section==="body"&&(c-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var u=e.getMinimumRowHeight(n.columns,r),d=u<t;if(u>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var f=e.hasRowSpan(n.columns),w=e.getMaxCellHeight(n.columns)>c;return w?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function h0(r,e,t,n,i,s,a){var c=qE(r,e,n,s);if(t.canEntireRowFit(c,a))mc(r,e,t,s,a);else if(a7(r,t,c,e)){var u=o7(t,c,e,r);mc(r,e,t,s,a),Cf(r,e,i,s,a),h0(r,e,u,n,i,s,a)}else Cf(r,e,i,s,a),h0(r,e,t,n,i,s,a)}function mc(r,e,t,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var c=a[s],u=t.cells[c.index];if(!u){n.x+=c.width;continue}r.applyStyles(u.styles),u.x=n.x,u.y=n.y;var d=e.callCellHooks(r,e.hooks.willDrawCell,u,t,c,n);if(d===!1){n.x+=c.width;continue}l7(r,u,n);var f=u.getTextPos();TE(u.text,f.x,f.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,u,t,c,n),n.x+=c.width}n.y+=t.height}function l7(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=RE(n.lineWidth,n.fillColor);i&&r.rect(e.x,t.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),c7(r,e,t,n.lineWidth))}function c7(r,e,t,n){var i,s,a,c;n.top&&(i=t.x,s=t.y,a=t.x+e.width,c=t.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),u(n.top,i,s,a,c)),n.bottom&&(i=t.x,s=t.y+e.height,a=t.x+e.width,c=t.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),u(n.bottom,i,s,a,c)),n.left&&(i=t.x,s=t.y,a=t.x,c=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(c+=.5*n.bottom),u(n.left,i,s,a,c)),n.right&&(i=t.x+e.width,s=t.y,a=t.x+e.width,c=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(c+=.5*n.bottom),u(n.right,i,s,a,c));function u(d,f,w,b,v){r.getDocument().setLineWidth(d),r.getDocument().line(f,w,b,v,"S")}}function qE(r,e,t,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-i}function Cf(r,e,t,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(c){return mc(r,e,c,n,i)}),e.callEndPageHooks(r,n);var a=e.settings.margin;LE(r,e,t,n),HE(r),e.pageNumber++,n.x=a.left,n.y=a.top,t.y=a.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return mc(r,e,c,n,i)}),r.applyStyles(r.userStyles))}function HE(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function u7(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],i=FE(this,n),s=VE(this,i);return zE(this,s),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,i){TE(e,t,n,i,this)},r.API.autoTableSetDefaults=function(e){return oh.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){oh.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new oh(this),s=jE(i,e,window,t,!1),a=s.head,c=s.body,u=((n=a[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:u,rows:c,data:c}}}var Lv;function Tb(r,e){var t=FE(r,e),n=VE(r,t);zE(r,n)}try{if(typeof window<"u"&&window){var Pb=window,Db=Pb.jsPDF||((Lv=Pb.jspdf)===null||Lv===void 0?void 0:Lv.jsPDF);Db&&u7(Db)}}catch(r){console.error("Could not apply autoTable plugin",r)}const d7=({inventory:r,kits:e,lists:t,activeListId:n,setActiveListId:i})=>{const s=()=>[{id:crypto.randomUUID(),name:"Audio",components:[]},{id:crypto.randomUUID(),name:"Luci",components:[]},{id:crypto.randomUUID(),name:"Video",components:[]},{id:crypto.randomUUID(),name:"Strutture",components:[]},{id:crypto.randomUUID(),name:"Elettrico",components:[]},{id:crypto.randomUUID(),name:"Regia",components:[]},{id:crypto.randomUUID(),name:"Attrezzi",components:[]}],[a,c]=Se.useState("list"),[u,d]=Se.useState(""),[f,w]=Se.useState(""),[b,v]=Se.useState(""),[E,D]=Se.useState(""),T=Se.useRef(null),[P,U]=Se.useState("All"),[V,H]=Se.useState(""),[ie,de]=Se.useState(null),[q,O]=Se.useState(null),[M,z]=Se.useState(new Set),[N,I]=Se.useState(!1),[L,ee]=Se.useState(null),[ve,Ne]=Se.useState(null),[be,oe]=Se.useState(null),[_e,ge]=Se.useState(null),[te,j]=Se.useState(new Set),[F,Y]=Se.useState([]),[se,le]=Se.useState(!1),[ye,fe]=Se.useState(!1),[he,Te]=Se.useState(null),[Fe,$e]=Se.useState(!1),[Ye,ht]=Se.useState({isOpen:!1,target:"section",type:"create",targetId:void 0,name:""}),[J,Ge]=Se.useState({isOpen:!1,zoneId:"",note:""}),at=()=>{if(!Je||!J.zoneId)return;const G=Je.zones.map(we=>we.id===J.zoneId?{...we,notes:J.note}:we);_i({zones:G}),Ge(we=>({...we,isOpen:!1}))},lt=Se.useRef(null),Qe=Se.useRef(null),[bt,pt]=Se.useState(!1),Rt=Se.useRef({}),[vt,hn]=Se.useState(null),[xt,Et]=Se.useState(null),[Ft,nn]=Se.useState(!1),St=Se.useRef(null),Jt=Se.useRef(!1),Ct=(G=!1)=>{G&&(Jt.current=!0),St.current&&(clearTimeout(St.current),St.current=null),nn(!0)},nr=(G=!1)=>{G&&(Jt.current=!1,T.current===document.activeElement)||!G&&Jt.current||(St.current&&clearTimeout(St.current),St.current=setTimeout(()=>{nn(!1)},600))},Je=Se.useMemo(()=>{const G=t.find(we=>we.id===n);if(G){if(!G.zones||G.zones.length===0){const we=G.sections&&G.sections.length>0?G.sections:s();return{...G,zones:[{id:"default-zone",name:"Zona Principale",sections:we}]}}return G}},[t,n]),ln=Je?.zones||[],_t=ln.find(G=>G.id===f),Wn=_t?.sections||[],ut=Wn.find(G=>G.id===b),Tn=Se.useMemo(()=>{if(!_t)return null;const G=new Set,we=new Map;return _t.sections.forEach(Be=>{Be.components.forEach(He=>{He.type==="item"?G.add(He.name):He.type==="kit"&&He.contents&&He.contents.forEach(mt=>{we.has(mt.name)||we.set(mt.name,new Set),we.get(mt.name).add(He.name)})})}),{loose:G,inKits:we}},[_t]),Gt=(G,we)=>{if(!Tn)return null;const Be=Tn.loose.has(G),He=Tn.inKits.get(G),mt=He&&(He.size>1||He.size===1&&!He.has(we));return mt&&Be?"!!!ALTRI IN KIT E SFUSI!!!":mt?"!!!ALTRI IN KIT!!!":Be?"!!!ALTRI IN SFUSI!!!":null};Se.useMemo(()=>{const G=new Map;return!Je||!Je.zones||Je.zones.forEach(we=>{we.sections.forEach(Be=>{Be.components.forEach(He=>{const mt=G.get(He.referenceId)||0;G.set(He.referenceId,mt+He.quantity)})})}),G},[Je]);const Zt=Se.useMemo(()=>{const G=(E||"").toLowerCase().trim().split(/\s+/).filter(we=>we.length>0);return G.length===0?r.filter(we=>P==="All"||we.category===P).sort((we,Be)=>we.name.localeCompare(Be.name)):r.map(we=>{const Be=(we.name||"").toLowerCase(),He=(we.category||"").toLowerCase(),mt=(we.description||"").toLowerCase(),Tt=Be.split(/[\s\-_/()]+/),vn=`${Be} ${He} ${mt}`;if(!G.every(fn=>vn.includes(fn)))return{item:we,score:-1};if(P!=="All"&&we.category!==P)return{item:we,score:-1};let gt=0;return G.forEach(fn=>{Be===fn&&(gt+=1e4),Tt.includes(fn)?gt+=1e3:Tt.some(yt=>yt.startsWith(fn))?gt+=500:Be.includes(fn)&&(gt+=100),He.includes(fn)&&(gt+=50)}),{item:we,score:gt}}).filter(we=>we.score>-1).sort((we,Be)=>Be.score!==we.score?Be.score-we.score:we.item.name.localeCompare(Be.item.name)).map(we=>we.item)},[r,E,P]),En=Se.useMemo(()=>{const G=(E||"").toLowerCase().split(" ").filter(we=>we.trim()!=="");return e.map(we=>{const Be=`${(we.name||"").toLowerCase()} ${(we.category||"").toLowerCase()} ${(we.description||"").toLowerCase()}`;return G.every(He=>Be.includes(He))?P!=="All"&&we.category!==P?{kit:we,score:-1,nameMatches:0}:{kit:we,score:1,nameMatches:1}:{kit:we,score:-1,nameMatches:0}}).filter(we=>we.score>-1).map(we=>we.kit)},[e,E,P]);Se.useEffect(()=>{n&&a==="list"&&c("edit")},[n,a]);const an=Se.useMemo(()=>t.filter(we=>we.eventName.toLowerCase().includes(u.toLowerCase())||we.location.toLowerCase().includes(u.toLowerCase())).sort((we,Be)=>new Date(Be.eventDate||0).getTime()-new Date(we.eventDate||0).getTime()),[t,u]),$t=G=>{i(G),c("edit")},kn=()=>{c("list"),i("")};Se.useEffect(()=>{if(Je&&Je.zones&&Je.zones.length>0){let G=f;if(!G){const we=localStorage.getItem(`cuepack_active_zone_${Je.id}`);we&&Je.zones.find(Be=>Be.id===we)&&(G=we)}(!G||!Je.zones.find(we=>we.id===G))&&(G=Je.zones[0].id),G!==f&&w(G)}},[Je]),Se.useEffect(()=>{if(_t&&_t.sections.length>0){let G=b;if(!(G&&_t.sections.find(Be=>Be.id===G))){const Be=localStorage.getItem(`cuepack_active_section_${_t.id}`);Be&&_t.sections.find(He=>He.id===Be)?G=Be:G=_t.sections[0].id}G!==b&&v(G)}else v("")},[f,_t]),Se.useEffect(()=>{n&&f&&localStorage.setItem(`cuepack_active_zone_${n}`,f)},[n,f]),Se.useEffect(()=>{f&&b&&localStorage.setItem(`cuepack_active_section_${f}`,b)},[f,b]),Se.useEffect(()=>{j(new Set),Te(null),H("")},[n,f,b]),Se.useEffect(()=>{if(vt&&Rt.current[vt]){const G=Rt.current[vt];G&&setTimeout(()=>{G.focus(),G.select()},10),hn(null)}},[Wn,vt]),Se.useEffect(()=>{if(!Je||Je.version||!Je.zones)return;let G=!1;const we=Je.zones.map(Be=>({...Be,sections:Be.sections.map(He=>({...He,components:He.components.map(mt=>{if(mt.type==="kit"){const Tt=e.find(vn=>vn.id===mt.referenceId);if(Tt){const vn=mt.name!==Tt.name,gt=Tt.items.sort((Pt,st)=>Pt.itemId.localeCompare(st.itemId)),fn=(mt.contents||[]).map(Pt=>({itemId:Pt.itemId,quantity:Pt.quantity})).filter(Pt=>Pt.itemId).sort((Pt,st)=>(Pt.itemId||"").localeCompare(st.itemId||"")),yt=JSON.stringify(gt)!==JSON.stringify(fn);if(vn||yt){G=!0,console.log(`[Sync] Updating Kit: ${mt.name} -> ${Tt.name} (Contents Changed: ${yt})`);const Pt=Tt.items.map(st=>{const Nn=r.find(On=>On.id===st.itemId);return{itemId:st.itemId,name:Nn?.name||"?",quantity:st.quantity,category:Nn?.category||"Altro"}});return{...mt,name:Tt.name,contents:Pt}}}}else{const Tt=r.find(vn=>vn.id===mt.referenceId);if(Tt){const vn=mt.name!==Tt.name,gt=(Tt.accessories||[]).map(Pt=>({itemId:Pt.itemId,quantity:Pt.quantity,prepNote:Pt.prepNote||""})).sort((Pt,st)=>Pt.itemId.localeCompare(st.itemId)),fn=(mt.contents||[]).map(Pt=>({itemId:Pt.itemId,quantity:Pt.quantity,prepNote:Pt.prepNote||""})).filter(Pt=>Pt.itemId).sort((Pt,st)=>(Pt.itemId||"").localeCompare(st.itemId||"")),yt=JSON.stringify(gt)!==JSON.stringify(fn);if(vn||yt){G=!0,console.log(`[Sync] Updating Item: ${mt.name} -> ${Tt.name} (Accessories Changed: ${yt})`);const Pt=(Tt.accessories||[]).map(st=>{const Nn=r.find(On=>On.id===st.itemId);return{itemId:st.itemId,name:Nn?.name||"?",quantity:st.quantity,category:Nn?.category||"Altro",prepNote:st.prepNote}});return{...mt,name:Tt.name,contents:Pt}}}}return mt})}))}));G&&_i({zones:we})},[n,e,r,Je]);const _i=async G=>{if(!Je)return;const we={...Je,...G};we.zones&&we.zones.length>0&&delete we.sections,await ts(va,we)},mr=G=>{if(!Je||!_t)return;const we=Je.zones.map(Be=>Be.id===_t.id?{...Be,...G}:Be);_i({zones:we})},Br=G=>{if(!Je||!_t||!ut)return;const we=_t.sections.map(Be=>Be.id===ut.id?{...Be,...G}:Be);mr({sections:we})},[ti,Bt]=Se.useState(!1),[Kt,gr]=Se.useState({}),Er=(G,we)=>{we&&we.stopPropagation(),gr(G?{...G}:{eventName:"",location:"",eventDate:"",setupDate:"",creationDate:new Date().toISOString(),zones:[{id:crypto.randomUUID(),name:"Zona Principale",sections:s()}]}),Bt(!0)},ni=async()=>{if(!Kt.eventName)return;const G={...Kt,id:Kt.id||crypto.randomUUID(),creationDate:Kt.creationDate||new Date().toISOString()};await ts(va,G),Bt(!1),Kt.id||(i(G.id),c("edit"))},rr=()=>Er(),Ir=async()=>{const G=L?L.id:n;if(G){if(G===n){const we=t.filter(Be=>Be.id!==G);i(we.length>0?we[0].id:"")}await wy(va,G),ee(null),I(!1)}},or=async()=>{if(!ve)return;const G=ve.zones&&ve.zones.length>0?ve.zones:[{id:"def",name:"Zona Principale",sections:ve.sections||[]}],we={...ve,id:crypto.randomUUID(),eventName:`${ve.eventName} (Copia)`,creationDate:new Date().toISOString(),zones:G.map(Be=>({...Be,id:crypto.randomUUID(),sections:Be.sections.map(He=>({...He,id:crypto.randomUUID(),components:He.components.map(mt=>({...mt,uniqueId:crypto.randomUUID()}))}))}))};we.sections&&delete we.sections,await ts(va,we),Ne(null)},Xs=(G,we)=>{we.stopPropagation(),Ne(G)},ho=G=>{const we=new Set(te);we.has(G)?we.delete(G):we.add(G),j(we)},Li=()=>{if(!ut)return;const G=new Set(te);ut.components.forEach(we=>G.add(we.uniqueId)),j(G)},gs=()=>j(new Set),Dr=()=>!Je||!Je.zones?[]:Je.zones.flatMap(we=>we.sections.flatMap(Be=>Be.components)).filter(we=>te.has(we.uniqueId)),Si=()=>{const G=Dr();G.length>0&&(Y(G),le(!1))},Lr=()=>{const G=Dr();G.length>0&&(Y(G),le(!1),vs())},fo=()=>{if(se){fe(!0);return}Hi()},Hi=()=>{if(!ut||F.length===0)return;let G=[...ut.components];F.forEach(we=>{const Be=G.find(He=>He.type===we.type&&He.referenceId===we.referenceId);Be?G=G.map(He=>He.uniqueId===Be.uniqueId?{...He,quantity:He.quantity+we.quantity}:He):G.push({...we,uniqueId:crypto.randomUUID()})}),Br({components:G}),j(new Set),le(!0)},vs=()=>{if(!(!Je||!Je.zones)&&ut){const G=ut.components.filter(we=>!te.has(we.uniqueId));Br({components:G}),j(new Set)}},os=(G,we,Be,He)=>{ht({isOpen:!0,target:G,type:we,targetId:Be,name:He||""})},Js=()=>{if(!(!Je||!Ye.name.trim())){if(Ye.target==="zone")if(Ye.type==="create"){const G=crypto.randomUUID(),we={id:G,name:Ye.name.trim(),sections:s()},Be=[...Je.zones||[],we];_i({zones:Be}),w(G)}else{const G=Je.zones.map(we=>we.id===Ye.targetId?{...we,name:Ye.name.trim()}:we);_i({zones:G})}else{if(!_t)return;if(Ye.type==="create"){const G=crypto.randomUUID(),we={id:G,name:Ye.name.trim(),components:[]},Be=[..._t.sections,we];mr({sections:Be}),v(G)}else{const G=_t.sections.map(we=>we.id===Ye.targetId?{...we,name:Ye.name.trim()}:we);mr({sections:G})}}ht(G=>({...G,isOpen:!1}))}},Do=()=>{if(!_t||!be)return;if(_t.sections.length<=1){oe(null);return}const G=_t.sections.filter(we=>we.id!==be);mr({sections:G}),oe(null)},Dl=()=>{if(!Je||!_e)return;if((Je.zones||[]).length<=1){ge(null);return}const G=Je.zones.filter(we=>we.id!==_e);_i({zones:G}),f===_e&&w(G[0].id),ge(null)},zn=(G,we)=>{if(we==="kit"){const Be=G;return{type:"kit",referenceId:Be.id,name:Be.name,category:"Kit",contents:Be.items.map(He=>{const mt=r.find(Tt=>Tt.id===He.itemId);return{itemId:mt?.id,name:mt?.name||"?",quantity:He.quantity,category:mt?.category||"Altro"}})}}else{const Be=G;return{type:"item",referenceId:Be.id,name:Be.name,category:Be.category,contents:(Be.accessories||[]).map(He=>{const mt=r.find(Tt=>Tt.id===He.itemId);return{itemId:He.itemId,name:mt?.name||"?",quantity:He.quantity,category:mt?.category||"Altro"}})}}},Lo=(G,we)=>{if(!ut)return;if(he){const He=zn(G,we),mt=ut.components.map(Tt=>Tt.uniqueId===he?{...Tt,...He}:Tt);Br({components:mt}),Te(null);return}const Be=ut.components.find(He=>He.type===we&&He.referenceId===G.id);if(Be){const He=ut.components.map(mt=>mt.uniqueId===Be.uniqueId?{...mt,quantity:mt.quantity+1}:mt);Br({components:He}),hn(Be.uniqueId)}else{const He={uniqueId:crypto.randomUUID(),quantity:1,notes:"",...zn(G,we)};Br({components:[...ut.components,He]}),hn(He.uniqueId)}},po=(G,we)=>{if(!ut||we<1)return;const Be=ut.components.map(He=>He.uniqueId===G?{...He,quantity:we}:He);Br({components:Be})},ri=(G,we)=>{if(!ut)return;const Be=ut.components.map(He=>He.uniqueId===G?{...He,notes:we}:He);Br({components:Be})},Ri=G=>{if(!ut)return;const we=ut.components.filter(Be=>Be.uniqueId!==G);Br({components:we})},Zo=(G,we,Be,He)=>{lt.current={zoneId:f,sectionId:we,index:Be,uniqueId:He},pt(!0)},ea=(G,we,Be)=>{G.preventDefault(),Qe.current={zoneId:f,sectionId:we,index:Be}},mo=()=>{if(pt(!1),lt.current&&Qe.current&&ut&&lt.current.sectionId===Qe.current.sectionId){const G=te.has(lt.current.uniqueId)?te:new Set([lt.current.uniqueId]),we=[],Be=[];ut.components.forEach(gt=>{G.has(gt.uniqueId)?we.push(gt):Be.push(gt)});const He=Qe.current.index,mt=ut.components[He];let Tt=Be.findIndex(gt=>gt.uniqueId===mt?.uniqueId);Tt===-1&&(Tt=Be.length);const vn=[...Be.slice(0,Tt),...we,...Be.slice(Tt)];Br({components:vn})}lt.current=null,Qe.current=null},Mi=async G=>{const we={...G,id:crypto.randomUUID()};await ts(Ua,we),Lo(we,"item")},ba=async G=>{const we=G.id?G:{...G,id:crypto.randomUUID()};await ts(Ua,we)},Kn=Se.useMemo(()=>t.find(G=>G.id===ie),[t,ie]),Zs=async G=>{Kn&&await ts(va,{...Kn,reminders:G})},Qa=async()=>{if(!Je||!Je.zones)return;let G="1.0";if(Je.version){const Tt=Je.version.split("."),vn=parseInt(Tt[0]),gt=parseInt(Tt[1]);G=`${vn}.${gt+1}`}const we=Je.snapshot||[],Be=Je.zones,He=[...Je.deletedItems||[]];we.forEach(Tt=>{Tt.sections.forEach(vn=>{vn.components.forEach(gt=>{let fn=!1;Be.forEach(yt=>{yt.sections.forEach(Pt=>{Pt.components.some(st=>st.uniqueId===gt.uniqueId)&&(fn=!0)})}),fn||He.some(yt=>yt.originalComponent.uniqueId===gt.uniqueId)||He.push({originalComponent:gt,zoneName:Tt.name,sectionName:vn.name,deletedAt:new Date().toISOString()})})})});const mt=Be.map(Tt=>({...Tt,sections:Tt.sections.map(vn=>({...vn,components:vn.components.map(gt=>{let fn;if(we.forEach(yt=>{yt.sections.forEach(Pt=>{const st=Pt.components.find(Nn=>Nn.uniqueId===gt.uniqueId);st&&(fn=st)})}),fn){if(fn.quantity!==gt.quantity){const yt=gt.contents?.map(Pt=>({...Pt,warehouseState:{...Pt.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},inDistinta:!1,loaded:!1}}));return{...gt,contents:yt,warehouseState:{...gt.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},inDistinta:!1,loaded:!1,changeLog:{previousQuantity:fn.quantity,changedAt:new Date().toISOString()}}}}}else if(Je.version)return{...gt,warehouseState:{...gt.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},inDistinta:!1,loaded:!1,changeLog:{previousQuantity:0,changedAt:new Date().toISOString()}}};return gt})}))}));await _i({version:G,snapshot:mt,zones:mt,deletedItems:He}),alert(`Lista completata! Versione aggiornata a ${G}`)},Nr=G=>{const we=new Map;return G.sections.forEach(Be=>Be.components.forEach(He=>{we.set(He.name,(we.get(He.name)||0)+He.quantity),He.contents?.forEach(mt=>we.set(mt.name,(we.get(mt.name)||0)+mt.quantity*He.quantity))})),we},Ro=()=>{if(!Je||!Je.zones)return;const G=new Yt,we=(yt,Pt)=>{const st=G.internal.pageSize.getWidth();G.setFontSize(16),G.setFont("helvetica","bold"),G.setTextColor(0);const Nn=Je.eventName.toUpperCase();G.text(Nn,14,12);const On=Je.version?`v${Je.version}`:"LISTA NON PRONTA",Rr=G.getTextWidth(Nn);G.setFontSize(10),Je.version?G.setTextColor(100):G.setTextColor(220,0,0),G.text(On,14+Rr+3,12),G.setFontSize(8),G.setFont("helvetica","normal"),G.setTextColor(100),G.text(`${Je.eventDate}  |  Pagina ${Pt}`,st-14,12,{align:"right"}),G.setFontSize(13),G.setFont("helvetica","bold"),G.setTextColor(0),G.text(`ZONA: ${yt.toUpperCase()}`,14,20)};Je.zones.forEach((yt,Pt)=>{Pt>0&&G.addPage();let st=25;if(yt.notes){G.setFontSize(10),G.setFont("helvetica","italic"),G.setTextColor(50);const Rr=G.splitTextToSize(`NOTE: ${yt.notes}`,180);G.text(Rr,14,st),st+=Rr.length*5+5}const Nn=Nr(yt),On=[];yt.sections.forEach(Rr=>{Rr.components.length!==0&&(On.push([{content:Rr.name.toUpperCase(),colSpan:4,styles:{fillColor:[230,230,230],fontStyle:"bold",textColor:[0,0,0]}}]),Rr.components.forEach(en=>{let Qt=en.name;en.type==="kit"&&(Qt=`[KIT] ${en.name}`),en.notes&&(Qt+=`
NOTE: ${en.notes}`);const qn=Nn.get(en.name)||0;On.push([Qt,en.quantity,qn,""]),en.contents?.forEach(Pn=>{const $n=Nn.get(Pn.name)||0;On.push([{content:`  - ${Pn.name}`,styles:{fontSize:10,textColor:[80,80,80]}},Pn.quantity*en.quantity,$n,""])})}))}),Tb(G,{head:[["Materiale","Qta","Totale Zona","Check"]],body:On,startY:st,margin:{top:25},theme:"grid",headStyles:{fillColor:[245,245,245],textColor:[0,0,0],lineWidth:.1,lineColor:[200,200,200]},styles:{fontSize:11,cellPadding:3,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:20,halign:"center"},2:{cellWidth:25,halign:"center",fontStyle:"bold"},3:{cellWidth:20}},didDrawPage:Rr=>{we(yt.name,G.internal.getCurrentPageInfo().pageNumber)}})}),Je.notes&&(G.addPage(),we("Note Generali",G.internal.getCurrentPageInfo().pageNumber),G.setFontSize(14),G.text("Note Evento",14,30),G.setFontSize(11),G.setFont("helvetica","normal"),G.text(Je.notes,14,40));const Be=new Date,He=String(Be.getDate()).padStart(2,"0"),mt=String(Be.getMonth()+1).padStart(2,"0"),Tt=Be.getFullYear(),vn=String(Be.getHours()).padStart(2,"0"),gt=String(Be.getMinutes()).padStart(2,"0"),fn=(Je.eventName||"evento").replace(/[^a-z0-9\s-_]/gi,"").trim().replace(/\s+/g,"_");G.save(`${fn}_${Tt}-${mt}-${He}_${vn}-${gt}.pdf`)},Wi=()=>{if(!Je||!Je.zones)return;const G=new Yt,we=(vn,gt)=>{const fn=G.internal.pageSize.getWidth();G.setFontSize(16),G.setFont("helvetica","bold"),G.setTextColor(0);const yt=Je.eventName.toUpperCase();G.text(yt,14,12);const Pt=Je.version?`v${Je.version}`:"LISTA NON PRONTA",st=G.getTextWidth(yt);G.setFontSize(10),Je.version?G.setTextColor(100):G.setTextColor(220,0,0),G.text(Pt,14+st+3,12),G.setFontSize(8),G.setFont("helvetica","normal"),G.setTextColor(100),G.text(`Pagina ${gt}`,fn-14,12,{align:"right"}),G.setFontSize(11),G.setFont("helvetica","bold"),G.setTextColor(80),G.text("RECAP TOTALI MATERIALE",14,18),G.setFontSize(13),G.setFont("helvetica","bold"),G.setTextColor(0),G.text(`ZONA: ${vn.toUpperCase()}`,14,26)};Je.zones.forEach((vn,gt)=>{gt>0&&G.addPage();const fn=new Map,yt=new Map;vn.sections.forEach(en=>{en.components.forEach(Qt=>{if(Qt.type==="kit"||Qt.contents&&Qt.contents.length>0){const Pn=Qt.type==="kit"?`KIT-${Qt.name}`:Qt.name;fn.has(Pn)||fn.set(Pn,{totalQty:0,children:new Map});const $n=fn.get(Pn);$n.totalQty+=Qt.quantity,Qt.contents?.forEach(Dn=>{$n.children.has(Dn.name)||$n.children.set(Dn.name,{qty:0,prepNote:Dn.prepNote||""});const ii=$n.children.get(Dn.name);ii.qty+=Dn.quantity*Qt.quantity,Dn.prepNote&&(ii.prepNote=Dn.prepNote)})}else{const Pn=yt.get(Qt.name)||0;yt.set(Qt.name,Pn+Qt.quantity)}})});const Pt=new Map,st=new Map;fn.forEach((en,Qt)=>{const qn=Qt.startsWith("KIT-");en.children.forEach((Pn,$n)=>{const Dn=qn?Pt:st;Dn.has($n)||Dn.set($n,new Set),Dn.get($n).add(Qt)})});const Nn=[],On=Array.from(fn.entries()).sort((en,Qt)=>en[0].localeCompare(Qt[0]));On.length>0&&(Nn.push([{content:"KIT & MACCHINE (Assemblati)",colSpan:3,styles:{fontStyle:"bold",fillColor:[220,220,240],textColor:[0,0,50],halign:"left",fontSize:10}}]),On.forEach(([en,Qt])=>{const qn=en.startsWith("KIT-")?en.replace("KIT-",""):en,Pn=yt.has(qn);Nn.push([{content:en,styles:{fontStyle:"bold",textColor:[0,0,0]},_warning:Pn?"!!!ALTRI IN SFUSI!!!":null},Qt.totalQty,""]),Array.from(Qt.children.entries()).sort((Dn,ii)=>Dn[0].localeCompare(ii[0])).forEach(([Dn,ii])=>{let Ut=`  - ${Dn}`;const Ts=yt.has(Dn),ta=Pt.get(Dn),Mo=st.get(Dn),Ar=en.startsWith("KIT-"),eo=ta&&(Ar?ta.size>1||!ta.has(en):ta.size>0),Xa=Mo&&(Ar?Mo.size>0:Mo.size>1||!Mo.has(en)),fi=[];eo&&fi.push("KIT"),Xa&&fi.push("ACCESSORI"),Ts&&fi.push("SFUSI");let ws=null;fi.length>0&&(ws=`!!!ALTRI IN ${fi.length===1?fi[0]:fi.slice(0,-1).join(", ")+" E "+fi.slice(-1)}!!!`),ii.prepNote&&(Ut+=` [${ii.prepNote.toUpperCase()}]`),Nn.push([{content:Ut,styles:{fontSize:10,textColor:[80,80,80],fontStyle:"normal"},_warning:ws},ii.qty,""])})}));const Rr=Array.from(yt.entries()).sort((en,Qt)=>en[0].localeCompare(Qt[0]));Rr.length>0&&(On.length>0&&Nn.push([{content:"",colSpan:3,styles:{cellPadding:1,fillColor:[255,255,255]}}]),Nn.push([{content:"MATERIALE SFUSO (Totali Unificati)",colSpan:3,styles:{fontStyle:"bold",fillColor:[230,230,230],textColor:[50,50,50],halign:"left",fontSize:10}}]),Rr.forEach(([en,Qt])=>{Nn.push([en,Qt,""])})),Tb(G,{head:[["Materiale","Qta","Check"]],body:Nn,startY:32,margin:{top:32},theme:"grid",headStyles:{fillColor:[245,245,245],textColor:[0,0,0],lineWidth:.1,lineColor:[200,200,200]},styles:{fontSize:11,cellPadding:3,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:40,halign:"center",fontStyle:"bold"},2:{cellWidth:20}},didDrawPage:en=>{we(vn.name,G.internal.getCurrentPageInfo().pageNumber)},didDrawCell:en=>{if(en.column.index===0&&en.cell.raw&&en.cell.raw._warning){const Qt=en.doc,qn=Qt.getFont().fontName,Pn=Qt.getFont().fontStyle;Qt.setFont("helvetica","bold"),Qt.setFontSize(9),Qt.setTextColor(220,0,0);const $n=en.cell.raw._warning,Dn=Qt.getTextWidth($n),ii=en.cell.x+en.cell.width-Dn-2,Ut=en.cell.y+en.cell.height/2+1;Qt.text($n,ii,Ut),Qt.setFont(qn,Pn)}}})});const Be=new Date,He=String(Be.getDate()).padStart(2,"0"),mt=String(Be.getMonth()+1).padStart(2,"0"),Tt=(Je.eventName||"evento").replace(/[^a-z0-9\s-_]/gi,"").trim().replace(/\s+/g,"_");G.save(`TOTALI_${Tt}_${He}-${mt}-${Be.getFullYear()}.pdf`)},ys=()=>{if(!Je||!Je.zones)return;let G="data:text/csv;charset=utf-8,";G+=`Zona,Sezione,Tipo,Nome,Quantit,Totale Zona,Note,Contenuto Kit/Accessori
`,Je.zones.forEach(Pt=>{const st=Nr(Pt);Pt.sections.forEach(Nn=>{Nn.components.forEach(On=>{const Rr=On.notes?On.notes.replace(/"/g,'""'):"",en=On.type==="kit"?"KIT":"Singolo",Qt=st.get(On.name)||0;G+=`"${Pt.name}","${Nn.name}",${en},"${On.name}",${On.quantity},${Qt},"${Rr}",""
`,On.contents?.forEach(qn=>{const Pn=st.get(qn.name)||0;G+=`"${Pt.name}","${Nn.name}",${On.type==="kit"?"Parte Kit":"Accessorio"},"${qn.name}",${qn.quantity*On.quantity},${Pn},"","Appartiene a: ${On.name}"
`})})})});const we=encodeURI(G),Be=document.createElement("a");Be.setAttribute("href",we);const He=new Date,mt=String(He.getDate()).padStart(2,"0"),Tt=String(He.getMonth()+1).padStart(2,"0"),vn=He.getFullYear(),gt=String(He.getHours()).padStart(2,"0"),fn=String(He.getMinutes()).padStart(2,"0"),yt=(Je.eventName||"evento").replace(/[^a-z0-9\s-_]/gi,"").trim().replace(/\s+/g,"_");Be.setAttribute("download",`${yt}_${vn}-${Tt}-${mt}_${gt}-${fn}.csv`),document.body.appendChild(Be),Be.click(),document.body.removeChild(Be)};return a==="list"?g.jsxs("div",{className:"h-full flex flex-col p-6 bg-slate-950",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Liste Eventi"}),g.jsx("p",{className:"text-slate-400",children:"Gestisci le tue liste di materiali per eventi"})]}),g.jsxs("div",{className:"flex gap-4 mb-6",children:[g.jsxs("div",{className:"relative flex-1 max-w-md",children:[g.jsx(ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:16}),g.jsx("input",{placeholder:"Cerca evento...",className:"w-full bg-slate-900 border border-slate-700 text-white pl-10 pr-4 py-2 rounded-lg outline-none focus:border-emerald-500",value:u,onChange:G=>d(G.target.value)})]}),g.jsxs("button",{onClick:()=>{rr(),c("edit")},className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 font-medium transition-colors",children:[g.jsx(es,{size:16})," Nuovo Evento"]})]}),g.jsx("div",{className:"flex flex-col gap-2 overflow-y-auto",children:an.map(G=>{const Be=(G.zones||(G.sections?[{sections:G.sections}]:[])).reduce((He,mt)=>He+(mt.sections?.reduce((Tt,vn)=>Tt+vn.components.length,0)||0),0);return g.jsxs("div",{onClick:()=>$t(G.id),className:"bg-slate-800 border border-slate-700 rounded-lg p-3 hover:border-slate-600 transition-colors cursor-pointer group relative flex flex-col md:flex-row items-center gap-4",children:[g.jsx("div",{className:"flex-1 min-w-0",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded bg-emerald-900/20 flex items-center justify-center text-emerald-500 shrink-0 font-bold",children:G.eventName.substring(0,1).toUpperCase()}),g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h3",{className:"font-bold text-base text-white group-hover:text-emerald-400 transition-colors truncate",children:G.eventName}),g.jsx("button",{onClick:He=>{He.stopPropagation(),de(G.id)},className:`p-1 rounded-full hover:bg-slate-700 transition-colors ${G.reminders?.some(He=>!He.isCompleted)?"text-yellow-400":"text-slate-600 hover:text-slate-300"}`,title:"Note & Promemoria",children:g.jsx(vl,{size:16,className:G.reminders?.some(He=>!He.isCompleted)?"fill-current":""})}),G.version&&g.jsxs("span",{className:"text-[10px] bg-slate-700 text-slate-300 px-1.5 py-0.5 rounded font-mono",children:["v",G.version]})]}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400 mt-0.5",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(wm,{size:12})," ",g.jsx("span",{className:"truncate max-w-[150px]",children:G.location||"Nessuna location"})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(zd,{size:12})," ",g.jsx("span",{children:G.eventDate?new Date(G.eventDate).toLocaleDateString():"Nessuna data"})]})]})]})]})}),g.jsxs("div",{className:"hidden sm:flex items-center gap-6 text-sm text-slate-500",children:[g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider text-slate-600",children:"Elementi"}),g.jsx("span",{className:"text-slate-300 font-medium",children:Be})]}),g.jsxs("div",{className:"flex flex-col items-end w-24",children:[g.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider text-slate-600",children:"Creato il"}),g.jsx("span",{className:"text-xs",children:new Date(G.creationDate||Date.now()).toLocaleDateString()})]})]}),g.jsxs("div",{className:"flex gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity shrink-0 border-l border-slate-700 pl-4 ml-2",children:[g.jsxs("button",{onClick:He=>Xs(G,He),className:"p-2 bg-slate-700 hover:bg-blue-600 text-slate-300 hover:text-white rounded transition-colors",title:"Duplica Evento",children:[" ",g.jsx(g5,{size:16})," "]}),g.jsxs("button",{onClick:He=>Er(G,He),className:"p-2 bg-slate-700 hover:bg-emerald-600 text-slate-300 hover:text-white rounded transition-colors",title:"Modifica Dettagli",children:[" ",g.jsx(Vu,{size:16})," "]}),g.jsxs("button",{onClick:He=>{He.stopPropagation(),ee({id:G.id,name:G.eventName})},className:"p-2 bg-slate-700 hover:bg-rose-600 text-slate-300 hover:text-white rounded transition-colors",title:"Elimina Evento",children:[" ",g.jsx(Va,{size:16})," "]})]})]},G.id)})}),g.jsx(Yd,{isOpen:!!L,onClose:()=>ee(null),onConfirm:Ir,title:"Elimina Evento",message:`Eliminare "${L?.name}"?`}),g.jsx(Yd,{isOpen:!!ve,onClose:()=>Ne(null),onConfirm:or,title:"Duplica Evento",message:`Vuoi creare una copia di "${ve?.eventName}"? Verranno copiati tutti i materiali e le zone.`}),g.jsx(za,{isOpen:ti,onClose:()=>Bt(!1),title:Kt.id?"Modifica Evento":"Nuovo Evento",size:"lg",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"col-span-full",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Nome Evento"}),g.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-emerald-500 outline-none",placeholder:"Es. Concerto Estivo 2024",value:Kt.eventName||"",onChange:G=>gr(we=>({...we,eventName:G.target.value}))})]}),g.jsxs("div",{className:"col-span-full",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Location / Luogo"}),g.jsxs("div",{className:"relative",children:[g.jsx(wm,{className:"absolute left-3 top-2.5 text-slate-500",size:18}),g.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-10 pr-3 py-2.5 text-white focus:border-emerald-500 outline-none",placeholder:"Es. Teatro Comunale, Roma",value:Kt.location||"",onChange:G=>gr(we=>({...we,location:G.target.value}))})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Data Inizio Allestimento"}),g.jsxs("div",{className:"relative",children:[g.jsx(zd,{className:"absolute left-3 top-2.5 text-slate-500 z-10 pointer-events-none",size:18}),g.jsx(Md,{portalId:"root",selected:Kt.setupDate?new Date(Kt.setupDate):null,onChange:G=>gr(we=>({...we,setupDate:G?G.toISOString():""})),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-10 pr-3 py-2.5 text-white focus:border-emerald-500 outline-none",placeholderText:"Seleziona data..."})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Data Inizio Evento"}),g.jsxs("div",{className:"relative",children:[g.jsx(zd,{className:"absolute left-3 top-2.5 text-slate-500 z-10 pointer-events-none",size:18}),g.jsx(Md,{portalId:"root",selected:Kt.eventDate?new Date(Kt.eventDate):null,onChange:G=>gr(we=>({...we,eventDate:G?G.toISOString():""})),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-10 pr-3 py-2.5 text-white focus:border-emerald-500 outline-none",placeholderText:"Seleziona data..."})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-1",children:"Data Creazione Lista"}),g.jsx(Md,{portalId:"root",selected:Kt.creationDate?new Date(Kt.creationDate):new Date,onChange:G=>gr(we=>({...we,creationDate:G?G.toISOString():""})),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-900 border border-slate-800 rounded-lg px-3 py-2 text-slate-400 text-sm focus:border-slate-600 outline-none"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 border-t border-slate-800 pt-4 mt-2",children:[g.jsx("button",{onClick:()=>Bt(!1),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Annulla"}),g.jsx("button",{onClick:ni,className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium shadow-lg shadow-emerald-900/20 transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!Kt.eventName,children:"Salva Evento"})]})]})}),g.jsx(b5,{isOpen:!!ie,onClose:()=>de(null),reminders:Kn?.reminders||[],onUpdate:Zs,title:Kn?.eventName||"Note Evento"})]}):g.jsxs("div",{className:"h-full flex flex-col p-4 overflow-hidden",children:[g.jsxs("div",{className:"flex-1 flex flex-col gap-4 bg-slate-900 border border-slate-800 rounded-xl overflow-hidden shadow-2xl relative",children:[g.jsxs("div",{className:"p-2 bg-slate-950 border-b border-slate-800 flex flex-col sm:flex-row justify-between items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[g.jsxs("button",{onClick:kn,className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-white px-3 py-2 rounded-lg transition-all border border-slate-700 hover:border-slate-500 group shadow-lg",title:"Torna alla lista eventi",children:[g.jsx($P,{size:18,className:"text-emerald-500 group-hover:text-emerald-400"}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Eventi"})]}),g.jsxs("div",{className:"flex flex-col flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-white font-bold text-lg",children:Je?.eventName}),g.jsx("button",{onClick:()=>Je&&de(Je.id),className:`p-1 rounded-full hover:bg-slate-800 transition-colors ${Je?.reminders?.some(G=>!G.isCompleted)?"text-yellow-400":"text-slate-600 hover:text-slate-300"}`,title:"Note & Promemoria",children:g.jsx(vl,{size:16,className:Je?.reminders?.some(G=>!G.isCompleted)?"fill-current":""})}),g.jsx("button",{onClick:()=>Er(Je),className:"text-slate-500 hover:text-emerald-500",children:g.jsx(Vu,{size:14})}),Je?.version&&g.jsxs("span",{className:"text-xs bg-slate-800 text-emerald-400 px-2 py-0.5 rounded font-bold border border-emerald-900/50",children:["v",Je.version]})]}),g.jsxs("div",{className:"flex gap-3 text-xs text-slate-500",children:[g.jsx("span",{children:Je?.location}),g.jsx("span",{children:""}),g.jsx("span",{children:Je?.eventDate?new Date(Je.eventDate).toLocaleDateString():"Nessuna data"})]})]})]}),g.jsx("div",{className:"flex items-center gap-2",children:g.jsxs("button",{onClick:Qa,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 font-bold text-sm shadow-lg shadow-blue-900/20 transition-all hover:scale-105 active:scale-95",children:[g.jsx(OP,{size:18}),"Lista Completata"]})})]}),Je&&ln.length>0&&g.jsxs("div",{className:"flex items-center gap-1 px-4 pt-4 border-b border-slate-800 bg-slate-950/50 overflow-x-auto",children:[ln.map(G=>g.jsxs("div",{onClick:()=>w(G.id),className:`px-4 py-2 rounded-t-lg text-sm font-bold transition-colors cursor-pointer flex items-center gap-2 border-t border-x ${f===G.id?"bg-slate-900 text-white border-slate-800":"bg-slate-950 text-slate-500 border-transparent hover:text-slate-300"}`,children:[G.name,f===G.id&&g.jsxs("div",{className:"flex items-center gap-1 ml-2 opacity-50 hover:opacity-100",children:[g.jsx(Vu,{size:12,onClick:we=>{we.stopPropagation(),os("zone","rename",G.id,G.name)},className:"hover:text-emerald-400"}),g.jsx(Jg,{size:12,onClick:we=>{we.stopPropagation(),Ge({isOpen:!0,zoneId:G.id,note:G.notes||""})},className:"hover:text-yellow-400"}),ln.length>1&&g.jsx(Va,{size:12,className:"hover:text-rose-500",onClick:we=>{we.stopPropagation(),ge(G.id)}})]})]},G.id)),g.jsx("button",{onClick:()=>os("zone","create"),className:"ml-2 p-1 bg-slate-800 hover:bg-slate-700 rounded text-slate-400",children:g.jsx(es,{size:16})})]}),_t&&_t.notes&&g.jsxs("div",{className:"bg-yellow-900/10 border-b border-slate-800 px-4 py-2 text-sm text-yellow-200/80 italic flex items-start gap-2",children:[g.jsx(Jg,{size:14,className:"mt-1 shrink-0 text-yellow-500"}),_t.notes]}),_t&&g.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border-b border-slate-700 bg-slate-900 overflow-x-auto",children:[Wn.map(G=>g.jsxs("button",{onClick:()=>v(G.id),className:`px-4 py-2 rounded-t-lg text-sm font-medium transition-colors whitespace-nowrap flex items-center gap-2 group ${b===G.id?"bg-slate-800 text-white border-t border-x border-slate-700":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[G.name,g.jsx("span",{className:"bg-slate-950 px-1.5 py-0.5 rounded-full text-xs text-slate-500",children:G.components.length}),b===G.id&&g.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[g.jsx(Vu,{size:12,onClick:we=>{we.stopPropagation(),os("section","rename",G.id,G.name)},className:"hover:text-emerald-400"}),g.jsx(Va,{size:12,onClick:we=>{we.stopPropagation(),oe(G.id)},className:"hover:text-rose-500"})]})]},G.id)),g.jsx("button",{onClick:()=>os("section","create"),className:"p-2 text-emerald-500 hover:bg-emerald-900/30 rounded-lg hover:text-emerald-400 transition-colors",children:g.jsx(es,{size:18})})]}),ut&&g.jsx("div",{className:"px-3 py-2 bg-slate-900 border-b border-slate-800 flex flex-col sm:flex-row items-center gap-3",children:g.jsxs("div",{className:"flex gap-2 w-full items-center",children:[g.jsxs("div",{className:"relative flex-1 min-w-[200px]",onMouseEnter:()=>Ct(!0),onMouseLeave:()=>nr(!0),children:[g.jsx(ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:14}),g.jsx("input",{ref:T,placeholder:`Cerca materiale per ${ut.name}...`,className:"w-full bg-slate-950 border border-slate-700 text-white pl-9 pr-3 py-2 rounded-lg text-sm outline-none focus:border-emerald-500",value:E,onChange:G=>D(G.target.value),onFocus:()=>Ct(!1),onBlur:()=>nr(!1)}),E&&Ft&&g.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-900 border border-slate-700 rounded-lg shadow-xl z-50 max-h-64 overflow-y-auto",children:[En.length>0&&g.jsxs("div",{className:"px-4 py-1.5 bg-slate-800 text-[10px] font-bold text-purple-400 uppercase tracking-wider sticky top-0 z-10 border-b border-slate-700",children:["Kit & Set (",En.length,")"]}),En.map(G=>{const we=_t?.sections.reduce((Be,He)=>Be+He.components.filter(mt=>mt.type==="kit"&&mt.referenceId===G.id).reduce((mt,Tt)=>mt+Tt.quantity,0),0)||0;return g.jsxs("button",{onClick:()=>Lo(G,"kit"),className:"w-full text-left px-4 py-3 hover:bg-slate-800 border-b border-slate-800 flex justify-between items-center group",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-sm text-white flex items-center gap-2",children:[g.jsx(jf,{size:14,className:"text-purple-400"}),G.name,we>0&&g.jsxs("span",{className:"text-[10px] bg-purple-950 text-purple-400 border border-purple-900 px-1.5 rounded font-bold",children:["x",we]})]}),g.jsxs("div",{className:"text-xs text-slate-500 pl-6",children:[G.items.length," componenti"]})]}),g.jsx(es,{size:16,className:"text-slate-600 group-hover:text-emerald-500 transition-colors"})]},G.id)}),Zt.length>0&&g.jsx("div",{className:"px-4 py-1.5 bg-slate-800 text-[10px] font-bold text-slate-400 uppercase tracking-wider sticky top-0 z-10 border-b border-slate-700",children:"Materiale Singolo"}),Zt.slice(0,50).map(G=>{const we=_t?.sections.reduce((Be,He)=>Be+He.components.filter(mt=>mt.type==="item"&&mt.referenceId===G.id).reduce((mt,Tt)=>mt+Tt.quantity,0),0)||0;return g.jsxs("button",{onClick:()=>Lo(G,"item"),className:"w-full text-left px-4 py-3 hover:bg-slate-800 border-b border-slate-800 flex justify-between items-center group",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-sm text-white flex items-center gap-2",children:[G.name,we>0&&g.jsxs("span",{className:"text-[10px] bg-emerald-950 text-emerald-400 border border-emerald-900 px-1.5 rounded font-bold",children:["x",we]})]}),g.jsx("div",{className:"text-xs text-slate-500",children:G.category})]}),g.jsx(es,{size:16,className:"text-slate-600 group-hover:text-emerald-500 transition-colors"})]},G.id)}),Zt.length===0&&En.length===0&&g.jsxs("button",{onClick:()=>$e(!0),className:"w-full text-left px-4 py-3 hover:bg-slate-800 text-emerald-500 flex gap-2",children:[g.jsx(es,{}),' Crea "',E,'"']})]})]}),g.jsxs("select",{value:P,onChange:G=>U(G.target.value),className:"bg-slate-950 border border-slate-700 text-white px-2 py-2 rounded-lg text-sm w-32",children:[g.jsx("option",{value:"All",children:"Tutte"}),Object.values(me).map(G=>g.jsx("option",{value:G,children:G},G))]}),g.jsx("button",{onClick:()=>$e(!0),className:"bg-emerald-600 hover:bg-emerald-500 text-white p-2 rounded-lg",children:g.jsx(es,{size:16})}),(te.size>0||F.length>0)&&g.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-slate-700 animate-in fade-in",children:[g.jsxs("div",{className:"flex flex-col gap-0.5 mr-2",children:[g.jsx("button",{onClick:Li,className:"text-[10px] uppercase font-bold text-slate-500 hover:text-white leading-none",children:"Tutti"}),g.jsx("button",{onClick:gs,className:"text-[10px] uppercase font-bold text-slate-500 hover:text-white leading-none",children:"Nessuno"})]}),te.size>0&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:Si,className:"p-2 bg-slate-800 hover:bg-slate-700 text-blue-400 rounded",children:g.jsx(g5,{size:16})}),g.jsx("button",{onClick:Lr,className:"p-2 bg-slate-800 hover:bg-slate-700 text-amber-400 rounded",children:g.jsx(KP,{size:16})}),g.jsx("button",{onClick:vs,className:"p-2 bg-slate-800 hover:bg-rose-900/30 text-rose-400 rounded",children:g.jsx(Va,{size:16})})]}),F.length>0&&g.jsxs("div",{className:"flex items-center gap-1 ml-1 bg-slate-800 rounded p-0.5",children:[g.jsxs("button",{onClick:fo,className:`px-3 py-1.5 rounded text-xs font-bold flex gap-1 ${se?"bg-orange-600":"bg-emerald-600"} text-white`,children:[se&&g.jsx(fc,{size:14}),g.jsx(UP,{size:14})," ",F.length]}),g.jsx("button",{onClick:()=>{Y([]),le(!1)},className:"p-1.5 text-slate-400 hover:text-rose-400",children:g.jsx(fc,{size:14})})]})]})]})}),g.jsxs("div",{className:"flex-1 overflow-y-auto bg-slate-950/30 relative flex flex-col",children:[xt&&g.jsxs("div",{className:"sticky top-0 left-0 right-0 z-20 bg-blue-600 text-white px-4 py-2 shadow-lg flex justify-between items-center animate-in slide-in-from-top-2",children:[g.jsxs("div",{className:"font-bold text-sm flex items-center gap-2",children:[g.jsx(ya,{size:16})," EVIDENZIATO: ",g.jsx("span",{className:"underline",children:xt})]}),g.jsx("button",{onClick:()=>Et(null),className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded text-xs font-bold uppercase transition-colors",children:"ESCI"})]}),_t?ut?ut.components.length===0?g.jsx("div",{className:"text-center py-20 text-slate-600",children:"Sezione vuota"}):g.jsx("div",{className:"space-y-2 p-4",children:ut.components.map((G,we)=>{const Be=te.has(G.uniqueId),He=he===G.uniqueId,mt=G.type==="item"?!r.some(st=>st.id===G.referenceId):!e.some(st=>st.id===G.referenceId),Tt=G.type==="kit"?e.find(st=>st.id===G.referenceId):null,vn=Tt?.reminders&&Tt.reminders.length>0,gt=G.name===xt,fn=G.contents?.some(st=>st.name===xt);if(xt&&!gt&&!fn)return null;const yt=xt&&fn,Pt=G.contents&&G.contents.length>0;return g.jsxs("div",{draggable:!0,onDragStart:st=>Zo(st,ut.id,we,G.uniqueId),onDragEnter:st=>ea(st,ut.id,we),onDragEnd:mo,onDragOver:st=>st.preventDefault(),className:`group relative p-2 rounded-lg border transition-all duration-300 ${yt?"opacity-70":"opacity-100"} ${He?"border-amber-500 bg-amber-900/10 ring-1 ring-amber-500":Be?"bg-blue-900/20 border-blue-500/50":G.type==="kit"?"bg-purple-900/10 border-purple-900/30 hover:border-purple-500/30":Pt?"bg-cyan-900/10 border-cyan-900/30 hover:border-cyan-500/30":"bg-slate-800 border-slate-700 hover:border-slate-600"}`,children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[g.jsx("button",{onClick:st=>{st.stopPropagation(),ho(G.uniqueId)},className:`text-slate-500 p-1 ${Be?"text-blue-500":""}`,children:Be?g.jsx(Wo,{size:18}):g.jsx($o,{size:18})}),G.type==="kit"?g.jsx(jf,{size:18,className:"text-purple-400"}):g.jsx(MP,{size:18,className:Pt?"text-cyan-400":"text-slate-400"}),g.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[mt&&g.jsx("button",{onClick:st=>{st.stopPropagation(),alert("Questo oggetto  stato cancellato dall'inventario, devi sostituirlo con un oggetto esistente.")},title:"Oggetto cancellato dall'inventario",className:"text-rose-500 hover:text-rose-400 shrink-0",children:g.jsx(ma,{size:16})}),g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:`font-medium text-sm truncate flex items-center gap-2 cursor-pointer hover:underline ${gt?"text-blue-400 font-bold scale-105 origin-left":"text-slate-200"}`,onClick:st=>{st.stopPropagation(),Et(xt===G.name?null:G.name)},title:"Clicca per evidenziare ovunque",children:[G.name,G.type==="kit"&&g.jsx("span",{className:"text-[10px] bg-purple-900 text-purple-200 px-1 rounded align-middle no-underline font-bold",children:"KIT"}),G.type==="item"&&Pt&&g.jsx("span",{className:"text-[10px] bg-cyan-900 text-cyan-200 px-1 rounded align-middle no-underline font-bold",children:"MACCHINA"}),vn&&g.jsx("button",{onClick:st=>{st.stopPropagation(),O(q===G.uniqueId?null:G.uniqueId)},className:`p-0.5 rounded-full ${q===G.uniqueId?"bg-yellow-500 text-black":"text-yellow-500 hover:bg-yellow-900/30"} transition-colors`,title:"Ci sono cose da ricordare per questo kit!",children:g.jsx(vl,{size:12,className:q===G.uniqueId?"fill-current":""})})]}),g.jsx("div",{className:"text-xs text-slate-500",children:G.category})]})]})]}),g.jsxs("div",{className:"flex items-center gap-1 shrink-0",onClick:st=>st.stopPropagation(),children:[!V&&g.jsx("div",{className:"p-1.5 cursor-grab active:cursor-grabbing text-slate-600 hover:text-slate-300 mr-1",title:"Trascina per spostare",children:g.jsx(qP,{size:16})}),g.jsx("button",{onClick:()=>Te(G.uniqueId),className:`p-1.5 rounded ${He?"text-amber-500 bg-amber-900/30":"text-slate-500 hover:bg-slate-700 hover:text-white"}`,title:"Sostituisci Oggetto",children:g.jsx(m5,{size:14})}),g.jsx("button",{onClick:()=>{const st=new Set(M);st.has(G.uniqueId)?st.delete(G.uniqueId):st.add(G.uniqueId),z(st)},className:`p-1.5 rounded ${G.notes?"text-yellow-400":"text-slate-500 hover:text-white"}`,title:"Aggiungi/Modifica Nota",children:g.jsx(Jg,{size:14})}),g.jsx("input",{ref:st=>{Rt.current[G.uniqueId]=st},type:"number",min:"1",className:"w-12 h-7 bg-slate-900 border border-slate-700 rounded px-1 text-center text-white text-sm focus:border-blue-500 outline-none",value:G.quantity,onChange:st=>po(G.uniqueId,Number(st.target.value)),onKeyDown:st=>{st.key==="Enter"&&(T.current?.focus(),T.current?.select())}}),g.jsx("button",{onClick:()=>Ri(G.uniqueId),className:"p-1.5 text-slate-500 hover:text-rose-500 opacity-0 group-hover:opacity-100",children:g.jsx(Va,{size:14})})]})]}),q===G.uniqueId&&vn&&g.jsxs("div",{className:"mt-2 mx-2 bg-yellow-900/20 border border-yellow-700/30 rounded p-3 animate-in slide-in-from-top-2 fade-in duration-200",children:[g.jsxs("div",{className:"text-[10px] font-bold text-yellow-500 uppercase tracking-wider mb-2 flex items-center gap-2",children:[g.jsx(vl,{size:12,className:"fill-current"})," Cose da ricordare per questo Kit:"]}),g.jsx("ul",{className:"space-y-1",children:Tt?.reminders?.map((st,Nn)=>g.jsxs("li",{className:"text-xs text-yellow-100 flex items-start gap-2",children:[g.jsx("span",{className:"mt-1 w-1 h-1 rounded-full bg-yellow-500 shrink-0"}),st]},Nn))})]}),(M.has(G.uniqueId)||G.notes)&&g.jsx("div",{className:"mt-1.5 pl-8 pr-16",children:g.jsx("input",{type:"text",placeholder:"Aggiungi una nota...",className:"w-full bg-slate-900/50 border border-slate-700/50 rounded px-2 py-1 text-xs text-slate-300",value:G.notes||"",onChange:st=>ri(G.uniqueId,st.target.value)})}),G.contents&&G.contents.length>0&&g.jsx("div",{className:"mt-2 ml-7 pl-3 border-l-2 border-slate-700 space-y-0.5",children:G.contents.map((st,Nn)=>{const On=st.itemId?!r.some(Qt=>Qt.id===st.itemId):!1,Rr=G.type==="kit"?Gt(st.name,G.name):null,en=st.name===xt;return g.jsxs("div",{className:"text-[10px] text-slate-400 flex justify-between w-full max-w-md leading-tight group/acc",children:[g.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[On&&g.jsx("button",{onClick:Qt=>{Qt.stopPropagation(),alert("Questo accessorio  stato cancellato dall'inventario.")},className:"text-rose-500 hover:text-rose-400 shrink-0",title:"Accessorio eliminato dall'inventario",children:g.jsx(ma,{size:10})}),g.jsx("span",{className:`truncate cursor-pointer hover:underline ${On?"text-rose-900 line-through decoration-rose-500/50":""} ${en?"text-blue-400 font-bold":""}`,onClick:Qt=>{Qt.stopPropagation(),Et(xt===st.name?null:st.name)},children:st.name}),Rr&&g.jsx("span",{className:"text-[9px] font-bold text-rose-500 ml-2 animate-pulse",children:Rr})]}),g.jsxs("span",{className:"shrink-0 pl-2",children:["x",st.quantity*G.quantity]})]},Nn)})})]},G.uniqueId)})}):g.jsx("div",{className:"text-center py-20 text-slate-500",children:"Seleziona una Sezione"}):g.jsx("div",{className:"text-center py-20 text-slate-500",children:"Crea una Zona per iniziare"})]}),Je&&g.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-800 flex flex-col md:flex-row gap-4 justify-end items-center z-10",children:g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:ys,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded text-sm font-medium",children:[g.jsx(Xg,{size:16})," CSV"]}),g.jsxs("button",{onClick:Wi,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded shadow-lg shadow-blue-900/20 font-medium",children:[g.jsx(Xg,{size:16})," PDF TOTALI"]}),g.jsxs("button",{onClick:Ro,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded shadow-lg shadow-emerald-900/20 font-medium",children:[g.jsx(Xg,{size:16})," PDF"]})]})})]}),g.jsx(za,{isOpen:Ye.isOpen,onClose:()=>ht(G=>({...G,isOpen:!1})),title:Ye.type==="create"?`Nuova ${Ye.target==="zone"?"Zona":"Sezione"}`:`Rinomina ${Ye.target==="zone"?"Zona":"Sezione"}`,children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("input",{className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white",value:Ye.name,onChange:G=>ht(we=>({...we,name:G.target.value})),autoFocus:!0,onKeyDown:G=>G.key==="Enter"&&Js()}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{onClick:()=>ht(G=>({...G,isOpen:!1})),className:"px-4 py-2 text-slate-400",children:"Annulla"}),g.jsx("button",{onClick:Js,className:"px-6 py-2 bg-blue-600 text-white rounded",children:"Salva"})]})]})}),g.jsx(za,{isOpen:J.isOpen,onClose:()=>Ge(G=>({...G,isOpen:!1})),title:"Nota Zona",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white h-32",value:J.note,onChange:G=>Ge(we=>({...we,note:G.target.value})),autoFocus:!0,placeholder:"Inserisci una nota per questa zona..."}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{onClick:()=>Ge(G=>({...G,isOpen:!1})),className:"px-4 py-2 text-slate-400",children:"Annulla"}),g.jsx("button",{onClick:at,className:"px-6 py-2 bg-blue-600 text-white rounded",children:"Salva"})]})]})}),g.jsx(b5,{isOpen:!!ie,onClose:()=>de(null),reminders:Kn?.reminders||[],onUpdate:Zs,title:Kn?.eventName||"Note Evento"}),g.jsx(Yd,{isOpen:!!be,onClose:()=>oe(null),onConfirm:Do,title:"Elimina Sezione",message:"Confermi l'eliminazione della sezione?"}),g.jsx(Yd,{isOpen:!!_e,onClose:()=>ge(null),onConfirm:Dl,title:"Elimina Zona",message:"Confermi l'eliminazione della ZONA e di tutto il suo contenuto?"}),g.jsx(Sy,{isOpen:Fe,onClose:()=>$e(!1),onSave:Mi,title:"Nuovo Materiale",inventory:r,onCreateAccessory:ba,initialName:E}),g.jsx(za,{isOpen:ti,onClose:()=>Bt(!1),title:Kt.id?"Modifica Evento":"Nuovo Evento",size:"lg",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"col-span-full",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Nome Evento"}),g.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white focus:border-emerald-500 outline-none",placeholder:"Es. Concerto Estivo 2024",value:Kt.eventName||"",onChange:G=>gr(we=>({...we,eventName:G.target.value}))})]}),g.jsxs("div",{className:"col-span-full",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Location / Luogo"}),g.jsxs("div",{className:"relative",children:[g.jsx(wm,{className:"absolute left-3 top-2.5 text-slate-500",size:18}),g.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-10 pr-3 py-2.5 text-white focus:border-emerald-500 outline-none",placeholder:"Es. Teatro Comunale, Roma",value:Kt.location||"",onChange:G=>gr(we=>({...we,location:G.target.value}))})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Data Inizio Allestimento"}),g.jsxs("div",{className:"relative",children:[g.jsx(zd,{className:"absolute left-3 top-2.5 text-slate-500 z-10 pointer-events-none",size:18}),g.jsx(Md,{portalId:"root",selected:Kt.setupDate?new Date(Kt.setupDate):null,onChange:G=>gr(we=>({...we,setupDate:G?G.toISOString():""})),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-10 pr-3 py-2.5 text-white focus:border-emerald-500 outline-none",placeholderText:"Seleziona data..."})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Data Inizio Evento"}),g.jsxs("div",{className:"relative",children:[g.jsx(zd,{className:"absolute left-3 top-2.5 text-slate-500 z-10 pointer-events-none",size:18}),g.jsx(Md,{portalId:"root",selected:Kt.eventDate?new Date(Kt.eventDate):null,onChange:G=>gr(we=>({...we,eventDate:G?G.toISOString():""})),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-10 pr-3 py-2.5 text-white focus:border-emerald-500 outline-none",placeholderText:"Seleziona data..."})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-1",children:"Data Creazione Lista"}),g.jsx(Md,{portalId:"root",selected:Kt.creationDate?new Date(Kt.creationDate):new Date,onChange:G=>gr(we=>({...we,creationDate:G?G.toISOString():""})),dateFormat:"dd/MM/yyyy",className:"w-full bg-slate-900 border border-slate-800 rounded-lg px-3 py-2 text-slate-400 text-sm focus:border-slate-600 outline-none"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 border-t border-slate-800 pt-4 mt-2",children:[g.jsx("button",{onClick:()=>Bt(!1),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Annulla"}),g.jsx("button",{onClick:ni,className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium shadow-lg shadow-emerald-900/20 transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!Kt.eventName,children:"Salva Evento"})]})]})}),g.jsx(za,{isOpen:ye,onClose:()=>fe(!1),title:"Incolla di nuovo",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-slate-300",children:"Vuoi incollare di nuovo?"}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{onClick:()=>fe(!1),className:"px-4 py-2 text-slate-400",children:"Annulla"}),g.jsx("button",{onClick:()=>{Hi(),fe(!1)},className:"bg-emerald-600 text-white px-4 py-2 rounded",children:"Si"})]})]})}),he&&g.jsxs("div",{className:"absolute inset-x-0 top-0 z-20 bg-amber-900/95 border-b border-amber-500/50 p-4 shadow-xl text-center text-amber-100 font-bold",children:[g.jsx(m5,{className:"inline mr-2"})," Modalit Sostituzione ",g.jsx("button",{onClick:()=>Te(null),className:"ml-4 underline text-sm font-normal",children:"Annulla"})]})]})},h7=({inventory:r,kits:e,lists:t,setActiveListId:n,onNavigateToChecklist:i})=>{const s=Se.useRef(null),a=r.length,c=e.length,u=t.length,d=t.reduce((v,E)=>{const D=(E.sections||[]).reduce((P,U)=>P+(U.components?.length||0),0),T=(E.zones||[]).reduce((P,U)=>P+(U.sections||[]).reduce((V,H)=>V+(H.components?.length||0),0),0);return v+D+T},0),f=()=>{const v={type:"cuepack_catalog",exportDate:new Date().toISOString(),inventory:r,kits:e},E=JSON.stringify(v,null,2),D=new Blob([E],{type:"application/json"}),T=URL.createObjectURL(D),P=document.createElement("a");P.href=T;const U=new Date,V=String(U.getDate()).padStart(2,"0"),H=String(U.getMonth()+1).padStart(2,"0"),ie=U.getFullYear(),de=String(U.getHours()).padStart(2,"0"),q=String(U.getMinutes()).padStart(2,"0");P.download=`CuePack_Catalogo_${ie}-${H}-${V}_${de}-${q}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(T)},w=()=>{s.current&&(s.current.value="",s.current.click())},b=v=>{const E=v.target.files?.[0];if(!E)return;const D=new FileReader;D.onload=async T=>{try{const P=T.target?.result,U=JSON.parse(P);if(U.inventory&&Array.isArray(U.inventory)){const V=new Map;r.forEach(ie=>V.set(ie.name.trim().toLowerCase(),ie));const H=[];U.inventory.forEach(ie=>{if(!ie.name)return;const de=ie.name.trim().toLowerCase(),q=V.get(de);q?H.push({...ie,id:q.id}):H.push({...ie,id:ie.id||crypto.randomUUID()})}),H.length>0&&await Gm(Ua,H)}if(U.kits&&Array.isArray(U.kits)){const V=new Map;e.forEach(ie=>V.set(ie.name.trim().toLowerCase(),ie));const H=[];U.kits.forEach(ie=>{if(!ie.name)return;const de=ie.name.trim().toLowerCase(),q=V.get(de);q?H.push({...ie,id:q.id}):H.push({...ie,id:ie.id||crypto.randomUUID()})}),H.length>0&&await Gm(Zd,H)}alert(`Importazione completata!
Database aggiornato con successo.`)}catch(P){console.error("Import error:",P),alert("Errore durante la lettura del file. Verifica che sia un JSON valido (formato CuePack Catalog).")}},D.readAsText(E)};return g.jsx("div",{className:"h-full p-6 overflow-y-auto custom-scrollbar",children:g.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[g.jsx("div",{className:"p-3 bg-blue-600 rounded-xl shadow-lg shadow-blue-900/20",children:g.jsx(y5,{size:32,className:"text-white"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),g.jsx("p",{className:"text-slate-400",children:"Panoramica e gestione workspace"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[g.jsx(cm,{icon:VP,label:"Articoli in Inventario",value:a,color:"bg-slate-800",iconColor:"text-blue-500"}),g.jsx(cm,{icon:jf,label:"Kit Configurati",value:c,color:"bg-slate-800",iconColor:"text-purple-500"}),g.jsx(cm,{icon:v5,label:"Eventi Attivi",value:u,color:"bg-slate-800",iconColor:"text-emerald-500"}),g.jsx(cm,{icon:y5,label:"Totale Materiale Impiegato",value:d,color:"bg-slate-800",iconColor:"text-amber-500"})]}),g.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[g.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[g.jsx(RP,{className:"text-indigo-400"}),"Gestione Catalogo (Inventario & Kit)"]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-6 flex flex-col items-center text-center hover:border-indigo-500/50 transition-colors group",children:[g.jsx("div",{className:"w-16 h-16 bg-indigo-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:g.jsx(zP,{size:32,className:"text-indigo-500"})}),g.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-2",children:"Esporta Catalogo"}),g.jsx("p",{className:"text-sm text-slate-500 mb-6 flex-1",children:"Salva inventario e kit in un file backup."}),g.jsx("button",{onClick:f,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors",children:"Salva Catalogo"})]}),g.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-6 flex flex-col items-center text-center hover:border-indigo-500/50 transition-colors group",children:[g.jsx("div",{className:"w-16 h-16 bg-indigo-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:g.jsx(QP,{size:32,className:"text-indigo-500"})}),g.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-2",children:"Importa Catalogo"}),g.jsx("p",{className:"text-sm text-slate-500 mb-6 flex-1",children:"Ripristina backup o unisci cataloghi."}),g.jsx("input",{type:"file",ref:s,onChange:b,className:"hidden",accept:".json"}),g.jsx("button",{onClick:w,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors",children:"Carica Catalogo"})]}),g.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-6 flex flex-col items-center text-center hover:border-indigo-500/50 transition-colors group",children:[g.jsx("div",{className:"w-16 h-16 bg-emerald-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:g.jsx(v5,{size:32,className:"text-emerald-500"})}),g.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-2",children:"Gestione Checklist"}),g.jsx("p",{className:"text-sm text-slate-500 mb-6 flex-1",children:"Modifica la struttura della checklist globale (Settori, Gruppi, Voci)."}),g.jsx("button",{onClick:i,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors",children:"Modifica Checklist"})]})]})]}),g.jsx("div",{className:"text-center text-xs text-slate-600 pb-8",children:"CuePack Manager utilizza Firebase Cloud. I dati sono sincronizzati."})]})})},cm=({icon:r,label:e,value:t,color:n,iconColor:i})=>g.jsxs("div",{className:`${n} border border-slate-700 rounded-xl p-4 flex items-center gap-4`,children:[g.jsx("div",{className:`p-3 rounded-lg bg-slate-950 ${i}`,children:g.jsx(r,{size:24})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-2xl font-bold text-white",children:t}),g.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide font-medium",children:e})]})]}),f7=({activeList:r,checklist:e})=>{const[t,n]=Se.useState([]),i=r.checklistEnabledSectors||[],s=r.checklistCheckedItems||[],a=async b=>{const v={...r,...b};await ts(va,v)},c=b=>{n(v=>v.includes(b)?v.filter(E=>E!==b):[...v,b])},u=async b=>{let v;i.includes(b)?v=i.filter(E=>E!==b):(v=[...i,b],t.includes(b)||n(E=>[...E,b])),await a({checklistEnabledSectors:v})},d=async b=>{let v;s.includes(b)?v=s.filter(E=>E!==b):v=[...s,b],await a({checklistCheckedItems:v})},f=async()=>{confirm("Vuoi rimuovere tutte le spunte e disattivare i settori?")&&(await a({checklistCheckedItems:[],checklistEnabledSectors:[]}),n([]))},w=(b,v)=>`${b}-${v}`;return g.jsxs("div",{className:"flex flex-col pb-10",children:[(i.length>0||s.length>0)&&g.jsx("div",{className:"px-3 py-2 flex justify-end",children:g.jsxs("button",{onClick:f,className:"text-[10px] text-slate-500 hover:text-rose-400 flex items-center gap-1 transition-colors",children:[g.jsx(GP,{size:10})," Reset Tutto"]})}),g.jsx("div",{className:"space-y-1 p-2",children:e.map(b=>{const v=i.includes(b.id),E=t.includes(b.id),D=b.title.replace(/SETTORE\s*/i,""),T=b.groups.length;let P=0;b.groups.forEach((V,H)=>{s.includes(w(b.id,H))&&P++});const U=T>0&&T===P;return g.jsxs("div",{className:`rounded-lg border transition-all duration-300 overflow-hidden 
                ${v?U?"bg-emerald-900/30 border-emerald-600/50 shadow-md shadow-emerald-900/10":"bg-slate-900 border-slate-700 shadow-sm":"border-transparent opacity-80 hover:opacity-100 hover:bg-slate-900/30"}`,children:[g.jsxs("div",{className:"w-full flex items-center justify-between p-2.5 gap-2 select-none",children:[g.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0 cursor-pointer group/header",onClick:()=>c(b.id),children:[g.jsx("div",{className:`transition-transform duration-200 ${E?"rotate-90":""} ${U&&v?"text-emerald-400":"text-slate-600 group-hover/header:text-slate-400"}`,children:g.jsx(by,{size:14})}),g.jsx("div",{className:"flex-1 min-w-0",children:g.jsx("div",{className:`text-xs font-bold truncate ${U&&v?"text-emerald-100":v?"text-blue-100":"text-slate-400 group-hover/header:text-slate-300"}`,children:D})})]}),g.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[v&&g.jsxs("div",{className:`text-[10px] font-mono mr-1 ${U?"text-emerald-400 font-bold":"text-slate-500"}`,children:[P,"/",T]}),g.jsx("button",{onClick:V=>{V.stopPropagation(),u(b.id)},className:`relative w-10 h-5 rounded-full transition-colors duration-200 focus:outline-none 
                            ${v?U?"bg-emerald-500":"bg-blue-600":"bg-slate-700 hover:bg-slate-600"}`,title:v?"Disattiva Settore":"Attiva Settore",children:g.jsx("span",{className:`absolute top-0.5 left-0.5 bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-200 flex items-center justify-center text-[8px] font-bold text-slate-800
                                ${v?"translate-x-5":"translate-x-0"}
                            `,children:v?"SI":"NO"})})]})]}),E&&g.jsxs("div",{className:`border-t p-2 space-y-3 animate-in ${U?"border-emerald-800/50 bg-emerald-950/20":"border-slate-800 bg-slate-950/30"}`,children:[b.groups.map((V,H)=>{const ie=w(b.id,H),de=s.includes(ie);return g.jsxs("div",{className:`group/item ${v?"":"opacity-50 pointer-events-none"}`,children:[g.jsxs("div",{className:`flex items-center gap-2 cursor-pointer p-1.5 rounded transition-colors select-none
                                ${de?U?"hover:bg-emerald-900/40 text-emerald-300":"hover:bg-slate-800 text-slate-200":"hover:bg-slate-800 text-slate-300"}`,onClick:()=>d(ie),children:[g.jsx("div",{className:`shrink-0 transition-colors ${de?"text-emerald-500":"text-slate-500 group-hover/item:text-slate-300"}`,children:de?g.jsx(Wo,{size:16}):g.jsx($o,{size:16})}),g.jsx("h4",{className:`text-[11px] font-bold uppercase tracking-wider leading-tight ${de?"opacity-80":""}`,children:V.title})]}),g.jsx("div",{className:`pl-7 pr-2 border-l border-slate-800/50 ml-2.5 mt-1 mb-2 ${de?"opacity-50 grayscale":"opacity-100"}`,children:g.jsx("ul",{className:"space-y-1",children:V.items.map((q,O)=>g.jsxs("li",{className:"flex items-start gap-2 text-[10px] text-slate-400 leading-snug",children:[g.jsx("span",{className:"mt-1 w-1 h-1 rounded-full bg-slate-600 shrink-0"}),g.jsx("span",{children:q})]},O))})})]},ie)}),!v&&g.jsx("div",{className:"text-center text-[10px] text-slate-500 italic py-2",children:"Attiva il settore (SI) per spuntare le voci"})]})]},b.id)})})]})},p7=({checklist:r,onBack:e})=>{const[t,n]=Se.useState([]),[i,s]=Se.useState(new Set),[a,c]=Se.useState(!1);Se.useEffect(()=>{n(JSON.parse(JSON.stringify(r))),c(!1)},[r]);const u=async()=>{try{await gy(mh(pl,r1,"master"),{categories:t}),c(!1),alert("Checklist salvata con successo!")}catch(V){console.error("Error saving checklist:",V),alert("Errore durante il salvataggio.")}},d=V=>{const H=new Set(i);H.has(V)?H.delete(V):H.add(V),s(H)},f=()=>{const V={id:crypto.randomUUID(),title:"Nuovo Settore",subtitle:"Descrizione settore",groups:[]};n([...t,V]),c(!0),s(new Set(i).add(V.id))},w=(V,H)=>{n(ie=>ie.map(de=>de.id===V?{...de,...H}:de)),c(!0)},b=V=>{confirm("Eliminare questo settore e tutto il suo contenuto?")&&(n(H=>H.filter(ie=>ie.id!==V)),c(!0))},v=V=>{const H={title:"Nuovo Gruppo",items:[]};n(ie=>ie.map(de=>de.id===V?{...de,groups:[...de.groups,H]}:de)),c(!0)},E=(V,H,ie)=>{n(de=>de.map(q=>{if(q.id===V){const O=[...q.groups];return O[H]={...O[H],...ie},{...q,groups:O}}return q})),c(!0)},D=(V,H)=>{confirm("Eliminare questo gruppo?")&&(n(ie=>ie.map(de=>de.id===V?{...de,groups:de.groups.filter((q,O)=>O!==H)}:de)),c(!0))},T=(V,H)=>{n(ie=>ie.map(de=>{if(de.id===V){const q=[...de.groups];return q[H]={...q[H],items:[...q[H].items,"Nuova voce"]},{...de,groups:q}}return de})),c(!0)},P=(V,H,ie,de)=>{n(q=>q.map(O=>{if(O.id===V){const M=[...O.groups],z=[...M[H].items];return z[ie]=de,M[H]={...M[H],items:z},{...O,groups:M}}return O})),c(!0)},U=(V,H,ie)=>{n(de=>de.map(q=>{if(q.id===V){const O=[...q.groups],M=O[H].items.filter((z,N)=>N!==ie);return O[H]={...O[H],items:M},{...q,groups:O}}return q})),c(!0)};return g.jsxs("div",{className:"h-full flex flex-col p-6 bg-slate-950 overflow-hidden",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("button",{onClick:e,className:"p-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors",children:g.jsx(xy,{size:20})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gestione Checklist"}),g.jsx("p",{className:"text-slate-400",children:"Modifica la struttura della checklist globale"})]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-medium transition-colors",children:[g.jsx(es,{size:18})," Nuovo Settore"]}),g.jsxs("button",{onClick:u,disabled:!a,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-bold transition-colors ${a?"bg-emerald-600 hover:bg-emerald-500 text-white":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:[g.jsx(QS,{size:18})," Salva Modifiche"]})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4 pb-20",children:t.map(V=>{const H=i.has(V.id);return g.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:[g.jsxs("div",{className:"p-4 flex items-start gap-4 bg-slate-900 border-b border-slate-800/50",children:[g.jsx("button",{onClick:()=>d(V.id),className:"mt-1 text-slate-500 hover:text-white transition-colors",children:H?g.jsx(FP,{size:20}):g.jsx(by,{size:20})}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsx("div",{className:"flex gap-2",children:g.jsx("input",{className:"bg-transparent text-lg font-bold text-white border-b border-transparent focus:border-blue-500 outline-none w-full",value:V.title,onChange:ie=>w(V.id,{title:ie.target.value}),placeholder:"Titolo Settore"})}),g.jsx("input",{className:"bg-transparent text-sm text-slate-500 border-b border-transparent focus:border-slate-600 outline-none w-full",value:V.subtitle,onChange:ie=>w(V.id,{subtitle:ie.target.value}),placeholder:"Sottotitolo / Descrizione"})]}),g.jsx("button",{onClick:()=>b(V.id),className:"p-2 text-slate-600 hover:text-rose-500 hover:bg-slate-800 rounded transition-colors",children:g.jsx(Va,{size:18})})]}),H&&g.jsxs("div",{className:"p-4 bg-slate-950/30 space-y-6",children:[V.groups.map((ie,de)=>g.jsxs("div",{className:"pl-4 border-l-2 border-slate-800",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2 group/header",children:[g.jsx("input",{className:"bg-transparent text-sm font-bold uppercase tracking-wider text-blue-400 border-b border-transparent focus:border-blue-500 outline-none flex-1",value:ie.title,onChange:q=>E(V.id,de,{title:q.target.value}),placeholder:"NOME GRUPPO"}),g.jsx("button",{onClick:()=>D(V.id,de),className:"opacity-0 group-hover/header:opacity-100 p-1 text-slate-600 hover:text-rose-500 transition-all",children:g.jsx(Va,{size:14})})]}),g.jsxs("div",{className:"space-y-2",children:[ie.items.map((q,O)=>g.jsxs("div",{className:"flex items-center gap-2 group/item",children:[g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-700 shrink-0"}),g.jsx("input",{className:"bg-transparent text-sm text-slate-300 border-b border-transparent focus:border-slate-600 outline-none flex-1",value:q,onChange:M=>P(V.id,de,O,M.target.value)}),g.jsx("button",{onClick:()=>U(V.id,de,O),className:"opacity-0 group-hover/item:opacity-100 text-slate-600 hover:text-rose-500 p-1",children:g.jsx(Va,{size:12})})]},O)),g.jsxs("button",{onClick:()=>T(V.id,de),className:"text-xs text-emerald-600 hover:text-emerald-400 flex items-center gap-1 mt-2 font-medium",children:[g.jsx(es,{size:12})," Aggiungi Voce"]})]})]},de)),g.jsxs("button",{onClick:()=>v(V.id),className:"w-full py-2 border-2 border-dashed border-slate-800 rounded-lg text-slate-500 hover:text-blue-400 hover:border-blue-500/50 hover:bg-slate-900 transition-all text-sm font-medium flex justify-center items-center gap-2",children:[g.jsx(es,{size:16})," Nuovo Gruppo"]})]})]},V.id)})})]})},m7=({lists:r})=>{const[e,t]=Se.useState(null),[n,i]=Se.useState(""),[s,a]=Se.useState(""),[c,u]=Se.useState("zones"),[d,f]=Se.useState(null),[w,b]=Se.useState(""),[v,E]=Se.useState(!1),D=F=>{f(F),F&&b("")},T=F=>{b(F),F&&f(null)},[P,U]=Se.useState({isOpen:!1,targets:[],text:""}),[V,H]=Se.useState({isOpen:!1,targets:[],text:""}),[ie,de]=Se.useState(null),q=Se.useMemo(()=>r.find(F=>F.id===e),[r,e]),O=F=>{const Y=[];return F.zones&&F.zones.forEach(se=>{se.sections.forEach(le=>{le.components.forEach(ye=>{(ye.warehouseState?.isBroken||ye.warehouseState?.warehouseNote)&&Y.push({component:ye,zoneName:se.name,sectionName:le.name}),ye.contents&&ye.contents.forEach(fe=>{(fe.warehouseState?.isBroken||fe.warehouseState?.warehouseNote)&&Y.push({component:{...ye,name:`${ye.name} > ${fe.name}`},zoneName:se.name,sectionName:le.name})})})})}),Y},M=F=>{const Y=F.warehouseState;if(!Y?.changeLog)return!1;const se=F.type!=="kit"&&!(Y.inDistinta&&Y.loaded);let le=!1;return F.contents&&F.contents.length>0&&(le=!F.contents.every(ye=>ye.warehouseState?.inDistinta&&ye.warehouseState?.loaded)),se||le},z=Se.useMemo(()=>r.filter(F=>!!F.version).filter(F=>F.eventName.toLowerCase().includes(n.toLowerCase())||F.location.toLowerCase().includes(n.toLowerCase())).sort((F,Y)=>new Date(F.eventDate).getTime()-new Date(Y.eventDate).getTime()),[r,n]),N=Se.useMemo(()=>{if(!q||!q.zones)return null;const F=new Map;return q.zones.forEach(Y=>{const se=new Map,le=new Map;Y.sections.forEach(ye=>{ye.components.forEach(fe=>{const he=fe.warehouseState||{inDistinta:!1,loaded:!1,returned:!1};if(fe.type==="kit"||fe.contents&&fe.contents.length>0){const Fe=fe.type==="kit"?`KIT-${fe.name}`:fe.name;se.has(Fe)||se.set(Fe,{name:fe.name,totalQty:0,inDistintaQty:0,loadedQty:0,returnedQty:0,hasNote:!1,hasIssue:!1,instances:[],children:new Map});const $e=se.get(Fe);$e.totalQty+=fe.quantity,fe.type!=="kit"&&(he.inDistinta&&($e.inDistintaQty+=fe.quantity),he.loaded&&($e.loadedQty+=fe.quantity),he.returned&&($e.returnedQty+=fe.quantity)),he.warehouseNote&&($e.hasNote=!0),he.isBroken&&($e.hasIssue=!0),$e.instances.push({uniqueId:fe.uniqueId,note:he.warehouseNote,isBroken:he.isBroken}),fe.contents?.forEach((Ye,ht)=>{const J=Ye.warehouseState||{inDistinta:!1,loaded:!1,returned:!1};$e.children.has(Ye.name)||$e.children.set(Ye.name,{name:Ye.name,totalQty:0,inDistintaQty:0,loadedQty:0,returnedQty:0,hasNote:!1,hasIssue:!1,instances:[]});const Ge=$e.children.get(Ye.name),at=Ye.quantity*fe.quantity;Ge.totalQty+=at,J.inDistinta&&(Ge.inDistintaQty+=at),J.loaded&&(Ge.loadedQty+=at),J.returned&&(Ge.returnedQty+=at),J.warehouseNote&&(Ge.hasNote=!0),J.isBroken&&(Ge.hasIssue=!0),Ge.instances.push({parentId:fe.uniqueId,childIdx:ht,note:J.warehouseNote,isBroken:J.isBroken})})}else{le.has(fe.name)||le.set(fe.name,{name:fe.name,totalQty:0,inDistintaQty:0,loadedQty:0,returnedQty:0,hasNote:!1,hasIssue:!1,instances:[]});const Fe=le.get(fe.name);Fe.totalQty+=fe.quantity,he.inDistinta&&(Fe.inDistintaQty+=fe.quantity),he.loaded&&(Fe.loadedQty+=fe.quantity),he.returned&&(Fe.returnedQty+=fe.quantity),he.warehouseNote&&(Fe.hasNote=!0),he.isBroken&&(Fe.hasIssue=!0),Fe.instances.push({uniqueId:fe.uniqueId,note:he.warehouseNote,isBroken:he.isBroken})}})}),F.set(Y.id,{complex:se,simple:le})}),F},[q]),I=Se.useMemo(()=>{if(!d||!s||!N)return null;const F=N.get(s);if(!F)return null;let Y={kit:0,accessories:0,loose:0};return F.simple.has(d)&&(Y.loose+=F.simple.get(d).totalQty),F.complex.forEach((se,le)=>{const ye=le.startsWith("KIT-");if(se.name===d&&(ye?Y.kit+=se.totalQty:Y.loose+=se.totalQty),se.children.has(d)){const fe=se.children.get(d).totalQty;ye?Y.kit+=fe:Y.accessories+=fe}}),Y},[d,s,N]),L=async(F,Y)=>{if(!q||!q.zones)return;const se=q.zones.map(le=>({...le,sections:le.sections.map(ye=>({...ye,components:ye.components.map(fe=>fe.uniqueId===F?{...fe,warehouseState:{...fe.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},...Y}}:fe)}))}));await ts(va,{...q,zones:se})},ee=async(F,Y,se)=>{if(!q||!q.zones)return;const le=q.zones.map(ye=>({...ye,sections:ye.sections.map(fe=>({...fe,components:fe.components.map(he=>{if(he.uniqueId===F&&he.contents){const Te=[...he.contents],Fe=Te[Y];return Te[Y]={...Fe,warehouseState:{...Fe.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},...se}},{...he,contents:Te}}return he})}))}));await ts(va,{...q,zones:le})},ve=async(F,Y)=>{if(!q||!q.zones)return;const se=q.zones.map(le=>({...le,sections:le.sections.map(ye=>({...ye,components:ye.components.map(fe=>{const he=F.some(Fe=>Fe.uniqueId===fe.uniqueId);let Te=fe.contents;if(fe.contents){const Fe=F.filter($e=>$e.parentId===fe.uniqueId);Fe.length>0&&(Te=fe.contents.map(($e,Ye)=>Fe.some(ht=>ht.childIdx===Ye)?{...$e,warehouseState:{...$e.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},...Y}}:$e))}return he?{...fe,contents:Te,warehouseState:{...fe.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},...Y}}:Te!==fe.contents?{...fe,contents:Te}:fe})}))}));await ts(va,{...q,zones:se})},Ne=()=>{P.targets.length>0&&(ve(P.targets,{warehouseNote:P.text}),U({isOpen:!1,targets:[],text:""}))},be=()=>{V.targets.length>0&&(ve(V.targets,{isBroken:!0,brokenNote:V.text}),H({isOpen:!1,targets:[],text:""}))},oe=()=>{V.targets.length>0&&(ve(V.targets,{isBroken:!1,brokenNote:""}),H({isOpen:!1,targets:[],text:""}))},_e=async F=>{if(!q)return;const Y=q.deletedItems?.filter(se=>se.zoneName!==F)||[];await ts(va,{...q,deletedItems:Y})};if(!e)return g.jsxs("div",{className:"h-full flex flex-col p-6 bg-slate-950 overflow-hidden",children:[g.jsxs("div",{className:"mb-6",children:[g.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[g.jsx(XS,{className:"text-blue-500",size:32}),"Preparazione Materiale"]}),g.jsx("p",{className:"text-slate-400",children:"Gestione carichi, scarichi e segnalazioni magazzino"})]}),g.jsxs("div",{className:"relative mb-6 max-w-md",children:[g.jsx(ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:16}),g.jsx("input",{placeholder:"Cerca evento...",className:"w-full bg-slate-900 border border-slate-700 text-white pl-10 pr-4 py-2 rounded-lg outline-none focus:border-blue-500",value:n,onChange:F=>i(F.target.value)})]}),g.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 custom-scrollbar",children:z.map(F=>{const se=O(F).length>0,le=F.version==="1.0",ye=F.zones?.some(Ye=>Ye.sections.some(ht=>ht.components.some(J=>M(J))))||F.deletedItems&&F.deletedItems.length>0,fe=F.version&&F.version>"1.0"&&ye;let he=!0,Te=!0;F.zones&&F.zones.length>0?F.zones.forEach(Ye=>{Ye.sections.forEach(ht=>{ht.components.forEach(J=>{if(J.contents&&J.contents.length>0&&J.contents.forEach(Ge=>{const at=Ge.warehouseState;(!at?.inDistinta||!at?.loaded)&&(he=!1),at?.returned||(Te=!1)}),J.type!=="kit"){const Ge=J.warehouseState;(!Ge?.inDistinta||!Ge?.loaded)&&(he=!1),Ge?.returned||(Te=!1)}})})}):(he=!1,Te=!1),F.deletedItems&&F.deletedItems.length>0&&(he=!1);let Fe="border-slate-800",$e="bg-slate-900";return Te?(Fe="border-purple-500/50",$e="bg-purple-900/10"):he?(Fe="border-emerald-500/50",$e="bg-emerald-900/10"):le?(Fe="border-blue-500/50",$e="bg-blue-900/10"):fe&&(Fe="border-amber-500/50",$e="bg-amber-900/10"),g.jsxs("div",{className:`border rounded-xl p-4 hover:border-slate-600 transition-all flex items-center gap-4 group ${Fe} ${$e}`,children:[g.jsxs("div",{className:"w-12 h-12 rounded-lg bg-slate-800 flex items-center justify-center text-slate-400 font-bold text-lg shrink-0 relative",children:[F.eventName.charAt(0).toUpperCase(),F.version&&g.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-slate-950 text-[10px] px-1.5 py-0.5 rounded border border-slate-700 text-slate-300 font-mono",children:["v",F.version]})]}),g.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{t(F.id),a(F.zones?.[0]?.id||"")},children:[g.jsxs("h3",{className:"font-bold text-lg text-white group-hover:text-blue-400 transition-colors truncate flex items-center gap-3",children:[F.eventName,Te&&g.jsx("span",{className:"text-xs bg-purple-500 text-white px-2 py-0.5 rounded font-bold uppercase",children:"Evento rientrato"}),!Te&&he&&g.jsx("span",{className:"text-xs bg-emerald-500 text-white px-2 py-0.5 rounded font-bold uppercase",children:"Carico Completo"}),!Te&&!he&&le&&g.jsx("span",{className:"text-xs bg-blue-500 text-white px-2 py-0.5 rounded font-bold uppercase",children:"Pronto"}),!Te&&!he&&fe&&g.jsx("span",{className:"text-xs bg-amber-500 text-black px-2 py-0.5 rounded font-bold uppercase",children:"Modificato"})]}),g.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(wm,{size:14})," ",F.location]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(zd,{size:14})," ",new Date(F.eventDate).toLocaleDateString()]})]})]}),se&&g.jsx("button",{onClick:Ye=>{Ye.stopPropagation(),de(F)},className:"w-10 h-10 rounded-full bg-amber-900/20 flex items-center justify-center text-amber-500 animate-pulse hover:bg-amber-900/40 transition-colors",title:"Visualizza segnalazioni",children:g.jsx(ma,{size:20,className:"fill-current"})}),g.jsx("button",{onClick:()=>{t(F.id),a(F.zones?.[0]?.id||"")},className:"p-3 bg-slate-800 hover:bg-blue-600 hover:text-white text-slate-400 rounded-lg transition-colors",children:g.jsx(by,{size:20})})]},F.id)})}),g.jsx(za,{isOpen:!!ie,onClose:()=>de(null),title:"Segnalazioni Evento",size:"lg",children:g.jsxs("div",{className:"space-y-4",children:[ie&&O(ie).length===0&&g.jsx("p",{className:"text-slate-500",children:"Nessuna segnalazione presente."}),ie&&O(ie).map((F,Y)=>g.jsxs("div",{className:"bg-slate-950 border border-slate-800 p-3 rounded-lg flex items-start gap-3",children:[F.component.warehouseState?.isBroken?g.jsx(Qg,{className:"text-rose-500 shrink-0 mt-1"}):g.jsx(zc,{className:"text-blue-500 shrink-0 mt-1"}),g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-white",children:F.component.name}),g.jsxs("div",{className:"text-xs text-slate-500 mb-1",children:[F.zoneName," > ",F.sectionName]}),F.component.warehouseState?.isBroken&&g.jsx("div",{className:"mt-1",children:g.jsx("div",{className:"text-rose-400 text-sm font-medium uppercase",children:F.component.warehouseState.brokenNote||"SEGNALATO ROTTO/MANCANTE"})}),F.component.warehouseState?.warehouseNote&&g.jsxs("div",{className:"bg-slate-900 p-2 rounded text-sm text-slate-300 mt-1 italic",children:['"',F.component.warehouseState.warehouseNote,'"']})]})]},Y)),g.jsx("div",{className:"flex justify-end pt-4",children:g.jsx("button",{onClick:()=>de(null),className:"px-4 py-2 bg-slate-800 text-white rounded hover:bg-slate-700",children:"Chiudi"})})]})})]});const ge=q?.zones?.find(F=>F.id===s),te=q?.deletedItems?.filter(F=>F.zoneName===ge?.name),j=(F,Y,se,le)=>{let ye="bg-slate-800",fe="text-slate-600",he=g.jsx($o,{size:24}),Te="";const Fe=Y>=se,$e=Y>0;return Fe?(he=g.jsx(Wo,{size:24}),F==="distinta"&&(fe="text-emerald-500"),F==="carico"&&(fe="text-blue-500"),F==="rientro"&&(fe="text-purple-500")):$e?(ye="bg-yellow-500 hover:bg-yellow-400",fe="text-black",Te=`${Y}/${se}`):fe="text-slate-600",g.jsxs("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:[g.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase group-hover:text-slate-300",children:F==="distinta"?"Distinta":F==="carico"?"Carico":"Rientro"}),g.jsx("button",{onClick:le,className:`flex items-center justify-center min-w-[32px] h-8 rounded transition-all ${$e&&!Fe?ye:""} ${!$e||Fe?"hover:scale-110":""} ${fe}`,children:$e&&!Fe?g.jsx("span",{className:"text-xs font-bold px-1",children:Te}):he})]})};return g.jsxs("div",{className:"h-full flex flex-col bg-slate-950 overflow-hidden",children:[g.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 p-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[g.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[g.jsx("button",{onClick:()=>t(null),className:"p-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg",children:g.jsx(xy,{size:20})}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2 truncate",children:[q?.eventName,q?.version&&g.jsxs("span",{className:"text-xs font-mono bg-slate-800 px-2 py-0.5 rounded border border-slate-700 text-slate-400",children:["v",q.version]})]}),g.jsxs("div",{className:"text-xs text-slate-500 flex gap-2",children:[g.jsx("span",{children:q?.location}),"  ",g.jsx("span",{children:new Date(q?.eventDate||"").toLocaleDateString()})]})]}),g.jsxs("div",{className:"flex items-center bg-slate-800 rounded-lg p-1 shrink-0",children:[g.jsxs("button",{onClick:()=>u("zones"),className:`flex items-center gap-2 px-2.5 sm:px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="zones"?"bg-slate-700 text-white shadow":"text-slate-400 hover:text-slate-200"}`,title:"Vista Reparti",children:[g.jsx(KS,{size:18})," ",g.jsx("span",{className:"hidden sm:inline",children:"Reparti"})]}),g.jsxs("button",{onClick:()=>u("totals"),className:`flex items-center gap-2 px-2.5 sm:px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="totals"?"bg-slate-700 text-white shadow":"text-slate-400 hover:text-slate-200"}`,title:"Vista Totali",children:[g.jsx(WP,{size:18})," ",g.jsx("span",{className:"hidden sm:inline",children:"Totali"})]})]}),g.jsx("button",{onClick:()=>E(!v),className:`md:hidden p-2 rounded-lg transition-colors ${v||w?"bg-blue-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:g.jsx(ya,{size:20})})]}),g.jsxs("div",{className:`relative flex-1 max-w-xs mx-4 transition-all duration-300 ${v?"block w-full":"hidden"} md:block`,children:[g.jsx(ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:16}),g.jsx("input",{placeholder:"Cerca nel materiale...",className:"w-full bg-slate-800 border border-slate-700 text-white pl-9 pr-8 py-1.5 rounded-lg text-sm outline-none focus:border-blue-500 transition-all",value:w,onChange:F=>T(F.target.value)}),w&&g.jsx("button",{onClick:()=>T(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white",children:g.jsx(fc,{size:14})})]})]}),c==="zones"&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex bg-slate-900 border-b border-slate-800 overflow-x-auto px-4 gap-1 shrink-0",children:q?.zones?.map(F=>{const Y=q.deletedItems?.some(ye=>ye.zoneName===F.name),se=F.sections.some(ye=>ye.components.some(fe=>M(fe))),le=Y||se;return g.jsxs("button",{onClick:()=>a(F.id),className:`px-4 py-3 text-sm font-bold border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ${s===F.id?"border-blue-500 text-white bg-slate-800":"border-transparent text-slate-500 hover:text-slate-300"}`,children:[F.name,le&&g.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.5)] animate-pulse",title:"Modifiche rilevate in questa zona"})]},F.id)})}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar relative flex flex-col",children:[d&&g.jsxs("div",{className:"sticky top-0 left-0 right-0 z-20 bg-blue-600 text-white px-4 py-2 shadow-lg flex justify-between items-center animate-in slide-in-from-top-2 mb-4 shrink-0 rounded-lg",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"font-bold text-sm flex items-center gap-2",children:[g.jsx(ya,{size:16})," EVIDENZIATO: ",g.jsx("span",{className:"underline",children:d})]}),I&&g.jsxs("div",{className:"flex gap-3 text-xs border-l border-blue-400 pl-4",children:[g.jsxs("div",{className:"flex flex-col items-center leading-none",title:"Quantit nei Kit",children:[g.jsx("span",{className:"font-bold text-lg",children:I.kit}),g.jsx("span",{className:"opacity-70 text-[9px] uppercase",children:"Kit"})]}),g.jsxs("div",{className:"flex flex-col items-center leading-none",title:"Quantit negli Accessori",children:[g.jsx("span",{className:"font-bold text-lg",children:I.accessories}),g.jsx("span",{className:"opacity-70 text-[9px] uppercase",children:"Acc."})]}),g.jsxs("div",{className:"flex flex-col items-center leading-none",title:"Quantit Sfusi",children:[g.jsx("span",{className:"font-bold text-lg",children:I.loose}),g.jsx("span",{className:"opacity-70 text-[9px] uppercase",children:"Sfusi"})]})]})]}),g.jsx("button",{onClick:()=>f(null),className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded text-xs font-bold uppercase transition-colors",children:"ESCI"})]}),ge?g.jsxs("div",{className:"space-y-6",children:[te&&te.length>0&&g.jsxs("div",{className:"bg-rose-950/20 border border-rose-900/50 rounded-xl overflow-hidden mb-6",children:[g.jsxs("div",{className:"px-4 py-2 bg-rose-900/20 border-b border-rose-900/30 text-rose-400 font-bold text-sm flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx($S,{size:16})," MATERIALE RIMOSSO NELL'ULTIMA VERSIONE"]}),g.jsx("button",{onClick:()=>_e(ge.name),className:"text-[10px] bg-rose-500 text-white px-2 py-1 rounded hover:bg-rose-400 transition-colors",children:"NASCONDI SEGNALAZIONI"})]}),g.jsx("div",{className:"divide-y divide-rose-900/20",children:te.map((F,Y)=>g.jsxs("div",{className:"p-3 opacity-75 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-8 h-8 rounded bg-rose-900/20 flex items-center justify-center text-rose-500 font-bold text-xs shrink-0",children:"0"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"font-bold text-rose-200 line-through decoration-rose-500/50",children:F.originalComponent.name}),g.jsxs("div",{className:"text-xs text-rose-400/70",children:["Era in: ",F.sectionName,"  (Era: ",F.originalComponent.quantity,")"]})]})]}),F.originalComponent.contents&&F.originalComponent.contents.length>0&&g.jsx("div",{className:"pl-12 space-y-1",children:F.originalComponent.contents.map((se,le)=>g.jsxs("div",{className:"flex items-center gap-2 text-rose-400/60 text-xs",children:[g.jsx("span",{children:" - "}),g.jsx("span",{className:"line-through",children:se.name}),g.jsxs("span",{className:"font-mono",children:["x",se.quantity*F.originalComponent.quantity]})]},le))})]},Y))})]}),ge.sections.map(F=>g.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden",children:[g.jsx("div",{className:"px-4 py-2 bg-slate-800/80 border-b border-slate-800 font-bold text-slate-400 text-sm uppercase tracking-wider",children:F.name}),g.jsxs("div",{className:"divide-y divide-slate-800",children:[F.components.length===0&&g.jsx("div",{className:"p-4 text-center text-slate-600 text-sm",children:"Nessun materiale in questa sezione."}),F.components.map(Y=>{if(Y.type==="kit"){const J=Y.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},Ge=J.changeLog!==void 0,at=Ge&&M({...Y,warehouseState:J}),lt=!!d||!!w,Qe=vt=>d?vt===d:w?vt.toLowerCase().includes(w.toLowerCase()):!1,bt=Qe(Y.name),pt=Y.contents?.some(vt=>Qe(vt.name));if(lt&&!bt&&!pt)return null;const Rt=lt&&pt;return g.jsxs(Ve.Fragment,{children:[g.jsxs("div",{className:`p-3 border-l-4 flex flex-col sm:flex-row gap-2 sm:gap-4 items-start sm:items-center transition-all duration-300 ${Rt?"opacity-70":"opacity-100"} ${at?"bg-amber-900/10 border-amber-500":"bg-purple-900/10 border-purple-500/50"}`,children:[g.jsxs("div",{className:`flex-1 w-full min-w-0 transition-opacity ${lt&&!bt?"opacity-50":"opacity-100"}`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`font-bold text-lg cursor-pointer hover:underline truncate whitespace-normal ${bt?"text-blue-400 scale-105 origin-left":"text-white"}`,onClick:()=>D(d===Y.name?null:Y.name),children:Y.name}),g.jsxs("span",{className:"bg-purple-900 text-purple-200 px-2 py-0.5 rounded text-base font-mono font-bold shrink-0",children:["x",Y.quantity]}),Ge&&g.jsx("span",{className:`text-xs font-medium ml-2 ${at?"":"opacity-40"} hidden sm:inline`,children:J.changeLog?.previousQuantity===0?g.jsx("span",{className:at?"text-emerald-400 font-bold uppercase tracking-wider text-[10px]":"text-white/60 font-bold uppercase tracking-wider text-[10px]",children:" (NUOVO KIT)"}):g.jsxs("span",{className:at?"text-amber-400 font-bold":"text-white/60 font-bold",children:["(Era: ",J.changeLog?.previousQuantity," v",q?.version,")"]})})]}),g.jsxs("div",{className:"text-xs text-slate-500 mt-0.5 truncate",children:[Y.category," ",Y.notes&&g.jsxs("span",{className:"text-yellow-600 ml-2 block sm:inline mt-1 sm:mt-0",children:[" Nota Prod: ",Y.notes]})]}),J.warehouseNote&&g.jsxs("div",{className:"mt-1 text-xs text-blue-400 bg-blue-900/20 p-1.5 rounded inline-block w-full sm:w-auto",children:["Note Magazzino: ",J.warehouseNote]}),J.isBroken&&g.jsx("div",{className:"mt-1",children:g.jsxs("div",{className:"text-rose-500 text-xs font-bold flex items-center gap-1 uppercase",children:[g.jsx(Qg,{size:12})," ",J.brokenNote||"SEGNALATO ROTTO / MANCANTE"]})})]}),g.jsxs("div",{className:`flex items-center gap-2 self-end sm:self-center mt-2 sm:mt-0 transition-opacity shrink-0 ${lt&&!bt?"opacity-25 grayscale":"opacity-100"}`,children:[g.jsx("button",{onClick:()=>U({isOpen:!0,targets:[{uniqueId:Y.uniqueId}],text:J.warehouseNote||""}),className:`p-2 rounded hover:bg-slate-700 transition-colors ${J.warehouseNote?"text-blue-400 bg-blue-900/20":"text-slate-500"}`,title:"Aggiungi Nota Magazzino",children:g.jsx(zc,{size:18,className:J.warehouseNote?"fill-current":""})}),g.jsx("button",{onClick:()=>H({isOpen:!0,targets:[{uniqueId:Y.uniqueId}],text:J.brokenNote||""}),className:`p-2 rounded hover:bg-slate-700 transition-colors ${J.isBroken?"text-rose-500 bg-rose-900/20":"text-slate-500"}`,title:J.isBroken?"Modifica Segnalazione":"Segnala Rotto/Mancante",children:g.jsx(ma,{size:18,className:J.isBroken?"fill-current":""})})]})]}),Y.contents?.map((vt,hn)=>{const xt=vt.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},Et=vt.quantity*Y.quantity,Ft=Ge&&(!xt.inDistinta||!xt.loaded),nn=Qe(vt.name);return lt&&!bt&&!nn?null:g.jsxs("div",{className:`pl-8 pr-3 py-2 border-b border-slate-800/50 flex flex-col md:flex-row gap-4 items-center transition-all duration-300 ${xt.isBroken?"bg-rose-900/10":Ft?"bg-amber-900/5":"hover:bg-slate-800/30"}`,children:[g.jsxs("div",{className:"flex-1 w-full flex items-center gap-3",children:[g.jsx("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${Ft?"bg-amber-500":"bg-purple-500/50"}`}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`font-medium cursor-pointer hover:underline ${nn?"text-blue-400 font-bold":"text-slate-300"}`,onClick:()=>D(d===vt.name?null:vt.name),children:vt.name}),g.jsxs("span",{className:`text-base px-1.5 py-0.5 rounded font-mono ${Ft?"bg-amber-900/20 text-amber-500 font-bold":"bg-slate-800 text-slate-400"}`,children:["x",Et]})]}),xt.warehouseNote&&g.jsxs("div",{className:"text-xs text-blue-400 bg-blue-900/20 px-1 rounded inline-block mt-0.5",children:["Nota: ",xt.warehouseNote]}),xt.isBroken&&g.jsx("div",{className:"text-rose-500 text-xs font-bold uppercase mt-0.5",children:xt.brokenNote||"ROTTO"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"flex gap-1 pr-4 border-r border-slate-800",children:[g.jsx("button",{onClick:()=>U({isOpen:!0,targets:[{parentId:Y.uniqueId,childIdx:hn}],text:xt.warehouseNote||""}),className:`p-1.5 rounded hover:bg-slate-700 transition-colors ${xt.warehouseNote?"text-blue-400":"text-slate-600"}`,title:"Aggiungi Nota Magazzino",children:g.jsx(zc,{size:16,className:xt.warehouseNote?"fill-current":""})}),g.jsx("button",{onClick:()=>H({isOpen:!0,targets:[{parentId:Y.uniqueId,childIdx:hn}],text:xt.brokenNote||""}),className:`p-1.5 rounded hover:bg-slate-700 transition-colors ${xt.isBroken?"text-rose-500":"text-slate-600"}`,title:xt.isBroken?"Modifica Segnalazione":"Segnala Rotto/Mancante",children:g.jsx(ma,{size:16,className:xt.isBroken?"fill-current":""})})]}),g.jsxs("div",{className:"flex gap-4",children:["                                                                            ",g.jsx("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:g.jsx("button",{onClick:()=>ee(Y.uniqueId,hn,{inDistinta:!xt.inDistinta}),className:xt.inDistinta?"text-emerald-500":Ft?"text-rose-500 animate-pulse":"text-slate-600",children:xt.inDistinta?g.jsx(Wo,{size:20}):g.jsx($o,{size:20})})}),g.jsx("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:g.jsx("button",{onClick:()=>ee(Y.uniqueId,hn,{loaded:!xt.loaded}),className:xt.loaded?"text-blue-500":Ft?"text-rose-500 animate-pulse":"text-slate-600",children:xt.loaded?g.jsx(Wo,{size:20}):g.jsx($o,{size:20})})}),g.jsx("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:g.jsx("button",{onClick:()=>ee(Y.uniqueId,hn,{returned:!xt.returned}),className:xt.returned?"text-purple-500":"text-slate-600",children:xt.returned?g.jsx(Wo,{size:20}):g.jsx($o,{size:20})})})]})]})]},`${Y.uniqueId}-sub-${hn}`)})]},Y.uniqueId)}const le=Y.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},ye=le.changeLog!==void 0,fe=ye&&!M(Y)?!1:ye,he=!!d||!!w,Te=J=>d?J===d:w?J.toLowerCase().includes(w.toLowerCase()):!1,Fe=Te(Y.name),$e=Y.contents?.some(J=>Te(J.name));if(he&&!Fe&&!$e)return null;const Ye=he&&$e,ht=Y.contents&&Y.contents.length>0;return g.jsxs(Ve.Fragment,{children:[g.jsxs("div",{className:`p-3 flex flex-col sm:flex-row gap-2 sm:gap-4 items-start sm:items-center transition-all duration-300 ${Ye?"opacity-70":"opacity-100"} ${le.isBroken?"bg-rose-900/10":fe?"bg-amber-900/10":ht?"bg-cyan-900/10 border-l-4 border-cyan-500/50":"hover:bg-slate-800/50"}`,children:[g.jsxs("div",{className:"flex-1 w-full min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`font-bold text-lg cursor-pointer hover:underline truncate whitespace-normal ${Fe?"text-blue-400 scale-105 origin-left":"text-white"}`,onClick:()=>D(d===Y.name?null:Y.name),children:Y.name}),g.jsxs("span",{className:`px-2 py-0.5 rounded text-base font-mono font-bold shrink-0 ${fe?"bg-amber-500 text-black":ht?"bg-cyan-900 text-cyan-200":"bg-slate-800 text-slate-300"}`,children:["x",Y.quantity]}),ye&&g.jsx("span",{className:"text-slate-300 text-xs font-medium hidden sm:inline",children:le.changeLog?.previousQuantity===0?g.jsx("span",{className:"text-emerald-400 font-bold uppercase tracking-wider text-[10px] ml-1",children:" (NUOVO MATERIALE)"}):`(Era: ${le.changeLog?.previousQuantity} v${q?.version})`})]}),g.jsxs("div",{className:"text-xs text-slate-500 mt-0.5 truncate",children:[Y.category," ",Y.notes&&g.jsxs("span",{className:"text-yellow-600 ml-2 block sm:inline mt-1 sm:mt-0",children:[" Nota Prod: ",Y.notes]})]}),le.warehouseNote&&g.jsxs("div",{className:"mt-1 text-xs text-blue-400 bg-blue-900/20 p-1.5 rounded inline-block w-full sm:w-auto",children:["Note Magazzino: ",le.warehouseNote]}),le.isBroken&&g.jsx("div",{className:"mt-1",children:g.jsxs("div",{className:"text-rose-500 text-xs font-bold flex items-center gap-1 uppercase",children:[g.jsx(Qg,{size:12})," ",le.brokenNote||"SEGNALATO ROTTO / MANCANTE"]})})]}),g.jsxs("div",{className:"flex items-center gap-2 sm:gap-6 w-full sm:w-auto justify-between sm:justify-end mt-2 sm:mt-0 shrink-0",children:[g.jsxs("div",{className:"flex gap-1 pr-2 sm:pr-4 border-r border-slate-800",children:[g.jsx("button",{onClick:()=>U({isOpen:!0,targets:[{uniqueId:Y.uniqueId}],text:le.warehouseNote||""}),className:`p-2 rounded hover:bg-slate-700 transition-colors ${le.warehouseNote?"text-blue-400 bg-blue-900/20":"text-slate-500"}`,title:"Aggiungi Nota Magazzino",children:g.jsx(zc,{size:18,className:le.warehouseNote?"fill-current":""})}),g.jsx("button",{onClick:()=>H({isOpen:!0,targets:[{uniqueId:Y.uniqueId}],text:le.brokenNote||""}),className:`p-2 rounded hover:bg-slate-700 transition-colors ${le.isBroken?"text-rose-500 bg-rose-900/20":"text-slate-500"}`,title:le.isBroken?"Modifica Segnalazione":"Segnala Rotto/Mancante",children:g.jsx(ma,{size:18,className:le.isBroken?"fill-current":""})})]}),g.jsxs("div",{className:"flex gap-2 sm:gap-4",children:[(()=>{const J=le.inDistinta&&le.loaded,Ge=ye&&!J;return g.jsxs(g.Fragment,{children:[g.jsxs("label",{className:"flex flex-col items-center gap-0.5 cursor-pointer group",children:[g.jsx("span",{className:"text-[8px] sm:text-[10px] text-slate-500 font-bold uppercase group-hover:text-slate-300",children:"Dist."}),g.jsx("button",{onClick:()=>L(Y.uniqueId,{inDistinta:!le.inDistinta}),className:le.inDistinta?"text-emerald-500":Ge?"text-rose-500 animate-pulse":"text-slate-600",children:le.inDistinta?g.jsx(Wo,{size:24}):g.jsx($o,{size:24})})]}),g.jsxs("label",{className:"flex flex-col items-center gap-0.5 cursor-pointer group",children:[g.jsx("span",{className:"text-[8px] sm:text-[10px] text-slate-500 font-bold uppercase group-hover:text-slate-300",children:"Car."}),g.jsx("button",{onClick:()=>L(Y.uniqueId,{loaded:!le.loaded}),className:le.loaded?"text-blue-500":Ge?"text-rose-500 animate-pulse":"text-slate-600",children:le.loaded?g.jsx(Wo,{size:24}):g.jsx($o,{size:24})})]})]})})(),g.jsxs("label",{className:"flex flex-col items-center gap-0.5 cursor-pointer group",children:[g.jsx("span",{className:"text-[8px] sm:text-[10px] text-slate-500 font-bold uppercase group-hover:text-slate-300",children:"Rie."}),g.jsx("button",{onClick:()=>L(Y.uniqueId,{returned:!le.returned}),className:le.returned?"text-purple-500":"text-slate-600",children:le.returned?g.jsx(Wo,{size:24}):g.jsx($o,{size:24})})]})]})]})]}),Y.contents?.map((J,Ge)=>{const at=J.warehouseState||{inDistinta:!1,loaded:!1,returned:!1,isBroken:!1,warehouseNote:""},lt=J.quantity*Y.quantity,Qe=ye&&(!at.inDistinta||!at.loaded),bt=Te(J.name),pt=Te(Y.name);return he&&!bt&&!pt?null:g.jsxs("div",{className:`pl-8 pr-3 py-2 border-b border-slate-800/50 flex flex-col md:flex-row gap-4 items-center transition-all duration-300 ${at.isBroken?"bg-rose-900/10":Qe?"bg-amber-900/5":"hover:bg-slate-800/30"}`,children:[g.jsxs("div",{className:"flex-1 w-full flex items-center gap-3",children:[g.jsx("div",{className:`${ht?"text-cyan-500/50":"text-slate-600"} shrink-0`,children:" - "}),g.jsx("div",{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`font-medium text-sm cursor-pointer hover:underline ${bt?"text-blue-400 font-bold":"text-slate-400"}`,onClick:()=>D(d===J.name?null:J.name),children:J.name}),g.jsxs("span",{className:`text-base px-1.5 py-0.5 rounded font-mono ${ht?"bg-cyan-900/20 text-cyan-400":"bg-slate-800 text-slate-500"}`,children:["x",lt]})]})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"flex gap-1 pr-4 border-r border-slate-800",children:[g.jsx("button",{onClick:()=>U({isOpen:!0,targets:[{parentId:Y.uniqueId,childIdx:Ge}],text:at.warehouseNote||""}),className:`p-1.5 rounded hover:bg-slate-700 transition-colors ${at.warehouseNote?"text-blue-400":"text-slate-600"}`,title:"Aggiungi Nota Magazzino",children:g.jsx(zc,{size:16,className:at.warehouseNote?"fill-current":""})}),g.jsx("button",{onClick:()=>H({isOpen:!0,targets:[{parentId:Y.uniqueId,childIdx:Ge}],text:at.brokenNote||""}),className:`p-1.5 rounded hover:bg-slate-700 transition-colors ${at.isBroken?"text-rose-500":"text-slate-600"}`,title:at.isBroken?"Modifica Segnalazione":"Segnala Rotto/Mancante",children:g.jsx(ma,{size:16,className:at.isBroken?"fill-current":""})})]}),g.jsxs("div",{className:"flex gap-4",children:["                                                                        ",g.jsx("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:g.jsx("button",{onClick:()=>ee(Y.uniqueId,Ge,{inDistinta:!at.inDistinta}),className:at.inDistinta?"text-emerald-500":Qe?"text-rose-500 animate-pulse":"text-slate-600",children:at.inDistinta?g.jsx(Wo,{size:20}):g.jsx($o,{size:20})})}),g.jsx("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:g.jsx("button",{onClick:()=>ee(Y.uniqueId,Ge,{loaded:!at.loaded}),className:at.loaded?"text-blue-500":Qe?"text-rose-500 animate-pulse":"text-slate-600",children:at.loaded?g.jsx(Wo,{size:20}):g.jsx($o,{size:20})})}),g.jsx("label",{className:"flex flex-col items-center gap-1 cursor-pointer group",children:g.jsx("button",{onClick:()=>ee(Y.uniqueId,Ge,{returned:!at.returned}),className:at.returned?"text-purple-500":"text-slate-600",children:at.returned?g.jsx(Wo,{size:20}):g.jsx($o,{size:20})})})]})]})]},`${Y.uniqueId}-acc-${Ge}`)})]},Y.uniqueId)})]})]},F.id))]}):g.jsx("div",{className:"text-center py-20 text-slate-500",children:"Seleziona una zona per visualizzare il materiale."})]})]}),c==="totals"&&N&&q?.zones&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex bg-slate-900 border-b border-slate-800 overflow-x-auto px-4 gap-1 shrink-0",children:q.zones.map(F=>g.jsx("button",{onClick:()=>a(F.id),className:`px-4 py-3 text-sm font-bold border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ${s===F.id?"border-blue-500 text-white bg-slate-800":"border-transparent text-slate-500 hover:text-slate-300"}`,children:F.name},F.id))}),g.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar flex flex-col relative",children:[d&&g.jsxs("div",{className:"sticky top-0 left-0 right-0 z-20 bg-blue-600 text-white px-4 py-2 shadow-lg flex justify-between items-center animate-in slide-in-from-top-2 shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"font-bold text-sm flex items-center gap-2",children:[g.jsx(ya,{size:16})," EVIDENZIATO: ",g.jsx("span",{className:"underline",children:d})]}),I&&g.jsxs("div",{className:"flex gap-3 text-xs border-l border-blue-400 pl-4",children:[g.jsxs("div",{className:"flex flex-col items-center leading-none",title:"Quantit nei Kit",children:[g.jsx("span",{className:"font-bold text-lg",children:I.kit}),g.jsx("span",{className:"opacity-70 text-[9px] uppercase",children:"Kit"})]}),g.jsxs("div",{className:"flex flex-col items-center leading-none",title:"Quantit negli Accessori",children:[g.jsx("span",{className:"font-bold text-lg",children:I.accessories}),g.jsx("span",{className:"opacity-70 text-[9px] uppercase",children:"Acc."})]}),g.jsxs("div",{className:"flex flex-col items-center leading-none",title:"Quantit Sfusi",children:[g.jsx("span",{className:"font-bold text-lg",children:I.loose}),g.jsx("span",{className:"opacity-70 text-[9px] uppercase",children:"Sfusi"})]})]})]}),g.jsx("button",{onClick:()=>f(null),className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded text-xs font-bold uppercase transition-colors",children:"ESCI"})]}),g.jsx("div",{className:"space-y-6 p-4",children:(()=>{const F=N.get(s);if(!F)return g.jsx("div",{className:"text-center py-20 text-slate-500",children:"Seleziona una zona per visualizzare i totali."});if(F.complex.size===0&&F.simple.size===0)return g.jsx("div",{className:"text-center py-20 text-slate-500",children:"Nessun materiale in questa zona."});const Y=new Map,se=new Map,le=new Set;F.simple.forEach((fe,he)=>le.add(he)),F.complex.forEach((fe,he)=>{const Te=he.startsWith("KIT-");fe.children.forEach((Fe,$e)=>{const Ye=Te?Y:se;Ye.has($e)||Ye.set($e,new Set),Ye.get($e).add(he)})});const ye=(fe,he)=>{const Te=he.startsWith("KIT-"),Fe=le.has(fe),$e=Y.get(fe),Ye=se.get(fe),ht=$e&&(Te?$e.size>1||!$e.has(he):$e.size>0),J=Ye&&(Te?Ye.size>0:Ye.size>1||!Ye.has(he)),Ge=[];return ht&&Ge.push("KIT"),J&&Ge.push("ACCESSORI"),Fe&&Ge.push("SFUSI"),Ge.length===0?null:`!!!ALTRI IN ${Ge.length===1?Ge[0]:Ge.slice(0,-1).join(", ")+" E "+Ge.slice(-1)}!!!`};return g.jsxs("div",{className:"space-y-4",children:[Array.from(F.complex.entries()).map(([fe,he])=>{const Te=!!d||!!w,Fe=at=>d?at===d:w?at.toLowerCase().includes(w.toLowerCase()):!1,$e=Fe(he.name),Ye=Array.from(he.children.keys()).some(at=>Fe(at));if(Te&&!$e&&!Ye)return null;const ht=Te&&Ye,J=le.has(he.name),Ge=fe.startsWith("KIT-");return g.jsxs("div",{className:`bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden transition-all duration-300 ${ht?"opacity-70":"opacity-100"}`,children:[g.jsxs("div",{className:`p-3 border-l-4 ${Ge?"border-purple-500/50 bg-purple-900/10":"border-cyan-500/50 bg-cyan-900/10"} flex flex-col sm:flex-row gap-2 sm:gap-4 items-start sm:items-center transition-opacity ${Te&&!$e?"opacity-50":"opacity-100"}`,children:[g.jsxs("div",{className:"flex-1 w-full min-w-0 flex items-center gap-2",children:[g.jsx("span",{className:`font-bold text-lg cursor-pointer hover:underline truncate whitespace-normal ${$e?"text-blue-400 scale-105":"text-white"}`,onClick:()=>D(d===he.name?null:he.name),children:he.name}),g.jsxs("span",{className:`${Ge?"bg-purple-900 text-purple-200":"bg-cyan-900 text-cyan-200"} px-2 py-0.5 rounded text-base font-mono font-bold shrink-0`,children:["x",he.totalQty]}),J&&g.jsx("span",{className:"text-[10px] font-bold text-rose-500 animate-pulse bg-rose-950/30 px-1 rounded hidden sm:inline",children:"!!!ALTRI IN SFUSI!!!"})]}),g.jsxs("div",{className:"flex items-center w-full sm:w-auto justify-between sm:justify-end mt-2 sm:mt-0 shrink-0",children:[g.jsxs("div",{className:"flex gap-1 pr-2 sm:pr-4 border-r border-slate-800 shrink-0",children:[g.jsx("button",{onClick:()=>U({isOpen:!0,targets:he.instances,text:""}),className:`p-2 rounded hover:bg-slate-700 transition-colors ${he.hasNote?"text-blue-400 bg-blue-900/20":"text-slate-500"}`,children:g.jsx(zc,{size:18,className:he.hasNote?"fill-current":""})}),g.jsx("button",{onClick:()=>H({isOpen:!0,targets:he.instances,text:""}),className:`p-2 rounded hover:bg-slate-700 transition-colors ${he.hasIssue?"text-rose-500 bg-rose-900/20":"text-slate-500"}`,children:g.jsx(ma,{size:18,className:he.hasIssue?"fill-current":""})})]}),!Ge&&g.jsxs("div",{className:"flex gap-2 sm:gap-4 shrink-0",children:[j("distinta",he.inDistintaQty,he.totalQty,()=>ve(he.instances,{inDistinta:he.inDistintaQty<he.totalQty})),j("carico",he.loadedQty,he.totalQty,()=>ve(he.instances,{loaded:he.loadedQty<he.totalQty})),j("rientro",he.returnedQty,he.totalQty,()=>ve(he.instances,{returned:he.returnedQty<he.totalQty}))]})]})]}),g.jsx("div",{className:"divide-y divide-slate-800",children:Array.from(he.children.entries()).map(([at,lt])=>{const Qe=ye(at,fe),bt=Fe(at);return Te&&!$e&&!bt?null:g.jsxs("div",{className:"pl-8 pr-3 py-2 flex flex-col md:flex-row gap-4 items-center hover:bg-slate-800/30 transition-all duration-300 opacity-100",children:[g.jsxs("div",{className:"flex-1 w-full flex items-center gap-3",children:[g.jsx("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${Ge?"bg-purple-500/50":"bg-cyan-500/50"}`}),g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[g.jsx("span",{className:`font-medium cursor-pointer hover:underline ${bt?"text-blue-400 font-bold":"text-slate-300"}`,onClick:()=>D(d===at?null:at),children:at}),g.jsxs("span",{className:`text-base px-1.5 py-0.5 rounded font-mono ${Ge?"bg-slate-800 text-slate-400":"bg-cyan-900/20 text-cyan-400"}`,children:["x",lt.totalQty]})]}),Qe&&g.jsx("span",{className:"text-[10px] font-bold text-rose-500 animate-pulse mt-0.5",children:Qe})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"flex gap-1 pr-4 border-r border-slate-800",children:[g.jsx("button",{onClick:()=>U({isOpen:!0,targets:lt.instances,text:""}),className:`p-1.5 rounded hover:bg-slate-700 transition-colors ${lt.hasNote?"text-blue-400":"text-slate-600"}`,children:g.jsx(zc,{size:16,className:lt.hasNote?"fill-current":""})}),g.jsx("button",{onClick:()=>H({isOpen:!0,targets:lt.instances,text:""}),className:`p-1.5 rounded hover:bg-slate-700 transition-colors ${lt.hasIssue?"text-rose-500":"text-slate-600"}`,children:g.jsx(ma,{size:16,className:lt.hasIssue?"fill-current":""})})]}),g.jsxs("div",{className:"flex gap-4",children:[j("distinta",lt.inDistintaQty,lt.totalQty,()=>ve(lt.instances,{inDistinta:lt.inDistintaQty<lt.totalQty})),j("carico",lt.loadedQty,lt.totalQty,()=>ve(lt.instances,{loaded:lt.loadedQty<lt.totalQty})),j("rientro",lt.returnedQty,lt.totalQty,()=>ve(lt.instances,{returned:lt.returnedQty<lt.totalQty}))]})]})]},at)})})]},fe)}),F.simple.size>0&&g.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden",children:[g.jsx("div",{className:"px-4 py-2 bg-slate-800/80 border-b border-slate-800 font-bold text-slate-400 text-sm uppercase tracking-wider",children:"Materiale Sfuso (Totali Zona)"}),g.jsx("div",{className:"divide-y divide-slate-800",children:Array.from(F.simple.entries()).sort((fe,he)=>fe[0].localeCompare(he[0])).map(([fe,he])=>{const Te=!!d||!!w,$e=(Ye=>d?Ye===d:w?Ye.toLowerCase().includes(w.toLowerCase()):!1)(fe);return Te&&!$e?null:g.jsxs("div",{className:"p-3 flex flex-col md:flex-row gap-4 items-center hover:bg-slate-800/50 transition-colors duration-300 opacity-100",children:[g.jsxs("div",{className:"flex-1 w-full flex items-center gap-2",children:[g.jsx("span",{className:`font-bold text-lg cursor-pointer hover:underline ${$e?"text-blue-400":"text-white"}`,onClick:()=>D(d===fe?null:fe),children:he.name}),g.jsxs("span",{className:"px-2 py-0.5 rounded text-base font-mono font-bold bg-slate-800 text-slate-300",children:["x",he.totalQty]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"flex gap-1 pr-4 border-r border-slate-800",children:[g.jsx("button",{onClick:()=>U({isOpen:!0,targets:he.instances,text:""}),className:`p-2 rounded hover:bg-slate-700 transition-colors ${he.hasNote?"text-blue-400 bg-blue-900/20":"text-slate-500"}`,children:g.jsx(zc,{size:18,className:he.hasNote?"fill-current":""})}),g.jsx("button",{onClick:()=>H({isOpen:!0,targets:he.instances,text:""}),className:`p-2 rounded hover:bg-slate-700 transition-colors ${he.hasIssue?"text-rose-500 bg-rose-900/20":"text-slate-500"}`,children:g.jsx(ma,{size:18,className:he.hasIssue?"fill-current":""})})]}),g.jsxs("div",{className:"flex gap-4",children:[j("distinta",he.inDistintaQty,he.totalQty,()=>ve(he.instances,{inDistinta:he.inDistintaQty<he.totalQty})),j("carico",he.loadedQty,he.totalQty,()=>ve(he.instances,{loaded:he.loadedQty<he.totalQty})),j("rientro",he.returnedQty,he.totalQty,()=>ve(he.instances,{returned:he.returnedQty<he.totalQty}))]})]})]},fe)})})]})]})})()})]})]}),g.jsx(za,{isOpen:P.isOpen,onClose:()=>U(F=>({...F,isOpen:!1})),title:"Nota Magazzino",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white h-32 focus:border-blue-500 outline-none",placeholder:"Scrivi qui la nota per il magazzino...",value:P.text,onChange:F=>U(Y=>({...Y,text:F.target.value})),autoFocus:!0}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{onClick:()=>U(F=>({...F,isOpen:!1})),className:"px-4 py-2 text-slate-400 hover:text-white",children:"Annulla"}),g.jsxs("button",{onClick:Ne,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded flex items-center gap-2",children:[g.jsx(QS,{size:16})," Salva Nota"]})]})]})}),g.jsx(za,{isOpen:V.isOpen,onClose:()=>H(F=>({...F,isOpen:!1})),title:"Segnalazione Problema",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-slate-400 text-sm",children:"Descrivi il problema riscontrato (rotto, mancante, danneggiato...)"}),g.jsx("textarea",{className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white h-32 focus:border-rose-500 outline-none",placeholder:"Esempio: Cavo tranciato, Lampada bruciata...",value:V.text,onChange:F=>H(Y=>({...Y,text:F.target.value})),autoFocus:!0}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("button",{onClick:oe,className:"px-4 py-2 border border-slate-700 hover:bg-slate-800 text-slate-300 rounded text-sm",children:"Risolto / Non Rotto"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>H(F=>({...F,isOpen:!1})),className:"px-4 py-2 text-slate-400 hover:text-white",children:"Annulla"}),g.jsxs("button",{onClick:be,className:"px-6 py-2 bg-rose-600 hover:bg-rose-500 text-white rounded flex items-center gap-2",children:[g.jsx(ma,{size:16})," Salva Segnalazione"]})]})]})]})})]})},g7=[{id:"acc-clamp-omega",name:"Gancio Aliscaf + Omega",category:me.STRUCTURE,weight:.8,inStock:200,description:"Per Fari"},{id:"acc-clamp-double",name:"Doppio Aliscaf (Gancio-Gancio)",category:me.STRUCTURE,weight:1.5,inStock:50,description:"Per unire truss o tubi"},{id:"acc-safety",name:"Cavetto di Sicurezza (Safety)",category:me.STRUCTURE,weight:.2,inStock:200,description:"Acciaio sicurezza"},{id:"acc-umbrella",name:"Ombrellino Parapioggia (Soft)",category:me.LIGHTS,weight:.5,inStock:30,description:"Protezione pioggia fari"},{id:"truss-acc-spigot",name:"Conico (Ovetto)",category:me.STRUCTURE,weight:.2,inStock:600,description:"Spigot per truss"},{id:"truss-acc-pin",name:"Spina Conica (Pin)",category:me.STRUCTURE,weight:.05,inStock:1200,description:"Pin per truss"},{id:"truss-acc-clip",name:"Coppiglia (R-Clip)",category:me.STRUCTURE,weight:.01,inStock:1200,description:"Safety clip"},{id:"truss-acc-spacer",name:"Kit Distanziatori Truss",category:me.STRUCTURE,weight:.5,inStock:20},{id:"truss-acc-hammer",name:"Martello Rame/Gomma",category:me.TOOLS,weight:1,inStock:10},{id:"stg-acc-clamp",name:"Morsetto Pedana (KDC/Clamp)",category:me.STRUCTURE,weight:.5,inStock:100,description:"Blocco unione pedane"},{id:"stg-acc-pin",name:"Pipotto Giunzione Riser",category:me.STRUCTURE,weight:.1,inStock:200,description:"Pin per unione riser"},{id:"cbl-led-pwr-link",name:"Link Corrente Led Generico",category:me.CABLES,weight:.2,inStock:50,description:"Cabinet to Cabinet"},{id:"cbl-led-data-link",name:"Link Segnale Led Generico",category:me.CABLES,weight:.1,inStock:50,description:"Cabinet to Cabinet"}],v7=[{id:"lgt-ctrl-ma3-full",name:"GrandMA 3 Full-Size",category:me.LIGHTS,weight:80,inStock:1,accessories:[{itemId:"ad-tr1-schuko",quantity:1},{itemId:"vid-monitor-24",quantity:2}]},{id:"lgt-ctrl-ma3-cxt",name:"GrandMA 3 Compact XT",category:me.LIGHTS,weight:45,inStock:2,accessories:[{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-ctrl-w-dmx",name:"Wireless Solution F1 G5",category:me.LIGHTS,weight:1,inStock:6,accessories:[{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-robe-esprite",name:"Robe Esprite",category:me.LIGHTS,weight:28,inStock:24,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-robe-megapointe",name:"Robe MegaPointe",category:me.LIGHTS,weight:22,inStock:24,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-robe-350-spot",name:"Robe LEDBeam 350",category:me.LIGHTS,weight:10,inStock:36,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-robe-ibeam-350",name:"Robe iBeam 350 (IP65)",category:me.LIGHTS,weight:12,inStock:12,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-cp-sharpy",name:"Claypaky Sharpy",category:me.LIGHTS,weight:19,inStock:24,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-pcon-schuko",quantity:1}]},{id:"lgt-cp-minib",name:"Claypaky Mini-B",category:me.LIGHTS,weight:7,inStock:24,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-cp-k10",name:"Claypaky B-EYE K10",category:me.LIGHTS,weight:15,inStock:16,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-ledko",name:"Coemar LEDko D (Sagomatore)",category:me.LIGHTS,weight:14,inStock:20,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-pcon-schuko",quantity:1}]},{id:"lgt-opt-2550",name:"Ottica LEDko 25-50",category:me.LIGHTS,weight:2,inStock:20},{id:"lgt-helix",name:"Showtec Helix S5000",category:me.LIGHTS,weight:12,inStock:48,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-opt-helix-40",name:"Ottica Helix 40",category:me.LIGHTS,weight:.5,inStock:48},{id:"lgt-opt-helix-20",name:"Ottica Helix 20",category:me.LIGHTS,weight:.5,inStock:24},{id:"lgt-opt-helix-1560",name:"Ottica Helix 15x60",category:me.LIGHTS,weight:.5,inStock:24},{id:"lgt-opt-helix-90",name:"Ottica Helix 90",category:me.LIGHTS,weight:.5,inStock:24},{id:"lgt-sgm-q8",name:"SGM Q8",category:me.LIGHTS,weight:15,inStock:12,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-chauvet-strike",name:"Chauvet Color Strike M",category:me.LIGHTS,weight:12,inStock:16,accessories:[{itemId:"acc-clamp-omega",quantity:2},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-acme-blinder",name:"Acme Stage Blinder IP",category:me.LIGHTS,weight:8,inStock:12,accessories:[{itemId:"acc-clamp-omega",quantity:1},{itemId:"acc-safety",quantity:1},{itemId:"ad-tr1-schuko",quantity:1}]},{id:"lgt-rj-merlin",name:"Robert Juliat Merlin 2500W",category:me.LIGHTS,weight:70,inStock:2,description:"Followspot + Tripod + PSU"},{id:"lgt-batt-par",name:"Faro a Batteria (EventSpot)",category:me.LIGHTS,weight:4,inStock:24}],y7=[{id:"aud-digico-sd21",name:"Digico SD21 Console",category:me.AUDIO,weight:30,inStock:1,accessories:[{itemId:"cbl-vde-schuko",quantity:2}]},{id:"aud-digico-stagebox",name:"Digico D-Rack Stagebox",category:me.AUDIO,weight:15,inStock:1},{id:"aud-digico-dante",name:"Scheda Dante x Digico",category:me.AUDIO,weight:.5,inStock:1},{id:"aud-focusrite",name:"Focusrite Scarlett 18i20",category:me.AUDIO,weight:4,inStock:2},{id:"aud-k2",name:"L-Acoustics K2",category:me.AUDIO,weight:56,inStock:24},{id:"aud-ks28",name:"L-Acoustics KS28",category:me.AUDIO,weight:79,inStock:16},{id:"aud-la12x",name:"Amplificatore LA12X",category:me.AUDIO,weight:14,inStock:10},{id:"aud-spk-batt",name:"Cassa a Batteria + Mic",category:me.AUDIO,weight:10,inStock:4},{id:"aud-mic-stand-premium",name:"Asta Microfonica BELLA (K&M)",category:me.AUDIO,weight:3,inStock:20},{id:"com-ggo-switch",name:"GreenGo Switch 6",category:me.REGIA,weight:2,inStock:2},{id:"com-ggo-antenna",name:"GreenGo Stride Antenna",category:me.REGIA,weight:1,inStock:4},{id:"com-ggo-bpx",name:"GreenGo Wireless BPX",category:me.REGIA,weight:.3,inStock:8},{id:"com-ggo-bp",name:"GreenGo Wired BP",category:me.REGIA,weight:.3,inStock:8},{id:"com-radio",name:"Radio Midland C1180",category:me.REGIA,weight:.3,inStock:30}],w7=[{id:"vid-abs-pl25",name:"Absen Polaris PL2.5",category:me.VIDEO,weight:8,inStock:100,accessories:[{itemId:"cbl-link-true1-100",quantity:1},{itemId:"cbl-eth-100",quantity:1}]},{id:"vid-abs-pl25-l",name:"Absen PL2.5 Angolo SX",category:me.VIDEO,weight:8,inStock:8},{id:"vid-abs-pl25-r",name:"Absen PL2.5 Angolo DX",category:me.VIDEO,weight:8,inStock:8},{id:"vid-abs-fly-100",name:"Absen PL Flybar 100cm",category:me.VIDEO,weight:5,inStock:10,accessories:[{itemId:"rig-steelflex-2",quantity:1},{itemId:"rig-shackle-black",quantity:1}]},{id:"vid-abs-fly-50",name:"Absen PL Flybar 50cm",category:me.VIDEO,weight:3,inStock:10,accessories:[{itemId:"rig-steelflex-2",quantity:1},{itemId:"rig-shackle-black",quantity:1}]},{id:"vid-abs-d2v",name:"Absen D2V Plus 2.9",category:me.VIDEO,weight:7.5,inStock:60,accessories:[{itemId:"cbl-link-true1-100",quantity:1},{itemId:"cbl-eth-100",quantity:1}]},{id:"vid-inf-26",name:"Infiled 2.6mm",category:me.VIDEO,weight:8,inStock:120,accessories:[{itemId:"cbl-link-pcon-050",quantity:1},{itemId:"cbl-eth-050",quantity:1}]},{id:"vid-inf-fly",name:"Infiled Flybar 50cm",category:me.VIDEO,weight:4,inStock:20,accessories:[{itemId:"rig-steelflex-2",quantity:1},{itemId:"rig-shackle-black",quantity:1}]},{id:"vid-yes-39",name:"Yestech 3.9mm",category:me.VIDEO,weight:9,inStock:80,accessories:[{itemId:"cbl-led-pwr-link",quantity:1},{itemId:"cbl-led-data-link",quantity:1}]},{id:"vid-yes-fly",name:"Yestech Flybar 50cm",category:me.VIDEO,weight:4,inStock:10,accessories:[{itemId:"rig-steelflex-2",quantity:1},{itemId:"rig-shackle-black",quantity:1}]},{id:"vid-novastar",name:"MCTRL 4K Processor",category:me.VIDEO,weight:6,inStock:2},{id:"vid-vx4s",name:"Novastar VX4S",category:me.VIDEO,weight:4,inStock:2},{id:"vid-msi",name:"Laptop MSI (Resolume/Araneo)",category:me.REGIA,weight:3,inStock:4},{id:"vid-mac-studio",name:"Mac Studio",category:me.REGIA,weight:3,inStock:2},{id:"vid-mini-mac",name:"Mac Mini",category:me.REGIA,weight:1.5,inStock:2},{id:"vid-monitor-24",name:'Monitor 24" HDMI',category:me.REGIA,weight:4,inStock:6},{id:"vid-streamdeck",name:"Elgato Streamdeck XL",category:me.REGIA,weight:.5,inStock:2},{id:"vid-splitter-hdmi",name:"Splitter HDMI 1x5 4K 60hz",category:me.VIDEO,weight:1,inStock:4},{id:"vid-opticis",name:"Opticis HDMI Fiber Kit",category:me.VIDEO,weight:1,inStock:4},{id:"it-usb-hub",name:"Hub USB-C / USB",category:me.REGIA,weight:.2,inStock:5},{id:"it-mouse-key",name:"Mouse + Tastiera + Batterie",category:me.REGIA,weight:1,inStock:5},{id:"net-luminex-16",name:"Luminex Gigacore 16Xt/16Tf",category:me.REGIA,weight:4,inStock:2},{id:"net-luminex-10",name:"Luminex Gigacore 10/10i",category:me.REGIA,weight:3,inStock:4},{id:"net-luminode-12",name:"Luminex Luminode 12",category:me.REGIA,weight:3,inStock:2},{id:"net-switch-8",name:"Switch Gigabit 8 Porte",category:me.REGIA,weight:.5,inStock:5}],x7=[{id:"pix-ama-175",name:"Stripled Doppia AMA 1.75mt",category:me.LIGHTS,weight:2,inStock:20},{id:"pix-ama-200",name:"Stripled Doppia AMA 2.00mt",category:me.LIGHTS,weight:2.5,inStock:20},{id:"pix-ama-250",name:"Stripled Doppia AMA 2.50mt",category:me.LIGHTS,weight:3,inStock:10},{id:"pix-ama-300",name:"Stripled Doppia AMA 3.00mt",category:me.LIGHTS,weight:3.5,inStock:10},{id:"pix-psu-12v",name:"Alimentatore PSU 12V + CEE",category:me.LIGHTS,weight:2,inStock:20},{id:"pix-advatek",name:"Advatek PixLite A4-S MK3",category:me.REGIA,weight:1,inStock:4},{id:"pix-cbl-flat",name:"Piattina 4mm / 0.75mm",category:me.CABLES,weight:1,inStock:100,description:"Al metro"},{id:"pix-cbl-adv",name:"Cavo 3x2.5 50cm x Advatek",category:me.CABLES,weight:.5,inStock:20}],b7=[{id:"cbl-link-true1-100",name:"Link True1 1mt",category:me.CABLES,weight:.3,inStock:100},{id:"cbl-eth-100",name:"Cavo Ethercon Nero 1mt",category:me.CABLES,weight:.1,inStock:100},{id:"cbl-link-pcon-050",name:"Link Powercon 0.5mt",category:me.CABLES,weight:.2,inStock:100},{id:"cbl-eth-050",name:"Cavo Ethercon Nero 0.5mt",category:me.CABLES,weight:.1,inStock:100},{id:"ad-tr1-schuko",name:"Alim. Schuko M - True1",category:me.CABLES,weight:.3,inStock:100},{id:"ad-pcon-schuko",name:"Alim. Schuko M - Powercon Blu",category:me.CABLES,weight:.3,inStock:50},{id:"ad-pcon-cee",name:"Alim. CEE M - Powercon Blu",category:me.CABLES,weight:.4,inStock:20},{id:"ad-cee-tr1",name:"Alim. CEE M - True1",category:me.CABLES,weight:.4,inStock:30},{id:"ad-tr1-cee-f",name:"Adatt. True1 M - CEE F",category:me.CABLES,weight:.4,inStock:30},{id:"ad-tr1-m-pcon-blu",name:"Adatt. True1 M - Powercon Blu",category:me.CABLES,weight:.3,inStock:20},{id:"ad-tr1-f-pcon-wht",name:"Adatt. True1 F - Powercon Bianco",category:me.CABLES,weight:.3,inStock:20},{id:"ad-tr1-m-cee-f",name:"Adatt. True1 M - CEE F",category:me.CABLES,weight:.3,inStock:20},{id:"ad-cee-schuko",name:"Adatt. CEE M - Schuko F",category:me.CABLES,weight:.3,inStock:20},{id:"ad-schuko-cee",name:"Adatt. Schuko M - CEE F",category:me.CABLES,weight:.3,inStock:20},{id:"ad-cee-civile",name:"Adatt. CEE M - Civile F (Bipasso)",category:me.CABLES,weight:.2,inStock:20},{id:"ad-civile-cee",name:"Adatt. Civile M - CEE F",category:me.CABLES,weight:.2,inStock:20},{id:"ad-mazz-cee",name:"Adatt. Mazzeri M - CEE F",category:me.CABLES,weight:.3,inStock:10},{id:"ad-cee-mazz",name:"Adatt. CEE M - Mazzeri F",category:me.CABLES,weight:.3,inStock:10},{id:"ad-mazz-civ",name:"Adatt. Mazzeri M - Civile F",category:me.CABLES,weight:.2,inStock:10},{id:"ad-civ-mazz",name:"Adatt. Civile M - Mazzeri F",category:me.CABLES,weight:.2,inStock:10},{id:"cbl-vde-schuko",name:"Alim. Schuko M - VDE",category:me.CABLES,weight:.2,inStock:50},{id:"cbl-vde-civile",name:"Alim. Civile M - VDE",category:me.CABLES,weight:.2,inStock:20},{id:"cbl-vde-cee",name:"Alim. CEE M - VDE",category:me.CABLES,weight:.3,inStock:10},{id:"ad-split-cee",name:"Sdoppia CEE (T o Y)",category:me.CABLES,weight:.6,inStock:30},{id:"ad-split-tr1",name:"Sdoppia True1 (Ciabatta/Y)",category:me.CABLES,weight:.6,inStock:20},{id:"ad-split-tr1-hybrid",name:"Sdoppia Ibrida TR1 M -> TR1 F + PCON Blu",category:me.CABLES,weight:.5,inStock:10},{id:"cbl-ciabatta-cee",name:"Ciabatta CEE Nera (Stage)",category:me.CABLES,weight:1.5,inStock:20},{id:"cbl-ciabatta-nice",name:'Ciabatta CEE "Bella" (Cliente)',category:me.CABLES,weight:1.5,inStock:10},{id:"cbl-ciabatta-civil",name:"Ciabatta Civile (Bianca/Nera)",category:me.CABLES,weight:.5,inStock:20},{id:"ad-xlr-3-5",name:"Kit Adattatori XLR 3p-5p / 5p-3p",category:me.CABLES,weight:.5,inStock:10},{id:"ad-jack-xlr",name:"Adatt. Jack - XLR M",category:me.CABLES,weight:.1,inStock:10},{id:"ad-minijack-xlr",name:"Adatt. Mini Jack - XLR M",category:me.CABLES,weight:.1,inStock:10},{id:"ad-usbc-hdmi",name:"Adatt. USB-C - HDMI",category:me.CABLES,weight:.1,inStock:5},{id:"ad-eth-barrel",name:"Barilotto Ethercon F-F",category:me.CABLES,weight:.1,inStock:20},{id:"cbl-fiber-opt-150",name:"Rulla Fibra OpticalCon 150mt",category:me.CABLES,weight:10,inStock:2},{id:"cbl-fiber-lc-100",name:"Rulla Fibra 4xLC 100mt",category:me.CABLES,weight:6,inStock:2},{id:"cbl-hdmi-fib-30",name:"Cavo HDMI Fibra 30mt",category:me.VIDEO,weight:1.5,inStock:4},{id:"cbl-hdmi-fib-50",name:"Cavo HDMI Fibra 50mt",category:me.VIDEO,weight:2.5,inStock:4},{id:"cbl-hdmi-fib-100",name:"Cavo HDMI Fibra 100mt",category:me.VIDEO,weight:5,inStock:2},{id:"cbl-soca-bin",name:"Sfrangio Socapex -> 6x CEE M",category:me.CABLES,weight:2,inStock:10},{id:"cbl-soca-bout",name:"Sfrangio Socapex -> 6x CEE F",category:me.CABLES,weight:2,inStock:10}],_7=[{id:"pwr-frig-400",name:"Powerbox Friggeri 400A Powerlock",category:me.CABLES,weight:60,inStock:1},{id:"pwr-events-125",name:"Powerbox Power4Events 125A Socapex",category:me.CABLES,weight:40,inStock:1},{id:"pwr-frig-125-soca",name:"Powerbox Friggeri 125A -> Socapex",category:me.CABLES,weight:35,inStock:2},{id:"pwr-frig-63-soca",name:"Powerbox Friggeri 63A -> Socapex",category:me.CABLES,weight:25,inStock:2},{id:"pwr-quadro-63",name:"Quadro 63A (Prese CEE)",category:me.CABLES,weight:20,inStock:2},{id:"pwr-menn-63",name:"Powerbox Mennekes 63A",category:me.CABLES,weight:15,inStock:4},{id:"pwr-quadro-32-soca",name:"Quadro 32A -> Socapex",category:me.CABLES,weight:10,inStock:4},{id:"pwr-val-32",name:"Powerbox Valigetta 32A con CEE",category:me.CABLES,weight:5,inStock:8},{id:"pwr-quadro-32-mono",name:"Quadro 32A Monofase",category:me.CABLES,weight:5,inStock:2},{id:"pwr-sdoppio-63",name:"Quadro Sdoppio 63A -> 2x32A",category:me.CABLES,weight:8,inStock:2},{id:"pwr-ups-1500",name:"UPS 1500VA Rack",category:me.CABLES,weight:15,inStock:2},{id:"pwr-ups-3000",name:"UPS Legrand 3000VA",category:me.CABLES,weight:30,inStock:1}],S7=[{id:"rig-soft-1",name:"Softsteel 1mt (Spanset Acciaio)",category:me.STRUCTURE,weight:1,inStock:20},{id:"rig-soft-2",name:"Softsteel 2mt (Spanset Acciaio)",category:me.STRUCTURE,weight:2,inStock:20},{id:"rig-steelflex-2",name:"Steelflex 2mt (Spanset Acciaio)",category:me.STRUCTURE,weight:2,inStock:20},{id:"rig-reutlinger",name:"Reutlinger Type 50 + Cavo",category:me.STRUCTURE,weight:.5,inStock:40},{id:"rig-shackle-big",name:"Grillo 3.25T (Grosso)",category:me.STRUCTURE,weight:.5,inStock:50},{id:"rig-shackle-black",name:"Grillo Nero (Medio)",category:me.STRUCTURE,weight:.3,inStock:100},{id:"rig-moschettoni",name:"Moschettoni",category:me.STRUCTURE,weight:.1,inStock:50},{id:"rig-fascia-5m",name:"Fascia Crick 5mt Piccola",category:me.STRUCTURE,weight:.5,inStock:20},{id:"rig-corda-30",name:"Corda Nera 30mt",category:me.STRUCTURE,weight:2,inStock:10},{id:"rig-base-steel",name:"Base Ferro Pesante 80x80",category:me.STRUCTURE,weight:35,inStock:12},{id:"rig-cube",name:"Cubo (Dado) Truss",category:me.STRUCTURE,weight:8,inStock:8},{id:"rig-book-corner",name:"Book Corner (Cerniera)",category:me.STRUCTURE,weight:10,inStock:4},{id:"rig-inclinator",name:"Inclinatore 8 Truss",category:me.STRUCTURE,weight:2,inStock:8},{id:"rig-pipe-black-150",name:"Palo Nero 1.5mt",category:me.STRUCTURE,weight:3,inStock:20},{id:"rig-pipe-black-200",name:"Palo Nero 2.0mt (Conn. Truss)",category:me.STRUCTURE,weight:4,inStock:10},{id:"rig-pipe-black-350",name:"Palo Nero 3.5mt",category:me.STRUCTURE,weight:7,inStock:10},{id:"rig-pipe-black-400",name:"Palo Nero 4.0mt",category:me.STRUCTURE,weight:8,inStock:10},{id:"rig-altalena",name:"Altalena Unirig Regolabile",category:me.STRUCTURE,weight:5,inStock:10},{id:"rig-carrucola",name:"Carrucola x Tiro",category:me.STRUCTURE,weight:1,inStock:10},{id:"rig-water-tank",name:"Tanica Acqua (Zavorra) + Attacchi",category:me.STRUCTURE,weight:2,inStock:20,description:"Vuota"},{id:"rig-wood-shim",name:"Assette Legno (Spessori)",category:me.STRUCTURE,weight:.5,inStock:50},{id:"rig-water-hose",name:"Kit Tubi Acqua 20mt",category:me.TOOLS,weight:3,inStock:2}],k7=[{id:"fx-hazer-tour",name:"Smoke Factory Tour Hazer II",category:me.LIGHTS,weight:18,inStock:4,accessories:[{itemId:"ad-pcon-schuko",quantity:1},{itemId:"cons-liq-hazer",quantity:1}]},{id:"fx-antari-f7",name:"Antari F7 Smaze",category:me.LIGHTS,weight:45,inStock:2,accessories:[{itemId:"cons-liq-hazer",quantity:1}]},{id:"fx-spok",name:"Smoke Factory Spok",category:me.LIGHTS,weight:10,inStock:2,accessories:[{itemId:"cons-liq-hazer",quantity:1}]},{id:"fx-fan",name:"Ventola Chiocciola",category:me.LIGHTS,weight:8,inStock:6},{id:"cons-liq-hazer",name:"Liquido Fumo/Hazer (5L)",category:me.OTHER,weight:5,inStock:10}],E7=()=>{const r=[1,2.5,5,10,15,20,50],e=[{name:"Cavo XLR 3P",category:me.AUDIO,maxLen:100,weightM:.1},{name:"Cavo Jack TS",category:me.AUDIO,maxLen:10,weightM:.1},{name:"Cavo RCA",category:me.AUDIO,maxLen:5,weightM:.05},{name:"Cavo Speakon NL4",category:me.AUDIO,maxLen:25,weightM:.2},{name:"Cavo DMX 5P",category:me.LIGHTS,maxLen:100,weightM:.12},{name:"Cavo DMX 3P",category:me.LIGHTS,maxLen:100,weightM:.12},{name:"Cavo Ethercon Nero",category:me.CABLES,maxLen:100,weightM:.08},{name:"Cavo Rete RJ45",category:me.CABLES,maxLen:100,weightM:.05},{name:"Cavo BNC (SDI)",category:me.VIDEO,maxLen:100,weightM:.06},{name:"Cavo HDMI (Rame)",category:me.VIDEO,maxLen:10,weightM:.1},{name:"Cavo Fibra MM",category:me.CABLES,maxLen:100,weightM:.02},{name:"Cavo Fibra SM",category:me.CABLES,maxLen:100,weightM:.02},{name:"Link True1",category:me.CABLES,maxLen:100,weightM:.2},{name:"Link Powercon (Blu/White)",category:me.CABLES,maxLen:100,weightM:.2},{name:"Combo True1 + DMX",category:me.CABLES,maxLen:100,weightM:.35},{name:"Combo PCON + DMX",category:me.CABLES,maxLen:100,weightM:.35},{name:"Prolunga CEE 16A (Blu)",category:me.CABLES,maxLen:100,weightM:.25},{name:"Prolunga CEE 32A (Rossa)",category:me.CABLES,maxLen:100,weightM:.5},{name:"Prolunga CEE 63A (Rossa)",category:me.CABLES,maxLen:100,weightM:.9},{name:"Prolunga CEE 125A (Rossa)",category:me.CABLES,maxLen:100,weightM:2.5},{name:"Corda Powerlock (Singola)",category:me.CABLES,maxLen:100,weightM:1.5},{name:"Cavo Socapex 19p",category:me.CABLES,maxLen:25,weightM:.8},{name:"Cavo Mazzeri",category:me.CABLES,maxLen:50,weightM:.15},{name:"Cavo Civile",category:me.CABLES,maxLen:50,weightM:.15}],t=[];let n=1e4;return e.forEach(i=>{r.forEach(s=>{if(s>i.maxLen)return;n++;const a=s.toString().replace(".",",");t.push({id:`gen-cbl-${n}`,name:`${i.name} ${a}mt`,category:i.category,weight:parseFloat((i.weightM*s).toFixed(2)),inStock:20,description:`Generato automatico ${a}m`})})}),t},N7=()=>{const r=[.15,.21,.4,.5,1,1.5,2,2.5,3,3.5,4],e=[];let t=5e3;return[{code:"sq30",name:"Truss 29x29",weightM:6},{code:"sq30-blk",name:"Truss 29x29 Nera",weightM:6},{code:"sq40",name:"Truss 40x40",weightM:10},{code:"sq40-blk",name:"Truss 40x40 Nera",weightM:10}].forEach(i=>{r.forEach(s=>{t++;const a=s.toString().replace(".",",");e.push({id:`truss-${i.code}-${t}`,name:`${i.name} ${a}mt`,category:me.STRUCTURE,weight:parseFloat((i.weightM*s).toFixed(2)),inStock:12,accessories:[{itemId:"truss-acc-spigot",quantity:4},{itemId:"truss-acc-pin",quantity:8},{itemId:"truss-acc-clip",quantity:8}]})})}),e},C7=()=>{const r=[];r.push({id:"stg-titan-21",name:"Pedana Titan 2x1m",category:me.STRUCTURE,weight:32,inStock:40,accessories:[{itemId:"stg-acc-clamp",quantity:2}]}),r.push({id:"stg-titan-21-nice",name:'Pedana "Bella" 2x1m',category:me.STRUCTURE,weight:32,inStock:20,accessories:[{itemId:"stg-acc-clamp",quantity:2}]}),r.push({id:"stg-titan-11",name:"Pedana Titan 1x1m",category:me.STRUCTURE,weight:18,inStock:20,accessories:[{itemId:"stg-acc-clamp",quantity:2}]}),r.push({id:"stg-titan-105",name:"Pedana Titan 1x0.5m",category:me.STRUCTURE,weight:12,inStock:10,accessories:[{itemId:"stg-acc-clamp",quantity:2}]}),r.push({id:"stg-mammut-21",name:"Pedana Mammut 2x1m",category:me.STRUCTURE,weight:40,inStock:10});const e=[20,40,60,80,100],t=["2x1","1x1","1x0.5"];return e.forEach(n=>{t.forEach(i=>{r.push({id:`stg-riser-${i.replace(".","")}-${n}`,name:`Riser Titan ${i}m H${n}cm`,category:me.STRUCTURE,weight:3,inStock:20,accessories:[{itemId:"stg-acc-pin",quantity:6}]})})}),r.push({id:"stg-leg-tele",name:"Gamba Telescopica 60-100cm",category:me.STRUCTURE,weight:1,inStock:100}),r.push({id:"stg-skirt",name:"Skirting Nero (TNT)",category:me.OTHER,weight:1,inStock:100}),r.push({id:"stg-moquette-21",name:"Moquette 2x1 Nera",category:me.OTHER,weight:1,inStock:50}),r.push({id:"stg-moquette-11",name:"Moquette 1x1 Nera",category:me.OTHER,weight:.5,inStock:20}),r},I7=[{id:"cons-gaffa-blk",name:"Gaffa Nero Opaco",category:me.OTHER,weight:.5,inStock:50},{id:"cons-gaffa-wht",name:"Gaffa Bianco",category:me.OTHER,weight:.5,inStock:20},{id:"cons-gaffa-col",name:"Gaffa Colorato (Mix)",category:me.OTHER,weight:.5,inStock:20},{id:"cons-iso",name:"Nastro Isolante Nero (Mix)",category:me.OTHER,weight:.1,inStock:50},{id:"cons-iso-grey",name:"Nastro Isolante Grigio",category:me.OTHER,weight:.1,inStock:20},{id:"cons-iso-col",name:"Nastro Isolante Colorato",category:me.OTHER,weight:.1,inStock:20},{id:"cons-zip-big",name:"Fascette Grandi Nere",category:me.OTHER,weight:.5,inStock:50},{id:"cons-zip-med",name:"Fascette Medie Nere",category:me.OTHER,weight:.3,inStock:50},{id:"cons-batt-aa",name:"Batterie AA",category:me.OTHER,weight:.1,inStock:100},{id:"cons-batt-9v",name:"Batterie 9V",category:me.OTHER,weight:.1,inStock:30},{id:"cons-tnt-blk",name:"TNT Nero (Bobina)",category:me.OTHER,weight:5,inStock:10},{id:"cons-biades",name:"Biadesivo",category:me.OTHER,weight:.2,inStock:20},{id:"cons-marker",name:"Pennarello Indelebile",category:me.OTHER,weight:.05,inStock:20},{id:"tool-box",name:"Scatola Attrezzi Completa (USAG)",category:me.TOOLS,weight:15,inStock:4},{id:"tool-drill",name:"Avvitatore + Batterie",category:me.TOOLS,weight:4,inStock:4},{id:"tool-ladder",name:"Scala 7 Pioli",category:me.TOOLS,weight:10,inStock:2},{id:"tool-ladder-high",name:"Scala Alta",category:me.TOOLS,weight:15,inStock:2},{id:"tool-transpallet",name:"Transpallet",category:me.TOOLS,weight:60,inStock:2}],A7=[...g7,...v7,...y7,...w7,...x7,...b7,..._7,...S7,...k7,...I7,...E7(),...N7(),...C7()],T7=[{id:"k-vid-abs-6",name:"Baule Absen PL2.5 (6pz)",category:me.VIDEO,items:[{itemId:"vid-abs-pl25",quantity:6},{itemId:"cbl-link-true1-100",quantity:6},{itemId:"cbl-eth-100",quantity:6}]},{id:"k-vid-abs-cnr-6",name:"Baule Absen Angolari (3L+3R)",category:me.VIDEO,items:[{itemId:"vid-abs-pl25-l",quantity:3},{itemId:"vid-abs-pl25-r",quantity:3},{itemId:"cbl-link-true1-100",quantity:6},{itemId:"cbl-eth-100",quantity:6}]},{id:"k-vid-inf-10",name:"Baule Infiled 2.6 (10pz)",category:me.VIDEO,items:[{itemId:"vid-inf-26",quantity:10},{itemId:"cbl-link-pcon-050",quantity:10},{itemId:"cbl-eth-050",quantity:10}]},{id:"k-vid-yes-10",name:"Baule Yestech 3.9 (10pz)",category:me.VIDEO,items:[{itemId:"vid-yes-39",quantity:10},{itemId:"ad-eth-barrel",quantity:1}]},{id:"k-lgt-mega-4",name:"Baule Robe MegaPointe (4pz)",category:me.LIGHTS,items:[{itemId:"lgt-robe-megapointe",quantity:4},{itemId:"ad-tr1-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:8}]},{id:"k-lgt-350-4",name:"Baule Robe LEDBeam 350 (4pz)",category:me.LIGHTS,items:[{itemId:"lgt-robe-350-spot",quantity:4},{itemId:"ad-tr1-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:4}]},{id:"k-lgt-esp-2",name:"Baule Robe Esprite (2pz)",category:me.LIGHTS,items:[{itemId:"lgt-robe-esprite",quantity:2},{itemId:"ad-tr1-schuko",quantity:2},{itemId:"acc-safety",quantity:2},{itemId:"acc-clamp-omega",quantity:4}]},{id:"k-lgt-hel-4",name:"Baule Showtec Helix (4pz)",category:me.LIGHTS,items:[{itemId:"lgt-helix",quantity:4},{itemId:"lgt-opt-helix-1560",quantity:4},{itemId:"ad-tr1-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:8}]},{id:"k-lgt-shp-4",name:"Baule CP Sharpy (4pz)",category:me.LIGHTS,items:[{itemId:"lgt-cp-sharpy",quantity:4},{itemId:"ad-pcon-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:8}]},{id:"k-lgt-k10-4",name:"Baule CP B-EYE K10 (4pz)",category:me.LIGHTS,items:[{itemId:"lgt-cp-k10",quantity:4},{itemId:"ad-tr1-schuko",quantity:4},{itemId:"acc-safety",quantity:4},{itemId:"acc-clamp-omega",quantity:8}]},{id:"k-lgt-minib-6",name:"Baule CP Mini-B (6pz)",category:me.LIGHTS,items:[{itemId:"lgt-cp-minib",quantity:6},{itemId:"ad-tr1-schuko",quantity:6},{itemId:"acc-safety",quantity:6},{itemId:"acc-clamp-omega",quantity:6}]}],Lb=[{id:"1",title:"1. SETTORE STRUTTURE & RIGGING",subtitle:"Scheletro - La base fisica dell'evento",groups:[{title:"Americane (Truss)",items:["Truss Lineare 300 cm","Truss Lineare 200 cm","Truss Lineare 100 cm","Truss Lineare 50 cm / 25 cm (Spessori)","Truss Angolo 2 vie (90)","Truss Angolo 3 vie (T-Joint o Angolo + discesa)","Truss Angolo 4 vie (Croce)",'Cube / Dadi universali (+ relative "mezze uova")',"Truss Cerchio (diametro specificato)"]},{title:"Basi & Zavorre",items:["Basi a terra leggere (Alluminio)","Basi a terra pesanti (Ferro/Acciaio) per colonne alte","Zavorre aggiuntive (Acqua o Cemento) per outdoor","Outrigger (Stabilizzatori laterali per torri)"]},{title:"Connessioni Truss (Minuteria critica)",items:["Spine (Pins)","Coppiglie (R-Clips)","Conici (Ovetto/Spigot)","App Logic: Calcolare sempre +10% extra per smarrimenti","Martello in Rame o Gomma dura"]},{title:"Sollevamento (Rigging)",items:["Motori a catena (250kg / 500kg / 1T / 2T)","Lunghezza catena (10m / 20m / 24m)","Paranchi manuali a catena","Sollevatori a forche (Genie / Fenwick / Clark)","Torri di elevazione (Wind-up stands)"]},{title:"Controller Motori",items:["Motor Controller (4ch / 8ch)","Frusta comando (Pickle) per singolo motore","Cavi Harting/Soca per motori (Potenza + Comando)","Link cavi motori"]},{title:"Appenderia & Hardware",items:["Grilli (Shackles) da 3.25T o superiori","Fasce in poliestere (Spanset) - Nere per teatro, Viola/Verdi industriali","Acciai (Steels) con anima in metallo (Obbligatori come Secondary Safety)","O-Ring / Anelli master","Beam Clamps (Morsetti per travi IPE edili)","Tent Clamps (Morsetti per tensostrutture)"]},{title:"Palco (Stage)",items:["Pedane modulari (2x1m, 1x1m, 2x0.5m)","Gambe per pedane (Fisse 20/40/60/80cm o Telescopiche)","Morsetti ferma-pedane (Deck clamps - 2 vie e 4 vie)","Scaletta modulare accesso palco (+ corrimano)","Parapetti di sicurezza (Railings)","Skirting (Gonnella/Tessuto nero) + Velcro o Clips","Scivolo di carico (Ramp) se necessario"]}]},{id:"2",title:"2. SETTORE ELETTRICO (Power)",subtitle:"Distribuzione e Cablaggio di potenza",groups:[{title:"Main Power (L'arrivo)",items:["Cavi Powerlock (Single core - Terra/Neutro/L1/L2/L3) - Per carichi >63A","Cavo CEE 125A (5 poli)","Cavo CEE 63A (5 poli)","Cavo CEE 32A (5 poli)","Cavo CEE 16A (5 poli - Rossa) - Da non confondere con la blu!"]},{title:"Quadri & Distribuzione",items:["Power Box Generale (Input Powerlock/125/63 -> Output vari)","Distro di Settore (es. Rack 32A -> 6x o 12x Schuko/Socapex)",'Adattatori "T" o "Y" (Sdoppiatori CEE)',"Adattatori CEE -> Schuko (Funghi/Ragni)"]},{title:"Cablaggio Minuto (Dirty power)",items:["Cavi 16A Blu (Prolunghe industriali)","Cavi Schuko/VDE (3m, 5m, 10m, 20m)","Ciabatte (Multiprese) Nere","Cavi Link Powercon (Blu/Bianco o True1)"]},{title:"Sicurezza Cavi",items:["Passacavi carrabili (Yellow Jackets/Cable Cross)","Pedanine leggere da interno (Office friendly)","Tappetini in gomma (Rubber mats)"]}]},{id:"3",title:"3. SETTORE AUDIO",subtitle:"Sound Reinforcement",groups:[{title:"P.A. (Public Address)",items:["Line Array Module (Top)","Subwoofers","Point Source (Casse su stativo)","Front Fill / Lip Fill (Casse piccole bordo palco)","Delay Towers (Rilanci)","Amplificatori (se impianto passivo)","Processori di sistema (Lake, Galaxy, Matrix)"]},{title:"Monitoraggio",items:["Spie da terra (Wedges)","Side Fills (Casse laterali palco)","Drum Fill (Sub + Top per batterista)","In-Ear Monitors (Trasmettitori + Bodypack + Cuffie + Combiner Antenna + Antennas)"]},{title:"F.O.H. & Controllo",items:["Console Mixer (Digitale)","Cover antipolvere/sole per mixer","Stagebox / I/O Rack (Posizionato sul palco)","Tablet per controllo remoto Wi-Fi"]},{title:"Microfoni & Input",items:["Kit Batteria (Cassa, Rullante, Tom, Overhead, HiHat)","Microfoni Voce Filo (SM58, Beta58, ecc.)","Microfoni Strumento (SM57, e609, Condensatori matita)","Radiomicrofoni Handheld (Gelato)","Radiomicrofoni Beltpack + Archetto (Headset) o Lavalier","Batterie di scorta (AA / AAA / 9V) - Check Livello!","D.I. Box (Attive / Passive / Stereo)"]},{title:"Supporti (Stands)",items:["Aste microfoniche alte a giraffa","Aste microfoniche basse (nane)","Aste dritte (ritte) con base tonda pesante","Clip microfoniche (Standard e Grandi per radio)","Stativi per casse (Treppiedi o Pali distanziatori)"]},{title:"Cablaggio Audio",items:["Cavi XLR (Signal) - Corti/Medi/Lunghi","Cavi Jack-Jack (Strumenti)","Cavi Speakon (Potenza casse) - 2 poli / 4 poli / 8 poli","Fruste analogiche (Sub-snakes)","Cavi CAT5e/CAT6 o Fibra per Stagebox (Main + Backup)"]}]},{id:"4",title:"4. SETTORE LUCI",subtitle:"Lighting & Atmosphere",groups:[{title:"Fixtures (Corpi illuminanti)",items:["Moving Head SPOT","Moving Head WASH","Moving Head BEAM","Moving Head HYBRID / PROFILE","Battery LED Lights (Astera, ecc.) per eventi corporate/buffet","Barre LED (Battens)","Blinder (2-lite / 4-lite)","Strobo","Sagomatori (Profiles) + Portagobo + Lame","Fresnel / PC (Teatrali) + Bandiere (Barndoors)"]},{title:"Controllo",items:["Console Luci (GrandMA, Chamsys, Avolites, Hog)","Fader Wing (Espansioni)","UPS dedicato Console","Lampada da tavolo (Littlite)"]},{title:"Distribuzione Dati",items:["Splitter DMX","Nodi ArtNet / sACN","Cavi DMX 5 poli (Standard pro)","Cavi DMX 3 poli (Spesso per fari economici o fumo)","Terminatori DMX (Tappi di chiusura)"]},{title:"Rigging Luci",items:["Ganci (Clamps/Couplers) - Controllare compatibilit col tubo!","Staffe Omega (Gi montate sotto i fari?)","Cavetti di sicurezza (Safety bonds) - Obbligatori per legge"]}]},{id:"5",title:"5. SETTORE VIDEO",subtitle:"Proiezione e Ledwall",groups:[{title:"Proiezione",items:["Videoproiettori","Ottiche (Lens): Standard / Wide (Grandangolo) / Tele (Lunga distanza)","Staffe per appendimento (Clamps dedicate)","Gabbie di protezione/impilaggio (Frames)","Teli di proiezione (Superficie Frontale o Retro?)","Struttura Telo (Fast-fold) + Piedi + Zavorre"]},{title:"Ledwall",items:["Moduli Led (Cabinets)","Sending Cards / Processori Video (Novastar, Brompton)","Bumpers / Flying Bars (Barre per appendere)","Ground Stack System (Struttura per appoggio a terra)","Spare Parts (Moduli, alimentatori e cavetti di scorta)","Cavi rete corti (Cabinet to Cabinet)","Cavi alimentazione corti (Powercon link)"]},{title:"Regia Video",items:["Switcher / Mixer Video (Roland, Blackmagic, Barco, Analog Way)","Scaler / Convertitori di formato","Laptop Regia (Play, Resolume, PowerPoint) + Caricabatterie","Puntatore Laser / Clicker Slide (Master + Backup)","Monitor di confidenza (per palco)"]},{title:"Segnale Video",items:["Cavi HDMI (Corti <10m)","Cavi SDI (BNC) - Bobine 50m/100m","Fibra Ottica Video","Extender HDMI (su cavo CAT)","Barilotti (Femmina-Femmina) HDMI e BNC","Adattatori USB-C -> HDMI"]}]},{id:"6",title:"6. SETTORE IT & COMMS",subtitle:"Infrastruttura di rete e comunicazione",groups:[{title:"Intercom",items:["Stazione Base (Main station)","Beltpack a filo","Beltpack Wireless + Antenne","Cuffie (Headset): Singolo padiglione / Doppio padiglione (rumore forte)"]},{title:"Networking",items:["Switch di Rete (GigaBit)","Access Points Wi-Fi (per controllo iPad)","Bobine Cavo CAT5e / CAT6 (Shielded)","Plug RJ45 di scorta + Crimpatrice (non si sa mai)"]}]},{id:"7",title:"7. SETTORE STRIP LED & PIXEL",subtitle:"Illuminazione custom lineare",groups:[{title:"Hardware",items:["Bobine Strip Led (Verificare: Voltaggio e Colore)","Profili alluminio (Incasso / Superficie / Angolo)","Diffusori (Cover opali)","Tappi di chiusura e Clip di fissaggio"]},{title:"Elettronica",items:["Alimentatori (PSU) - 12V / 24V / 5V","Decoder DMX (per strip analogiche)","Pixel Controller SPI (per strip digitali)"]},{title:"Connessioni",items:["Saldatore a stagno + Rocchetto stagno","Morsetti Wago / Mammut","Cavo multipolare sottile (piattina rosso/nera o 4 poli)","Guaina termorestringente","Nastro Biadesivo VHB (Extra forte)"]}]},{id:"8",title:"8. SETTORE FX (Effetti Speciali)",subtitle:"Pyrotech, Co2 e Atmosfera",groups:[{title:"Macchine",items:["Hazer (Nebbia sottile, oil o water based)","Fog Machine (Fumo getto)","Low Fog (Fumo basso - Ghiaccio o Acqua?)","Sparkulars (Scintille a freddo)","Flame Jets (Lanciafiamme)","CO2 Jets / Gun","Confetti Cannons / Blaster","Ventilatori (AF-1, ecc.)"]},{title:"Consumabili (Check Bloccante)",items:["Liquido Fumo / Haze (Taniche piene?)","Polvere Titanio (Bustine per Sparkulars)","Bombole CO2 (Con pescante/tubo immersione per liquidi!)","Coriandoli (Confetti) e Stelle filanti (Streamers)","Ghiaccio secco (Dry Ice) se richiesto"]},{title:"Accessori FX",items:["Cavi Alta Pressione per CO2","Raccordi bombole","Cavi di sparo / DMX dedicato","Tasto E-Stop (Emergenza)"]}]},{id:"9",title:"9. SETTORE REGIA FOH (Generale)",subtitle:"Front of House setup",groups:[{title:"Infrastruttura",items:["Tavoli Regia (Pieghevoli o Flight case tables)","Sedie / Sgabelli alti","Gazebo / Tenda regia (se outdoor) + Pesi","Pedana rialzata (Riser)","Illuminazione cortesia (Led usb, Littlite)"]},{title:"Link Sala-Palco (Multicores)",items:["Frusta Audio principale","Linee DMX (Universe 1, 2, 3, 4...)","Fibre Ottiche Video","Cavi Rete (Internet/Controllo)"]},{title:"Power Safety",items:["UPS Regia Video","UPS Regia Luci","UPS Regia Audio"]}]},{id:"10",title:"10. ALLESTIMENTO, CONSUMABILI & TOOLBOX",subtitle:"Materiale di consumo e attrezzi",groups:[{title:"Nastri adesivi",items:["Gaffa Tape Nero (Opaco)","Gaffa Tape Bianco (Scrivibile)","Gaffa Tape Colorato (per segnare posizioni)","Nastro Isolante elettrico","Nastro Carta","Biadesivo (Moquette e Standard)"]},{title:"Fissaggio",items:["Fascette di plastica (Zip ties) - Nere e Bianche","Fascette Velcro riutilizzabili","Elastici con gancio (Bungees)","Cordinio nero (Tie-line)"]},{title:"Accessori Vari",items:["Batterie (Scorta massiccia AA, AAA, 9V)","Moquette / Tappeto danza","Scale (Doppia salita, Telescopica)","Trabattello"]},{title:"Toolbox (La valigia attrezzi)",items:["Cacciaviti, Pinze, Tronchesi","Chiavi inglesi, Chiavi a rullino","Set brugole / Chiavi Torx","Tester / Multimetro","Prova-cavi (Cable tester)","Saldatore gas/elettrico"]}]},{id:"11",title:"11. SCENARI & RICHIESTE CLIENTE",subtitle:"Oggetti specifici per tipologia evento",groups:[{title:"Conferenza / Corporate",items:["Leggio (Plexi o Legno)","Microfoni a collo d'oca (Gooseneck)","Monitor Timer/Countdown","Laptop Ospite kit (Adattatori video + Audio jack)"]},{title:"DJ Set",items:["Tavolo DJ alto (100cm) stabile","Monitor cassa spia potente","Hub di rete per linkare i CDJ"]},{title:"Live Band",items:["Leggii musicali + Lampade clip","Stand Chitarra / Basso / Tastiera (X-stand)","Tappeto per batteria (Drum carpet)","Trasformatore 110V-220V (Step-down)"]},{title:"Gala / Luxury",items:["Copri-cavi bianchi o passacavi verniciati","Calzini per stativi (Tripod covers) bianchi/neri","Casse audio bianche (se disponibili)"]},{title:"Panic Box (Kit Emergenza Cliente)",items:["Caricabatterie telefono (Lightning, USB-C, Micro-USB)","Adattatore Minijack -> iPhone/USB-C","Pennarelli indelebili","Chiavette USB vuote (formattate FAT32 e ExFat)","Carta e penne"]}]}];function P7(){const[r,e]=Se.useState("home"),[t,n]=Se.useState([]),[i,s]=Se.useState([]),[a,c]=Se.useState([]),[u,d]=Se.useState([]),[f,w]=Se.useState(!0),[b,v]=Se.useState(null),[E,D]=Se.useState(()=>localStorage.getItem("cuepack_active_list_id")||""),[T,P]=Se.useState(!1);Se.useEffect(()=>{w(!0);const de=Wp(Gg(pl,Ua),z=>{const N=[];z.forEach(I=>N.push(I.data())),n(N),z.empty&&!z.metadata.fromCache&&(console.log("Seeding Database with Initial Inventory..."),Gm(Ua,A7))},z=>{console.error("Inventory Sync Error:",z),v("Errore di connessione al Database.")}),q=Wp(Gg(pl,Zd),z=>{const N=[];z.forEach(I=>N.push(I.data())),s(N),z.empty&&!z.metadata.fromCache&&(console.log("Seeding Database with Initial Kits..."),Gm(Zd,T7))},z=>console.error("Kits Sync Error:",z)),O=Wp(Gg(pl,va),z=>{const N=[];z.forEach(I=>N.push(I.data())),c(N)},z=>{console.error("Lists Sync Error:",z)}),M=Wp(mh(pl,r1,"master"),z=>{z.exists()?d(z.data().categories):(console.log("Seeding Master Checklist..."),gy(mh(pl,r1,"master"),{categories:Lb}),d(Lb)),w(!1)},z=>{console.error("Checklist Sync Error:",z),w(!1)});return()=>{de(),q(),O(),M()}},[]),Se.useEffect(()=>{E&&localStorage.setItem("cuepack_active_list_id",E)},[E]);const U=Se.useMemo(()=>a.find(de=>de.id===E),[a,E]),V=[{id:"home",label:"Home",icon:HP},{id:"inventory",label:"Inventario",icon:KS},{id:"kits",label:"Kit Materiale",icon:jf},{id:"lists",label:"Crea Liste",icon:BP},{id:"prep-material",label:"Magazzino",icon:XS}],H=()=>{hI(yy).catch(de=>console.error("Logout error",de))};if(f)return g.jsxs("div",{className:"h-screen bg-slate-950 flex items-center justify-center text-slate-400 flex-col gap-4",children:[g.jsx(_y,{className:"animate-spin",size:48}),g.jsx("p",{children:"Connessione al database in corso..."}),g.jsx("p",{className:"text-xs text-slate-600",children:"Assicurati di aver configurato le chiavi Firebase."})]});if(b)return g.jsxs("div",{className:"h-screen bg-slate-950 flex items-center justify-center text-rose-500 flex-col gap-4",children:[g.jsx(XP,{size:48}),g.jsx("p",{className:"font-bold text-xl",children:b}),g.jsx("p",{className:"text-slate-400",children:"Controlla la tua connessione internet o la configurazione .env"})]});const ie=()=>{switch(r){case"home":return g.jsx(h7,{inventory:t,kits:i,lists:a,setActiveListId:D,onNavigateToChecklist:()=>e("checklist-manager")});case"inventory":return g.jsx(JP,{items:t,packingLists:a});case"kits":return g.jsx(eD,{kits:i,inventory:t});case"lists":return g.jsx(d7,{inventory:t,kits:i,lists:a,activeListId:E,setActiveListId:D});case"prep-material":return g.jsx(m7,{lists:a});case"checklist-manager":return g.jsx(p7,{checklist:u,onBack:()=>e("home")});default:return g.jsx("div",{children:"Seleziona una voce dal menu"})}};return g.jsxs("div",{className:"flex h-screen bg-slate-950 text-slate-100 overflow-hidden font-sans",children:[g.jsxs("aside",{className:"hidden md:flex w-72 flex-col bg-slate-900 border-r border-slate-800 shrink-0",children:[g.jsxs("div",{className:"p-6 border-b border-slate-800 shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center font-bold text-white",children:"C"}),g.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"CuePack"})]}),g.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Cloud Rental Management"})]}),g.jsx("nav",{className:"p-4 space-y-2 shrink-0",children:V.map(de=>{const q=de.icon;return g.jsxs("button",{onClick:()=>e(de.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all
                   ${r===de.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/30":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[g.jsx(q,{size:20}),g.jsx("span",{className:"font-medium",children:de.label})]},de.id)})}),U&&g.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col border-t border-slate-800 bg-slate-950/30",children:[g.jsxs("div",{className:"p-3 bg-slate-900/50 text-xs font-bold text-slate-500 uppercase tracking-wider border-b border-slate-800 flex justify-between items-center",children:[g.jsxs("span",{children:["Checklist: ",U.eventName.substring(0,12),U.eventName.length>12?"...":""]}),g.jsxs("span",{className:"bg-slate-800 px-1.5 rounded text-slate-400",children:[U.checklistCheckedItems?.length||0," OK"]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-0",children:g.jsx(f7,{activeList:U,checklist:u})})]}),!U&&g.jsx("div",{className:"flex-1 border-t border-slate-800 bg-slate-950/30 flex items-center justify-center text-slate-500 text-xs p-4 text-center",children:"Seleziona un evento per vedere la Checklist"}),g.jsxs("div",{className:"p-4 border-t border-slate-800 text-xs text-slate-600 shrink-0 bg-slate-900 flex justify-between items-center",children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("span",{children:" R. Chiartano"}),g.jsx("span",{className:"opacity-50",children:"v0.4.7 (Secured)"})]}),g.jsx("button",{onClick:H,className:"p-2 hover:bg-slate-800 text-slate-400 hover:text-rose-500 rounded transition-colors",title:"Esci",children:g.jsx(w5,{size:16})})]})]}),g.jsxs("div",{className:`fixed inset-0 z-50 bg-slate-900 md:hidden transition-transform duration-300 ${T?"translate-x-0":"-translate-x-full"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-800",children:[g.jsx("h1",{className:"text-xl font-bold",children:"Menu"}),g.jsx("button",{onClick:()=>P(!1),className:"text-slate-400",children:g.jsx(x5,{})})]}),g.jsxs("nav",{className:"p-6 space-y-4",children:[V.map(de=>g.jsx("button",{onClick:()=>{e(de.id),P(!1)},className:`w-full text-left px-4 py-3 rounded-lg text-lg font-medium ${r===de.id?"bg-blue-600 text-white":"text-slate-400"}`,children:de.label},de.id)),g.jsx("div",{className:"pt-8 border-t border-slate-800",children:g.jsxs("button",{onClick:H,className:"w-full text-left px-4 py-3 rounded-lg text-lg font-medium text-rose-500 hover:bg-slate-800 flex items-center gap-2",children:[g.jsx(w5,{size:20})," Esci"]})})]})]}),g.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[g.jsxs("header",{className:"md:hidden flex items-center justify-between p-4 bg-slate-900 border-b border-slate-800",children:[g.jsx("div",{className:"font-bold text-lg",children:"CuePack"}),g.jsx("button",{onClick:()=>P(!0),className:"text-slate-300",children:g.jsx(x5,{})})]}),g.jsx("div",{className:"flex-1 overflow-hidden bg-slate-950 relative",children:ie()})]})]})}function D7(){const[r,e]=Se.useState(""),[t,n]=Se.useState(""),[i,s]=Se.useState(null),[a,c]=Se.useState(!1),u=async d=>{d.preventDefault(),s(null),c(!0);try{await lI(yy,r,t)}catch(f){console.error("Login error:",f),f.code==="auth/invalid-credential"||f.code==="auth/user-not-found"||f.code==="auth/wrong-password"?s("Email o password non corretti."):f.code==="auth/too-many-requests"?s("Troppi tentativi falliti. Riprova pi tardi."):s("Si  verificato un errore durante l'accesso."),c(!1)}};return g.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:g.jsxs("div",{className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl p-8 shadow-2xl",children:[g.jsxs("div",{className:"flex flex-col items-center mb-8",children:[g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/40",children:g.jsx(YP,{className:"text-white",size:24})}),g.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"CuePack Manager"}),g.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Accedi per gestire il magazzino"})]}),g.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i&&g.jsxs("div",{className:"bg-rose-950/50 border border-rose-900/50 text-rose-200 text-sm p-3 rounded-lg flex items-center gap-2",children:[g.jsx($S,{size:16}),i]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5 ml-1",children:"Email"}),g.jsx("input",{type:"email",required:!0,className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder:text-slate-600",placeholder:"nome@dominio.com",value:r,onChange:d=>e(d.target.value)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5 ml-1",children:"Password"}),g.jsx("input",{type:"password",required:!0,className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder:text-slate-600",placeholder:"",value:t,onChange:d=>n(d.target.value)})]}),g.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg mt-6 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a?g.jsx(_y,{className:"animate-spin",size:20}):"Accedi"})]}),g.jsx("div",{className:"mt-8 text-center",children:g.jsx("p",{className:"text-xs text-slate-600",children:"Non hai un account? Contatta l'amministratore."})})]})})}function L7(){const[r,e]=Se.useState(null),[t,n]=Se.useState(!0);return Se.useEffect(()=>{const i=dI(yy,s=>{e(s),n(!1)});return()=>i()},[]),t?g.jsx("div",{className:"h-screen w-screen bg-slate-950 flex items-center justify-center text-slate-500",children:g.jsx(_y,{className:"animate-spin",size:32})}):r?g.jsx(P7,{}):g.jsx(D7,{})}window.addEventListener("error",r=>{const e=document.createElement("div");Object.assign(e.style,{position:"fixed",top:"0",left:"0",width:"100%",padding:"20px",backgroundColor:"#ef4444",color:"white",zIndex:"99999",fontFamily:"monospace",whiteSpace:"pre-wrap"}),e.textContent=`Runtime Error: ${r.message}
At: ${r.filename}:${r.lineno}`,document.body.appendChild(e)});window.addEventListener("unhandledrejection",r=>{const e=document.createElement("div");Object.assign(e.style,{position:"fixed",bottom:"0",left:"0",width:"100%",padding:"20px",backgroundColor:"#f97316",color:"white",zIndex:"99999",fontFamily:"monospace",whiteSpace:"pre-wrap"}),e.textContent=`Unhandled Promise Rejection: ${r.reason}`,document.body.appendChild(e)});const WE=document.getElementById("root");if(!WE)throw new Error("Could not find root element to mount to");const R7=LN.createRoot(WE);R7.render(g.jsx(Ve.StrictMode,{children:g.jsx(L7,{})}));export{_r as _,M7 as c,E1 as g};
